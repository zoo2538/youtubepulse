const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/services.C3dDUBK7.js","assets/utils.CSIMsU01.js"])))=>i.map(i=>d[i]);
var NA=Object.defineProperty;var AA=(e,t,r)=>t in e?NA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mt=(e,t,r)=>AA(e,typeof t!="symbol"?t+"":t,r);import{r as v,a as bo,R as E,b as Hx,c as Yx,u as Xt,L as Oe,d as mi,g as dt,e as mh,f as Gx,h as CA,B as OA,i as PA,j as jt,N as EA}from"./vendor.D1asM074.js";import{c as Qe,a as _e,g as Ge,_ as Ga,b as Qi,d as rm,e as Su}from"./utils.CSIMsU01.js";import{X as uc,T as xd,R as Qn,L as DA,a as rt,S as kr,H as TA,A as Lr,E as Ua,b as Ir,C as oa,M as bd,c as $A,d as qx,e as _A,f as Xx,g as IA,h as kA,i as gi,U as gn,j as Nu,k as In,l as MA,m as gh,n as RA,o as LA,p as nm,q as BA,P as FA,r as kn,s as Qx,t as wd,u as wo,F as En,v as Ji,K as am,w as Zi,x as vh,y as UA,G as KA,z as jd,B as om,D as el,I as Qo,J as VA,N as Vi,O as zA,Q as WA,V as HA,W as sm,Y as YA}from"./ui.DbvV6e46.js";import{A as Me,h as ln,i as ve,c as Hr,s as qt,a as ot,b as Jo,d as im}from"./services.C3dDUBK7.js";import{s as lm,a as GA}from"./scheduler.CSMKmULK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Jx={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=v,XA=Symbol.for("react.element"),QA=Symbol.for("react.fragment"),JA=Object.prototype.hasOwnProperty,ZA=qA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eC={key:!0,ref:!0,__self:!0,__source:!0};function Zx(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)JA.call(t,n)&&!eC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:XA,type:e,key:s,ref:i,props:a,_owner:ZA.current}}dc.Fragment=QA;dc.jsx=Zx;dc.jsxs=Zx;Jx.exports=dc;var o=Jx.exports,eb,cm=bo;eb=cm.createRoot,cm.hydrateRoot;const tC=1,rC=1e6;let Au=0;function nC(){return Au=(Au+1)%Number.MAX_SAFE_INTEGER,Au.toString()}const Cu=new Map,um=e=>{if(Cu.has(e))return;const t=setTimeout(()=>{Cu.delete(e),rs({type:"REMOVE_TOAST",toastId:e})},rC);Cu.set(e,t)},aC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,tC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?um(r):e.toasts.forEach(n=>{um(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},zi=[];let Wi={toasts:[]};function rs(e){Wi=aC(Wi,e),zi.forEach(t=>{t(Wi)})}function oC({...e}){const t=nC(),r=a=>rs({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>rs({type:"DISMISS_TOAST",toastId:t});return rs({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function sC(){const[e,t]=v.useState(Wi);return v.useEffect(()=>(zi.push(t),()=>{const r=zi.indexOf(t);r>-1&&zi.splice(r,1)}),[e]),{...e,toast:oC,dismiss:r=>rs({type:"DISMISS_TOAST",toastId:r})}}function Ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=dm(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():dm(e[a],null)}}}}function et(...e){return v.useCallback(fc(...e),e)}function iC(e,t){const r=v.createContext(t),n=s=>{const{children:i,...l}=s,c=v.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=v.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function tn(e,t=[]){let r=[];function n(s,i){const l=v.createContext(i),c=r.length;r=[...r,i];const u=d=>{var x;const{scope:h,children:p,...y}=d,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=v.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function f(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const a=()=>{const s=r.map(i=>v.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,lC(a,...t)]}function lC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function sa(e){const t=uC(e),r=v.forwardRef((n,a)=>{const{children:s,...i}=n,l=v.Children.toArray(s),c=l.find(fC);if(c){const u=c.props.children,f=l.map(d=>d===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:d);return o.jsx(t,{...i,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var cC=sa("Slot");function uC(e){const t=v.forwardRef((r,n)=>{const{children:a,...s}=r;if(v.isValidElement(a)){const i=pC(a),l=hC(s,a.props);return a.type!==v.Fragment&&(l.ref=n?fc(n,i):i),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tb=Symbol("radix.slottable");function dC(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tb,t}function fC(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tb}function hC(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function pC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function hc(e){const t=e+"CollectionProvider",[r,n]=tn(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:g,children:x}=m,j=E.useRef(null),w=E.useRef(new Map).current;return o.jsx(a,{scope:g,itemMap:w,collectionRef:j,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=sa(l),u=E.forwardRef((m,g)=>{const{scope:x,children:j}=m,w=s(l,x),S=et(g,w.collectionRef);return o.jsx(c,{ref:S,children:j})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=sa(f),p=E.forwardRef((m,g)=>{const{scope:x,children:j,...w}=m,S=E.useRef(null),b=et(g,S),N=s(f,x);return E.useEffect(()=>(N.itemMap.set(S,{ref:S,...w}),()=>void N.itemMap.delete(S))),o.jsx(h,{[d]:"",ref:b,children:j})});p.displayName=f;function y(m){const g=s(e+"CollectionConsumer",m);return E.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((N,A)=>w.indexOf(N.ref.current)-w.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},y,n]}var mC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=mC.reduce((e,t)=>{const r=sa(`Primitive.${t}`),n=v.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yh(e,t){e&&bo.flushSync(()=>e.dispatchEvent(t))}function nr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function gC(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vC="DismissableLayer",Sd="dismissableLayer.update",yC="dismissableLayer.pointerDownOutside",xC="dismissableLayer.focusOutside",fm,rb=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jo=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=v.useContext(rb),[f,d]=v.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),y=et(t,A=>d(A)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(g),j=f?m.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=j>=x,b=wC(A=>{const C=A.target,D=[...u.branches].some(R=>R.contains(C));!S||D||(a==null||a(A),i==null||i(A),A.defaultPrevented||l==null||l())},h),N=jC(A=>{const C=A.target;[...u.branches].some(R=>R.contains(C))||(s==null||s(A),i==null||i(A),A.defaultPrevented||l==null||l())},h);return gC(A=>{j===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},h),v.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),hm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fm)}},[f,h,r,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),hm())},[f,u]),v.useEffect(()=>{const A=()=>p({});return document.addEventListener(Sd,A),()=>document.removeEventListener(Sd,A)},[]),o.jsx(ze.div,{...c,ref:y,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,b.onPointerDownCapture)})});jo.displayName=vC;var bC="DismissableLayerBranch",nb=v.forwardRef((e,t)=>{const r=v.useContext(rb),n=v.useRef(null),a=et(t,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(ze.div,{...e,ref:a})});nb.displayName=bC;function wC(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){ab(yC,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jC(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&ab(xC,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hm(){const e=new CustomEvent(Sd);document.dispatchEvent(e)}function ab(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yh(a,s):a.dispatchEvent(s)}var SC=jo,NC=nb,Wt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},AC="Portal",qs=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=v.useState(!1);Wt(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Hx.createPortal(o.jsx(ze.div,{...n,ref:t}),i):null});qs.displayName=AC;function CC(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=OC(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=et(n.ref,PC(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};rn.displayName="Presence";function OC(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),s=v.useRef("none"),i=e?"mounted":"unmounted",[l,c]=CC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=vi(n.current);s.current=l==="mounted"?u:"none"},[l]),Wt(()=>{const u=n.current,f=a.current;if(f!==e){const h=s.current,p=vi(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Wt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const m=vi(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(s.current=vi(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function vi(e){return(e==null?void 0:e.animationName)||"none"}function PC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EC=Yx[" useInsertionEffect ".trim().toString()]||Wt;function ia({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=DC({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=v.useCallback(f=>{var d;if(l){const h=TC(f)?f(e):f;h!==e&&((d=i.current)==null||d.call(i,h))}else s(f)},[l,e,s,i]);return[c,u]}function DC({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),s=v.useRef(t);return EC(()=>{s.current=t},[t]),v.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function TC(e){return typeof e=="function"}var ob=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$C="VisuallyHidden",pc=v.forwardRef((e,t)=>o.jsx(ze.span,{...e,ref:t,style:{...ob,...e.style}}));pc.displayName=$C;var _C=pc,xh="ToastProvider",[bh,IC,kC]=hc("Toast"),[sb,HZ]=tn("Toast",[kC]),[MC,mc]=sb(xh),ib=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[l,c]=v.useState(null),[u,f]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xh}\`. Expected non-empty \`string\`.`),o.jsx(bh.Provider,{scope:t,children:o.jsx(MC,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>f(p=>p+1),[]),onToastRemove:v.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};ib.displayName=xh;var lb="ToastViewport",RC=["F8"],Nd="toast.viewportPause",Ad="toast.viewportResume",cb=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=RC,label:a="Notifications ({hotkey})",...s}=e,i=mc(lb,r),l=IC(r),c=v.useRef(null),u=v.useRef(null),f=v.useRef(null),d=v.useRef(null),h=et(t,d,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;v.useEffect(()=>{const g=x=>{var w;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),v.useEffect(()=>{const g=c.current,x=d.current;if(y&&g&&x){const j=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Nd);x.dispatchEvent(N),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Ad);x.dispatchEvent(N),i.isClosePausedRef.current=!1}},S=N=>{!g.contains(N.relatedTarget)&&w()},b=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",j),g.addEventListener("focusout",S),g.addEventListener("pointermove",j),g.addEventListener("pointerleave",b),window.addEventListener("blur",j),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",j),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",j),g.removeEventListener("pointerleave",b),window.removeEventListener("blur",j),window.removeEventListener("focus",w)}}},[y,i.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:g})=>{const j=l().map(w=>{const S=w.ref.current,b=[S,...XC(S)];return g==="forwards"?b:b.reverse()});return(g==="forwards"?j.reverse():j).flat()},[l]);return v.useEffect(()=>{const g=d.current;if(g){const x=j=>{var b,N,A;const w=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!w){const C=document.activeElement,D=j.shiftKey;if(j.target===g&&D){(b=u.current)==null||b.focus();return}const P=m({tabbingDirection:D?"backwards":"forwards"}),B=P.findIndex(T=>T===C);Ou(P.slice(B+1))?j.preventDefault():D?(N=u.current)==null||N.focus():(A=f.current)==null||A.focus()}};return g.addEventListener("keydown",x),()=>g.removeEventListener("keydown",x)}},[l,m]),o.jsxs(NC,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Cd,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Ou(g)}}),o.jsx(bh.Slot,{scope:r,children:o.jsx(ze.ol,{tabIndex:-1,...s,ref:h})}),y&&o.jsx(Cd,{ref:f,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Ou(g)}})]})});cb.displayName=lb;var ub="ToastFocusProxy",Cd=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=mc(ub,r);return o.jsx(pc,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});Cd.displayName=ub;var Xs="Toast",LC="toast.swipeStart",BC="toast.swipeMove",FC="toast.swipeCancel",UC="toast.swipeEnd",db=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[l,c]=ia({prop:n,defaultProp:a??!0,onChange:s,caller:Xs});return o.jsx(rn,{present:r||l,children:o.jsx(zC,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:nr(e.onPause),onResume:nr(e.onResume),onSwipeStart:Ae(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ae(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});db.displayName=Xs;var[KC,VC]=sb(Xs,{onClose(){}}),zC=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=mc(Xs,r),[g,x]=v.useState(null),j=et(t,T=>x(T)),w=v.useRef(null),S=v.useRef(null),b=a||m.duration,N=v.useRef(0),A=v.useRef(b),C=v.useRef(0),{onToastAdd:D,onToastRemove:R}=m,$=nr(()=>{var _;(g==null?void 0:g.contains(document.activeElement))&&((_=m.viewport)==null||_.focus()),i()}),P=v.useCallback(T=>{!T||T===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout($,T))},[$]);v.useEffect(()=>{const T=m.viewport;if(T){const _=()=>{P(A.current),u==null||u()},M=()=>{const O=new Date().getTime()-N.current;A.current=A.current-O,window.clearTimeout(C.current),c==null||c()};return T.addEventListener(Nd,M),T.addEventListener(Ad,_),()=>{T.removeEventListener(Nd,M),T.removeEventListener(Ad,_)}}},[m.viewport,b,c,u,P]),v.useEffect(()=>{s&&!m.isClosePausedRef.current&&P(b)},[s,b,m.isClosePausedRef,P]),v.useEffect(()=>(D(),()=>R()),[D,R]);const B=v.useMemo(()=>g?yb(g):null,[g]);return m.viewport?o.jsxs(o.Fragment,{children:[B&&o.jsx(WC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:B}),o.jsx(KC,{scope:r,onClose:$,children:bo.createPortal(o.jsx(bh.ItemSlot,{scope:r,children:o.jsx(SC,{asChild:!0,onEscapeKeyDown:Ae(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||$(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ze.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ae(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ae(e.onPointerDown,T=>{T.button===0&&(w.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ae(e.onPointerMove,T=>{if(!w.current)return;const _=T.clientX-w.current.x,M=T.clientY-w.current.y,O=!!S.current,F=["left","right"].includes(m.swipeDirection),I=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Y=F?I(0,_):0,re=F?0:I(0,M),J=T.pointerType==="touch"?10:2,U={x:Y,y:re},se={originalEvent:T,delta:U};O?(S.current=U,yi(BC,d,se,{discrete:!1})):pm(U,m.swipeDirection,J)?(S.current=U,yi(LC,f,se,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(_)>J||Math.abs(M)>J)&&(w.current=null)}),onPointerUp:Ae(e.onPointerUp,T=>{const _=S.current,M=T.target;if(M.hasPointerCapture(T.pointerId)&&M.releasePointerCapture(T.pointerId),S.current=null,w.current=null,_){const O=T.currentTarget,F={originalEvent:T,delta:_};pm(_,m.swipeDirection,m.swipeThreshold)?yi(UC,p,F,{discrete:!0}):yi(FC,h,F,{discrete:!0}),O.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),WC=e=>{const{__scopeToast:t,children:r,...n}=e,a=mc(Xs,t),[s,i]=v.useState(!1),[l,c]=v.useState(!1);return GC(()=>i(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(qs,{asChild:!0,children:o.jsx(pc,{...n,children:s&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},HC="ToastTitle",fb=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});fb.displayName=HC;var YC="ToastDescription",hb=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});hb.displayName=YC;var pb="ToastAction",mb=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(vb,{altText:r,asChild:!0,children:o.jsx(wh,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pb}\`. Expected non-empty \`string\`.`),null)});mb.displayName=pb;var gb="ToastClose",wh=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=VC(gb,r);return o.jsx(vb,{asChild:!0,children:o.jsx(ze.button,{type:"button",...n,ref:t,onClick:Ae(e.onClick,a.onClose)})})});wh.displayName=gb;var vb=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function yb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qC(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...yb(n))}}),t}function yi(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yh(a,s):a.dispatchEvent(s)}var pm=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function GC(e=()=>{}){const t=nr(e);Wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qC(e){return e.nodeType===e.ELEMENT_NODE}function XC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ou(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var QC=ib,xb=cb,bb=db,wb=fb,jb=hb,Sb=mb,Nb=wh;const mm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gm=Qe,Qs=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gm(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=s==null?void 0:s[u];if(f===null)return null;const h=mm(f)||mm(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...s,...l}[m]):{...s,...l}[m]===g})?[...u,d,h]:u},[]);return gm(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},JC=QC,Ab=v.forwardRef(({className:e,...t},r)=>o.jsx(xb,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ab.displayName=xb.displayName;const ZC=Qs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cb=v.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(bb,{ref:n,className:_e(ZC({variant:t}),e),...r}));Cb.displayName=bb.displayName;const eO=v.forwardRef(({className:e,...t},r)=>o.jsx(Sb,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));eO.displayName=Sb.displayName;const Ob=v.forwardRef(({className:e,...t},r)=>o.jsx(Nb,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"","aria-label":"닫기",title:"닫기",...t,children:o.jsx(uc,{className:"h-4 w-4"})}));Ob.displayName=Nb.displayName;const Pb=v.forwardRef(({className:e,...t},r)=>o.jsx(wb,{ref:r,className:_e("text-sm font-semibold",e),...t}));Pb.displayName=wb.displayName;const Eb=v.forwardRef(({className:e,...t},r)=>o.jsx(jb,{ref:r,className:_e("text-sm opacity-90",e),...t}));Eb.displayName=jb.displayName;function tO(){const{toasts:e}=sC();return o.jsxs(JC,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return o.jsxs(Cb,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Pb,{children:r}),n&&o.jsx(Eb,{children:n})]}),a,o.jsx(Ob,{})]},t)}),o.jsx(Ab,{})]})}var rO=(e,t,r,n,a,s,i,l)=>{let c=document.documentElement,u=["light","dark"];function f(p){(Array.isArray(e)?e:[e]).forEach(y=>{let m=y==="class",g=m&&s?a.map(x=>s[x]||x):a;m?(c.classList.remove(...g),c.classList.add(s&&s[p]?s[p]:p)):c.setAttribute(y,p)}),d(p)}function d(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let p=localStorage.getItem(t)||r,y=i&&p==="system"?h():p;f(y)}catch{}},nO=v.createContext(void 0),aO={setTheme:e=>{},themes:[]},oO=()=>{var e;return(e=v.useContext(nO))!=null?e:aO};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([r,t,s,e,l,i,n,a]).slice(1,-1);return v.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${rO.toString()})(${f})`}})});var sO=e=>{switch(e){case"success":return cO;case"info":return dO;case"warning":return uO;case"error":return fO;default:return null}},iO=Array(12).fill(0),lO=({visible:e,className:t})=>E.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},E.createElement("div",{className:"sonner-spinner"},iO.map((r,n)=>E.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cO=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uO=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dO=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fO=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hO=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},E.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),E.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pO=()=>{let[e,t]=E.useState(document.hidden);return E.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Od=1,mO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Od++,s=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,i=n.then(async c=>{if(s=["resolve",c],E.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(vO(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Od++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},tr=new mO,gO=(e,t)=>{let r=(t==null?void 0:t.id)||Od++;return tr.addToast({title:e,...t,id:r}),r},vO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yO=gO,xO=()=>tr.toasts,bO=()=>tr.getActiveToasts();Object.assign(yO,{success:tr.success,info:tr.info,warning:tr.warning,error:tr.error,custom:tr.custom,message:tr.message,promise:tr.promise,dismiss:tr.dismiss,loading:tr.loading},{getHistory:xO,getToasts:bO});function wO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xi(e){return e.label!==void 0}var jO=3,SO="32px",NO="16px",vm=4e3,AO=356,CO=14,OO=20,PO=200;function Cr(...e){return e.filter(Boolean).join(" ")}function EO(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var DO=e=>{var t,r,n,a,s,i,l,c,u,f,d;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:x,heights:j,index:w,toasts:S,expanded:b,removeToast:N,defaultRichColors:A,closeButton:C,style:D,cancelButtonStyle:R,actionButtonStyle:$,className:P="",descriptionClassName:B="",duration:T,position:_,gap:M,loadingIcon:O,expandByDefault:F,classNames:I,icons:Y,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:J}=e,[U,se]=E.useState(null),[Ee,Be]=E.useState(null),[de,V]=E.useState(!1),[L,k]=E.useState(!1),[H,K]=E.useState(!1),[ue,fe]=E.useState(!1),[Se,ie]=E.useState(!1),[je,oe]=E.useState(0),[we,Z]=E.useState(0),me=E.useRef(p.duration||T||vm),De=E.useRef(null),Je=E.useRef(null),W=w===0,ee=w+1<=x,G=p.type,ye=p.dismissible!==!1,pe=p.className||"",he=p.descriptionClassName||"",ge=E.useMemo(()=>j.findIndex(Ue=>Ue.toastId===p.id)||0,[j,p.id]),xe=E.useMemo(()=>{var Ue;return(Ue=p.closeButton)!=null?Ue:C},[p.closeButton,C]),z=E.useMemo(()=>p.duration||T||vm,[p.duration,T]),le=E.useRef(0),ae=E.useRef(0),te=E.useRef(0),Q=E.useRef(null),[X,Te]=_.split("-"),tt=E.useMemo(()=>j.reduce((Ue,Ye,ct)=>ct>=ge?Ue:Ue+Ye.height,0),[j,ge]),Ie=pO(),pt=p.invert||h,Wr=G==="loading";ae.current=E.useMemo(()=>ge*M+tt,[ge,tt]),E.useEffect(()=>{me.current=z},[z]),E.useEffect(()=>{V(!0)},[]),E.useEffect(()=>{let Ue=Je.current;if(Ue){let Ye=Ue.getBoundingClientRect().height;return Z(Ye),g(ct=>[{toastId:p.id,height:Ye,position:p.position},...ct]),()=>g(ct=>ct.filter(sr=>sr.toastId!==p.id))}},[g,p.id]),E.useLayoutEffect(()=>{if(!de)return;let Ue=Je.current,Ye=Ue.style.height;Ue.style.height="auto";let ct=Ue.getBoundingClientRect().height;Ue.style.height=Ye,Z(ct),g(sr=>sr.find(ce=>ce.toastId===p.id)?sr.map(ce=>ce.toastId===p.id?{...ce,height:ct}:ce):[{toastId:p.id,height:ct,position:p.position},...sr])},[de,p.title,p.description,g,p.id]);let or=E.useCallback(()=>{k(!0),oe(ae.current),g(Ue=>Ue.filter(Ye=>Ye.toastId!==p.id)),setTimeout(()=>{N(p)},PO)},[p,N,g,ae]);E.useEffect(()=>{if(p.promise&&G==="loading"||p.duration===1/0||p.type==="loading")return;let Ue;return b||m||J&&Ie?(()=>{if(te.current<le.current){let Ye=new Date().getTime()-le.current;me.current=me.current-Ye}te.current=new Date().getTime()})():me.current!==1/0&&(le.current=new Date().getTime(),Ue=setTimeout(()=>{var Ye;(Ye=p.onAutoClose)==null||Ye.call(p,p),or()},me.current)),()=>clearTimeout(Ue)},[b,m,p,G,J,Ie,or]),E.useEffect(()=>{p.delete&&or()},[or,p.delete]);function Cn(){var Ue,Ye,ct;return Y!=null&&Y.loading?E.createElement("div",{className:Cr(I==null?void 0:I.loader,(Ue=p==null?void 0:p.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":G==="loading"},Y.loading):O?E.createElement("div",{className:Cr(I==null?void 0:I.loader,(Ye=p==null?void 0:p.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":G==="loading"},O):E.createElement(lO,{className:Cr(I==null?void 0:I.loader,(ct=p==null?void 0:p.classNames)==null?void 0:ct.loader),visible:G==="loading"})}return E.createElement("li",{tabIndex:0,ref:Je,className:Cr(P,pe,I==null?void 0:I.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[G],(r=p==null?void 0:p.classNames)==null?void 0:r[G]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:A,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":de,"data-promise":!!p.promise,"data-swiped":Se,"data-removed":L,"data-visible":ee,"data-y-position":X,"data-x-position":Te,"data-index":w,"data-front":W,"data-swiping":H,"data-dismissible":ye,"data-type":G,"data-invert":pt,"data-swipe-out":ue,"data-swipe-direction":Ee,"data-expanded":!!(b||F&&de),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${L?je:ae.current}px`,"--initial-height":F?"auto":`${we}px`,...D,...p.style},onDragEnd:()=>{K(!1),se(null),Q.current=null},onPointerDown:Ue=>{Wr||!ye||(De.current=new Date,oe(ae.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(K(!0),Q.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,Ye,ct,sr;if(ue||!ye)return;Q.current=null;let ce=Number(((Ue=Je.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ce=Number(((Ye=Je.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ke=new Date().getTime()-((ct=De.current)==null?void 0:ct.getTime()),ke=U==="x"?ce:Ce,qe=Math.abs(ke)/Ke;if(Math.abs(ke)>=OO||qe>.11){oe(ae.current),(sr=p.onDismiss)==null||sr.call(p,p),Be(U==="x"?ce>0?"right":"left":Ce>0?"down":"up"),or(),fe(!0),ie(!1);return}K(!1),se(null)},onPointerMove:Ue=>{var Ye,ct,sr,ce;if(!Q.current||!ye||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;let Ce=Ue.clientY-Q.current.y,Ke=Ue.clientX-Q.current.x,ke=(ct=e.swipeDirections)!=null?ct:EO(_);!U&&(Math.abs(Ke)>1||Math.abs(Ce)>1)&&se(Math.abs(Ke)>Math.abs(Ce)?"x":"y");let qe={x:0,y:0};U==="y"?(ke.includes("top")||ke.includes("bottom"))&&(ke.includes("top")&&Ce<0||ke.includes("bottom")&&Ce>0)&&(qe.y=Ce):U==="x"&&(ke.includes("left")||ke.includes("right"))&&(ke.includes("left")&&Ke<0||ke.includes("right")&&Ke>0)&&(qe.x=Ke),(Math.abs(qe.x)>0||Math.abs(qe.y)>0)&&ie(!0),(sr=Je.current)==null||sr.style.setProperty("--swipe-amount-x",`${qe.x}px`),(ce=Je.current)==null||ce.style.setProperty("--swipe-amount-y",`${qe.y}px`)}},xe&&!p.jsx?E.createElement("button",{"aria-label":re,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!ye?()=>{}:()=>{var Ue;or(),(Ue=p.onDismiss)==null||Ue.call(p,p)},className:Cr(I==null?void 0:I.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(s=Y==null?void 0:Y.close)!=null?s:hO):null,p.jsx||v.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:E.createElement(E.Fragment,null,G||p.icon||p.promise?E.createElement("div",{"data-icon":"",className:Cr(I==null?void 0:I.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Cn():null,p.type!=="loading"?p.icon||(Y==null?void 0:Y[G])||sO(G):null):null,E.createElement("div",{"data-content":"",className:Cr(I==null?void 0:I.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},E.createElement("div",{"data-title":"",className:Cr(I==null?void 0:I.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?E.createElement("div",{"data-description":"",className:Cr(B,he,I==null?void 0:I.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),v.isValidElement(p.cancel)?p.cancel:p.cancel&&xi(p.cancel)?E.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:Ue=>{var Ye,ct;xi(p.cancel)&&ye&&((ct=(Ye=p.cancel).onClick)==null||ct.call(Ye,Ue),or())},className:Cr(I==null?void 0:I.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,v.isValidElement(p.action)?p.action:p.action&&xi(p.action)?E.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:Ue=>{var Ye,ct;xi(p.action)&&((ct=(Ye=p.action).onClick)==null||ct.call(Ye,Ue),!Ue.defaultPrevented&&or())},className:Cr(I==null?void 0:I.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function ym(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function TO(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,i=s?"--mobile-offset":"--offset",l=s?NO:SO;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var $O=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:y=jO,toastOptions:m,dir:g=ym(),gap:x=CO,loadingIcon:j,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:b}=e,[N,A]=E.useState([]),C=E.useMemo(()=>Array.from(new Set([n].concat(N.filter(J=>J.position).map(J=>J.position)))),[N,n]),[D,R]=E.useState([]),[$,P]=E.useState(!1),[B,T]=E.useState(!1),[_,M]=E.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=E.useRef(null),F=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=E.useRef(null),Y=E.useRef(!1),re=E.useCallback(J=>{A(U=>{var se;return(se=U.find(Ee=>Ee.id===J.id))!=null&&se.delete||tr.dismiss(J.id),U.filter(({id:Ee})=>Ee!==J.id)})},[]);return E.useEffect(()=>tr.subscribe(J=>{if(J.dismiss){A(U=>U.map(se=>se.id===J.id?{...se,delete:!0}:se));return}setTimeout(()=>{Hx.flushSync(()=>{A(U=>{let se=U.findIndex(Ee=>Ee.id===J.id);return se!==-1?[...U.slice(0,se),{...U[se],...J},...U.slice(se+1)]:[J,...U]})})})}),[]),E.useEffect(()=>{if(f!=="system"){M(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:U})=>{M(U?"dark":"light")})}catch{J.addListener(({matches:se})=>{try{M(se?"dark":"light")}catch(Ee){console.error(Ee)}})}},[f]),E.useEffect(()=>{N.length<=1&&P(!1)},[N]),E.useEffect(()=>{let J=U=>{var se,Ee;a.every(Be=>U[Be]||U.code===Be)&&(P(!0),(se=O.current)==null||se.focus()),U.code==="Escape"&&(document.activeElement===O.current||(Ee=O.current)!=null&&Ee.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[a]),E.useEffect(()=>{if(O.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,Y.current=!1)}},[O.current]),E.createElement("section",{ref:t,"aria-label":`${S} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((J,U)=>{var se;let[Ee,Be]=J.split("-");return N.length?E.createElement("ol",{key:J,dir:g==="auto"?ym():g,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":_,"data-y-position":Ee,"data-lifted":$&&N.length>1&&!s,"data-x-position":Be,style:{"--front-toast-height":`${((se=D[0])==null?void 0:se.height)||0}px`,"--width":`${AO}px`,"--gap":`${x}px`,...p,...TO(c,u)},onBlur:de=>{Y.current&&!de.currentTarget.contains(de.relatedTarget)&&(Y.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,I.current=de.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{B||P(!1)},onDragEnd:()=>P(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},N.filter(de=>!de.position&&U===0||de.position===J).map((de,V)=>{var L,k;return E.createElement(DO,{key:de.id,icons:w,index:V,toast:de,defaultRichColors:d,duration:(L=m==null?void 0:m.duration)!=null?L:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(k=m==null?void 0:m.closeButton)!=null?k:i,interacting:B,position:J,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:re,toasts:N.filter(H=>H.position==de.position),heights:D.filter(H=>H.position==de.position),setHeights:R,expandByDefault:s,gap:x,loadingIcon:j,expanded:$,pauseWhenPageIsHidden:b,swipeDirections:e.swipeDirections})})):null}))});const _O=({...e})=>{const{theme:t="system"}=oO();return o.jsx($O,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IO=Yx[" useId ".trim().toString()]||(()=>{}),kO=0;function fn(e){const[t,r]=v.useState(IO());return Wt(()=>{r(n=>n??String(kO++))},[e]),t?`radix-${t}`:""}const MO=["top","right","bottom","left"],Mn=Math.min,dr=Math.max,tl=Math.round,bi=Math.floor,Xr=e=>({x:e,y:e}),RO={left:"right",right:"left",bottom:"top",top:"bottom"},LO={start:"end",end:"start"};function Pd(e,t,r){return dr(e,Mn(t,r))}function vn(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function So(e){return e.split("-")[1]}function jh(e){return e==="x"?"y":"x"}function Sh(e){return e==="y"?"height":"width"}const BO=new Set(["top","bottom"]);function Gr(e){return BO.has(yn(e))?"y":"x"}function Nh(e){return jh(Gr(e))}function FO(e,t,r){r===void 0&&(r=!1);const n=So(e),a=Nh(e),s=Sh(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=rl(i)),[i,rl(i)]}function UO(e){const t=rl(e);return[Ed(e),t,Ed(t)]}function Ed(e){return e.replace(/start|end/g,t=>LO[t])}const xm=["left","right"],bm=["right","left"],KO=["top","bottom"],VO=["bottom","top"];function zO(e,t,r){switch(e){case"top":case"bottom":return r?t?bm:xm:t?xm:bm;case"left":case"right":return t?KO:VO;default:return[]}}function WO(e,t,r,n){const a=So(e);let s=zO(yn(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(Ed)))),s}function rl(e){return e.replace(/left|right|bottom|top/g,t=>RO[t])}function HO(e){return{top:0,right:0,bottom:0,left:0,...e}}function Db(e){return typeof e!="number"?HO(e):{top:e,right:e,bottom:e,left:e}}function nl(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function wm(e,t,r){let{reference:n,floating:a}=e;const s=Gr(t),i=Nh(t),l=Sh(i),c=yn(t),u=s==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-a.width,y:d};break;default:p={x:n.x,y:n.y}}switch(So(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const YO=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=wm(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:g,fn:x}=l[m],{x:j,y:w,data:S,reset:b}=await x({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=j??f,d=w??d,p={...p,[g]:{...p[g],...S}},b&&y<=50&&(y++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(u=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:f,y:d}=wm(u,h,c)),m=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:p}};async function us(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=vn(t,e),y=Db(p),g=l[h?d==="floating"?"reference":"floating":d],x=nl(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),j=d==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},b=nl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(x.top-b.top+y.top)/S.y,bottom:(b.bottom-x.bottom+y.bottom)/S.y,left:(x.left-b.left+y.left)/S.x,right:(b.right-x.right+y.right)/S.x}}const GO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=vn(e,t)||{};if(u==null)return{};const d=Db(f),h={x:r,y:n},p=Nh(a),y=Sh(p),m=await i.getDimensions(u),g=p==="y",x=g?"top":"left",j=g?"bottom":"right",w=g?"clientHeight":"clientWidth",S=s.reference[y]+s.reference[p]-h[p]-s.floating[y],b=h[p]-s.reference[p],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=N?N[w]:0;(!A||!await(i.isElement==null?void 0:i.isElement(N)))&&(A=l.floating[w]||s.floating[y]);const C=S/2-b/2,D=A/2-m[y]/2-1,R=Mn(d[x],D),$=Mn(d[j],D),P=R,B=A-m[y]-$,T=A/2-m[y]/2+C,_=Pd(P,T,B),M=!c.arrow&&So(a)!=null&&T!==_&&s.reference[y]/2-(T<P?R:$)-m[y]/2<0,O=M?T<P?T-P:T-B:0;return{[p]:h[p]+O,data:{[p]:_,centerOffset:T-_-O,...M&&{alignmentOffset:O}},reset:M}}}),qO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=vn(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=yn(a),j=Gr(l),w=yn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),b=h||(w||!m?[rl(l)]:UO(l)),N=y!=="none";!h&&N&&b.push(...WO(l,m,y,S));const A=[l,...b],C=await us(t,g),D=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&D.push(C[x]),d){const T=FO(a,i,S);D.push(C[T[0]],C[T[1]])}if(R=[...R,{placement:a,overflows:D}],!D.every(T=>T<=0)){var $,P;const T=((($=s.flip)==null?void 0:$.index)||0)+1,_=A[T];if(_&&(!(d==="alignment"?j!==Gr(_):!1)||R.every(F=>Gr(F.placement)===j?F.overflows[0]>0:!0)))return{data:{index:T,overflows:R},reset:{placement:_}};let M=(P=R.filter(O=>O.overflows[0]<=0).sort((O,F)=>O.overflows[1]-F.overflows[1])[0])==null?void 0:P.placement;if(!M)switch(p){case"bestFit":{var B;const O=(B=R.filter(F=>{if(N){const I=Gr(F.placement);return I===j||I==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(I=>I>0).reduce((I,Y)=>I+Y,0)]).sort((F,I)=>F[1]-I[1])[0])==null?void 0:B[0];O&&(M=O);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function jm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sm(e){return MO.some(t=>e[t]>=0)}const XO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=vn(e,t);switch(n){case"referenceHidden":{const s=await us(t,{...a,elementContext:"reference"}),i=jm(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Sm(i)}}}case"escaped":{const s=await us(t,{...a,altBoundary:!0}),i=jm(s,r.floating);return{data:{escapedOffsets:i,escaped:Sm(i)}}}default:return{}}}}},Tb=new Set(["left","top"]);async function QO(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=yn(r),l=So(r),c=Gr(r)==="y",u=Tb.has(i)?-1:1,f=s&&c?-1:1,d=vn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const JO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await QO(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},ZO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:g=>{let{x,y:j}=g;return{x,y:j}}},...c}=vn(e,t),u={x:r,y:n},f=await us(t,c),d=Gr(yn(a)),h=jh(d);let p=u[h],y=u[d];if(s){const g=h==="y"?"top":"left",x=h==="y"?"bottom":"right",j=p+f[g],w=p-f[x];p=Pd(j,p,w)}if(i){const g=d==="y"?"top":"left",x=d==="y"?"bottom":"right",j=y+f[g],w=y-f[x];y=Pd(j,y,w)}const m=l.fn({...t,[h]:p,[d]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[d]:i}}}}}},eP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=vn(e,t),f={x:r,y:n},d=Gr(a),h=jh(d);let p=f[h],y=f[d];const m=vn(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",S=s.reference[h]-s.floating[w]+g.mainAxis,b=s.reference[h]+s.reference[w]-g.mainAxis;p<S?p=S:p>b&&(p=b)}if(u){var x,j;const w=h==="y"?"width":"height",S=Tb.has(yn(a)),b=s.reference[d]-s.floating[w]+(S&&((x=i.offset)==null?void 0:x[d])||0)+(S?0:g.crossAxis),N=s.reference[d]+s.reference[w]+(S?0:((j=i.offset)==null?void 0:j[d])||0)-(S?g.crossAxis:0);y<b?y=b:y>N&&(y=N)}return{[h]:p,[d]:y}}}},tP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=vn(e,t),f=await us(t,u),d=yn(a),h=So(a),p=Gr(a)==="y",{width:y,height:m}=s.floating;let g,x;d==="top"||d==="bottom"?(g=d,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,g=h==="end"?"top":"bottom");const j=m-f.top-f.bottom,w=y-f.left-f.right,S=Mn(m-f[g],j),b=Mn(y-f[x],w),N=!t.middlewareData.shift;let A=S,C=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=j),N&&!h){const R=dr(f.left,0),$=dr(f.right,0),P=dr(f.top,0),B=dr(f.bottom,0);p?C=y-2*(R!==0||$!==0?R+$:dr(f.left,f.right)):A=m-2*(P!==0||B!==0?P+B:dr(f.top,f.bottom))}await c({...t,availableWidth:C,availableHeight:A});const D=await i.getDimensions(l.floating);return y!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function gc(){return typeof window<"u"}function No(e){return $b(e)?(e.nodeName||"").toLowerCase():"#document"}function hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nn(e){var t;return(t=($b(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $b(e){return gc()?e instanceof Node||e instanceof hr(e).Node:!1}function Mr(e){return gc()?e instanceof Element||e instanceof hr(e).Element:!1}function Zr(e){return gc()?e instanceof HTMLElement||e instanceof hr(e).HTMLElement:!1}function Nm(e){return!gc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hr(e).ShadowRoot}const rP=new Set(["inline","contents"]);function Js(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Rr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rP.has(a)}const nP=new Set(["table","td","th"]);function aP(e){return nP.has(No(e))}const oP=[":popover-open",":modal"];function vc(e){return oP.some(t=>{try{return e.matches(t)}catch{return!1}})}const sP=["transform","translate","scale","rotate","perspective"],iP=["transform","translate","scale","rotate","perspective","filter"],lP=["paint","layout","strict","content"];function Ah(e){const t=Ch(),r=Mr(e)?Rr(e):e;return sP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||iP.some(n=>(r.willChange||"").includes(n))||lP.some(n=>(r.contain||"").includes(n))}function cP(e){let t=Rn(e);for(;Zr(t)&&!qa(t);){if(Ah(t))return t;if(vc(t))return null;t=Rn(t)}return null}function Ch(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uP=new Set(["html","body","#document"]);function qa(e){return uP.has(No(e))}function Rr(e){return hr(e).getComputedStyle(e)}function yc(e){return Mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rn(e){if(No(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nm(e)&&e.host||nn(e);return Nm(t)?t.host:t}function _b(e){const t=Rn(e);return qa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zr(t)&&Js(t)?t:_b(t)}function ds(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=_b(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=hr(a);if(s){const l=Dd(i);return t.concat(i,i.visualViewport||[],Js(a)?a:[],l&&r?ds(l):[])}return t.concat(a,ds(a,[],r))}function Dd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ib(e){const t=Rr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Zr(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=tl(r)!==s||tl(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function Oh(e){return Mr(e)?e:e.contextElement}function Ka(e){const t=Oh(e);if(!Zr(t))return Xr(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=Ib(t);let i=(s?tl(r.width):r.width)/n,l=(s?tl(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const dP=Xr(0);function kb(e){const t=hr(e);return!Ch()||!t.visualViewport?dP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hr(e)?!1:t}function la(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Oh(e);let i=Xr(1);t&&(n?Mr(n)&&(i=Ka(n)):i=Ka(e));const l=fP(s,r,n)?kb(s):Xr(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,f=a.width/i.x,d=a.height/i.y;if(s){const h=hr(s),p=n&&Mr(n)?hr(n):n;let y=h,m=Dd(y);for(;m&&n&&p!==y;){const g=Ka(m),x=m.getBoundingClientRect(),j=Rr(m),w=x.left+(m.clientLeft+parseFloat(j.paddingLeft))*g.x,S=x.top+(m.clientTop+parseFloat(j.paddingTop))*g.y;c*=g.x,u*=g.y,f*=g.x,d*=g.y,c+=w,u+=S,y=hr(m),m=Dd(y)}}return nl({width:f,height:d,x:c,y:u})}function xc(e,t){const r=yc(e).scrollLeft;return t?t.left+r:la(nn(e)).left+r}function Mb(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-xc(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function hP(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=nn(n),l=t?vc(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Xr(1);const f=Xr(0),d=Zr(n);if((d||!d&&!s)&&((No(n)!=="body"||Js(i))&&(c=yc(n)),Zr(n))){const p=la(n);u=Ka(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const h=i&&!d&&!s?Mb(i,c):Xr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function pP(e){return Array.from(e.getClientRects())}function mP(e){const t=nn(e),r=yc(e),n=e.ownerDocument.body,a=dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+xc(e);const l=-r.scrollTop;return Rr(n).direction==="rtl"&&(i+=dr(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}const Am=25;function gP(e,t){const r=hr(e),n=nn(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const f=Ch();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=xc(n);if(u<=0){const f=n.ownerDocument,d=f.body,h=getComputedStyle(d),p=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-d.clientWidth-p);y<=Am&&(s-=y)}else u<=Am&&(s+=u);return{width:s,height:i,x:l,y:c}}const vP=new Set(["absolute","fixed"]);function yP(e,t){const r=la(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Zr(e)?Ka(e):Xr(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function Cm(e,t,r){let n;if(t==="viewport")n=gP(e,r);else if(t==="document")n=mP(nn(e));else if(Mr(t))n=yP(t,r);else{const a=kb(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return nl(n)}function Rb(e,t){const r=Rn(e);return r===t||!Mr(r)||qa(r)?!1:Rr(r).position==="fixed"||Rb(r,t)}function xP(e,t){const r=t.get(e);if(r)return r;let n=ds(e,[],!1).filter(l=>Mr(l)&&No(l)!=="body"),a=null;const s=Rr(e).position==="fixed";let i=s?Rn(e):e;for(;Mr(i)&&!qa(i);){const l=Rr(i),c=Ah(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&vP.has(a.position)||Js(i)&&!c&&Rb(e,i))?n=n.filter(f=>f!==i):a=l,i=Rn(i)}return t.set(e,n),n}function bP(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?vc(t)?[]:xP(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=Cm(t,f,a);return u.top=dr(d.top,u.top),u.right=Mn(d.right,u.right),u.bottom=Mn(d.bottom,u.bottom),u.left=dr(d.left,u.left),u},Cm(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wP(e){const{width:t,height:r}=Ib(e);return{width:t,height:r}}function jP(e,t,r){const n=Zr(t),a=nn(t),s=r==="fixed",i=la(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Xr(0);function u(){c.x=xc(a)}if(n||!n&&!s)if((No(t)!=="body"||Js(a))&&(l=yc(t)),n){const p=la(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();s&&!n&&a&&u();const f=a&&!n&&!s?Mb(a,l):Xr(0),d=i.left+l.scrollLeft-c.x-f.x,h=i.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:i.width,height:i.height}}function Pu(e){return Rr(e).position==="static"}function Om(e,t){if(!Zr(e)||Rr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return nn(e)===r&&(r=r.ownerDocument.body),r}function Lb(e,t){const r=hr(e);if(vc(e))return r;if(!Zr(e)){let a=Rn(e);for(;a&&!qa(a);){if(Mr(a)&&!Pu(a))return a;a=Rn(a)}return r}let n=Om(e,t);for(;n&&aP(n)&&Pu(n);)n=Om(n,t);return n&&qa(n)&&Pu(n)&&!Ah(n)?r:n||cP(e)||r}const SP=async function(e){const t=this.getOffsetParent||Lb,r=this.getDimensions,n=await r(e.floating);return{reference:jP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NP(e){return Rr(e).direction==="rtl"}const AP={convertOffsetParentRelativeRectToViewportRelativeRect:hP,getDocumentElement:nn,getClippingRect:bP,getOffsetParent:Lb,getElementRects:SP,getClientRects:pP,getDimensions:wP,getScale:Ka,isElement:Mr,isRTL:NP};function Bb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CP(e,t){let r=null,n;const a=nn(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=bi(d),m=bi(a.clientWidth-(f+h)),g=bi(a.clientHeight-(d+p)),x=bi(f),w={rootMargin:-y+"px "+-m+"px "+-g+"px "+-x+"px",threshold:dr(0,Mn(1,c))||1};let S=!0;function b(N){const A=N[0].intersectionRatio;if(A!==c){if(!S)return i();A?i(!1,A):n=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!Bb(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(b,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,w)}r.observe(e)}return i(!0),s}function OP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Oh(e),f=a||s?[...u?ds(u):[],...ds(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=u&&l?CP(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(x=>{let[j]=x;j&&j.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?la(e):null;c&&g();function g(){const x=la(e);m&&!Bb(m,x)&&r(),m=x,y=requestAnimationFrame(g)}return r(),()=>{var x;f.forEach(j=>{a&&j.removeEventListener("scroll",r),s&&j.removeEventListener("resize",r)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const PP=JO,EP=ZO,DP=qO,TP=tP,$P=XO,Pm=GO,_P=eP,IP=(e,t,r)=>{const n=new Map,a={platform:AP,...r},s={...a.platform,_c:n};return YO(e,t,{...a,platform:s})};var kP=typeof document<"u",MP=function(){},Hi=kP?v.useLayoutEffect:MP;function al(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!al(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!al(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Fb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Em(e,t){const r=Fb(e);return Math.round(t*r)/r}function Eu(e){const t=v.useRef(e);return Hi(()=>{t.current=e}),t}function RP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);al(h,n)||p(n);const[y,m]=v.useState(null),[g,x]=v.useState(null),j=v.useCallback(F=>{F!==N.current&&(N.current=F,m(F))},[]),w=v.useCallback(F=>{F!==A.current&&(A.current=F,x(F))},[]),S=s||y,b=i||g,N=v.useRef(null),A=v.useRef(null),C=v.useRef(f),D=c!=null,R=Eu(c),$=Eu(a),P=Eu(u),B=v.useCallback(()=>{if(!N.current||!A.current)return;const F={placement:t,strategy:r,middleware:h};$.current&&(F.platform=$.current),IP(N.current,A.current,F).then(I=>{const Y={...I,isPositioned:P.current!==!1};T.current&&!al(C.current,Y)&&(C.current=Y,bo.flushSync(()=>{d(Y)}))})},[h,t,r,$,P]);Hi(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[u]);const T=v.useRef(!1);Hi(()=>(T.current=!0,()=>{T.current=!1}),[]),Hi(()=>{if(S&&(N.current=S),b&&(A.current=b),S&&b){if(R.current)return R.current(S,b,B);B()}},[S,b,B,R,D]);const _=v.useMemo(()=>({reference:N,floating:A,setReference:j,setFloating:w}),[j,w]),M=v.useMemo(()=>({reference:S,floating:b}),[S,b]),O=v.useMemo(()=>{const F={position:r,left:0,top:0};if(!M.floating)return F;const I=Em(M.floating,f.x),Y=Em(M.floating,f.y);return l?{...F,transform:"translate("+I+"px, "+Y+"px)",...Fb(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:Y}},[r,l,M.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:B,refs:_,elements:M,floatingStyles:O}),[f,B,_,M,O])}const LP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pm({element:n.current,padding:a}).fn(r):{}:n?Pm({element:n,padding:a}).fn(r):{}}}},BP=(e,t)=>({...PP(e),options:[e,t]}),FP=(e,t)=>({...EP(e),options:[e,t]}),UP=(e,t)=>({..._P(e),options:[e,t]}),KP=(e,t)=>({...DP(e),options:[e,t]}),VP=(e,t)=>({...TP(e),options:[e,t]}),zP=(e,t)=>({...$P(e),options:[e,t]}),WP=(e,t)=>({...LP(e),options:[e,t]});var HP="Arrow",Ub=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(ze.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ub.displayName=HP;var YP=Ub;function Kb(e){const[t,r]=v.useState(void 0);return Wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ph="Popper",[Vb,Ao]=tn(Ph),[GP,zb]=Vb(Ph),Wb=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return o.jsx(GP,{scope:t,anchor:n,onAnchorChange:a,children:r})};Wb.displayName=Ph;var Hb="PopperAnchor",Yb=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=zb(Hb,r),i=v.useRef(null),l=et(t,i),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:o.jsx(ze.div,{...a,ref:l})});Yb.displayName=Hb;var Eh="PopperContent",[qP,XP]=Vb(Eh),Gb=v.forwardRef((e,t)=>{var de,V,L,k,H,K;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=zb(Eh,r),[x,j]=v.useState(null),w=et(t,ue=>j(ue)),[S,b]=v.useState(null),N=Kb(S),A=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,D=n+(s!=="center"?"-"+s:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},$=Array.isArray(u)?u:[u],P=$.length>0,B={padding:R,boundary:$.filter(JP),altBoundary:P},{refs:T,floatingStyles:_,placement:M,isPositioned:O,middlewareData:F}=RP({strategy:"fixed",placement:D,whileElementsMounted:(...ue)=>OP(...ue,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[BP({mainAxis:a+C,alignmentAxis:i}),c&&FP({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?UP():void 0,...B}),c&&KP({...B}),VP({...B,apply:({elements:ue,rects:fe,availableWidth:Se,availableHeight:ie})=>{const{width:je,height:oe}=fe.reference,we=ue.floating.style;we.setProperty("--radix-popper-available-width",`${Se}px`),we.setProperty("--radix-popper-available-height",`${ie}px`),we.setProperty("--radix-popper-anchor-width",`${je}px`),we.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),S&&WP({element:S,padding:l}),ZP({arrowWidth:A,arrowHeight:C}),h&&zP({strategy:"referenceHidden",...B})]}),[I,Y]=Qb(M),re=nr(y);Wt(()=>{O&&(re==null||re())},[O,re]);const J=(de=F.arrow)==null?void 0:de.x,U=(V=F.arrow)==null?void 0:V.y,se=((L=F.arrow)==null?void 0:L.centerOffset)!==0,[Ee,Be]=v.useState();return Wt(()=>{x&&Be(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:O?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(k=F.transformOrigin)==null?void 0:k.x,(H=F.transformOrigin)==null?void 0:H.y].join(" "),...((K=F.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(qP,{scope:r,placedSide:I,onArrowChange:b,arrowX:J,arrowY:U,shouldHideArrow:se,children:o.jsx(ze.div,{"data-side":I,"data-align":Y,...m,ref:w,style:{...m.style,animation:O?void 0:"none"}})})})});Gb.displayName=Eh;var qb="PopperArrow",QP={top:"bottom",right:"left",bottom:"top",left:"right"},Xb=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=XP(qb,n),i=QP[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(YP,{...a,ref:r,style:{...a.style,display:"block"}})})});Xb.displayName=qb;function JP(e){return e!==null}var ZP=e=>({name:"transformOrigin",options:e,fn(t){var g,x,j;const{placement:r,rects:n,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=Qb(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=i?d:`${h}px`,m=`${-c}px`):u==="top"?(y=i?d:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=i?d:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=i?d:`${p}px`),{data:{x:y,y:m}}}});function Qb(e){const[t,r="center"]=e.split("-");return[t,r]}var Jb=Wb,Dh=Yb,Th=Gb,$h=Xb,[bc,YZ]=tn("Tooltip",[Ao]),_h=Ao(),Zb="TooltipProvider",eE=700,Dm="tooltip.open",[tE,e0]=bc(Zb),t0=e=>{const{__scopeTooltip:t,delayDuration:r=eE,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(tE,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};t0.displayName=Zb;var r0="Tooltip",[GZ,wc]=bc(r0),Td="TooltipTrigger",rE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=wc(Td,r),s=e0(Td,r),i=_h(r),l=v.useRef(null),c=et(t,l,a.onTriggerChange),u=v.useRef(!1),f=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(Dh,{asChild:!0,...i,children:o.jsx(ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ae(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ae(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Ae(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ae(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ae(e.onBlur,a.onClose),onClick:Ae(e.onClick,a.onClose)})})});rE.displayName=Td;var nE="TooltipPortal",[qZ,aE]=bc(nE,{forceMount:void 0}),Xa="TooltipContent",n0=v.forwardRef((e,t)=>{const r=aE(Xa,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=wc(Xa,e.__scopeTooltip);return o.jsx(rn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(a0,{side:a,...s,ref:t}):o.jsx(oE,{side:a,...s,ref:t})})}),oE=v.forwardRef((e,t)=>{const r=wc(Xa,e.__scopeTooltip),n=e0(Xa,e.__scopeTooltip),a=v.useRef(null),s=et(t,a),[i,l]=v.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),p=v.useCallback((y,m)=>{const g=y.currentTarget,x={x:y.clientX,y:y.clientY},j=uE(x,g.getBoundingClientRect()),w=dE(x,j),S=fE(m.getBoundingClientRect()),b=pE([...w,...S]);l(b),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&f){const y=g=>p(g,f),m=g=>p(g,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",m)}}},[c,f,p,h]),v.useEffect(()=>{if(i){const y=m=>{const g=m.target,x={x:m.clientX,y:m.clientY},j=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),w=!hE(x,i);j?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,i,u,h]),o.jsx(a0,{...e,ref:s})}),[sE,iE]=bc(r0,{isInside:!1}),lE=dC("TooltipContent"),a0=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,c=wc(Xa,r),u=_h(r),{onClose:f}=c;return v.useEffect(()=>(document.addEventListener(Dm,f),()=>document.removeEventListener(Dm,f)),[f]),v.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(jo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(Th,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(lE,{children:n}),o.jsx(sE,{scope:r,isInside:!0,children:o.jsx(_C,{id:c.contentId,role:"tooltip",children:a||n})})]})})});n0.displayName=Xa;var o0="TooltipArrow",cE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_h(r);return iE(o0,r).isInside?null:o.jsx($h,{...a,...n,ref:t})});cE.displayName=o0;function uE(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function dE(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function fE(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function hE(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function pE(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),mE(t)}function mE(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var gE=t0,s0=n0;const vE=gE,yE=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(s0,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));yE.displayName=s0.displayName;class xE{constructor(){Mt(this,"clientId");Mt(this,"syncQueue",[]);Mt(this,"metadata",null);this.clientId=this.generateClientId(),this.loadSyncQueue(),this.loadMetadata()}generateClientId(){return`client_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async loadSyncQueue(){try{const t=localStorage.getItem("syncQueue");t&&(this.syncQueue=JSON.parse(t))}catch(t){console.error("동기화 큐 로드 실패:",t),this.syncQueue=[]}}async saveSyncQueue(){try{localStorage.setItem("syncQueue",JSON.stringify(this.syncQueue))}catch(t){console.error("동기화 큐 저장 실패:",t)}}async loadMetadata(){try{const t=localStorage.getItem("syncMetadata");t&&(this.metadata=JSON.parse(t))}catch(t){console.error("메타데이터 로드 실패:",t)}}async saveMetadata(){try{this.metadata&&localStorage.setItem("syncMetadata",JSON.stringify(this.metadata))}catch(t){console.error("메타데이터 저장 실패:",t)}}async addToSyncQueue(t){const r={...t,id:`op_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),status:"pending"};this.syncQueue.push(r),await this.saveSyncQueue(),console.log(`📝 동기화 큐에 추가: ${t.operation} ${t.recordId}`)}async uploadToServer(){if(!Me)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 업로드를 건너뜁니다."),{uploaded:0,errors:[]};const t=this.syncQueue.filter(a=>a.status==="pending");let r=0;const n=[];console.log(`📤 서버로 업로드 시작: ${t.length}개 작업`);for(const a of t)try{a.status="processing",await this.saveSyncQueue();const s=await fetch(`${Me}/api/sync/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:a.operation,tableName:a.tableName,recordId:a.recordId,payload:a.payload,clientVersion:a.clientVersion})});if(s.ok)a.status="completed",r++,console.log(`✅ 업로드 성공: ${a.operation} ${a.recordId}`);else throw new Error(`HTTP ${s.status}: ${await s.text()}`)}catch(s){a.status="failed";const i=`업로드 실패 ${a.recordId}: ${s.message}`;n.push(i),console.error(`❌ ${i}`)}return await this.saveSyncQueue(),{uploaded:r,errors:n}}async downloadFromServer(t=!1){var r;if(!Me)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 다운로드를 건너뜁니다."),{downloaded:0,conflicts:0};try{let n=0;const a=0;if(t){console.log("📥 전체 동기화: 서버의 모든 데이터로 덮어쓰기 시작...");const c=await fetch(`${Me}/api/unclassified`);if(!c.ok)throw new Error(`전체 다운로드 실패: ${c.status}`);const u=await c.json();let f=[];Array.isArray(u)?(f=u,console.log("📥 배열 응답 감지:",f.length,"개")):u&&typeof u=="object"&&(u.success===!0&&Array.isArray(u.data)?(f=u.data,console.log("📥 성공 응답 (data):",f.length,"개")):Array.isArray(u.data)?(f=u.data,console.log("📥 데이터 응답:",f.length,"개")):Array.isArray(u.records)?(f=u.records,console.log("📥 레코드 응답:",f.length,"개")):(console.warn("⚠️ 알 수 없는 응답 형식:",Object.keys(u)),console.warn("⚠️ 응답 샘플:",JSON.stringify(u).substring(0,200)))),console.log(`📥 서버에서 전체 데이터 다운로드: ${f.length}개 레코드`),console.log("🔄 dayKeyLocal 정규화 중...");const d=f.map(h=>{const p=h.dayKeyLocal||(h.collectionDate?new Date(h.collectionDate).toISOString().split("T")[0]:null)||(h.uploadDate?new Date(h.uploadDate).toISOString().split("T")[0]:null);return{...h,dayKeyLocal:p}}).filter(h=>h.dayKeyLocal);return console.log(`✅ 정규화 완료: ${f.length}개 → ${d.length}개`),console.log("💾 서버 데이터를 IndexedDB에 배치 저장 중..."),await ln.saveDataInBatches(d,500),n=d.length,console.log(`✅ 전체 동기화 완료: ${n}개 새로 저장`),{downloaded:n,conflicts:a}}const s=((r=this.metadata)==null?void 0:r.lastSyncAt)||0,i=await fetch(`${Me}/api/sync/download?since=${s}`);if(!i.ok)throw new Error(`다운로드 실패: ${i.status}`);const l=await i.json();console.log(`📥 서버에서 증분 다운로드: ${l.records.length}개 레코드`);for(const c of l.records)try{const u=c.dayKeyLocal||(c.collectionDate?new Date(c.collectionDate).toISOString().split("T")[0]:null)||(c.uploadDate?new Date(c.uploadDate).toISOString().split("T")[0]:null);if(!u){console.warn(`⚠️ 날짜 키가 없는 레코드 스킵: ${c.videoId}`);continue}const f=`${c.videoId}|${u}`;console.log(`🔍 키 기반 조회: ${f}`),await ve.upsertUnclassifiedDataWithMaxValues([c]),n++,console.log(`✅ 데이터 upsert: ${c.videoId} (${c.dayKeyLocal})`)}catch(u){console.error(`❌ 레코드 처리 실패 ${c.videoId}:`,u)}return{downloaded:n,conflicts:a}}catch(n){return console.error("❌ 서버 다운로드 실패:",n),{downloaded:0,conflicts:0}}}async performFullSync(t=!0){console.log("🔄 전체 동기화 시작...");try{const r=await this.uploadToServer(),n=await this.downloadFromServer(t);this.metadata={clientId:this.clientId,lastSyncAt:Date.now(),serverVersion:"1.0.0",clientVersion:"1.0.0"},await this.saveMetadata();const a={success:!0,uploaded:r.uploaded,downloaded:n.downloaded,conflicts:n.conflicts,errors:r.errors,lastSyncAt:this.metadata.lastSyncAt};return console.log("✅ 동기화 완료:",a),a}catch(r){return console.error("❌ 동기화 실패:",r),{success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[r instanceof Error?r.message:String(r)],lastSyncAt:0}}}async checkSyncNeeded(){var a;const r=this.syncQueue.filter(s=>s.status==="pending").length>0;let n=!1;try{const s=((a=this.metadata)==null?void 0:a.lastSyncAt)||0,i=await fetch(`/api/sync/check?since=${s}`);i.ok&&(n=(await i.json()).hasChanges)}catch(s){console.error("서버 변경사항 확인 실패:",s)}return r||n}getSyncStatus(){var t;return{pendingOps:this.syncQueue.filter(r=>r.status==="pending").length,lastSyncAt:((t=this.metadata)==null?void 0:t.lastSyncAt)||null,clientId:this.clientId}}async clearSyncQueue(){this.syncQueue=[],await this.saveSyncQueue(),console.log("🗑️ 동기화 큐 초기화 완료")}}const bE=new xE;async function Du({api:e,idb:t,lastSyncAt:r}){var n;if(!Me)return console.warn("⚠️ API_BASE_URL 미설정 - 로그인 후 서버 동기화를 건너뜁니다."),{success:!0,syncedAt:new Date().toISOString(),uploaded:0,downloaded:0,classifiedLoaded:0};try{console.log("🔄 로그인 후 서버 동기화 시작..."),console.log("[1/4] 서버→로컬 분류 데이터 전체 로드...");let a=0;try{const u=await e.get("/api/classified");u.success&&u.data&&Array.isArray(u.data)?(console.log(`📦 서버에서 분류 데이터 로드: ${u.data.length}개`),a=u.data.length,await t.saveClassifiedData(u.data),console.log("✅ IndexedDB 분류 데이터 캐시 갱신 완료")):console.warn("⚠️ 서버 분류 데이터 없음 또는 형식 오류")}catch(u){console.error("❌ 분류 데이터 로드 실패:",u)}console.log("[2/4] 로컬→서버 업로드 큐 재생...");const s=await bE.performFullSync();console.log("✅ 업로드 큐 재생 완료:",s),console.log("[3/4] 서버→로컬 증분 동기화...");const i=r??new Date(Date.now()-24*3600*1e3).toISOString(),l=await e.get(`/api/sync/download?since=${i}`);l&&l.items&&l.items.length>0?(await t.upsertUnclassifiedDataWithMaxValues(l.items),console.log(`✅ 서버 증분 동기화 완료: ${l.items.length}개 항목`)):console.log("📊 서버 증분 동기화: 변경사항 없음"),console.log("[4/4] 동기화 상태 업데이트...");const c=new Date().toISOString();return await t.saveSystemConfig("lastSyncAt",c),console.log("🎉 서버 동기화 완료!"),{success:!0,syncedAt:c,uploaded:s.uploaded||0,downloaded:((n=l==null?void 0:l.items)==null?void 0:n.length)||0,classifiedLoaded:a}}catch(a){return console.error("❌ 서버 동기화 실패:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error",syncedAt:null}}}const i0=v.createContext(void 0),wE=({children:e})=>{const[t,r]=v.useState(!1),[n,a]=v.useState(null),[s,i]=v.useState(null),[l,c]=v.useState(!0),u=Xt();v.useEffect(()=>{(()=>{var y;try{console.log("🌐 환경 정보:",{hostname:window.location.hostname,protocol:window.location.protocol,origin:window.location.origin,userAgent:navigator.userAgent.substring(0,50)+"..."});const m=localStorage.getItem("userEmail"),g=localStorage.getItem("userRole");console.log("🔍 저장된 인증 정보 확인:",{storedEmail:m,storedRole:g}),!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")?(console.log("🏭 프로덕션 환경 감지"),m&&g&&m.includes("@")?(r(!0),a(m),i(g),console.log("✅ 프로덕션 인증 정보 로드 완료:",{storedEmail:m,storedRole:g})):(console.log("❌ 프로덕션: 유효하지 않은 인증 정보"),localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"))):(console.log("💻 개발 환경 감지"),m&&g?(r(!0),a(m),i(g),console.log("✅ 개발 인증 정보 로드 완료:",{storedEmail:m,storedRole:g})):console.log("❌ 개발: 저장된 인증 정보 없음"))}catch(m){console.error("❌ 인증 정보 확인 중 오류:",m),console.error("❌ 오류 상세:",{name:m.name,message:m.message,stack:((y=m.stack)==null?void 0:y.substring(0,200))+"..."}),r(!1),a(null),i(null)}finally{c(!1)}})()},[]);const h={isLoggedIn:t,userEmail:n,userRole:s,login:async(p,y)=>{c(!0);try{if(console.log("🔐 로그인 시도:",{email:p,timestamp:new Date().toISOString()}),console.log("🌐 현재 도메인:",window.location.hostname),console.log("🔧 localStorage 사용 가능:",typeof Storage<"u"),p==="ju9511503@gmail.com"&&y==="@ju9180417")if(console.log("✅ 관리자 계정 확인됨"),!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")){console.log("🏭 프로덕션 로그인 처리");try{localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),localStorage.setItem("userEmail",p),localStorage.setItem("userRole","admin");const g=localStorage.getItem("userEmail"),x=localStorage.getItem("userRole");if(console.log("💾 프로덕션 저장 확인:",{savedEmail:g,savedRole:x}),g===p&&x==="admin")return r(!0),a(p),i("admin"),console.log("✅ 프로덕션 관리자 로그인 성공:",{email:p,role:"admin"}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const j=new Promise((b,N)=>{setTimeout(()=>N(new Error("동기화 타임아웃 (30초)")),3e4)});if(!Me){console.warn("⚠️ API_BASE_URL 미설정 - 서버 동기화를 건너뜁니다.");return}const w=Du({api:{get:async b=>(await fetch(`${Me}${b}`)).json(),post:async(b,N)=>(await fetch(`${Me}${b}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json()},idb:ve,lastSyncAt:await ve.loadSystemConfig("lastSyncAt")}),S=await Promise.race([w,j]);S.success?console.log("🎉 백그라운드 동기화 완료:",S):console.warn("⚠️ 백그라운드 동기화 실패:",S.error)}catch(j){console.error("❌ 백그라운드 동기화 오류:",j)}})(),"caches"in window&&(async()=>{try{const j=await caches.keys();await Promise.all(j.map(w=>caches.delete(w))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(j){console.warn("⚠️ 캐시 클리어 실패:",j)}})(),u("/dashboard",{replace:!0}),!0;throw new Error("저장된 데이터가 일치하지 않음")}catch(g){return console.error("❌ 프로덕션 localStorage 저장 실패:",g),c(!1),!1}}else{console.log("💻 개발 로그인 처리");try{return localStorage.setItem("userEmail",p),localStorage.setItem("userRole","admin"),r(!0),a(p),i("admin"),console.log("✅ 개발 관리자 로그인 성공:",{email:p,role:"admin"}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const g=new Promise((w,S)=>{setTimeout(()=>S(new Error("동기화 타임아웃 (30초)")),3e4)});if(!Me){console.warn("⚠️ API_BASE_URL 미설정 - 서버 동기화를 건너뜁니다.");return}const x=Du({api:{get:async w=>(await fetch(`${Me}${w}`)).json(),post:async(w,S)=>(await fetch(`${Me}${w}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).json()},idb:ve,lastSyncAt:await ve.loadSystemConfig("lastSyncAt")}),j=await Promise.race([x,g]);j.success?console.log("🎉 백그라운드 동기화 완료:",j):console.warn("⚠️ 백그라운드 동기화 실패:",j.error)}catch(g){console.error("❌ 백그라운드 동기화 오류:",g)}})(),"caches"in window&&(async()=>{try{const g=await caches.keys();await Promise.all(g.map(x=>caches.delete(x))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(g){console.warn("⚠️ 캐시 클리어 실패:",g)}})(),u("/dashboard",{replace:!0}),!0}catch(g){return console.error("❌ 개발 localStorage 저장 실패:",g),c(!1),!1}}try{const g=JSON.parse(localStorage.getItem("users")||"[]").find(x=>x.email===p&&x.password===y);if(g&&g.status==="active")return localStorage.setItem("userEmail",p),localStorage.setItem("userRole",g.role||"user"),r(!0),a(p),i(g.role||"user"),console.log("✅ 사용자 로그인 성공:",{email:p,role:g.role}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const x=new Promise((S,b)=>{setTimeout(()=>b(new Error("동기화 타임아웃 (30초)")),3e4)}),j=Du({api:{get:async S=>{if(!Me)throw new Error("API base URL is not configured.");return(await fetch(`${Me}${S}`)).json()},post:async(S,b)=>{if(!Me)throw new Error("API base URL is not configured.");return(await fetch(`${Me}${S}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json()}},idb:ve,lastSyncAt:await ve.loadSystemConfig("lastSyncAt")}),w=await Promise.race([j,x]);w.success?console.log("🎉 백그라운드 동기화 완료:",w):console.warn("⚠️ 백그라운드 동기화 실패:",w.error)}catch(x){console.error("❌ 백그라운드 동기화 오류:",x)}})(),"caches"in window&&(async()=>{try{const x=await caches.keys();await Promise.all(x.map(j=>caches.delete(j))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(x){console.warn("⚠️ 캐시 클리어 실패:",x)}})(),u("/dashboard",{replace:!0}),!0}catch(m){console.error("❌ 사용자 데이터 파싱 실패:",m)}return console.log("❌ 로그인 실패: 잘못된 인증 정보"),console.log("❌ 입력된 정보:",{email:p,passwordLength:y.length}),c(!1),!1}catch(m){return console.error("❌ 로그인 에러:",m),console.error("❌ 에러 상세:",{name:m.name,message:m.message,stack:m.stack}),c(!1),!1}},logout:()=>{localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),r(!1),a(null),i(null),console.log("✅ 로그아웃 완료 - 인증 정보 삭제됨"),u("/login",{replace:!0})},isLoading:l};return o.jsx(i0.Provider,{value:h,children:e})},jE=Qs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,type:a="button",...s},i)=>{const l=n?cC:"button";return o.jsx(l,{type:n?void 0:a,className:_e(jE({variant:t,size:r,className:e})),ref:i,...s})});q.displayName="Button";const SE=Qs("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l0=v.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:_e(SE({variant:t}),e),...r}));l0.displayName="Alert";const NE=v.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));NE.displayName="AlertTitle";const c0=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));c0.displayName="AlertDescription";class AE extends E.Component{constructor(r){super(r);Mt(this,"handleServiceWorkerUpdate",async()=>{try{if("serviceWorker"in navigator){const r=await navigator.serviceWorker.getRegistration();r&&r.waiting&&(console.log("🔄 서비스 워커 업데이트 감지 - 즉시 활성화"),r.waiting.postMessage({type:"SKIP_WAITING"}),r.active&&r.active.postMessage({type:"CLIENTS_CLAIM"}))}}catch(r){console.error("❌ 서비스 워커 업데이트 실패:",r)}});Mt(this,"handleRefresh",()=>{window.location.reload()});Mt(this,"handleHardRefresh",()=>{window.location.href=window.location.href+"?v="+Date.now()});this.state={hasError:!1}}static getDerivedStateFromError(r){return r.message.includes("Failed to fetch dynamically imported module")||r.message.includes("Loading chunk")||r.message.includes("Loading CSS chunk")?{hasError:!0,error:r}:{hasError:!1}}componentDidCatch(r,n){console.error("🚨 청크 로딩 오류 감지:",r),console.error("📍 오류 정보:",n),(r.message.includes("Failed to fetch dynamically imported module")||r.message.includes("Loading chunk")||r.message.includes("Loading CSS chunk"))&&(this.setState({hasError:!0,error:r}),this.handleServiceWorkerUpdate())}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"max-w-md w-full mx-4",children:o.jsxs(l0,{className:"border-orange-200 bg-orange-50",children:[o.jsx(xd,{className:"h-4 w-4 text-orange-600"}),o.jsx(c0,{className:"mt-2",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-orange-800",children:"앱 업데이트 감지"}),o.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"새로운 버전이 배포되었습니다. 페이지를 새로고침하여 최신 버전을 사용하세요."})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs(q,{onClick:this.handleRefresh,className:"w-full",variant:"default",children:[o.jsx(Qn,{className:"h-4 w-4 mr-2"}),"새로고침"]}),o.jsx(q,{onClick:this.handleHardRefresh,variant:"outline",className:"w-full",children:"강력 새로고침 (캐시 무효화)"})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsxs("p",{children:["💡 ",o.jsx("strong",{children:"문제가 지속되면:"})]}),o.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[o.jsx("li",{children:"브라우저 캐시를 수동으로 삭제하세요"}),o.jsx("li",{children:"시크릿/프라이빗 모드로 시도해보세요"}),o.jsx("li",{children:"다른 브라우저로 접속해보세요"})]})]})]})})]})})}):this.props.children}}const Br=()=>{const e=v.useContext(i0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},CE=()=>{const{isLoggedIn:e}=Br(),t=r=>{e||(r.preventDefault(),alert("로그인이 필요합니다. 먼저 로그인해주세요."))};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800",children:[o.jsx("header",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/login",children:o.jsxs(q,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(DA,{className:"w-4 h-4 mr-2"}),"로그인"]})}),o.jsx(Oe,{to:"/dashboard",onClick:t,children:o.jsx(q,{variant:"destructive",size:"sm",className:`${e?"bg-red-600 hover:bg-red-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:"국내"})}),o.jsx(Oe,{to:"/trend",onClick:t,children:o.jsxs(q,{size:"sm",className:`${e?"bg-green-600 hover:bg-green-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",onClick:t,children:o.jsx(q,{size:"sm",className:`${e?"bg-orange-600 hover:bg-orange-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:"📊 데이터"})}),o.jsx(Oe,{to:"/system",onClick:t,children:o.jsxs(q,{size:"sm",className:`${e?"bg-purple-600 hover:bg-purple-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-20",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-6xl font-bold text-white leading-tight",children:"유튜브 트렌드의"}),o.jsx("h2",{className:"text-6xl font-bold text-red-500 leading-tight",children:"모든 것을"}),o.jsx("h2",{className:"text-6xl font-bold text-white leading-tight",children:"한눈에"})]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"국내외 유튜브 영상을 분석하여 트렌드를 확인하세요"}),o.jsx("div",{className:"pt-8",children:o.jsx(Oe,{to:"/dashboard",onClick:t,children:o.jsxs(q,{size:"lg",className:`${e?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":"bg-gray-500 cursor-not-allowed"} text-white text-lg px-8 py-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300`,disabled:!e,children:[o.jsx(TA,{className:"w-5 h-5 mr-2"}),e?"대시보드 시작하기":"로그인 후 이용 가능"]})})})]})}),o.jsx("footer",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 YouTube Pulse. All rights reserved."})})})]})},vt=v.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));vt.displayName="Input";const Ne=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const ca=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));ca.displayName="CardHeader";const ua=v.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));ua.displayName="CardTitle";const da=v.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));da.displayName="CardDescription";const Kt=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...t}));Kt.displayName="CardContent";const OE=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));OE.displayName="CardFooter";var PE="Label",u0=v.forwardRef((e,t)=>o.jsx(ze.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));u0.displayName=PE;var d0=u0;const EE=Qs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tt=v.forwardRef(({className:e,...t},r)=>o.jsx(d0,{ref:r,className:_e(EE(),e),...t}));Tt.displayName=d0.displayName;const DE=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState(!1),[i,l]=v.useState(""),{login:c,isLoading:u}=Br(),f=Xt(),d=async h=>{h.preventDefault(),l("");const p=JSON.parse(localStorage.getItem("users")||"[]"),g=[{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417",status:"active"},...p].find(j=>j.email===e);if(g&&g.status==="pending"){l("계정이 관리자 승인 대기 중입니다. 승인 후 로그인 가능합니다.");return}await c(e,r)?f("/dashboard"):l("이메일 또는 비밀번호가 올바르지 않습니다.")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(ca,{className:"text-center",children:[o.jsx(ua,{className:"text-2xl font-bold text-white",children:"로그인"}),o.jsx(da,{className:"text-gray-300",children:"계정에 로그인하여 대시보드에 접근하세요"})]}),o.jsxs(Kt,{children:[o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"email",className:"text-white",children:"이메일"}),o.jsx(vt,{id:"email",type:"email",placeholder:"이메일을 입력하세요",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"password",className:"text-white",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"password",type:a?"text":"password",placeholder:"비밀번호를 입력하세요",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(Ir,{className:"h-4 w-4"})})]})]}),i&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:i}),o.jsx(q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:u,children:u?"로그인 중...":"로그인"})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(Oe,{to:"/register",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"계정이 없으신가요? 회원가입"}),o.jsx("br",{}),o.jsx(Oe,{to:"/forgot-password",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"비밀번호를 잊으셨나요?"})]})]})]})]})})},TE=()=>{const[e,t]=v.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[i,l]=v.useState(!1),[c,u]=v.useState(""),[f,d]=v.useState(!1),h=Xt(),p=m=>{const{name:g,value:x}=m.target;t(j=>({...j,[g]:x}))},y=async m=>{if(m.preventDefault(),u(""),e.password!==e.confirmPassword){u("비밀번호가 일치하지 않습니다.");return}if(e.password.length<6){u("비밀번호는 최소 6자 이상이어야 합니다.");return}l(!0),setTimeout(()=>{const g={id:Date.now().toString(),name:e.name,email:e.email,password:e.password,status:"pending",role:"user",joinDate:Ge(),lastLogin:""},x=JSON.parse(localStorage.getItem("users")||"[]");x.push(g),localStorage.setItem("users",JSON.stringify(x)),l(!1),d(!0),setTimeout(()=>{h("/login")},3e3)},2e3)};return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(oa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"회원가입 완료!"}),o.jsxs("p",{className:"text-gray-300",children:["계정이 성공적으로 생성되었습니다.",o.jsx("br",{}),o.jsx("span",{className:"text-yellow-400 font-semibold",children:"관리자 승인 후 사용 가능합니다."}),o.jsx("br",{}),"잠시 후 로그인 페이지로 이동합니다."]}),o.jsx("div",{className:"pt-4",children:o.jsx(Oe,{to:"/login",children:o.jsx(q,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"로그인 페이지로 이동"})})})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(ca,{className:"text-center",children:[o.jsx(ua,{className:"text-2xl font-bold text-white",children:"회원가입"}),o.jsx(da,{className:"text-gray-300",children:"새 계정을 만들어 YouTube Pulse를 시작하세요"})]}),o.jsxs(Kt,{children:[o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"name",className:"text-white",children:"이름"}),o.jsx(vt,{id:"name",name:"name",type:"text",placeholder:"이름을 입력하세요",value:e.name,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"email",className:"text-white",children:"이메일"}),o.jsx(vt,{id:"email",name:"email",type:"email",placeholder:"이메일을 입력하세요",value:e.email,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"password",className:"text-white",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"password",name:"password",type:r?"text":"password",placeholder:"비밀번호를 입력하세요 (최소 6자)",value:e.password,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>n(!r),children:r?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(Ir,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"confirmPassword",className:"text-white",children:"비밀번호 확인"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",placeholder:"비밀번호를 다시 입력하세요",value:e.confirmPassword,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(Ir,{className:"h-4 w-4"})})]})]}),c&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:c}),o.jsx(q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:i,children:i?"계정 생성 중...":"회원가입"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Oe,{to:"/login",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"이미 계정이 있으신가요? 로그인"})})]})]})]})})};class Zs{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const $E=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Vt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:$E()},Ih=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},_E=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=Ih(e);Vt.publicKey=r.publicKey,Vt.blockHeadless=r.blockHeadless,Vt.storageProvider=r.storageProvider,Vt.blockList=r.blockList,Vt.limitRate=r.limitRate,Vt.origin=r.origin||t},f0=async(e,t,r={})=>{const n=await fetch(Vt.origin+e,{method:"POST",headers:r,body:t}),a=await n.text(),s=new Zs(n.status,a);if(n.ok)return s;throw s},h0=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},IE=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},p0=e=>e.webdriver||!e.languages||e.languages.length===0,m0=()=>new Zs(451,"Unavailable For Headless Browser"),kE=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ME=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},RE=(e,t)=>e instanceof FormData?e.get(t):e[t],g0=(e,t)=>{if(ME(e))return!1;kE(e.list,e.watchVariable);const r=RE(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},v0=()=>new Zs(403,"Forbidden"),LE=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},BE=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},y0=async(e,t,r)=>{if(!t.throttle||!r)return!1;LE(t.throttle,t.id);const n=t.id||e;return await BE(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},x0=()=>new Zs(429,"Too Many Requests"),FE=async(e,t,r,n)=>{const a=Ih(n),s=a.publicKey||Vt.publicKey,i=a.blockHeadless||Vt.blockHeadless,l=a.storageProvider||Vt.storageProvider,c={...Vt.blockList,...a.blockList},u={...Vt.limitRate,...a.limitRate};return i&&p0(navigator)?Promise.reject(m0()):(h0(s,e,t),IE(r),r&&g0(c,r)?Promise.reject(v0()):await y0(location.pathname,u,l)?Promise.reject(x0()):f0("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},UE=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},KE=e=>typeof e=="string"?document.querySelector(e):e,VE=async(e,t,r,n)=>{const a=Ih(n),s=a.publicKey||Vt.publicKey,i=a.blockHeadless||Vt.blockHeadless,l=Vt.storageProvider||a.storageProvider,c={...Vt.blockList,...a.blockList},u={...Vt.limitRate,...a.limitRate};if(i&&p0(navigator))return Promise.reject(m0());const f=KE(r);h0(s,e,t),UE(f);const d=new FormData(f);return g0(c,d)?Promise.reject(v0()):await y0(location.pathname,u,l)?Promise.reject(x0()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",s),f0("/api/v1.0/email/send-form",d))},zE={init:_E,send:FE,sendForm:VE,EmailJSResponseStatus:Zs},Tu={SERVICE_ID:"service_youtube_pulse",TEMPLATE_ID:"template_password_reset",PUBLIC_KEY:"your_public_key_here"},WE=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(!1),[a,s]=v.useState(""),[i,l]=v.useState(!1),[c,u]=v.useState(!1),f=Xt(),d=Tu.SERVICE_ID,h=Tu.TEMPLATE_ID,p=Tu.PUBLIC_KEY,y=async(g,x)=>{try{if(p==="your_public_key_here")return console.warn("⚠️ EmailJS가 설정되지 않았습니다. 개발 모드로 실행됩니다."),await new Promise(w=>setTimeout(w,2e3)),console.log("📧 개발 모드: 이메일 발송 시뮬레이션 완료"),!0;const j={to_email:g,temp_password:x,app_name:"YouTube Pulse",reset_link:`${window.location.origin}/login`};return await zE.send(d,h,j,p),console.log("✅ 이메일 발송 성공:",g),!0}catch(j){return console.error("❌ 이메일 발송 실패:",j),!1}},m=async g=>{if(g.preventDefault(),s(""),!e){s("이메일을 입력해주세요.");return}n(!0);try{const x=JSON.parse(localStorage.getItem("users")||"[]");if(![{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417"},...x].find(C=>C.email===e)){s("해당 이메일로 등록된 계정을 찾을 수 없습니다."),n(!1);return}const b=Math.random().toString(36).slice(-8);console.log("🔑 생성된 임시 비밀번호:",b);const N=x.map(C=>C.email===e?{...C,password:b}:C);if(await y(e,b)){if(u(!0),e==="ju9511503@gmail.com"){const C={tempPassword:b,timestamp:Date.now()};localStorage.setItem("adminTempPassword",JSON.stringify(C)),console.log("👑 관리자 임시 비밀번호 저장:",b)}else localStorage.setItem("users",JSON.stringify(N)),console.log("👤 일반 사용자 비밀번호 업데이트:",b);n(!1),l(!0)}else s("이메일 발송에 실패했습니다. 잠시 후 다시 시도해주세요."),n(!1);setTimeout(()=>{f("/login")},3e3)}catch(x){console.error("비밀번호 재설정 오류:",x),s("비밀번호 재설정 중 오류가 발생했습니다."),n(!1)}};return i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(oa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"이메일을 확인하세요"}),o.jsxs("div",{className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-4",children:[o.jsx(bd,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),o.jsx("p",{className:"text-white font-semibold mb-2",children:"비밀번호 재설정 이메일 발송 완료"}),o.jsxs("p",{className:"text-gray-300",children:[o.jsx("strong",{className:"text-white",children:e}),"로",o.jsx("br",{}),"임시 비밀번호를 보내드렸습니다."]})]}),o.jsx("div",{className:"bg-yellow-500/20 border border-yellow-400/30 rounded-lg p-3",children:o.jsxs("p",{className:"text-yellow-200 text-sm",children:["⚠️ ",o.jsx("strong",{children:"보안 안내:"})," 임시 비밀번호로 로그인한 후",o.jsx("br",{}),"반드시 새로운 비밀번호로 변경해주세요."]})}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["📧 이메일이 오지 않는다면 스팸 폴더를 확인해주세요.",o.jsx("br",{}),"⏰ 임시 비밀번호는 ",o.jsx("strong",{className:"text-white",children:"1시간"})," 후 만료됩니다."]}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsx(q,{onClick:()=>f("/login"),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"로그인 페이지로 돌아가기"}),o.jsx(q,{onClick:()=>{l(!1),t("")},variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:"다른 이메일로 다시 시도"})]})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(ca,{className:"text-center",children:[o.jsx(ua,{className:"text-2xl font-bold text-white",children:"비밀번호 찾기"}),o.jsxs(da,{className:"text-gray-300",children:["가입하신 이메일 주소를 입력하시면",o.jsx("br",{}),"비밀번호 재설정 링크를 보내드립니다"]})]}),o.jsxs(Kt,{children:[o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"email",className:"text-white",children:"이메일 주소"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"email",type:"email",placeholder:"가입하신 이메일을 입력하세요",value:e,onChange:g=>t(g.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pl-10"}),o.jsx(bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),a&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:a}),o.jsx(q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"이메일 발송 중..."]}):o.jsxs(o.Fragment,{children:["임시 비밀번호 이메일 보내기",o.jsx($A,{className:"w-4 h-4 ml-2"})]})})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(Oe,{to:"/login",className:"text-sm text-gray-300 hover:text-white transition-colors block",children:"로그인 페이지로 돌아가기"}),o.jsx(Oe,{to:"/register",className:"text-sm text-gray-300 hover:text-white transition-colors block",children:"계정이 없으신가요? 회원가입"})]})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-200 mb-2",children:"도움이 필요하신가요?"}),o.jsx("p",{className:"text-xs text-blue-300",children:"비밀번호 재설정 링크가 이메일로 전송되지 않는다면, 입력하신 이메일 주소가 정확한지 확인해주세요. 여전히 문제가 있다면 고객지원팀에 문의해주세요."})]})]})})},HE=()=>{const[e,t]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[i,l]=v.useState(!1),[c,u]=v.useState(!1),[f,d]=v.useState(""),[h,p]=v.useState(!1),{userEmail:y,logout:m}=Br(),g=Xt(),x=w=>{const{name:S,value:b}=w.target;t(N=>({...N,[S]:b}))},j=async w=>{if(w.preventDefault(),d(""),e.newPassword!==e.confirmPassword){d("새 비밀번호가 일치하지 않습니다.");return}if(e.newPassword.length<6){d("새 비밀번호는 최소 6자 이상이어야 합니다.");return}u(!0);try{const S=JSON.parse(localStorage.getItem("users")||"[]"),A=[{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417"},...S].find(D=>D.email===y);if(!A){d("사용자 정보를 찾을 수 없습니다."),u(!1);return}if(A.password!==e.currentPassword){d("현재 비밀번호가 올바르지 않습니다."),u(!1);return}const C=S.map(D=>D.email===y?{...D,password:e.newPassword}:D);localStorage.setItem("users",JSON.stringify(C)),u(!1),p(!0),setTimeout(()=>{g("/dashboard")},3e3)}catch(S){console.error("비밀번호 변경 오류:",S),d("비밀번호 변경 중 오류가 발생했습니다."),u(!1)}};return h?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(oa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"비밀번호 변경 완료!"}),o.jsxs("p",{className:"text-gray-300",children:["비밀번호가 성공적으로 변경되었습니다.",o.jsx("br",{}),"잠시 후 대시보드로 이동합니다."]}),o.jsx("div",{className:"pt-4",children:o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"대시보드로 이동"})})})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Oe,{to:"/dashboard",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"대시보드로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Oe,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(ca,{className:"text-center",children:[o.jsx(ua,{className:"text-2xl font-bold text-white",children:"비밀번호 변경"}),o.jsx(da,{className:"text-gray-300",children:"보안을 위해 정기적으로 비밀번호를 변경해주세요"})]}),o.jsx(Kt,{children:o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"currentPassword",className:"text-white",children:"현재 비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"currentPassword",name:"currentPassword",type:r?"text":"password",placeholder:"현재 비밀번호를 입력하세요",value:e.currentPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>n(!r),children:r?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(Ir,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"newPassword",className:"text-white",children:"새 비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"newPassword",name:"newPassword",type:a?"text":"password",placeholder:"새 비밀번호를 입력하세요 (최소 6자)",value:e.newPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(Ir,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"confirmPassword",className:"text-white",children:"새 비밀번호 확인"}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",placeholder:"새 비밀번호를 다시 입력하세요",value:e.confirmPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>l(!i),children:i?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(Ir,{className:"h-4 w-4"})})]})]}),f&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:f}),o.jsx(q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:c,children:c?"비밀번호 변경 중...":"비밀번호 변경"})]})})]})]})})},YE=Qs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:e,variant:t,...r}){return o.jsx("div",{className:_e(YE({variant:t}),e),...r})}const Fr=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",e),...t})}));Fr.displayName="Table";const Ur=v.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",e),...t}));Ur.displayName="TableHeader";const Kr=v.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...t}));Kr.displayName="TableBody";const GE=v.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));GE.displayName="TableFooter";const yt=v.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));yt.displayName="TableRow";const Fe=v.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableHead";const Re=v.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Re.displayName="TableCell";const qE=v.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));qE.displayName="TableCaption";function Tm(e,[t,r]){return Math.min(r,Math.max(t,e))}var XE=v.createContext(void 0);function kh(e){const t=v.useContext(XE);return e||t||"ltr"}var $u=0;function Mh(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$m()),document.body.insertAdjacentElement("beforeend",e[1]??$m()),$u++,()=>{$u===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$u--}},[])}function $m(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _u="focusScope.autoFocusOnMount",Iu="focusScope.autoFocusOnUnmount",_m={bubbles:!1,cancelable:!0},QE="FocusScope",jc=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=v.useState(null),u=nr(a),f=nr(s),d=v.useRef(null),h=et(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:On(d.current,{select:!0})},g=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||On(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&On(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const j=new MutationObserver(x);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),j.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){km.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(_u,_m);l.addEventListener(_u,u),l.dispatchEvent(x),x.defaultPrevented||(JE(nD(b0(l)),{select:!0}),document.activeElement===m&&On(l))}return()=>{l.removeEventListener(_u,u),setTimeout(()=>{const x=new CustomEvent(Iu,_m);l.addEventListener(Iu,f),l.dispatchEvent(x),x.defaultPrevented||On(m??document.body,{select:!0}),l.removeEventListener(Iu,f),km.remove(p)},0)}}},[l,u,f,p]);const y=v.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(g&&x){const j=m.currentTarget,[w,S]=ZE(j);w&&S?!m.shiftKey&&x===S?(m.preventDefault(),r&&On(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&On(S,{select:!0})):x===j&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(ze.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});jc.displayName=QE;function JE(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(On(n,{select:t}),document.activeElement!==r)return}function ZE(e){const t=b0(e),r=Im(t,e),n=Im(t.reverse(),e);return[r,n]}function b0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Im(e,t){for(const r of e)if(!eD(r,{upTo:t}))return r}function eD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tD(e){return e instanceof HTMLInputElement&&"select"in e}function On(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tD(e)&&t&&e.select()}}var km=rD();function rD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Mm(e,t),e.unshift(t)},remove(t){var r;e=Mm(e,t),(r=e[0])==null||r.resume()}}}function Mm(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function nD(e){return e.filter(t=>t.tagName!=="A")}function w0(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ea=new WeakMap,wi=new WeakMap,ji={},ku=0,j0=function(e){return e&&(e.host||j0(e.parentNode))},oD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=j0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sD=function(e,t,r,n){var a=oD(t,Array.isArray(e)?e:[e]);ji[r]||(ji[r]=new WeakMap);var s=ji[r],i=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(Ea.get(h)||0)+1,g=(s.get(h)||0)+1;Ea.set(h,m),s.set(h,g),i.push(h),m===1&&y&&wi.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),l.clear(),ku++,function(){i.forEach(function(d){var h=Ea.get(d)-1,p=s.get(d)-1;Ea.set(d,h),s.set(d,p),h||(wi.has(d)||d.removeAttribute(n),wi.delete(d)),p||d.removeAttribute(r)}),ku--,ku||(Ea=new WeakMap,Ea=new WeakMap,wi=new WeakMap,ji={})}},Rh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=aD(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),sD(n,a,r,"aria-hidden")):function(){return null}},Yr=function(){return Yr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Yr.apply(this,arguments)};function S0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function iD(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Yi="right-scroll-bar-position",Gi="width-before-scroll-bar",lD="with-scroll-bars-hidden",cD="--removed-body-scroll-bar-size";function Mu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uD(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var dD=typeof window<"u"?v.useLayoutEffect:v.useEffect,Rm=new WeakMap;function fD(e,t){var r=uD(null,function(n){return e.forEach(function(a){return Mu(a,n)})});return dD(function(){var n=Rm.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||Mu(l,null)}),s.forEach(function(l){a.has(l)||Mu(l,i)})}Rm.set(r,e)},[e]),r}function hD(e){return e}function pD(e,t){t===void 0&&(t=hD);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var f=i;i=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return a}function mD(e){e===void 0&&(e={});var t=pD(null);return t.options=Yr({async:!0,ssr:!1},e),t}var N0=function(e){var t=e.sideCar,r=S0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Yr({},r))};N0.isSideCarExport=!0;function gD(e,t){return e.useMedium(t),N0}var A0=mD(),Ru=function(){},Sc=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Ru,onWheelCapture:Ru,onTouchMoveCapture:Ru}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,x=e.as,j=x===void 0?"div":x,w=e.gapMode,S=S0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,N=fD([r,t]),A=Yr(Yr({},S),a);return v.createElement(v.Fragment,null,f&&v.createElement(b,{sideCar:A0,removeScrollBar:u,shards:d,noRelative:p,noIsolation:y,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:w}),i?v.cloneElement(v.Children.only(l),Yr(Yr({},A),{ref:N})):v.createElement(j,Yr({},A,{className:c,ref:N}),l))});Sc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sc.classNames={fullWidth:Gi,zeroRight:Yi};var vD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vD();return t&&e.setAttribute("nonce",t),e}function xD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yD())&&(xD(t,r),bD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jD=function(){var e=wD();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},C0=function(){var e=jD(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},SD={left:0,top:0,right:0,gap:0},Lu=function(e){return parseInt(e||"",10)||0},ND=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Lu(r),Lu(n),Lu(a)]},AD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SD;var t=ND(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CD=C0(),Va="data-scroll-locked",OD=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Va,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yi,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gi,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yi," .").concat(Yi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gi," .").concat(Gi,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Va,`] {
    `).concat(cD,": ").concat(l,`px;
  }
`)},Lm=function(){var e=parseInt(document.body.getAttribute(Va)||"0",10);return isFinite(e)?e:0},PD=function(){v.useEffect(function(){return document.body.setAttribute(Va,(Lm()+1).toString()),function(){var e=Lm()-1;e<=0?document.body.removeAttribute(Va):document.body.setAttribute(Va,e.toString())}},[])},ED=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;PD();var s=v.useMemo(function(){return AD(a)},[a]);return v.createElement(CD,{styles:OD(s,!t,a,r?"":"!important")})},$d=!1;if(typeof window<"u")try{var Si=Object.defineProperty({},"passive",{get:function(){return $d=!0,!0}});window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{$d=!1}var Da=$d?{passive:!1}:!1,DD=function(e){return e.tagName==="TEXTAREA"},O0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DD(e)&&r[t]==="visible")},TD=function(e){return O0(e,"overflowY")},$D=function(e){return O0(e,"overflowX")},Bm=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=P0(e,n);if(a){var s=E0(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_D=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ID=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},P0=function(e,t){return e==="v"?TD(t):$D(t)},E0=function(e,t){return e==="v"?_D(t):ID(t)},kD=function(e,t){return e==="h"&&t==="rtl"?-1:1},MD=function(e,t,r,n,a){var s=kD(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{if(!l)break;var p=E0(e,l),y=p[0],m=p[1],g=p[2],x=m-g-s*y;(y||x)&&P0(e,l)&&(d+=x,h+=y);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},Ni=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fm=function(e){return[e.deltaX,e.deltaY]},Um=function(e){return e&&"current"in e?e.current:e},RD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BD=0,Ta=[];function FD(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(BD++)[0],s=v.useState(C0)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=iD([e.lockRef.current],(e.shards||[]).map(Um),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=Ni(m),j=r.current,w="deltaX"in m?m.deltaX:j[0]-x[0],S="deltaY"in m?m.deltaY:j[1]-x[1],b,N=m.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&N.type==="range")return!1;var C=Bm(A,N);if(!C)return!0;if(C?b=A:(b=A==="v"?"h":"v",C=Bm(A,N)),!C)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=b),!b)return!0;var D=n.current||b;return MD(D,g,m,D==="h"?w:S)},[]),c=v.useCallback(function(m){var g=m;if(!(!Ta.length||Ta[Ta.length-1]!==s)){var x="deltaY"in g?Fm(g):Ni(g),j=t.current.filter(function(b){return b.name===g.type&&(b.target===g.target||g.target===b.shadowParent)&&RD(b.delta,x)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var w=(i.current.shards||[]).map(Um).filter(Boolean).filter(function(b){return b.contains(g.target)}),S=w.length>0?l(g,w[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=v.useCallback(function(m,g,x,j){var w={name:m,delta:g,target:x,should:j,shadowParent:UD(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=v.useCallback(function(m){r.current=Ni(m),n.current=void 0},[]),d=v.useCallback(function(m){u(m.type,Fm(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,Ni(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return Ta.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Da),document.addEventListener("touchmove",c,Da),document.addEventListener("touchstart",f,Da),function(){Ta=Ta.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Da),document.removeEventListener("touchmove",c,Da),document.removeEventListener("touchstart",f,Da)}},[]);var p=e.removeScrollBar,y=e.inert;return v.createElement(v.Fragment,null,y?v.createElement(s,{styles:LD(a)}):null,p?v.createElement(ED,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KD=gD(A0,FD);var Nc=v.forwardRef(function(e,t){return v.createElement(Sc,Yr({},e,{ref:t,sideCar:KD}))});Nc.classNames=Sc.classNames;var VD=[" ","Enter","ArrowUp","ArrowDown"],zD=[" ","Enter"],fa="Select",[Ac,Cc,WD]=hc(fa),[Co,XZ]=tn(fa,[WD,Ao]),Oc=Ao(),[HD,Ln]=Co(fa),[YD,GD]=Co(fa),D0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:y}=e,m=Oc(t),[g,x]=v.useState(null),[j,w]=v.useState(null),[S,b]=v.useState(!1),N=kh(u),[A,C]=ia({prop:n,defaultProp:a??!1,onChange:s,caller:fa}),[D,R]=ia({prop:i,defaultProp:l,onChange:c,caller:fa}),$=v.useRef(null),P=g?y||!!g.closest("form"):!0,[B,T]=v.useState(new Set),_=Array.from(B).map(M=>M.props.value).join(";");return o.jsx(Jb,{...m,children:o.jsxs(HD,{required:p,scope:t,trigger:g,onTriggerChange:x,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:b,contentId:fn(),value:D,onValueChange:R,open:A,onOpenChange:C,dir:N,triggerPointerDownPosRef:$,disabled:h,children:[o.jsx(Ac.Provider,{scope:t,children:o.jsx(YD,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(M=>{T(O=>new Set(O).add(M))},[]),onNativeOptionRemove:v.useCallback(M=>{T(O=>{const F=new Set(O);return F.delete(M),F})},[]),children:r})}),P?o.jsxs(ew,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:D,onChange:M=>R(M.target.value),disabled:h,form:y,children:[D===void 0?o.jsx("option",{value:""}):null,Array.from(B)]},_):null]})})};D0.displayName=fa;var T0="SelectTrigger",$0=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Oc(r),i=Ln(T0,r),l=i.disabled||n,c=et(t,i.onTriggerChange),u=Cc(r),f=v.useRef("touch"),[d,h,p]=rw(m=>{const g=u().filter(w=>!w.disabled),x=g.find(w=>w.value===i.value),j=nw(g,m,x);j!==void 0&&i.onValueChange(j.value)}),y=m=>{l||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Dh,{asChild:!0,...s,children:o.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":tw(i.value)?"":void 0,...a,ref:c,onClick:Ae(a.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&y(m)}),onPointerDown:Ae(a.onPointerDown,m=>{f.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Ae(a.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&VD.includes(m.key)&&(y(),m.preventDefault())})})})});$0.displayName=T0;var _0="SelectValue",I0=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Ln(_0,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=et(t,c.onValueNodeChange);return Wt(()=>{u(f)},[u,f]),o.jsx(ze.span,{...l,ref:d,style:{pointerEvents:"none"},children:tw(c.value)?o.jsx(o.Fragment,{children:i}):s})});I0.displayName=_0;var qD="SelectIcon",k0=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});k0.displayName=qD;var XD="SelectPortal",M0=e=>o.jsx(qs,{asChild:!0,...e});M0.displayName=XD;var ha="SelectContent",R0=v.forwardRef((e,t)=>{const r=Ln(ha,e.__scopeSelect),[n,a]=v.useState();if(Wt(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?bo.createPortal(o.jsx(L0,{scope:e.__scopeSelect,children:o.jsx(Ac.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(B0,{...e,ref:t})});R0.displayName=ha;var Pr=10,[L0,Bn]=Co(ha),QD="SelectContentImpl",JD=sa("SelectContent.RemoveScroll"),B0=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...x}=e,j=Ln(ha,r),[w,S]=v.useState(null),[b,N]=v.useState(null),A=et(t,de=>S(de)),[C,D]=v.useState(null),[R,$]=v.useState(null),P=Cc(r),[B,T]=v.useState(!1),_=v.useRef(!1);v.useEffect(()=>{if(w)return Rh(w)},[w]),Mh();const M=v.useCallback(de=>{const[V,...L]=P().map(K=>K.ref.current),[k]=L.slice(-1),H=document.activeElement;for(const K of de)if(K===H||(K==null||K.scrollIntoView({block:"nearest"}),K===V&&b&&(b.scrollTop=0),K===k&&b&&(b.scrollTop=b.scrollHeight),K==null||K.focus(),document.activeElement!==H))return},[P,b]),O=v.useCallback(()=>M([C,w]),[M,C,w]);v.useEffect(()=>{B&&O()},[B,O]);const{onOpenChange:F,triggerPointerDownPosRef:I}=j;v.useEffect(()=>{if(w){let de={x:0,y:0};const V=k=>{var H,K;de={x:Math.abs(Math.round(k.pageX)-(((H=I.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(k.pageY)-(((K=I.current)==null?void 0:K.y)??0))}},L=k=>{de.x<=10&&de.y<=10?k.preventDefault():w.contains(k.target)||F(!1),document.removeEventListener("pointermove",V),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",L,{capture:!0})}}},[w,F,I]),v.useEffect(()=>{const de=()=>F(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[F]);const[Y,re]=rw(de=>{const V=P().filter(H=>!H.disabled),L=V.find(H=>H.ref.current===document.activeElement),k=nw(V,de,L);k&&setTimeout(()=>k.ref.current.focus())}),J=v.useCallback((de,V,L)=>{const k=!_.current&&!L;(j.value!==void 0&&j.value===V||k)&&(D(de),k&&(_.current=!0))},[j.value]),U=v.useCallback(()=>w==null?void 0:w.focus(),[w]),se=v.useCallback((de,V,L)=>{const k=!_.current&&!L;(j.value!==void 0&&j.value===V||k)&&$(de)},[j.value]),Ee=n==="popper"?_d:F0,Be=Ee===_d?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return o.jsx(L0,{scope:r,content:w,viewport:b,onViewportChange:N,itemRefCallback:J,selectedItem:C,onItemLeave:U,itemTextRefCallback:se,focusSelectedItem:O,selectedItemText:R,position:n,isPositioned:B,searchRef:Y,children:o.jsx(Nc,{as:JD,allowPinchZoom:!0,children:o.jsx(jc,{asChild:!0,trapped:j.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Ae(a,de=>{var V;(V=j.trigger)==null||V.focus({preventScroll:!0}),de.preventDefault()}),children:o.jsx(jo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:o.jsx(Ee,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:de=>de.preventDefault(),...x,...Be,onPlaced:()=>T(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ae(x.onKeyDown,de=>{const V=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!V&&de.key.length===1&&re(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let k=P().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(de.key)&&(k=k.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const H=de.target,K=k.indexOf(H);k=k.slice(K+1)}setTimeout(()=>M(k)),de.preventDefault()}})})})})})})});B0.displayName=QD;var ZD="SelectItemAlignedPosition",F0=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Ln(ha,r),i=Bn(ha,r),[l,c]=v.useState(null),[u,f]=v.useState(null),d=et(t,A=>f(A)),h=Cc(r),p=v.useRef(!1),y=v.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:x,focusSelectedItem:j}=i,w=v.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&g&&x){const A=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const H=R.left-C.left,K=D.left-H,ue=A.left-K,fe=A.width+ue,Se=Math.max(fe,C.width),ie=window.innerWidth-Pr,je=Tm(K,[Pr,Math.max(Pr,ie-Se)]);l.style.minWidth=fe+"px",l.style.left=je+"px"}else{const H=C.right-R.right,K=window.innerWidth-D.right-H,ue=window.innerWidth-A.right-K,fe=A.width+ue,Se=Math.max(fe,C.width),ie=window.innerWidth-Pr,je=Tm(K,[Pr,Math.max(Pr,ie-Se)]);l.style.minWidth=fe+"px",l.style.right=je+"px"}const $=h(),P=window.innerHeight-Pr*2,B=m.scrollHeight,T=window.getComputedStyle(u),_=parseInt(T.borderTopWidth,10),M=parseInt(T.paddingTop,10),O=parseInt(T.borderBottomWidth,10),F=parseInt(T.paddingBottom,10),I=_+M+B+F+O,Y=Math.min(g.offsetHeight*5,I),re=window.getComputedStyle(m),J=parseInt(re.paddingTop,10),U=parseInt(re.paddingBottom,10),se=A.top+A.height/2-Pr,Ee=P-se,Be=g.offsetHeight/2,de=g.offsetTop+Be,V=_+M+de,L=I-V;if(V<=se){const H=$.length>0&&g===$[$.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-m.offsetTop-m.offsetHeight,ue=Math.max(Ee,Be+(H?U:0)+K+O),fe=V+ue;l.style.height=fe+"px"}else{const H=$.length>0&&g===$[0].ref.current;l.style.top="0px";const ue=Math.max(se,_+m.offsetTop+(H?J:0)+Be)+L;l.style.height=ue+"px",m.scrollTop=V-se+m.offsetTop}l.style.margin=`${Pr}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,g,x,s.dir,n]);Wt(()=>w(),[w]);const[S,b]=v.useState();Wt(()=>{u&&b(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(A=>{A&&y.current===!0&&(w(),j==null||j(),y.current=!1)},[w,j]);return o.jsx(tT,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(ze.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});F0.displayName=ZD;var eT="SelectPopperPosition",_d=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Pr,...s}=e,i=Oc(r);return o.jsx(Th,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_d.displayName=eT;var[tT,Lh]=Co(ha,{}),Id="SelectViewport",U0=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Bn(Id,r),i=Lh(Id,r),l=et(t,s.onViewportChange),c=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Ac.Slot,{scope:r,children:o.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ae(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const y=window.innerHeight-Pr*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),x=Math.max(m,g);if(x<y){const j=x+p,w=Math.min(y,j),S=j-w;d.style.height=w+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});U0.displayName=Id;var K0="SelectGroup",[rT,nT]=Co(K0),aT=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=fn();return o.jsx(rT,{scope:r,id:a,children:o.jsx(ze.div,{role:"group","aria-labelledby":a,...n,ref:t})})});aT.displayName=K0;var V0="SelectLabel",z0=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=nT(V0,r);return o.jsx(ze.div,{id:a.id,...n,ref:t})});z0.displayName=V0;var ol="SelectItem",[oT,W0]=Co(ol),H0=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Ln(ol,r),c=Bn(ol,r),u=l.value===n,[f,d]=v.useState(s??""),[h,p]=v.useState(!1),y=et(t,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,n,a)}),m=fn(),g=v.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(oT,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:v.useCallback(j=>{d(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:o.jsx(Ac.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:o.jsx(ze.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:Ae(i.onFocus,()=>p(!0)),onBlur:Ae(i.onBlur,()=>p(!1)),onClick:Ae(i.onClick,()=>{g.current!=="mouse"&&x()}),onPointerUp:Ae(i.onPointerUp,()=>{g.current==="mouse"&&x()}),onPointerDown:Ae(i.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:Ae(i.onPointerMove,j=>{var w;g.current=j.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(i.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ae(i.onKeyDown,j=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&j.key===" "||(zD.includes(j.key)&&x(),j.key===" "&&j.preventDefault())})})})})});H0.displayName=ol;var Zo="SelectItemText",Y0=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Ln(Zo,r),l=Bn(Zo,r),c=W0(Zo,r),u=GD(Zo,r),[f,d]=v.useState(null),h=et(t,x=>d(x),c.onItemTextChange,x=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,x,c.value,c.disabled)}),p=f==null?void 0:f.textContent,y=v.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Wt(()=>(m(y),()=>g(y)),[m,g,y]),o.jsxs(o.Fragment,{children:[o.jsx(ze.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?bo.createPortal(s.children,i.valueNode):null]})});Y0.displayName=Zo;var G0="SelectItemIndicator",q0=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return W0(G0,r).isSelected?o.jsx(ze.span,{"aria-hidden":!0,...n,ref:t}):null});q0.displayName=G0;var kd="SelectScrollUpButton",X0=v.forwardRef((e,t)=>{const r=Bn(kd,e.__scopeSelect),n=Lh(kd,e.__scopeSelect),[a,s]=v.useState(!1),i=et(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(J0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});X0.displayName=kd;var Md="SelectScrollDownButton",Q0=v.forwardRef((e,t)=>{const r=Bn(Md,e.__scopeSelect),n=Lh(Md,e.__scopeSelect),[a,s]=v.useState(!1),i=et(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(J0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Q0.displayName=Md;var J0=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Bn("SelectScrollButton",r),i=v.useRef(null),l=Cc(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Wt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ae(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ae(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ae(a.onPointerLeave,()=>{c()})})}),sT="SelectSeparator",Z0=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ze.div,{"aria-hidden":!0,...n,ref:t})});Z0.displayName=sT;var Rd="SelectArrow",iT=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Oc(r),s=Ln(Rd,r),i=Bn(Rd,r);return s.open&&i.position==="popper"?o.jsx($h,{...a,...n,ref:t}):null});iT.displayName=Rd;var lT="SelectBubbleInput",ew=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),s=et(n,a),i=w0(t);return v.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[i,t]),o.jsx(ze.select,{...r,style:{...ob,...r.style},ref:s,defaultValue:t})});ew.displayName=lT;function tw(e){return e===""||e===void 0}function rw(e){const t=nr(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function nw(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=cT(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function cT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uT=D0,aw=$0,dT=I0,fT=k0,hT=M0,ow=R0,pT=U0,sw=z0,iw=H0,mT=Y0,gT=q0,lw=X0,cw=Q0,uw=Z0;const Lt=uT,Bt=dT,$t=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(aw,{ref:n,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(fT,{asChild:!0,children:o.jsx(qx,{className:"h-4 w-4 opacity-50"})})]}));$t.displayName=aw.displayName;const dw=v.forwardRef(({className:e,...t},r)=>o.jsx(lw,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_A,{className:"h-4 w-4"})}));dw.displayName=lw.displayName;const fw=v.forwardRef(({className:e,...t},r)=>o.jsx(cw,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(qx,{className:"h-4 w-4"})}));fw.displayName=cw.displayName;const _t=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(hT,{children:o.jsxs(ow,{ref:a,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(dw,{}),o.jsx(pT,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(fw,{})]})}));_t.displayName=ow.displayName;const vT=v.forwardRef(({className:e,...t},r)=>o.jsx(sw,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vT.displayName=sw.displayName;const Ze=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(iw,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(gT,{children:o.jsx(Xx,{className:"h-4 w-4"})})}),o.jsx(mT,{children:t})]}));Ze.displayName=iw.displayName;const yT=v.forwardRef(({className:e,...t},r)=>o.jsx(uw,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));yT.displayName=uw.displayName;var Bu="rovingFocusGroup.onEntryFocus",xT={bubbles:!1,cancelable:!0},ei="RovingFocusGroup",[Ld,hw,bT]=hc(ei),[wT,pw]=tn(ei,[bT]),[jT,ST]=wT(ei),mw=v.forwardRef((e,t)=>o.jsx(Ld.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ld.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(NT,{...e,ref:t})})}));mw.displayName=ei;var NT=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=v.useRef(null),p=et(t,h),y=kh(s),[m,g]=ia({prop:i,defaultProp:l??null,onChange:c,caller:ei}),[x,j]=v.useState(!1),w=nr(u),S=hw(r),b=v.useRef(!1),[N,A]=v.useState(0);return v.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Bu,w),()=>C.removeEventListener(Bu,w)},[w]),o.jsx(jT,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:v.useCallback(C=>g(C),[g]),onItemShiftTab:v.useCallback(()=>j(!0),[]),onFocusableItemAdd:v.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>A(C=>C-1),[]),children:o.jsx(ze.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{b.current=!0}),onFocus:Ae(e.onFocus,C=>{const D=!b.current;if(C.target===C.currentTarget&&D&&!x){const R=new CustomEvent(Bu,xT);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const $=S().filter(M=>M.focusable),P=$.find(M=>M.active),B=$.find(M=>M.id===m),_=[P,B,...$].filter(Boolean).map(M=>M.ref.current);yw(_,f)}}b.current=!1}),onBlur:Ae(e.onBlur,()=>j(!1))})})}),gw="RovingFocusGroupItem",vw=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=fn(),u=s||c,f=ST(gw,r),d=f.currentTabStopId===u,h=hw(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=f;return v.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),o.jsx(Ld.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(ze.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ae(e.onMouseDown,g=>{n?f.onItemFocus(u):g.preventDefault()}),onFocus:Ae(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ae(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=OT(g,f.orientation,f.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const S=w.indexOf(g.currentTarget);w=f.loop?PT(w,S+1):w.slice(S+1)}setTimeout(()=>yw(w))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:m!=null}):i})})});vw.displayName=gw;var AT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OT(e,t,r){const n=CT(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return AT[n]}function yw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function PT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ET=mw,DT=vw,Bd=["Enter"," "],TT=["ArrowDown","PageUp","Home"],xw=["ArrowUp","PageDown","End"],$T=[...TT,...xw],_T={ltr:[...Bd,"ArrowRight"],rtl:[...Bd,"ArrowLeft"]},IT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ti="Menu",[fs,kT,MT]=hc(ti),[ba,bw]=tn(ti,[MT,Ao,pw]),Pc=Ao(),ww=pw(),[RT,wa]=ba(ti),[LT,ri]=ba(ti),jw=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=Pc(t),[c,u]=v.useState(null),f=v.useRef(!1),d=nr(s),h=kh(a);return v.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(Jb,{...l,children:o.jsx(RT,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:o.jsx(LT,{scope:t,onClose:v.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};jw.displayName=ti;var BT="MenuAnchor",Bh=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Pc(r);return o.jsx(Dh,{...a,...n,ref:t})});Bh.displayName=BT;var Fh="MenuPortal",[FT,Sw]=ba(Fh,{forceMount:void 0}),Nw=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=wa(Fh,t);return o.jsx(FT,{scope:t,forceMount:r,children:o.jsx(rn,{present:r||s.open,children:o.jsx(qs,{asChild:!0,container:a,children:n})})})};Nw.displayName=Fh;var xr="MenuContent",[UT,Uh]=ba(xr),Aw=v.forwardRef((e,t)=>{const r=Sw(xr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=wa(xr,e.__scopeMenu),i=ri(xr,e.__scopeMenu);return o.jsx(fs.Provider,{scope:e.__scopeMenu,children:o.jsx(rn,{present:n||s.open,children:o.jsx(fs.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(KT,{...a,ref:t}):o.jsx(VT,{...a,ref:t})})})})}),KT=v.forwardRef((e,t)=>{const r=wa(xr,e.__scopeMenu),n=v.useRef(null),a=et(t,n);return v.useEffect(()=>{const s=n.current;if(s)return Rh(s)},[]),o.jsx(Kh,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),VT=v.forwardRef((e,t)=>{const r=wa(xr,e.__scopeMenu);return o.jsx(Kh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),zT=sa("MenuContent.ScrollLock"),Kh=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,g=wa(xr,r),x=ri(xr,r),j=Pc(r),w=ww(r),S=kT(r),[b,N]=v.useState(null),A=v.useRef(null),C=et(t,A,g.onContentChange),D=v.useRef(0),R=v.useRef(""),$=v.useRef(0),P=v.useRef(null),B=v.useRef("right"),T=v.useRef(0),_=y?Nc:v.Fragment,M=y?{as:zT,allowPinchZoom:!0}:void 0,O=I=>{var de,V;const Y=R.current+I,re=S().filter(L=>!L.disabled),J=document.activeElement,U=(de=re.find(L=>L.ref.current===J))==null?void 0:de.textValue,se=re.map(L=>L.textValue),Ee=r$(se,Y,U),Be=(V=re.find(L=>L.textValue===Ee))==null?void 0:V.ref.current;(function L(k){R.current=k,window.clearTimeout(D.current),k!==""&&(D.current=window.setTimeout(()=>L(""),1e3))})(Y),Be&&setTimeout(()=>Be.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),Mh();const F=v.useCallback(I=>{var re,J;return B.current===((re=P.current)==null?void 0:re.side)&&a$(I,(J=P.current)==null?void 0:J.area)},[]);return o.jsx(UT,{scope:r,searchRef:R,onItemEnter:v.useCallback(I=>{F(I)&&I.preventDefault()},[F]),onItemLeave:v.useCallback(I=>{var Y;F(I)||((Y=A.current)==null||Y.focus(),N(null))},[F]),onTriggerLeave:v.useCallback(I=>{F(I)&&I.preventDefault()},[F]),pointerGraceTimerRef:$,onPointerGraceIntentChange:v.useCallback(I=>{P.current=I},[]),children:o.jsx(_,{...M,children:o.jsx(jc,{asChild:!0,trapped:a,onMountAutoFocus:Ae(s,I=>{var Y;I.preventDefault(),(Y=A.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(jo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:o.jsx(ET,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:b,onCurrentTabStopIdChange:N,onEntryFocus:Ae(c,I=>{x.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Th,{role:"menu","aria-orientation":"vertical","data-state":Uw(g.open),"data-radix-menu-content":"",dir:x.dir,...j,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:Ae(m.onKeyDown,I=>{const re=I.target.closest("[data-radix-menu-content]")===I.currentTarget,J=I.ctrlKey||I.altKey||I.metaKey,U=I.key.length===1;re&&(I.key==="Tab"&&I.preventDefault(),!J&&U&&O(I.key));const se=A.current;if(I.target!==se||!$T.includes(I.key))return;I.preventDefault();const Be=S().filter(de=>!de.disabled).map(de=>de.ref.current);xw.includes(I.key)&&Be.reverse(),e$(Be)}),onBlur:Ae(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(D.current),R.current="")}),onPointerMove:Ae(e.onPointerMove,hs(I=>{const Y=I.target,re=T.current!==I.clientX;if(I.currentTarget.contains(Y)&&re){const J=I.clientX>T.current?"right":"left";B.current=J,T.current=I.clientX}}))})})})})})})});Aw.displayName=xr;var WT="MenuGroup",Vh=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{role:"group",...n,ref:t})});Vh.displayName=WT;var HT="MenuLabel",Cw=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});Cw.displayName=HT;var sl="MenuItem",Km="menu.itemSelect",Ec=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=v.useRef(null),i=ri(sl,e.__scopeMenu),l=Uh(sl,e.__scopeMenu),c=et(t,s),u=v.useRef(!1),f=()=>{const d=s.current;if(!r&&d){const h=new CustomEvent(Km,{bubbles:!0,cancelable:!0});d.addEventListener(Km,p=>n==null?void 0:n(p),{once:!0}),yh(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(Ow,{...a,ref:c,disabled:r,onClick:Ae(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:Ae(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Ae(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Bd.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Ec.displayName=sl;var Ow=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=Uh(sl,r),l=ww(r),c=v.useRef(null),u=et(t,c),[f,d]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[s.children]),o.jsx(fs.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(DT,{asChild:!0,...l,focusable:!n,children:o.jsx(ze.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ae(e.onPointerMove,hs(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,hs(y=>i.onItemLeave(y))),onFocus:Ae(e.onFocus,()=>d(!0)),onBlur:Ae(e.onBlur,()=>d(!1))})})})}),YT="MenuCheckboxItem",Pw=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(_w,{scope:e.__scopeMenu,checked:r,children:o.jsx(Ec,{role:"menuitemcheckbox","aria-checked":il(r)?"mixed":r,...a,ref:t,"data-state":Wh(r),onSelect:Ae(a.onSelect,()=>n==null?void 0:n(il(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Pw.displayName=YT;var Ew="MenuRadioGroup",[GT,qT]=ba(Ew,{value:void 0,onValueChange:()=>{}}),Dw=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=nr(n);return o.jsx(GT,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(Vh,{...a,ref:t})})});Dw.displayName=Ew;var Tw="MenuRadioItem",$w=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=qT(Tw,e.__scopeMenu),s=r===a.value;return o.jsx(_w,{scope:e.__scopeMenu,checked:s,children:o.jsx(Ec,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":Wh(s),onSelect:Ae(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});$w.displayName=Tw;var zh="MenuItemIndicator",[_w,XT]=ba(zh,{checked:!1}),Iw=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=XT(zh,r);return o.jsx(rn,{present:n||il(s.checked)||s.checked===!0,children:o.jsx(ze.span,{...a,ref:t,"data-state":Wh(s.checked)})})});Iw.displayName=zh;var QT="MenuSeparator",kw=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});kw.displayName=QT;var JT="MenuArrow",Mw=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Pc(r);return o.jsx($h,{...a,...n,ref:t})});Mw.displayName=JT;var ZT="MenuSub",[QZ,Rw]=ba(ZT),es="MenuSubTrigger",Lw=v.forwardRef((e,t)=>{const r=wa(es,e.__scopeMenu),n=ri(es,e.__scopeMenu),a=Rw(es,e.__scopeMenu),s=Uh(es,e.__scopeMenu),i=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=v.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return v.useEffect(()=>f,[f]),v.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),o.jsx(Bh,{asChild:!0,...u,children:o.jsx(Ow,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Uw(r.open),...e,ref:fc(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,hs(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ae(e.onPointerLeave,hs(d=>{var p,y;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,g=m==="right",x=g?-5:5,j=h[g?"left":"right"],w=h[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:j,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:j,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,d=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||_T[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});Lw.displayName=es;var Bw="MenuSubContent",Fw=v.forwardRef((e,t)=>{const r=Sw(xr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=wa(xr,e.__scopeMenu),i=ri(xr,e.__scopeMenu),l=Rw(Bw,e.__scopeMenu),c=v.useRef(null),u=et(t,c);return o.jsx(fs.Provider,{scope:e.__scopeMenu,children:o.jsx(rn,{present:n||s.open,children:o.jsx(fs.Slot,{scope:e.__scopeMenu,children:o.jsx(Kh,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Ae(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=IT[i.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});Fw.displayName=Bw;function Uw(e){return e?"open":"closed"}function il(e){return e==="indeterminate"}function Wh(e){return il(e)?"indeterminate":e?"checked":"unchecked"}function e$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function t$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function r$(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=t$(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function n$(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function a$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return n$(r,t)}function hs(e){return t=>t.pointerType==="mouse"?e(t):void 0}var o$=jw,s$=Bh,i$=Nw,l$=Aw,c$=Vh,u$=Cw,d$=Ec,f$=Pw,h$=Dw,p$=$w,m$=Iw,g$=kw,v$=Mw,y$=Lw,x$=Fw,Dc="DropdownMenu",[b$,JZ]=tn(Dc,[bw]),er=bw(),[w$,Kw]=b$(Dc),Vw=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=er(t),u=v.useRef(null),[f,d]=ia({prop:a,defaultProp:s??!1,onChange:i,caller:Dc});return o.jsx(w$,{scope:t,triggerId:fn(),triggerRef:u,contentId:fn(),open:f,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:l,children:o.jsx(o$,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};Vw.displayName=Dc;var zw="DropdownMenuTrigger",Ww=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=Kw(zw,r),i=er(r);return o.jsx(s$,{asChild:!0,...i,children:o.jsx(ze.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:fc(t,s.triggerRef),onPointerDown:Ae(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ae(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ww.displayName=zw;var j$="DropdownMenuPortal",Hw=e=>{const{__scopeDropdownMenu:t,...r}=e,n=er(t);return o.jsx(i$,{...n,...r})};Hw.displayName=j$;var Yw="DropdownMenuContent",Gw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Kw(Yw,r),s=er(r),i=v.useRef(!1);return o.jsx(l$,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ae(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gw.displayName=Yw;var S$="DropdownMenuGroup",N$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(c$,{...a,...n,ref:t})});N$.displayName=S$;var A$="DropdownMenuLabel",qw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(u$,{...a,...n,ref:t})});qw.displayName=A$;var C$="DropdownMenuItem",Xw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(d$,{...a,...n,ref:t})});Xw.displayName=C$;var O$="DropdownMenuCheckboxItem",Qw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(f$,{...a,...n,ref:t})});Qw.displayName=O$;var P$="DropdownMenuRadioGroup",E$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(h$,{...a,...n,ref:t})});E$.displayName=P$;var D$="DropdownMenuRadioItem",Jw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(p$,{...a,...n,ref:t})});Jw.displayName=D$;var T$="DropdownMenuItemIndicator",Zw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(m$,{...a,...n,ref:t})});Zw.displayName=T$;var $$="DropdownMenuSeparator",ej=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(g$,{...a,...n,ref:t})});ej.displayName=$$;var _$="DropdownMenuArrow",I$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(v$,{...a,...n,ref:t})});I$.displayName=_$;var k$="DropdownMenuSubTrigger",tj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(y$,{...a,...n,ref:t})});tj.displayName=k$;var M$="DropdownMenuSubContent",rj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=er(r);return o.jsx(x$,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rj.displayName=M$;var R$=Vw,L$=Ww,B$=Hw,nj=Gw,aj=qw,oj=Xw,sj=Qw,ij=Jw,lj=Zw,cj=ej,uj=tj,dj=rj;const Fd=R$,Ud=L$,F$=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(uj,{ref:a,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(IA,{className:"ml-auto h-4 w-4"})]}));F$.displayName=uj.displayName;const U$=v.forwardRef(({className:e,...t},r)=>o.jsx(dj,{ref:r,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));U$.displayName=dj.displayName;const ll=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(B$,{children:o.jsx(nj,{ref:n,sideOffset:t,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ll.displayName=nj.displayName;const Jt=v.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(oj,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Jt.displayName=oj.displayName;const K$=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(sj,{ref:a,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lj,{children:o.jsx(Xx,{className:"h-4 w-4"})})}),t]}));K$.displayName=sj.displayName;const V$=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ij,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lj,{children:o.jsx(kA,{className:"h-2 w-2 fill-current"})})}),t]}));V$.displayName=ij.displayName;const z$=v.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(aj,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));z$.displayName=aj.displayName;const fj=v.forwardRef(({className:e,...t},r)=>o.jsx(cj,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));fj.displayName=cj.displayName;const W$=()=>{const{isLoggedIn:e,userEmail:t,userRole:r}=Br(),[n,a]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState(""),[u,f]=v.useState("all"),[d,h]=v.useState("all"),[p,y]=v.useState(!1),[m,g]=v.useState(!1),[x,j]=v.useState(null),[w,S]=v.useState(""),[b,N]=v.useState("");v.useEffect(()=>{(()=>{y(r==="admin")})()},[r]),v.useEffect(()=>{const O={id:"admin-1",name:"관리자",email:"ju9511503@gmail.com",role:"admin",status:"active",joinDate:"2025-01-01",lastLogin:"2025-01-10",startDate:"2025-01-01",endDate:"2025-12-31"},F=JSON.parse(localStorage.getItem("users")||"[]"),I=F.length===0?{id:"test-1",name:"테스트 사용자",email:"test@example.com",password:"test123",role:"user",status:"active",joinDate:Ge(),lastLogin:"",startDate:Ge(),endDate:(()=>{const re=new Date;return re.setDate(re.getDate()+30),re.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})})()}:null,Y=[O,...F,...I?[I]:[]];I&&localStorage.setItem("users",JSON.stringify([I])),a(Y),i(Y),setTimeout(()=>{const re=Ge(),J=Y.map(se=>se.role==="admin"?se:se.endDate&&se.endDate<re&&se.status==="active"?{...se,status:"inactive"}:se);if(J.some(se=>se.role!=="admin"&&se.endDate&&se.endDate<re&&se.status==="inactive")){a(J),i(J);const se=J.filter(Ee=>Ee.id!=="admin-1");localStorage.setItem("users",JSON.stringify(se)),setTimeout(()=>{alert("만료된 사용자가 자동으로 비활성화되었습니다.")},100)}},100)},[]),v.useEffect(()=>{let O=n;l&&(O=O.filter(F=>F.name.toLowerCase().includes(l.toLowerCase())||F.email.toLowerCase().includes(l.toLowerCase()))),u!=="all"&&(O=O.filter(F=>F.status===u)),d!=="all"&&(O=O.filter(F=>F.role===d)),i(O)},[n,l,u,d]);const A=(O,F)=>{a(I=>I.map(Y=>Y.id===O?{...Y,role:F}:Y))},C=(O,F)=>{const I=n.map(re=>re.id===O?{...re,status:F}:re);a(I),i(I);const Y=I.filter(re=>re.id!=="admin-1");localStorage.setItem("users",JSON.stringify(Y))},D=O=>{console.log(`✅ 사용자 승인: ${O}`),C(O,"active")},R=O=>{console.log(`❌ 사용자 거부: ${O}`),C(O,"inactive")},$=O=>{j(O),S(O.startDate||""),N(O.endDate||""),g(!0)},P=()=>{if(!x)return;const O=n.map(I=>I.id===x.id?{...I,startDate:w,endDate:b}:I);a(O),i(O);const F=O.filter(I=>I.id!=="admin-1");localStorage.setItem("users",JSON.stringify(F)),g(!1),j(null),S(""),N("")},B=O=>{const F=n.find(U=>U.id===O);if(!F||!F.endDate)return;const I=new Date(F.endDate),Y=new Date(I);Y.setDate(Y.getDate()+30);const re=n.map(U=>U.id===O?{...U,endDate:Y.toISOString().split("T")[0]}:U);a(re),i(re);const J=re.filter(U=>U.id!=="admin-1");localStorage.setItem("users",JSON.stringify(J))};v.useCallback(()=>{const O=Ge();a(F=>{const I=F.map(re=>re.role==="admin"?re:re.endDate&&re.endDate<O&&re.status==="active"?{...re,status:"inactive"}:re);if(I.some(re=>re.role!=="admin"&&re.endDate&&re.endDate<O&&re.status==="inactive")){const re=I.filter(J=>J.id!=="admin-1");localStorage.setItem("users",JSON.stringify(re)),setTimeout(()=>{alert("만료된 사용자가 자동으로 비활성화되었습니다.")},100)}return I}),i(F=>F.map(Y=>Y.role==="admin"?Y:Y.endDate&&Y.endDate<O&&Y.status==="active"?{...Y,status:"inactive"}:Y))},[]);const T=O=>{try{if(O.role==="admin")return{status:"permanent",message:"영구",color:"text-purple-400"};if(!O.endDate)return{status:"none",message:"미설정",color:"text-gray-400"};const F=new Date,I=new Date(O.endDate),Y=Math.ceil((I.getTime()-F.getTime())/(1e3*60*60*24));return Y<0?{status:"expired",message:"만료됨",color:"text-red-400"}:Y<=7?{status:"warning",message:`${Y}일 남음`,color:"text-yellow-400"}:{status:"active",message:`${Y}일 남음`,color:"text-green-400"}}catch(F){return console.error("getPeriodStatus 오류:",F),{status:"error",message:"오류",color:"text-red-400"}}},_=O=>{switch(O){case"active":return o.jsx(Ve,{className:"bg-green-500 text-white",children:"활성"});case"inactive":return o.jsx(Ve,{className:"bg-red-500 text-white",children:"비활성"});case"pending":return o.jsx(Ve,{className:"bg-yellow-500 text-white",children:"대기중"});default:return o.jsx(Ve,{variant:"secondary",children:O})}},M=O=>{switch(O){case"admin":return o.jsx(Ve,{className:"bg-purple-500 text-white",children:"관리자"});case"user":return o.jsx(Ve,{className:"bg-blue-500 text-white",children:"사용자"});default:return o.jsx(Ve,{variant:"secondary",children:O})}};return!e||!p?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md",children:o.jsx(Kt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(gi,{className:"w-16 h-16 text-red-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"접근 권한 없음"}),o.jsx("p",{className:"text-gray-300",children:"이 페이지는 관리자만 접근할 수 있습니다."}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsx(Oe,{to:"/system",children:o.jsx(q,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"시스템으로 돌아가기"})}),o.jsx(Oe,{to:"/",children:o.jsx(q,{variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:"홈으로 돌아가기"})})]})]})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Oe,{to:"/system",children:o.jsxs(q,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"시스템으로 돌아가기"]})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[o.jsx(gn,{className:"w-8 h-8 mr-3"}),"회원 관리"]}),o.jsx("p",{className:"text-gray-300",children:"사용자 계정을 관리하고 권한을 설정하세요"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"총 사용자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.length})]}),o.jsx(gn,{className:"w-8 h-8 text-blue-400"})]})})}),o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"활성 사용자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>O.status==="active").length})]}),o.jsx(Nu,{className:"w-8 h-8 text-green-400"})]})})}),o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"대기중"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>O.status==="pending").length})]}),o.jsx(In,{className:"w-8 h-8 text-yellow-400"})]})})}),o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"관리자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>O.role==="admin").length})]}),o.jsx(MA,{className:"w-8 h-8 text-purple-400"})]})})}),o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Kt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"만료 예정"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>{if(!O.endDate)return!1;const F=new Date,I=new Date(O.endDate),Y=Math.ceil((I.getTime()-F.getTime())/(1e3*60*60*24));return Y<=7&&Y>0}).length})]}),o.jsx(xd,{className:"w-8 h-8 text-orange-400"})]})})})]}),o.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20 mb-6",children:o.jsx(Kt,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(vt,{placeholder:"사용자 이름 또는 이메일로 검색...",value:l,onChange:O=>c(O.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Lt,{value:u,onValueChange:f,children:[o.jsx($t,{className:"w-32 bg-white/10 border-white/20 text-white",children:o.jsx(Bt,{placeholder:"상태"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체 상태"}),o.jsx(Ze,{value:"active",children:"활성"}),o.jsx(Ze,{value:"inactive",children:"비활성"}),o.jsx(Ze,{value:"pending",children:"대기중"})]})]}),o.jsxs(Lt,{value:d,onValueChange:h,children:[o.jsx($t,{className:"w-32 bg-white/10 border-white/20 text-white",children:o.jsx(Bt,{placeholder:"역할"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체 역할"}),o.jsx(Ze,{value:"admin",children:"관리자"}),o.jsx(Ze,{value:"user",children:"사용자"})]})]})]})]})})}),o.jsxs(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(ca,{children:[o.jsx(ua,{className:"text-white",children:"사용자 목록"}),o.jsxs(da,{className:"text-gray-300",children:["총 ",s.length,"명의 사용자가 표시됩니다"]})]}),o.jsx(Kt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(yt,{className:"border-white/20",children:[o.jsx(Fe,{className:"text-white",children:"사용자"}),o.jsx(Fe,{className:"text-white",children:"역할"}),o.jsx(Fe,{className:"text-white",children:"상태"}),o.jsx(Fe,{className:"text-white",children:"사용기간"}),o.jsx(Fe,{className:"text-white",children:"가입일"}),o.jsx(Fe,{className:"text-white",children:"마지막 로그인"}),o.jsx(Fe,{className:"text-white",children:"작업"})]})}),o.jsx(Kr,{children:s.map(O=>o.jsxs(yt,{className:"border-white/20 hover:bg-white/5",children:[o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-medium",children:O.name.charAt(0)})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:O.name}),o.jsxs("p",{className:"text-gray-400 text-sm flex items-center",children:[o.jsx(bd,{className:"w-3 h-3 mr-1"}),O.email]})]})]})}),o.jsx(Re,{children:M(O.role)}),o.jsx(Re,{children:_(O.status)}),o.jsx(Re,{children:o.jsxs("div",{className:"space-y-1",children:[O.role==="admin"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gi,{className:"w-3 h-3"}),o.jsx("span",{className:`text-xs ${T(O).color}`,children:T(O).message})]}):O.endDate?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(RA,{className:"w-3 h-3"}),o.jsx("span",{className:`text-xs ${T(O).color}`,children:T(O).message})]}):o.jsx("span",{className:"text-xs text-gray-400",children:"미설정"}),O.role!=="admin"&&O.endDate&&o.jsxs("div",{className:"text-xs text-gray-400",children:["~",O.endDate]})]})}),o.jsx(Re,{className:"text-gray-300",children:O.joinDate}),o.jsx(Re,{className:"text-gray-300",children:O.lastLogin}),o.jsx(Re,{children:o.jsxs(Fd,{children:[o.jsx(Ud,{asChild:!0,children:o.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10","aria-label":"더보기 메뉴",title:"더보기 메뉴",children:o.jsx(LA,{className:"w-4 h-4"})})}),o.jsxs(ll,{align:"end",children:[O.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(Jt,{onClick:()=>D(O.id),children:[o.jsx(Nu,{className:"w-4 h-4 mr-2"}),"승인"]}),o.jsxs(Jt,{onClick:()=>R(O.id),children:[o.jsx(nm,{className:"w-4 h-4 mr-2"}),"거부"]})]}),O.status!=="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(Jt,{onClick:()=>C(O.id,"active"),disabled:O.status==="active",children:[o.jsx(Nu,{className:"w-4 h-4 mr-2"}),"활성화"]}),o.jsxs(Jt,{onClick:()=>C(O.id,"inactive"),disabled:O.status==="inactive",children:[o.jsx(nm,{className:"w-4 h-4 mr-2"}),"비활성화"]})]}),O.role!=="admin"&&o.jsxs(Jt,{onClick:()=>A(O.id,"admin"),children:[o.jsx(gi,{className:"w-4 h-4 mr-2"}),"관리자로 승격"]}),O.role==="admin"&&O.email!=="ju9511503@gmail.com"&&o.jsxs(Jt,{onClick:()=>A(O.id,"user"),children:[o.jsx(gi,{className:"w-4 h-4 mr-2"}),"사용자로 변경"]}),O.role!=="admin"&&o.jsxs(Jt,{onClick:()=>$(O),children:[o.jsx(BA,{className:"w-4 h-4 mr-2"}),"사용기간 설정"]}),O.role!=="admin"&&O.endDate&&o.jsxs(Jt,{onClick:()=>B(O.id),children:[o.jsx(FA,{className:"w-4 h-4 mr-2"}),"30일 연장"]})]})]})})]},O.id))})]})})})]}),m&&x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md w-full mx-4",children:[o.jsxs(ca,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ua,{className:"text-white",children:"사용기간 설정"}),o.jsx(q,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"text-white hover:bg-white/10",children:o.jsx(uc,{className:"w-4 h-4"})})]}),o.jsxs(da,{className:"text-gray-300",children:[x.name," (",x.email,")"]})]}),o.jsxs(Kt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"시작일"}),o.jsx(vt,{type:"date",value:w,onChange:O=>S(O.target.value),className:"bg-white/10 border-white/20 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"종료일"}),o.jsx(vt,{type:"date",value:b,onChange:O=>N(O.target.value),className:"bg-white/10 border-white/20 text-white"})]}),w&&b&&w>b&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm",children:[o.jsx(xd,{className:"w-4 h-4"}),o.jsx("span",{children:"종료일은 시작일보다 늦어야 합니다."})]}),o.jsxs("div",{className:"flex space-x-2 pt-4",children:[o.jsx(q,{onClick:P,disabled:!w||!b||w>b,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"저장"}),o.jsx(q,{variant:"outline",onClick:()=>g(!1),className:"flex-1 bg-transparent border-white/30 text-white hover:bg-white/10",children:"취소"})]})]})]})})]})})},Vm=Object.keys(qt);function H$(){return v.useEffect(()=>{console.log("📊 하드코딩된 카테고리 순서 사용:",Vm)},[]),o.jsx(Ne,{className:"p-6 mb-6",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"카테고리"}),o.jsx("div",{className:"grid grid-cols-9 gap-2",children:Vm.map(e=>o.jsx(Oe,{to:`/category/${encodeURIComponent(e)}`,children:o.jsx(Ve,{className:"cursor-pointer transition-all duration-200 w-full text-center text-sm py-2 text-muted-foreground hover:text-white hover:shadow-lg",style:{border:"none",backgroundColor:"transparent"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=Hr[e]},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:e})},e))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"💡 카테고리를 클릭하면 해당 카테고리의 채널 순위를 확인할 수 있습니다."})]})})})})}function Fu({title:e,value:t,change:r,changeLabel:n,trend:a="neutral",className:s}){const i={up:"text-success",down:"text-danger",neutral:"text-muted-foreground"},l=a==="up"?rt:kn;return o.jsx(Ne,{className:_e("p-6 hover:bg-card-hover transition-colors border border-border",s),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:t}),r!==void 0&&o.jsxs("div",{className:_e("flex items-center space-x-1",i[a]),children:[a!=="neutral"&&o.jsx(l,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[r>0?"+":"",r,"%"]}),n&&o.jsx("span",{className:"text-xs text-muted-foreground",children:n})]})]})]})})}var Y$=Array.isArray,ar=Y$,G$=typeof mi=="object"&&mi&&mi.Object===Object&&mi,hj=G$,q$=hj,X$=typeof self=="object"&&self&&self.Object===Object&&self,Q$=q$||X$||Function("return this")(),an=Q$,J$=an,Z$=J$.Symbol,ni=Z$,zm=ni,pj=Object.prototype,e_=pj.hasOwnProperty,t_=pj.toString,Fo=zm?zm.toStringTag:void 0;function r_(e){var t=e_.call(e,Fo),r=e[Fo];try{e[Fo]=void 0;var n=!0}catch{}var a=t_.call(e);return n&&(t?e[Fo]=r:delete e[Fo]),a}var n_=r_,a_=Object.prototype,o_=a_.toString;function s_(e){return o_.call(e)}var i_=s_,Wm=ni,l_=n_,c_=i_,u_="[object Null]",d_="[object Undefined]",Hm=Wm?Wm.toStringTag:void 0;function f_(e){return e==null?e===void 0?d_:u_:Hm&&Hm in Object(e)?l_(e):c_(e)}var Sn=f_;function h_(e){return e!=null&&typeof e=="object"}var Nn=h_,p_=Sn,m_=Nn,g_="[object Symbol]";function v_(e){return typeof e=="symbol"||m_(e)&&p_(e)==g_}var Oo=v_,y_=ar,x_=Oo,b_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w_=/^\w*$/;function j_(e,t){if(y_(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||x_(e)?!0:w_.test(e)||!b_.test(e)||t!=null&&e in Object(t)}var Hh=j_;function S_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fn=S_;const Po=dt(Fn);var N_=Sn,A_=Fn,C_="[object AsyncFunction]",O_="[object Function]",P_="[object GeneratorFunction]",E_="[object Proxy]";function D_(e){if(!A_(e))return!1;var t=N_(e);return t==O_||t==P_||t==C_||t==E_}var Yh=D_;const We=dt(Yh);var T_=an,$_=T_["__core-js_shared__"],__=$_,Uu=__,Ym=function(){var e=/[^.]+$/.exec(Uu&&Uu.keys&&Uu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function I_(e){return!!Ym&&Ym in e}var k_=I_,M_=Function.prototype,R_=M_.toString;function L_(e){if(e!=null){try{return R_.call(e)}catch{}try{return e+""}catch{}}return""}var mj=L_,B_=Yh,F_=k_,U_=Fn,K_=mj,V_=/[\\^$.*+?()[\]{}|]/g,z_=/^\[object .+?Constructor\]$/,W_=Function.prototype,H_=Object.prototype,Y_=W_.toString,G_=H_.hasOwnProperty,q_=RegExp("^"+Y_.call(G_).replace(V_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X_(e){if(!U_(e)||F_(e))return!1;var t=B_(e)?q_:z_;return t.test(K_(e))}var Q_=X_;function J_(e,t){return e==null?void 0:e[t]}var Z_=J_,eI=Q_,tI=Z_;function rI(e,t){var r=tI(e,t);return eI(r)?r:void 0}var ja=rI,nI=ja,aI=nI(Object,"create"),Tc=aI,Gm=Tc;function oI(){this.__data__=Gm?Gm(null):{},this.size=0}var sI=oI;function iI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lI=iI,cI=Tc,uI="__lodash_hash_undefined__",dI=Object.prototype,fI=dI.hasOwnProperty;function hI(e){var t=this.__data__;if(cI){var r=t[e];return r===uI?void 0:r}return fI.call(t,e)?t[e]:void 0}var pI=hI,mI=Tc,gI=Object.prototype,vI=gI.hasOwnProperty;function yI(e){var t=this.__data__;return mI?t[e]!==void 0:vI.call(t,e)}var xI=yI,bI=Tc,wI="__lodash_hash_undefined__";function jI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bI&&t===void 0?wI:t,this}var SI=jI,NI=sI,AI=lI,CI=pI,OI=xI,PI=SI;function Eo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Eo.prototype.clear=NI;Eo.prototype.delete=AI;Eo.prototype.get=CI;Eo.prototype.has=OI;Eo.prototype.set=PI;var EI=Eo;function DI(){this.__data__=[],this.size=0}var TI=DI;function $I(e,t){return e===t||e!==e&&t!==t}var Gh=$I,_I=Gh;function II(e,t){for(var r=e.length;r--;)if(_I(e[r][0],t))return r;return-1}var $c=II,kI=$c,MI=Array.prototype,RI=MI.splice;function LI(e){var t=this.__data__,r=kI(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():RI.call(t,r,1),--this.size,!0}var BI=LI,FI=$c;function UI(e){var t=this.__data__,r=FI(t,e);return r<0?void 0:t[r][1]}var KI=UI,VI=$c;function zI(e){return VI(this.__data__,e)>-1}var WI=zI,HI=$c;function YI(e,t){var r=this.__data__,n=HI(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var GI=YI,qI=TI,XI=BI,QI=KI,JI=WI,ZI=GI;function Do(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Do.prototype.clear=qI;Do.prototype.delete=XI;Do.prototype.get=QI;Do.prototype.has=JI;Do.prototype.set=ZI;var _c=Do,ek=ja,tk=an,rk=ek(tk,"Map"),qh=rk,qm=EI,nk=_c,ak=qh;function ok(){this.size=0,this.__data__={hash:new qm,map:new(ak||nk),string:new qm}}var sk=ok;function ik(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lk=ik,ck=lk;function uk(e,t){var r=e.__data__;return ck(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ic=uk,dk=Ic;function fk(e){var t=dk(this,e).delete(e);return this.size-=t?1:0,t}var hk=fk,pk=Ic;function mk(e){return pk(this,e).get(e)}var gk=mk,vk=Ic;function yk(e){return vk(this,e).has(e)}var xk=yk,bk=Ic;function wk(e,t){var r=bk(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var jk=wk,Sk=sk,Nk=hk,Ak=gk,Ck=xk,Ok=jk;function To(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}To.prototype.clear=Sk;To.prototype.delete=Nk;To.prototype.get=Ak;To.prototype.has=Ck;To.prototype.set=Ok;var Xh=To,gj=Xh,Pk="Expected a function";function Qh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Pk);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(Qh.Cache||gj),r}Qh.Cache=gj;var vj=Qh;const Ek=dt(vj);var Dk=vj,Tk=500;function $k(e){var t=Dk(e,function(n){return r.size===Tk&&r.clear(),n}),r=t.cache;return t}var _k=$k,Ik=_k,kk=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mk=/\\(\\)?/g,Rk=Ik(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kk,function(r,n,a,s){t.push(a?s.replace(Mk,"$1"):n||r)}),t}),Lk=Rk;function Bk(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Jh=Bk,Xm=ni,Fk=Jh,Uk=ar,Kk=Oo,Qm=Xm?Xm.prototype:void 0,Jm=Qm?Qm.toString:void 0;function yj(e){if(typeof e=="string")return e;if(Uk(e))return Fk(e,yj)+"";if(Kk(e))return Jm?Jm.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Vk=yj,zk=Vk;function Wk(e){return e==null?"":zk(e)}var xj=Wk,Hk=ar,Yk=Hh,Gk=Lk,qk=xj;function Xk(e,t){return Hk(e)?e:Yk(e,t)?[e]:Gk(qk(e))}var bj=Xk,Qk=Oo;function Jk(e){if(typeof e=="string"||Qk(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kc=Jk,Zk=bj,eM=kc;function tM(e,t){t=Zk(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[eM(t[r++])];return r&&r==n?e:void 0}var Zh=tM,rM=Zh;function nM(e,t,r){var n=e==null?void 0:rM(e,t);return n===void 0?r:n}var wj=nM;const br=dt(wj);function aM(e){return e==null}var oM=aM;const He=dt(oM);var sM=Sn,iM=ar,lM=Nn,cM="[object String]";function uM(e){return typeof e=="string"||!iM(e)&&lM(e)&&sM(e)==cM}var dM=uM;const pa=dt(dM);var jj={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),tp=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),Bc=Symbol.for("react.provider"),Fc=Symbol.for("react.context"),fM=Symbol.for("react.server_context"),Uc=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),Vc=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),Wc=Symbol.for("react.lazy"),hM=Symbol.for("react.offscreen"),Sj;Sj=Symbol.for("react.module.reference");function Sr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ep:switch(e=e.type,e){case Mc:case Lc:case Rc:case Kc:case Vc:return e;default:switch(e=e&&e.$$typeof,e){case fM:case Fc:case Uc:case Wc:case zc:case Bc:return e;default:return t}}case tp:return t}}}st.ContextConsumer=Fc;st.ContextProvider=Bc;st.Element=ep;st.ForwardRef=Uc;st.Fragment=Mc;st.Lazy=Wc;st.Memo=zc;st.Portal=tp;st.Profiler=Lc;st.StrictMode=Rc;st.Suspense=Kc;st.SuspenseList=Vc;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return Sr(e)===Fc};st.isContextProvider=function(e){return Sr(e)===Bc};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep};st.isForwardRef=function(e){return Sr(e)===Uc};st.isFragment=function(e){return Sr(e)===Mc};st.isLazy=function(e){return Sr(e)===Wc};st.isMemo=function(e){return Sr(e)===zc};st.isPortal=function(e){return Sr(e)===tp};st.isProfiler=function(e){return Sr(e)===Lc};st.isStrictMode=function(e){return Sr(e)===Rc};st.isSuspense=function(e){return Sr(e)===Kc};st.isSuspenseList=function(e){return Sr(e)===Vc};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mc||e===Lc||e===Rc||e===Kc||e===Vc||e===hM||typeof e=="object"&&e!==null&&(e.$$typeof===Wc||e.$$typeof===zc||e.$$typeof===Bc||e.$$typeof===Fc||e.$$typeof===Uc||e.$$typeof===Sj||e.getModuleId!==void 0)};st.typeOf=Sr;jj.exports=st;var pM=jj.exports,mM=Sn,gM=Nn,vM="[object Number]";function yM(e){return typeof e=="number"||gM(e)&&mM(e)==vM}var Nj=yM;const xM=dt(Nj);var bM=Nj;function wM(e){return bM(e)&&e!=+e}var jM=wM;const ai=dt(jM);var _r=function(t){return t===0?0:t>0?1:-1},Jn=function(t){return pa(t)&&t.indexOf("%")===t.length-1},be=function(t){return xM(t)&&!ai(t)},SM=function(t){return He(t)},It=function(t){return be(t)||pa(t)},NM=0,oi=function(t){var r=++NM;return"".concat(t||"").concat(r)},ma=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&!pa(t))return n;var s;if(Jn(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return ai(s)&&(s=n),a&&s>r&&(s=r),s},Dn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},AM=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Tr=function(t,r){return be(t)&&be(r)?function(n){return t+n*(r-t)}:function(){return r}};function cl(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):br(n,t))===r})}var CM=function(t,r){return be(t)&&be(r)?t-r:pa(t)&&pa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function za(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}var OM=["viewBox","children"],PM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zm=["points","pathLength"],Ku={svg:OM,polygon:Zm,polyline:Zm},rp=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ul=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!Po(n))return null;var a={};return Object.keys(n).forEach(function(s){rp.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},EM=function(t,r,n){return function(a){return t(r,n,a),null}},dl=function(t,r,n){if(!Po(t)||Kd(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];rp.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=EM(i,r,n))}),a},DM=["children"],TM=["children"];function eg(e,t){if(e==null)return{};var r=$M(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $M(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}var tg={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rg=null,Vu=null,np=function e(t){if(t===rg&&Array.isArray(Vu))return Vu;var r=[];return v.Children.forEach(t,function(n){He(n)||(pM.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Vu=r,rg=t,r};function wr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return hn(a)}):n=[hn(t)],np(e).forEach(function(a){var s=br(a,"type.displayName")||br(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function cr(e,t){var r=wr(e,t);return r&&r[0]}var ng=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!be(n)||n<=0||!be(a)||a<=0)},_M=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],IM=function(t){return t&&t.type&&pa(t.type)&&_M.indexOf(t.type)>=0},kM=function(t){return t&&Vd(t)==="object"&&"clipDot"in t},MM=function(t,r,n,a){var s,i=(s=Ku==null?void 0:Ku[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!We(t)&&(a&&i.includes(r)||PM.includes(r))||n&&rp.includes(r)},Xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Po(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;MM((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},zd=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ag(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!ag(s,i))return!1}return!0},ag=function(t,r){if(He(t)&&He(r))return!0;if(!He(t)&&!He(r)){var n=t.props||{},a=n.children,s=eg(n,DM),i=r.props||{},l=i.children,c=eg(i,TM);return a&&l?za(s,c)&&zd(a,l):!a&&!l?za(s,c):!1}return!1},og=function(t,r){var n=[],a={};return np(t).forEach(function(s,i){if(IM(s))n.push(s);else if(s){var l=hn(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(s,l,i);n.push(d),a[l]=!0}}}),n},RM=function(t){var r=t&&t.type;return r&&tg[r]?tg[r]:null},LM=function(t,r){return np(r).indexOf(t)},BM=["children","width","height","viewBox","className","style","title","desc"];function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}function FM(e,t){if(e==null)return{};var r=UM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hd(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=FM(e,BM),f=a||{width:r,height:n,x:0,y:0},d=Qe("recharts-surface",s);return E.createElement("svg",Wd({},Xe(u,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),E.createElement("title",null,l),E.createElement("desc",null,c),t)}var KM=["children","className"];function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function VM(e,t){if(e==null)return{};var r=zM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var St=E.forwardRef(function(e,t){var r=e.children,n=e.className,a=VM(e,KM),s=Qe("recharts-layer",n);return E.createElement("g",Yd({className:s},Xe(a,!0),{ref:t}),r)}),pn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function WM(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var HM=WM,YM=HM;function GM(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:YM(e,t,r)}var qM=GM,XM="\\ud800-\\udfff",QM="\\u0300-\\u036f",JM="\\ufe20-\\ufe2f",ZM="\\u20d0-\\u20ff",e2=QM+JM+ZM,t2="\\ufe0e\\ufe0f",r2="\\u200d",n2=RegExp("["+r2+XM+e2+t2+"]");function a2(e){return n2.test(e)}var Aj=a2;function o2(e){return e.split("")}var s2=o2,Cj="\\ud800-\\udfff",i2="\\u0300-\\u036f",l2="\\ufe20-\\ufe2f",c2="\\u20d0-\\u20ff",u2=i2+l2+c2,d2="\\ufe0e\\ufe0f",f2="["+Cj+"]",Gd="["+u2+"]",qd="\\ud83c[\\udffb-\\udfff]",h2="(?:"+Gd+"|"+qd+")",Oj="[^"+Cj+"]",Pj="(?:\\ud83c[\\udde6-\\uddff]){2}",Ej="[\\ud800-\\udbff][\\udc00-\\udfff]",p2="\\u200d",Dj=h2+"?",Tj="["+d2+"]?",m2="(?:"+p2+"(?:"+[Oj,Pj,Ej].join("|")+")"+Tj+Dj+")*",g2=Tj+Dj+m2,v2="(?:"+[Oj+Gd+"?",Gd,Pj,Ej,f2].join("|")+")",y2=RegExp(qd+"(?="+qd+")|"+v2+g2,"g");function x2(e){return e.match(y2)||[]}var b2=x2,w2=s2,j2=Aj,S2=b2;function N2(e){return j2(e)?S2(e):w2(e)}var A2=N2,C2=qM,O2=Aj,P2=A2,E2=xj;function D2(e){return function(t){t=E2(t);var r=O2(t)?P2(t):void 0,n=r?r[0]:t.charAt(0),a=r?C2(r,1).join(""):t.slice(1);return n[e]()+a}}var T2=D2,$2=T2,_2=$2("toUpperCase"),I2=_2;const Hc=dt(I2);function ut(e){return function(){return e}}const $j=Math.cos,fl=Math.sin,Vr=Math.sqrt,hl=Math.PI,Yc=2*hl,Xd=Math.PI,Qd=2*Xd,Gn=1e-6,k2=Qd-Gn;function _j(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function M2(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _j;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class R2{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_j:M2(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,f=i-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Gn)if(!(Math.abs(d*c-u*f)>Gn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,y=a-l,m=c*c+u*u,g=p*p+y*y,x=Math.sqrt(m),j=Math.sqrt(h),w=s*Math.tan((Xd-Math.acos((m+h-g)/(2*x*j)))/2),S=w/j,b=w/x;Math.abs(S-1)>Gn&&this._append`L${t+S*f},${r+S*d}`,this._append`A${s},${s},0,0,${+(d*p>f*y)},${this._x1=t+b*c},${this._y1=r+b*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Gn||Math.abs(this._y1-f)>Gn)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%Qd+Qd),h>k2?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Gn&&this._append`A${n},${n},0,${+(h>=Xd)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ap(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new R2(t)}function op(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ij(e){this._context=e}Ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gc(e){return new Ij(e)}function kj(e){return e[0]}function Mj(e){return e[1]}function Rj(e,t){var r=ut(!0),n=null,a=Gc,s=null,i=ap(l);e=typeof e=="function"?e:e===void 0?kj:ut(e),t=typeof t=="function"?t:t===void 0?Mj:ut(t);function l(c){var u,f=(c=op(c)).length,d,h=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,u,c),+t(d,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ut(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ut(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ut(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Ai(e,t,r){var n=null,a=ut(!0),s=null,i=Gc,l=null,c=ap(u);e=typeof e=="function"?e:e===void 0?kj:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Mj:ut(+r);function u(d){var h,p,y,m=(d=op(d)).length,g,x=!1,j,w=new Array(m),S=new Array(m);for(s==null&&(l=i(j=c())),h=0;h<=m;++h){if(!(h<m&&a(g=d[h],h,d))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(w[y],S[y]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(g,h,d),S[h]=+t(g,h,d),l.point(n?+n(g,h,d):w[h],r?+r(g,h,d):S[h]))}if(j)return l=null,j+""||null}function f(){return Rj().defined(a).curve(i).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ut(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ut(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ut(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ut(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ut(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ut(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:ut(!!d),u):a},u.curve=function(d){return arguments.length?(i=d,s!=null&&(l=i(s)),u):i},u.context=function(d){return arguments.length?(d==null?s=l=null:l=i(s=d),u):s},u}class Lj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function L2(e){return new Lj(e,!0)}function B2(e){return new Lj(e,!1)}const sp={draw(e,t){const r=Vr(t/hl);e.moveTo(r,0),e.arc(0,0,r,0,Yc)}},F2={draw(e,t){const r=Vr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Bj=Vr(1/3),U2=Bj*2,K2={draw(e,t){const r=Vr(t/U2),n=r*Bj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},V2={draw(e,t){const r=Vr(t),n=-r/2;e.rect(n,n,r,r)}},z2=.8908130915292852,Fj=fl(hl/10)/fl(7*hl/10),W2=fl(Yc/10)*Fj,H2=-$j(Yc/10)*Fj,Y2={draw(e,t){const r=Vr(t*z2),n=W2*r,a=H2*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=Yc*s/5,l=$j(i),c=fl(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},zu=Vr(3),G2={draw(e,t){const r=-Vr(t/(zu*3));e.moveTo(0,r*2),e.lineTo(-zu*r,-r),e.lineTo(zu*r,-r),e.closePath()}},mr=-.5,gr=Vr(3)/2,Jd=1/Vr(12),q2=(Jd/2+1)*3,X2={draw(e,t){const r=Vr(t/q2),n=r/2,a=r*Jd,s=n,i=r*Jd+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(mr*n-gr*a,gr*n+mr*a),e.lineTo(mr*s-gr*i,gr*s+mr*i),e.lineTo(mr*l-gr*c,gr*l+mr*c),e.lineTo(mr*n+gr*a,mr*a-gr*n),e.lineTo(mr*s+gr*i,mr*i-gr*s),e.lineTo(mr*l+gr*c,mr*c-gr*l),e.closePath()}};function Q2(e,t){let r=null,n=ap(a);e=typeof e=="function"?e:ut(e||sp),t=typeof t=="function"?t:ut(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:ut(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:ut(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function pl(){}function ml(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Uj(e){this._context=e}Uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ml(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ml(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J2(e){return new Uj(e)}function Kj(e){this._context=e}Kj.prototype={areaStart:pl,areaEnd:pl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ml(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z2(e){return new Kj(e)}function Vj(e){this._context=e}Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ml(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eR(e){return new Vj(e)}function zj(e){this._context=e}zj.prototype={areaStart:pl,areaEnd:pl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tR(e){return new zj(e)}function sg(e){return e<0?-1:1}function ig(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(sg(s)+sg(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function lg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wu(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function gl(e){this._context=e}gl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wu(this,this._t0,lg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wu(this,lg(this,r=ig(this,e,t)),r);break;default:Wu(this,this._t0,r=ig(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Wj(e){this._context=new Hj(e)}(Wj.prototype=Object.create(gl.prototype)).point=function(e,t){gl.prototype.point.call(this,t,e)};function Hj(e){this._context=e}Hj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function rR(e){return new gl(e)}function nR(e){return new Wj(e)}function Yj(e){this._context=e}Yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cg(e),a=cg(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cg(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function aR(e){return new Yj(e)}function qc(e,t){this._context=e,this._t=t}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oR(e){return new qc(e,.5)}function sR(e){return new qc(e,0)}function iR(e){return new qc(e,1)}function Qa(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Zd(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lR(e,t){return e[t]}function cR(e){const t=[];return t.key=e,t}function uR(){var e=ut([]),t=Zd,r=Qa,n=lR;function a(s){var i=Array.from(e.apply(this,arguments),cR),l,c=i.length,u=-1,f;for(const d of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(d,i[l].key,u,s)]).data=d;for(l=0,f=op(t(i));l<c;++l)i[f[l]].index=l;return r(i,f),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ut(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:ut(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Zd:typeof s=="function"?s:ut(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Qa,a):r},a}function dR(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Qa(e,t)}}function fR(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Qa(e,t)}}function hR(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var m=e[t[y]],g=m[n][1]||0,x=m[n-1][1]||0;p+=g-x}c+=d,u+=p*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Qa(e,t)}}function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}var pR=["type","size","sizeType"];function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(this,arguments)}function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(n){mR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mR(e,t,r){return t=gR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e){var t=vR(e,"string");return ps(t)=="symbol"?t:t+""}function vR(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e,t){if(e==null)return{};var r=xR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Gj={symbolCircle:sp,symbolCross:F2,symbolDiamond:K2,symbolSquare:V2,symbolStar:Y2,symbolTriangle:G2,symbolWye:X2},bR=Math.PI/180,wR=function(t){var r="symbol".concat(Hc(t));return Gj[r]||sp},jR=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*bR;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SR=function(t,r){Gj["symbol".concat(Hc(t))]=r},ip=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=yR(t,pR),u=dg(dg({},c),{},{type:n,size:s,sizeType:l}),f=function(){var g=wR(n),x=Q2().type(g).size(jR(s,l,n));return x()},d=u.className,h=u.cx,p=u.cy,y=Xe(u,!0);return h===+h&&p===+p&&s===+s?E.createElement("path",ef({},y,{className:Qe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};ip.registerSymbol=SR;function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tf.apply(this,arguments)}function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fg(Object(r),!0).forEach(function(n){ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xj(n.key),n)}}function OR(e,t,r){return t&&CR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PR(e,t,r){return t=vl(t),ER(e,qj()?Reflect.construct(t,r||[],vl(e).constructor):t.apply(e,r))}function ER(e,t){if(t&&(Ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DR(e)}function DR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qj=function(){return!!e})()}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vl(e)}function TR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rf(e,t)}function rf(e,t){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rf(e,t)}function ms(e,t,r){return t=Xj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e){var t=$R(e,"string");return Ja(t)=="symbol"?t:t+""}function $R(e,t){if(Ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vr=32,lp=function(e){function t(){return AR(this,t),PR(this,t,arguments)}return TR(t,e),OR(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=vr/2,i=vr/6,l=vr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:vr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(vr,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return E.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(E.isValidElement(n.legendIcon)){var u=NR({},n);return delete u.legendIcon,E.cloneElement(n.legendIcon,u)}return E.createElement(ip,{fill:c,cx:s,cy:s,size:vr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:vr,height:vr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var m=p.formatter||c,g=Qe(ms(ms({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=We(p.value)?null:p.value;pn(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?u:p.color;return E.createElement("li",tf({className:g,style:d,key:"legend-item-".concat(y)},dl(n.props,p,y)),E.createElement(Hd,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},m?m(x,p,y):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);ms(lp,"displayName","Legend");ms(lp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _R=_c;function IR(){this.__data__=new _R,this.size=0}var kR=IR;function MR(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var RR=MR;function LR(e){return this.__data__.get(e)}var BR=LR;function FR(e){return this.__data__.has(e)}var UR=FR,KR=_c,VR=qh,zR=Xh,WR=200;function HR(e,t){var r=this.__data__;if(r instanceof KR){var n=r.__data__;if(!VR||n.length<WR-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zR(n)}return r.set(e,t),this.size=r.size,this}var YR=HR,GR=_c,qR=kR,XR=RR,QR=BR,JR=UR,ZR=YR;function $o(e){var t=this.__data__=new GR(e);this.size=t.size}$o.prototype.clear=qR;$o.prototype.delete=XR;$o.prototype.get=QR;$o.prototype.has=JR;$o.prototype.set=ZR;var Qj=$o,eL="__lodash_hash_undefined__";function tL(e){return this.__data__.set(e,eL),this}var rL=tL;function nL(e){return this.__data__.has(e)}var aL=nL,oL=Xh,sL=rL,iL=aL;function yl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new oL;++t<r;)this.add(e[t])}yl.prototype.add=yl.prototype.push=sL;yl.prototype.has=iL;var Jj=yl;function lL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Zj=lL;function cL(e,t){return e.has(t)}var eS=cL,uL=Jj,dL=Zj,fL=eS,hL=1,pL=2;function mL(e,t,r,n,a,s){var i=r&hL,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&pL?new uL:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var y=e[d],m=t[d];if(n)var g=i?n(m,y,d,t,e,s):n(y,m,d,e,t,s);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!dL(t,function(x,j){if(!fL(p,j)&&(y===x||a(y,x,r,n,s)))return p.push(j)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var tS=mL,gL=an,vL=gL.Uint8Array,yL=vL;function xL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var bL=xL;function wL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var cp=wL,hg=ni,pg=yL,jL=Gh,SL=tS,NL=bL,AL=cp,CL=1,OL=2,PL="[object Boolean]",EL="[object Date]",DL="[object Error]",TL="[object Map]",$L="[object Number]",_L="[object RegExp]",IL="[object Set]",kL="[object String]",ML="[object Symbol]",RL="[object ArrayBuffer]",LL="[object DataView]",mg=hg?hg.prototype:void 0,Hu=mg?mg.valueOf:void 0;function BL(e,t,r,n,a,s,i){switch(r){case LL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case RL:return!(e.byteLength!=t.byteLength||!s(new pg(e),new pg(t)));case PL:case EL:case $L:return jL(+e,+t);case DL:return e.name==t.name&&e.message==t.message;case _L:case kL:return e==t+"";case TL:var l=NL;case IL:var c=n&CL;if(l||(l=AL),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=OL,i.set(e,t);var f=SL(l(e),l(t),n,a,s,i);return i.delete(e),f;case ML:if(Hu)return Hu.call(e)==Hu.call(t)}return!1}var FL=BL;function UL(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var rS=UL,KL=rS,VL=ar;function zL(e,t,r){var n=t(e);return VL(e)?n:KL(n,r(e))}var WL=zL;function HL(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var YL=HL;function GL(){return[]}var qL=GL,XL=YL,QL=qL,JL=Object.prototype,ZL=JL.propertyIsEnumerable,gg=Object.getOwnPropertySymbols,e4=gg?function(e){return e==null?[]:(e=Object(e),XL(gg(e),function(t){return ZL.call(e,t)}))}:QL,t4=e4;function r4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var n4=r4,a4=Sn,o4=Nn,s4="[object Arguments]";function i4(e){return o4(e)&&a4(e)==s4}var l4=i4,vg=l4,c4=Nn,nS=Object.prototype,u4=nS.hasOwnProperty,d4=nS.propertyIsEnumerable,f4=vg(function(){return arguments}())?vg:function(e){return c4(e)&&u4.call(e,"callee")&&!d4.call(e,"callee")},up=f4,xl={exports:{}};function h4(){return!1}var p4=h4;xl.exports;(function(e,t){var r=an,n=p4,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(xl,xl.exports);var aS=xl.exports,m4=9007199254740991,g4=/^(?:0|[1-9]\d*)$/;function v4(e,t){var r=typeof e;return t=t??m4,!!t&&(r=="number"||r!="symbol"&&g4.test(e))&&e>-1&&e%1==0&&e<t}var dp=v4,y4=9007199254740991;function x4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=y4}var fp=x4,b4=Sn,w4=fp,j4=Nn,S4="[object Arguments]",N4="[object Array]",A4="[object Boolean]",C4="[object Date]",O4="[object Error]",P4="[object Function]",E4="[object Map]",D4="[object Number]",T4="[object Object]",$4="[object RegExp]",_4="[object Set]",I4="[object String]",k4="[object WeakMap]",M4="[object ArrayBuffer]",R4="[object DataView]",L4="[object Float32Array]",B4="[object Float64Array]",F4="[object Int8Array]",U4="[object Int16Array]",K4="[object Int32Array]",V4="[object Uint8Array]",z4="[object Uint8ClampedArray]",W4="[object Uint16Array]",H4="[object Uint32Array]",ft={};ft[L4]=ft[B4]=ft[F4]=ft[U4]=ft[K4]=ft[V4]=ft[z4]=ft[W4]=ft[H4]=!0;ft[S4]=ft[N4]=ft[M4]=ft[A4]=ft[R4]=ft[C4]=ft[O4]=ft[P4]=ft[E4]=ft[D4]=ft[T4]=ft[$4]=ft[_4]=ft[I4]=ft[k4]=!1;function Y4(e){return j4(e)&&w4(e.length)&&!!ft[b4(e)]}var G4=Y4;function q4(e){return function(t){return e(t)}}var oS=q4,bl={exports:{}};bl.exports;(function(e,t){var r=hj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(bl,bl.exports);var X4=bl.exports,Q4=G4,J4=oS,yg=X4,xg=yg&&yg.isTypedArray,Z4=xg?J4(xg):Q4,sS=Z4,eB=n4,tB=up,rB=ar,nB=aS,aB=dp,oB=sS,sB=Object.prototype,iB=sB.hasOwnProperty;function lB(e,t){var r=rB(e),n=!r&&tB(e),a=!r&&!n&&nB(e),s=!r&&!n&&!a&&oB(e),i=r||n||a||s,l=i?eB(e.length,String):[],c=l.length;for(var u in e)(t||iB.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aB(u,c)))&&l.push(u);return l}var cB=lB,uB=Object.prototype;function dB(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||uB;return e===r}var fB=dB;function hB(e,t){return function(r){return e(t(r))}}var iS=hB,pB=iS,mB=pB(Object.keys,Object),gB=mB,vB=fB,yB=gB,xB=Object.prototype,bB=xB.hasOwnProperty;function wB(e){if(!vB(e))return yB(e);var t=[];for(var r in Object(e))bB.call(e,r)&&r!="constructor"&&t.push(r);return t}var jB=wB,SB=Yh,NB=fp;function AB(e){return e!=null&&NB(e.length)&&!SB(e)}var si=AB,CB=cB,OB=jB,PB=si;function EB(e){return PB(e)?CB(e):OB(e)}var Xc=EB,DB=WL,TB=t4,$B=Xc;function _B(e){return DB(e,$B,TB)}var IB=_B,bg=IB,kB=1,MB=Object.prototype,RB=MB.hasOwnProperty;function LB(e,t,r,n,a,s){var i=r&kB,l=bg(e),c=l.length,u=bg(t),f=u.length;if(c!=f&&!i)return!1;for(var d=c;d--;){var h=l[d];if(!(i?h in t:RB.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=i;++d<c;){h=l[d];var x=e[h],j=t[h];if(n)var w=i?n(j,x,h,t,e,s):n(x,j,h,e,t,s);if(!(w===void 0?x===j||a(x,j,r,n,s):w)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var S=e.constructor,b=t.constructor;S!=b&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(e),s.delete(t),m}var BB=LB,FB=ja,UB=an,KB=FB(UB,"DataView"),VB=KB,zB=ja,WB=an,HB=zB(WB,"Promise"),YB=HB,GB=ja,qB=an,XB=GB(qB,"Set"),lS=XB,QB=ja,JB=an,ZB=QB(JB,"WeakMap"),e3=ZB,nf=VB,af=qh,of=YB,sf=lS,lf=e3,cS=Sn,_o=mj,wg="[object Map]",t3="[object Object]",jg="[object Promise]",Sg="[object Set]",Ng="[object WeakMap]",Ag="[object DataView]",r3=_o(nf),n3=_o(af),a3=_o(of),o3=_o(sf),s3=_o(lf),qn=cS;(nf&&qn(new nf(new ArrayBuffer(1)))!=Ag||af&&qn(new af)!=wg||of&&qn(of.resolve())!=jg||sf&&qn(new sf)!=Sg||lf&&qn(new lf)!=Ng)&&(qn=function(e){var t=cS(e),r=t==t3?e.constructor:void 0,n=r?_o(r):"";if(n)switch(n){case r3:return Ag;case n3:return wg;case a3:return jg;case o3:return Sg;case s3:return Ng}return t});var i3=qn,Yu=Qj,l3=tS,c3=FL,u3=BB,Cg=i3,Og=ar,Pg=aS,d3=sS,f3=1,Eg="[object Arguments]",Dg="[object Array]",Ci="[object Object]",h3=Object.prototype,Tg=h3.hasOwnProperty;function p3(e,t,r,n,a,s){var i=Og(e),l=Og(t),c=i?Dg:Cg(e),u=l?Dg:Cg(t);c=c==Eg?Ci:c,u=u==Eg?Ci:u;var f=c==Ci,d=u==Ci,h=c==u;if(h&&Pg(e)){if(!Pg(t))return!1;i=!0,f=!1}if(h&&!f)return s||(s=new Yu),i||d3(e)?l3(e,t,r,n,a,s):c3(e,t,c,r,n,a,s);if(!(r&f3)){var p=f&&Tg.call(e,"__wrapped__"),y=d&&Tg.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,g=y?t.value():t;return s||(s=new Yu),a(m,g,r,n,s)}}return h?(s||(s=new Yu),u3(e,t,r,n,a,s)):!1}var m3=p3,g3=m3,$g=Nn;function uS(e,t,r,n,a){return e===t?!0:e==null||t==null||!$g(e)&&!$g(t)?e!==e&&t!==t:g3(e,t,r,n,uS,a)}var hp=uS,v3=Qj,y3=hp,x3=1,b3=2;function w3(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],f=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new v3;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?y3(f,u,x3|b3,n,d):h))return!1}}return!0}var j3=w3,S3=Fn;function N3(e){return e===e&&!S3(e)}var dS=N3,A3=dS,C3=Xc;function O3(e){for(var t=C3(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,A3(a)]}return t}var P3=O3;function E3(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fS=E3,D3=j3,T3=P3,$3=fS;function _3(e){var t=T3(e);return t.length==1&&t[0][2]?$3(t[0][0],t[0][1]):function(r){return r===e||D3(r,e,t)}}var I3=_3;function k3(e,t){return e!=null&&t in Object(e)}var M3=k3,R3=bj,L3=up,B3=ar,F3=dp,U3=fp,K3=kc;function V3(e,t,r){t=R3(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=K3(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&U3(a)&&F3(i,a)&&(B3(e)||L3(e)))}var z3=V3,W3=M3,H3=z3;function Y3(e,t){return e!=null&&H3(e,t,W3)}var G3=Y3,q3=hp,X3=wj,Q3=G3,J3=Hh,Z3=dS,eF=fS,tF=kc,rF=1,nF=2;function aF(e,t){return J3(e)&&Z3(t)?eF(tF(e),t):function(r){var n=X3(r,e);return n===void 0&&n===t?Q3(r,e):q3(t,n,rF|nF)}}var oF=aF;function sF(e){return e}var Io=sF;function iF(e){return function(t){return t==null?void 0:t[e]}}var lF=iF,cF=Zh;function uF(e){return function(t){return cF(t,e)}}var dF=uF,fF=lF,hF=dF,pF=Hh,mF=kc;function gF(e){return pF(e)?fF(mF(e)):hF(e)}var vF=gF,yF=I3,xF=oF,bF=Io,wF=ar,jF=vF;function SF(e){return typeof e=="function"?e:e==null?bF:typeof e=="object"?wF(e)?xF(e[0],e[1]):yF(e):jF(e)}var Un=SF;function NF(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var hS=NF;function AF(e){return e!==e}var CF=AF;function OF(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var PF=OF,EF=hS,DF=CF,TF=PF;function $F(e,t,r){return t===t?TF(e,t,r):EF(e,DF,r)}var _F=$F,IF=_F;function kF(e,t){var r=e==null?0:e.length;return!!r&&IF(e,t,0)>-1}var MF=kF;function RF(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var LF=RF;function BF(){}var FF=BF,Gu=lS,UF=FF,KF=cp,VF=1/0,zF=Gu&&1/KF(new Gu([,-0]))[1]==VF?function(e){return new Gu(e)}:UF,WF=zF,HF=Jj,YF=MF,GF=LF,qF=eS,XF=WF,QF=cp,JF=200;function ZF(e,t,r){var n=-1,a=YF,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=GF;else if(s>=JF){var u=t?null:XF(e);if(u)return QF(u);i=!1,a=qF,c=new HF}else c=t?[]:l;e:for(;++n<s;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var e5=ZF,t5=Un,r5=e5;function n5(e,t){return e&&e.length?r5(e,t5(t)):[]}var a5=n5;const _g=dt(a5);function pS(e,t,r){return t===!0?_g(e,r):We(t)?_g(e,t):e}function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var o5=["ref"];function Ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ig(Object(r),!0).forEach(function(n){Qc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ig(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gS(n.key),n)}}function i5(e,t,r){return t&&kg(e.prototype,t),r&&kg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l5(e,t,r){return t=wl(t),c5(e,mS()?Reflect.construct(t,r||[],wl(e).constructor):t.apply(e,r))}function c5(e,t){if(t&&(Za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u5(e)}function u5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mS=function(){return!!e})()}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wl(e)}function d5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cf(e,t)}function cf(e,t){return cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cf(e,t)}function Qc(e,t,r){return t=gS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gS(e){var t=f5(e,"string");return Za(t)=="symbol"?t:t+""}function f5(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h5(e,t){if(e==null)return{};var r=p5(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m5(e){return e.value}function g5(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=h5(t,o5);return E.createElement(lp,r)}var Mg=1,Wa=function(e){function t(){var r;s5(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=l5(this,t,[].concat(a)),Qc(r,"lastBoundingBox",{width:-1,height:-1}),r}return d5(t,e),i5(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Mg||Math.abs(a.height-this.lastBoundingBox.height)>Mg)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?on({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return on(on({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=on(on({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return E.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},g5(s,on(on({},this.props),{},{payload:pS(f,u,m5)})))}}],[{key:"getWithHeight",value:function(n,a){var s=on(on({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&be(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);Qc(Wa,"displayName","Legend");Qc(Wa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Rg=ni,v5=up,y5=ar,Lg=Rg?Rg.isConcatSpreadable:void 0;function x5(e){return y5(e)||v5(e)||!!(Lg&&e&&e[Lg])}var b5=x5,w5=rS,j5=b5;function vS(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=j5),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?vS(l,t-1,r,n,a):w5(a,l):n||(a[a.length]=l)}return a}var yS=vS;function S5(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var N5=S5,A5=N5,C5=A5(),O5=C5,P5=O5,E5=Xc;function D5(e,t){return e&&P5(e,t,E5)}var xS=D5,T5=si;function $5(e,t){return function(r,n){if(r==null)return r;if(!T5(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var _5=$5,I5=xS,k5=_5,M5=k5(I5),pp=M5,R5=pp,L5=si;function B5(e,t){var r=-1,n=L5(e)?Array(e.length):[];return R5(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var bS=B5;function F5(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var U5=F5,Bg=Oo;function K5(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=Bg(e),i=t!==void 0,l=t===null,c=t===t,u=Bg(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var V5=K5,z5=V5;function W5(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=z5(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var H5=W5,qu=Jh,Y5=Zh,G5=Un,q5=bS,X5=U5,Q5=oS,J5=H5,Z5=Io,eU=ar;function tU(e,t,r){t.length?t=qu(t,function(s){return eU(s)?function(i){return Y5(i,s.length===1?s[0]:s)}:s}):t=[Z5];var n=-1;t=qu(t,Q5(G5));var a=q5(e,function(s,i,l){var c=qu(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return X5(a,function(s,i){return J5(s,i,r)})}var rU=tU;function nU(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var aU=nU,oU=aU,Fg=Math.max;function sU(e,t,r){return t=Fg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Fg(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),oU(e,this,l)}}var iU=sU;function lU(e){return function(){return e}}var cU=lU,uU=ja,dU=function(){try{var e=uU(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wS=dU,fU=cU,Ug=wS,hU=Io,pU=Ug?function(e,t){return Ug(e,"toString",{configurable:!0,enumerable:!1,value:fU(t),writable:!0})}:hU,mU=pU,gU=800,vU=16,yU=Date.now;function xU(e){var t=0,r=0;return function(){var n=yU(),a=vU-(n-r);if(r=n,a>0){if(++t>=gU)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bU=xU,wU=mU,jU=bU,SU=jU(wU),NU=SU,AU=Io,CU=iU,OU=NU;function PU(e,t){return OU(CU(e,t,AU),e+"")}var EU=PU,DU=Gh,TU=si,$U=dp,_U=Fn;function IU(e,t,r){if(!_U(r))return!1;var n=typeof t;return(n=="number"?TU(r)&&$U(t,r.length):n=="string"&&t in r)?DU(r[t],e):!1}var Jc=IU,kU=yS,MU=rU,RU=EU,Kg=Jc,LU=RU(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Kg(e,t[0],t[1])?t=[]:r>2&&Kg(t[0],t[1],t[2])&&(t=[t[0]]),MU(e,kU(t,1),[])}),BU=LU;const mp=dt(BU);function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function FU(e,t){return zU(e)||VU(e,t)||KU(e,t)||UU()}function UU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KU(e,t){if(e){if(typeof e=="string")return Vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vg(e,t)}}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function zU(e){if(Array.isArray(e))return e}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){WU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WU(e,t,r){return t=HU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=YU(e,"string");return gs(t)=="symbol"?t:t+""}function YU(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GU(e){return Array.isArray(e)&&It(e[0])&&It(e[1])?e.join(" ~ "):e}var qU=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,x=t.accessibilityLayer,j=x===void 0?!1:x,w=function(){if(f&&f.length){var P={padding:0,margin:0},B=(h?mp(f,h):f).map(function(T,_){if(T.type==="none")return null;var M=Xu({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),O=T.formatter||d||GU,F=T.value,I=T.name,Y=F,re=I;if(O&&Y!=null&&re!=null){var J=O(F,I,T,_,f);if(Array.isArray(J)){var U=FU(J,2);Y=U[0],re=U[1]}else Y=J}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:M},It(re)?E.createElement("span",{className:"recharts-tooltip-item-name"},re):null,It(re)?E.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,E.createElement("span",{className:"recharts-tooltip-item-value"},Y),E.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:P},B)}return null},S=Xu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Xu({margin:0},u),N=!He(m),A=N?m:"",C=Qe("recharts-default-tooltip",p),D=Qe("recharts-tooltip-label",y);N&&g&&f!==void 0&&f!==null&&(A=g(m,f));var R=j?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",uf({className:C,style:S},R),E.createElement("p",{className:D,style:b},E.isValidElement(A)?A:"".concat(A)),w())};function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Oi(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=QU(e,"string");return vs(t)=="symbol"?t:t+""}function QU(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uo="recharts-tooltip-wrapper",JU={visibility:"hidden"};function ZU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Qe(Uo,Oi(Oi(Oi(Oi({},"".concat(Uo,"-right"),be(r)&&t&&be(t.x)&&r>=t.x),"".concat(Uo,"-left"),be(r)&&t&&be(t.x)&&r<t.x),"".concat(Uo,"-bottom"),be(n)&&t&&be(t.y)&&n>=t.y),"".concat(Uo,"-top"),be(n)&&t&&be(t.y)&&n<t.y))}function Wg(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&be(s[n]))return s[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,m=c[n]+u;return y>m?Math.max(f,c[n]):Math.max(d,c[n])}function e6(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function t6(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return i.height>0&&i.width>0&&r?(f=Wg({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=Wg({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=e6({translateX:f,translateY:d,useTranslate3d:l})):u=JU,{cssProperties:u,cssClasses:ZU({translateX:f,translateY:d,coordinate:r})}}function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(r),!0).forEach(function(n){ff(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SS(n.key),n)}}function a6(e,t,r){return t&&n6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o6(e,t,r){return t=jl(t),s6(e,jS()?Reflect.construct(t,r||[],jl(e).constructor):t.apply(e,r))}function s6(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i6(e)}function i6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jS=function(){return!!e})()}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jl(e)}function l6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&df(e,t)}function df(e,t){return df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},df(e,t)}function ff(e,t,r){return t=SS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SS(e){var t=c6(e,"string");return eo(t)=="symbol"?t:t+""}function c6(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gg=1,u6=function(e){function t(){var r;r6(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=o6(this,t,[].concat(a)),ff(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ff(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return l6(t,e),a6(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Gg||Math.abs(n.height-this.state.lastBoundingBox.height)>Gg)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,w=t6({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),S=w.cssClasses,b=w.cssProperties,N=Yg(Yg({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},j);return E.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(v.PureComponent),d6=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ko={isSsr:d6()};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AS(n.key),n)}}function p6(e,t,r){return t&&h6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m6(e,t,r){return t=Sl(t),g6(e,NS()?Reflect.construct(t,r||[],Sl(e).constructor):t.apply(e,r))}function g6(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v6(e)}function v6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NS=function(){return!!e})()}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sl(e)}function y6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hf(e,t)}function hf(e,t){return hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hf(e,t)}function gp(e,t,r){return t=AS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AS(e){var t=x6(e,"string");return to(t)=="symbol"?t:t+""}function x6(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b6(e){return e.dataKey}function w6(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(qU,t)}var ur=function(e){function t(){return f6(this,t),m6(this,t,arguments)}return y6(t,e),p6(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,g=a.position,x=a.reverseDirection,j=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,b=y??[];d&&b.length&&(b=pS(y.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,b6));var N=b.length>0;return E.createElement(u6,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:f,hasPayload:N,offset:p,position:g,reverseDirection:x,useTranslate3d:j,viewBox:w,wrapperStyle:S},w6(u,Xg(Xg({},this.props),{},{payload:b})))}}])}(v.PureComponent);gp(ur,"displayName","Tooltip");gp(ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ko.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var j6=an,S6=function(){return j6.Date.now()},N6=S6,A6=/\s/;function C6(e){for(var t=e.length;t--&&A6.test(e.charAt(t)););return t}var O6=C6,P6=O6,E6=/^\s+/;function D6(e){return e&&e.slice(0,P6(e)+1).replace(E6,"")}var T6=D6,$6=T6,Qg=Fn,_6=Oo,Jg=NaN,I6=/^[-+]0x[0-9a-f]+$/i,k6=/^0b[01]+$/i,M6=/^0o[0-7]+$/i,R6=parseInt;function L6(e){if(typeof e=="number")return e;if(_6(e))return Jg;if(Qg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Qg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$6(e);var r=k6.test(e);return r||M6.test(e)?R6(e.slice(2),r?2:8):I6.test(e)?Jg:+e}var CS=L6,B6=Fn,Qu=N6,Zg=CS,F6="Expected a function",U6=Math.max,K6=Math.min;function V6(e,t,r){var n,a,s,i,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(F6);t=Zg(t)||0,B6(r)&&(f=!!r.leading,d="maxWait"in r,s=d?U6(Zg(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(N){var A=n,C=a;return n=a=void 0,u=N,i=e.apply(C,A),i}function y(N){return u=N,l=setTimeout(x,t),f?p(N):i}function m(N){var A=N-c,C=N-u,D=t-A;return d?K6(D,s-C):D}function g(N){var A=N-c,C=N-u;return c===void 0||A>=t||A<0||d&&C>=s}function x(){var N=Qu();if(g(N))return j(N);l=setTimeout(x,m(N))}function j(N){return l=void 0,h&&n?p(N):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?i:j(Qu())}function b(){var N=Qu(),A=g(N);if(n=arguments,a=this,c=N,A){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),i}return b.cancel=w,b.flush=S,b}var z6=V6,W6=z6,H6=Fn,Y6="Expected a function";function G6(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Y6);return H6(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),W6(e,t,{leading:n,maxWait:t,trailing:a})}var q6=G6;const OS=dt(q6);function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(n){X6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6(e,t,r){return t=Q6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q6(e){var t=J6(e,"string");return ys(t)=="symbol"?t:t+""}function J6(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z6(e,t){return nK(e)||rK(e,t)||tK(e,t)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(e,t){if(e){if(typeof e=="string")return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(e,t)}}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function nK(e){if(Array.isArray(e))return e}var Zc=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,x=e.className,j=e.onResize,w=e.style,S=w===void 0?{}:w,b=v.useRef(null),N=v.useRef();N.current=j,v.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var A=v.useState({containerWidth:a.width,containerHeight:a.height}),C=Z6(A,2),D=C[0],R=C[1],$=v.useCallback(function(B,T){R(function(_){var M=Math.round(B),O=Math.round(T);return _.containerWidth===M&&_.containerHeight===O?_:{containerWidth:M,containerHeight:O}})},[]);v.useEffect(function(){var B=function(I){var Y,re=I[0].contentRect,J=re.width,U=re.height;$(J,U),(Y=N.current)===null||Y===void 0||Y.call(N,J,U)};m>0&&(B=OS(B,m,{trailing:!0,leading:!1}));var T=new ResizeObserver(B),_=b.current.getBoundingClientRect(),M=_.width,O=_.height;return $(M,O),T.observe(b.current),function(){T.disconnect()}},[$,m]);var P=v.useMemo(function(){var B=D.containerWidth,T=D.containerHeight;if(B<0||T<0)return null;pn(Jn(i)||Jn(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),pn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Jn(i)?B:i,M=Jn(c)?T:c;r&&r>0&&(_?M=_/r:M&&(_=M*r),h&&M>h&&(M=h)),pn(_>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,M,i,c,f,d,r);var O=!Array.isArray(p)&&hn(p.type).endsWith("Chart");return E.Children.map(p,function(F){return E.isValidElement(F)?v.cloneElement(F,Pi({width:_,height:M},O?{style:Pi({height:"100%",width:"100%",maxHeight:M,maxWidth:_},F.props.style)}:{})):F})},[r,p,c,h,d,f,D,i]);return E.createElement("div",{id:g?"".concat(g):void 0,className:Qe("recharts-responsive-container",x),style:Pi(Pi({},S),{},{width:i,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:b},P)}),PS=function(t){return null};PS.displayName="Cell";function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=sK(e,"string");return xs(t)=="symbol"?t:t+""}function sK(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a={widthCache:{},cacheCount:0},iK=2e3,lK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nv="recharts_measurement_span";function cK(e){var t=pf({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ns=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ko.isSsr)return{width:0,height:0};var n=cK(r),a=JSON.stringify({text:t,copyStyle:n});if($a.widthCache[a])return $a.widthCache[a];try{var s=document.getElementById(nv);s||(s=document.createElement("span"),s.setAttribute("id",nv),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=pf(pf({},lK),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return $a.widthCache[a]=c,++$a.cacheCount>iK&&($a.cacheCount=0,$a.widthCache={}),c}catch{return{width:0,height:0}}},uK=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Nl(e,t){return pK(e)||hK(e,t)||fK(e,t)||dK()}function dK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fK(e,t){if(e){if(typeof e=="string")return av(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return av(e,t)}}function av(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function pK(e){if(Array.isArray(e))return e}function mK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function gK(e,t,r){return t&&ov(e.prototype,t),r&&ov(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vK(e){var t=yK(e,"string");return bs(t)=="symbol"?t:t+""}function yK(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wK=Object.keys(ES),La="NaN";function jK(e,t){return e*ES[t]}var Ei=function(){function e(t,r){mK(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!xK.test(r)&&(this.num=NaN,this.unit=""),wK.includes(r)&&(this.num=jK(t,r),this.unit="px")}return gK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=bK.exec(r))!==null&&n!==void 0?n:[],s=Nl(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function DS(e){if(e.includes(La))return La;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sv.exec(t))!==null&&r!==void 0?r:[],a=Nl(n,4),s=a[1],i=a[2],l=a[3],c=Ei.parse(s??""),u=Ei.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return La;t=t.replace(sv,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=iv.exec(t))!==null&&d!==void 0?d:[],p=Nl(h,4),y=p[1],m=p[2],g=p[3],x=Ei.parse(y??""),j=Ei.parse(g??""),w=m==="+"?x.add(j):x.subtract(j);if(w.isNaN())return La;t=t.replace(iv,w.toString())}return t}var lv=/\(([^()]*)\)/;function SK(e){for(var t=e;t.includes("(");){var r=lv.exec(t),n=Nl(r,2),a=n[1];t=t.replace(lv,DS(a))}return t}function NK(e){var t=e.replace(/\s+/g,"");return t=SK(t),t=DS(t),t}function AK(e){try{return NK(e)}catch{return La}}function Ju(e){var t=AK(e.slice(5,-1));return t===La?"":t}var CK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OK=["dx","dy","angle","className","breakAll"];function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}function cv(e,t){if(e==null)return{};var r=PK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uv(e,t){return $K(e)||TK(e,t)||DK(e,t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(e,t)}}function dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $K(e){if(Array.isArray(e))return e}var TS=/[ \f\n\r\t\v\u2028\u2029]+/,$S=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];He(r)||(n?s=r.toString().split(""):s=r.toString().split(TS));var i=s.map(function(c){return{word:c,width:ns(c,a).width}}),l=n?0:ns(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},_K=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=be(i),d=l,h=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce(function(M,O){var F=O.word,I=O.width,Y=M[M.length-1];if(Y&&(a==null||s||Y.width+I+n<Number(a)))Y.words.push(F),Y.width+=I+n;else{var re={words:[F],width:I};M.push(re)}return M},[])},p=h(r),y=function(_){return _.reduce(function(M,O){return M.width>O.width?M:O})};if(!f)return p;for(var m="…",g=function(_){var M=d.slice(0,_),O=$S({breakAll:u,style:c,children:M+m}).wordsWithComputedWidth,F=h(O),I=F.length>i||y(F).width>Number(a);return[I,F]},x=0,j=d.length-1,w=0,S;x<=j&&w<=d.length-1;){var b=Math.floor((x+j)/2),N=b-1,A=g(N),C=uv(A,2),D=C[0],R=C[1],$=g(b),P=uv($,1),B=P[0];if(!D&&!B&&(x=b+1),D&&B&&(j=b-1),!D&&B){S=R;break}w++}return S||p},fv=function(t){var r=He(t)?[]:t.toString().split(TS);return[{words:r}]},IK=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!ko.isSsr){var c,u,f=$S({breakAll:i,children:a,style:s});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return fv(a);return _K({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return fv(a)},hv="#808080",Al=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,x=g===void 0?hv:g,j=cv(t,CK),w=v.useMemo(function(){return IK({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:d,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,d,j.style,j.width]),S=j.dx,b=j.dy,N=j.angle,A=j.className,C=j.breakAll,D=cv(j,OK);if(!It(n)||!It(s))return null;var R=n+(be(S)?S:0),$=s+(be(b)?b:0),P;switch(m){case"start":P=Ju("calc(".concat(u,")"));break;case"middle":P=Ju("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=Ju("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(d){var T=w[0].width,_=j.width;B.push("scale(".concat((be(_)?_/T:1)/T,")"))}return N&&B.push("rotate(".concat(N,", ").concat(R,", ").concat($,")")),B.length&&(D.transform=B.join(" ")),E.createElement("text",mf({},Xe(D,!0),{x:R,y:$,className:Qe("recharts-text",A),textAnchor:p,fill:x.includes("url")?hv:x}),w.map(function(M,O){var F=M.words.join(C?"":" ");return E.createElement("tspan",{x:R,dy:O===0?P:l,key:"".concat(F,"-").concat(O)},F)}))};function $n(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vp(e){let t,r,n;e.length!==2?(t=$n,r=(l,c)=>$n(e(l),c),n=(l,c)=>e(l)-c):(t=e===$n||e===kK?e:MK,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:i,right:s}}function MK(){return 0}function _S(e){return e===null?NaN:+e}function*RK(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LK=vp($n),ii=LK.right;vp(_S).center;class pv extends Map{constructor(t,r=UK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mv(this,t))}has(t){return super.has(mv(this,t))}set(t,r){return super.set(BK(this,t),r)}delete(t){return super.delete(FK(this,t))}}function mv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function BK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FK({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function UK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KK(e=$n){if(e===$n)return IS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VK=Math.sqrt(50),zK=Math.sqrt(10),WK=Math.sqrt(2);function Cl(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=VK?10:s>=zK?5:s>=WK?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Cl(e,t,r*2):[l,c,u]}function gf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?Cl(t,e,r):Cl(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function vf(e,t,r){return t=+t,e=+e,r=+r,Cl(e,t,r)[2]}function yf(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?vf(t,e,r):vf(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gv(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vv(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function kS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?IS:KK(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));kS(e,t,p,y,a)}const s=e[t];let i=r,l=n;for(Ko(e,r,t),a(e[n],s)>0&&Ko(e,r,n);i<l;){for(Ko(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Ko(e,r,l):(++l,Ko(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ko(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HK(e,t,r){if(e=Float64Array.from(RK(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vv(e);if(t>=1)return gv(e);var n,a=(n-1)*t,s=Math.floor(a),i=gv(kS(e,s).subarray(0,s+1)),l=vv(e.subarray(s+1));return i+(l-i)*(a-s)}}function YK(e,t,r=_S){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function GK(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Nr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function An(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xf=Symbol("implicit");function yp(){var e=new pv,t=[],r=[],n=xf;function a(s){let i=e.get(s);if(i===void 0){if(n!==xf)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new pv;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yp(t,r).unknown(n)},Nr.apply(a,arguments),a}function ws(){var e=yp().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;s=(m-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(m-y-s*(h-c))*f,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var g=GK(h).map(function(x){return y+s*x});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return ws(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Nr.apply(d(),arguments)}function MS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MS(t())},e}function as(){return MS(ws.apply(null,arguments).paddingInner(1))}function xp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function li(){}var js=.7,Ol=1/js,Ha="\\s*([+-]?\\d+)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qK=/^#([0-9a-f]{3,8})$/,XK=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),QK=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),JK=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Ss}\\)$`),ZK=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Ss}\\)$`),eV=new RegExp(`^hsl\\(${Ss},${Qr},${Qr}\\)$`),tV=new RegExp(`^hsla\\(${Ss},${Qr},${Qr},${Ss}\\)$`),yv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xp(li,Ns,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xv,formatHex:xv,formatHex8:rV,formatHsl:nV,formatRgb:bv,toString:bv});function xv(){return this.rgb().formatHex()}function rV(){return this.rgb().formatHex8()}function nV(){return LS(this).formatHsl()}function bv(){return this.rgb().formatRgb()}function Ns(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wv(t):r===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Di(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Di(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XK.exec(e))?new rr(t[1],t[2],t[3],1):(t=QK.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JK.exec(e))?Di(t[1],t[2],t[3],t[4]):(t=ZK.exec(e))?Di(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eV.exec(e))?Nv(t[1],t[2]/100,t[3]/100,1):(t=tV.exec(e))?Nv(t[1],t[2]/100,t[3]/100,t[4]):yv.hasOwnProperty(e)?wv(yv[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function wv(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function Di(e,t,r,n){return n<=0&&(e=t=r=NaN),new rr(e,t,r,n)}function aV(e){return e instanceof li||(e=Ns(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function bf(e,t,r,n){return arguments.length===1?aV(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xp(rr,bf,RS(li,{brighter(e){return e=e==null?Ol:Math.pow(Ol,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(na(this.r),na(this.g),na(this.b),Pl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jv,formatHex:jv,formatHex8:oV,formatRgb:Sv,toString:Sv}));function jv(){return`#${Zn(this.r)}${Zn(this.g)}${Zn(this.b)}`}function oV(){return`#${Zn(this.r)}${Zn(this.g)}${Zn(this.b)}${Zn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sv(){const e=Pl(this.opacity);return`${e===1?"rgb(":"rgba("}${na(this.r)}, ${na(this.g)}, ${na(this.b)}${e===1?")":`, ${e})`}`}function Pl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function na(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zn(e){return e=na(e),(e<16?"0":"")+e.toString(16)}function Nv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $r(e,t,r,n)}function LS(e){if(e instanceof $r)return new $r(e.h,e.s,e.l,e.opacity);if(e instanceof li||(e=Ns(e)),!e)return new $r;if(e instanceof $r)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new $r(i,l,c,e.opacity)}function sV(e,t,r,n){return arguments.length===1?LS(e):new $r(e,t,r,n??1)}function $r(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xp($r,sV,RS(li,{brighter(e){return e=e==null?Ol:Math.pow(Ol,e),new $r(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new $r(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new rr(Zu(e>=240?e-240:e+120,a,n),Zu(e,a,n),Zu(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $r(Av(this.h),Ti(this.s),Ti(this.l),Pl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pl(this.opacity);return`${e===1?"hsl(":"hsla("}${Av(this.h)}, ${Ti(this.s)*100}%, ${Ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Av(e){return e=(e||0)%360,e<0?e+360:e}function Ti(e){return Math.max(0,Math.min(1,e||0))}function Zu(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bp=e=>()=>e;function iV(e,t){return function(r){return e+r*t}}function lV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cV(e){return(e=+e)==1?BS:function(t,r){return r-t?lV(t,r,e):bp(isNaN(t)?r:t)}}function BS(e,t){var r=t-e;return r?iV(e,r):bp(isNaN(e)?t:e)}const Cv=function e(t){var r=cV(t);function n(a,s){var i=r((a=bf(a)).r,(s=bf(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=BS(a.opacity,s.opacity);return function(f){return a.r=i(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function uV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function dV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Mo(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function hV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function El(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pV(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Mo(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var wf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ed=new RegExp(wf.source,"g");function mV(e){return function(){return e}}function gV(e){return function(t){return e(t)+""}}function vV(e,t){var r=wf.lastIndex=ed.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=wf.exec(e))&&(a=ed.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:El(n,a)})),r=ed.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?gV(c[0].x):mV(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Mo(e,t){var r=typeof t,n;return t==null||r==="boolean"?bp(t):(r==="number"?El:r==="string"?(n=Ns(t))?(t=n,Cv):vV:t instanceof Ns?Cv:t instanceof Date?hV:dV(t)?uV:Array.isArray(t)?fV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pV:El)(e,t)}function wp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function yV(e,t){t===void 0&&(t=e,e=Mo);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function xV(e){return function(){return e}}function Dl(e){return+e}var Ov=[0,1];function Zt(e){return e}function jf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xV(isNaN(t)?NaN:.5)}function bV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wV(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=jf(a,n),s=r(i,s)):(n=jf(n,a),s=r(s,i)),function(l){return s(n(l))}}function jV(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=jf(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=ii(e,l,1,n)-1;return s[c](a[c](l))}}function ci(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eu(){var e=Ov,t=Ov,r=Mo,n,a,s,i=Zt,l,c,u;function f(){var h=Math.min(e.length,t.length);return i!==Zt&&(i=bV(e[0],e[h-1])),l=h>2?jV:wV,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((u||(u=l(t,e.map(n),El)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Dl),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=wp,f()},d.clamp=function(h){return arguments.length?(i=h?!0:Zt,f()):i!==Zt},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return n=h,a=p,f()}}function jp(){return eu()(Zt,Zt)}function SV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ro(e){return e=Tl(Math.abs(e)),e?e[1]:NaN}function NV(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function AV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function As(e){if(!(t=CV.exec(e)))throw new Error("invalid format: "+e);var t;return new Sp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}As.prototype=Sp.prototype;function Sp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var FS;function PV(e,t){var r=Tl(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(FS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Tl(e,Math.max(0,t+s-1))[0]}function Pv(e,t){var r=Tl(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Ev={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pv(e*100,t),r:Pv,s:PV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dv(e){return e}var Tv=Array.prototype.map,$v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EV(e){var t=e.grouping===void 0||e.thousands===void 0?Dv:NV(Tv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Dv:AV(Tv.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=As(d);var h=d.fill,p=d.align,y=d.sign,m=d.symbol,g=d.zero,x=d.width,j=d.comma,w=d.precision,S=d.trim,b=d.type;b==="n"?(j=!0,b="g"):Ev[b]||(w===void 0&&(w=12),S=!0,b="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=m==="$"?n:/[%p]/.test(b)?i:"",C=Ev[b],D=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R($){var P=N,B=A,T,_,M;if(b==="c")B=C($)+B,$="";else{$=+$;var O=$<0||1/$<0;if($=isNaN($)?c:C(Math.abs($),w),S&&($=OV($)),O&&+$==0&&y!=="+"&&(O=!1),P=(O?y==="("?y:l:y==="-"||y==="("?"":y)+P,B=(b==="s"?$v[8+FS/3]:"")+B+(O&&y==="("?")":""),D){for(T=-1,_=$.length;++T<_;)if(M=$.charCodeAt(T),48>M||M>57){B=(M===46?a+$.slice(T+1):$.slice(T))+B,$=$.slice(0,T);break}}}j&&!g&&($=t($,1/0));var F=P.length+$.length+B.length,I=F<x?new Array(x-F+1).join(h):"";switch(j&&g&&($=t(I+$,I.length?x-B.length:1/0),I=""),p){case"<":$=P+$+B+I;break;case"=":$=P+I+$+B;break;case"^":$=I.slice(0,F=I.length>>1)+P+$+B+I.slice(F);break;default:$=I+P+$+B;break}return s($)}return R.toString=function(){return d+""},R}function f(d,h){var p=u((d=As(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(ro(h)/3)))*3,m=Math.pow(10,-y),g=$v[8+y/3];return function(x){return p(m*x)+g}}return{format:u,formatPrefix:f}}var $i,Np,US;DV({thousands:",",grouping:[3],currency:["$",""]});function DV(e){return $i=EV(e),Np=$i.format,US=$i.formatPrefix,$i}function TV(e){return Math.max(0,-ro(Math.abs(e)))}function $V(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(t)/3)))*3-ro(Math.abs(e)))}function _V(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ro(t)-ro(e))+1}function KS(e,t,r,n){var a=yf(e,t,r),s;switch(n=As(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=$V(a,i))&&(n.precision=s),US(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=_V(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=TV(a))&&(n.precision=s-(n.type==="%")*2);break}}return Np(n)}function Kn(e){var t=e.domain;return e.ticks=function(r){var n=t();return gf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return KS(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,f=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=vf(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function $l(){var e=jp();return e.copy=function(){return ci(e,$l())},Nr.apply(e,arguments),Kn(e)}function VS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dl),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VS(e).unknown(t)},e=arguments.length?Array.from(e,Dl):[0,1],Kn(r)}function zS(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function _v(e){return Math.log(e)}function Iv(e){return Math.exp(e)}function IV(e){return-Math.log(-e)}function kV(e){return-Math.exp(-e)}function MV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RV(e){return e===10?MV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kv(e){return(t,r)=>-e(-t,r)}function Ap(e){const t=e(_v,Iv),r=t.domain;let n=10,a,s;function i(){return a=LV(n),s=RV(n),r()[0]<0?(a=kv(a),s=kv(s),e(IV,kV)):e(_v,Iv),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),p=a(f),y,m;const g=l==null?10:+l;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/s(-h):y*s(h),!(m<u)){if(m>f)break;x.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/s(-h):y*s(h),!(m<u)){if(m>f)break;x.push(m)}x.length*2<g&&(x=gf(u,f,g))}else x=gf(h,p,Math.min(p-h,g)).map(s);return d?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=As(c)).precision==null&&(c.trim=!0),c=Np(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/s(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(zS(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function WS(){const e=Ap(eu()).domain([1,10]);return e.copy=()=>ci(e,WS()).base(e.base()),Nr.apply(e,arguments),e}function Mv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Rv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cp(e){var t=1,r=e(Mv(t),Rv(t));return r.constant=function(n){return arguments.length?e(Mv(t=+n),Rv(t)):t},Kn(r)}function HS(){var e=Cp(eu());return e.copy=function(){return ci(e,HS()).constant(e.constant())},Nr.apply(e,arguments)}function Lv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FV(e){return e<0?-e*e:e*e}function Op(e){var t=e(Zt,Zt),r=1;function n(){return r===1?e(Zt,Zt):r===.5?e(BV,FV):e(Lv(r),Lv(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Kn(t)}function Pp(){var e=Op(eu());return e.copy=function(){return ci(e,Pp()).exponent(e.exponent())},Nr.apply(e,arguments),e}function UV(){return Pp.apply(null,arguments).exponent(.5)}function Bv(e){return Math.sign(e)*e*e}function KV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YS(){var e=jp(),t=[0,1],r=!1,n;function a(s){var i=KV(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(Bv(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Dl)).map(Bv)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return YS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Nr.apply(a,arguments),Kn(a)}function GS(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=YK(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[ii(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($n),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return GS().domain(e).range(t).unknown(n)},Nr.apply(s,arguments)}function qS(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[ii(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return qS().domain([e,t]).range(a).unknown(s)},Nr.apply(Kn(i),arguments)}function XS(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[ii(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return XS().domain(e).range(t).unknown(r)},Nr.apply(a,arguments)}const td=new Date,rd=new Date;function kt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>kt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(td.setTime(+s),rd.setTime(+i),e(td),e(rd),Math.floor(r(td,rd))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const _l=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_l.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_l);_l.range;const cn=1e3,yr=cn*60,un=yr*60,xn=un*24,Ep=xn*7,Fv=xn*30,nd=xn*365,ea=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cn)},(e,t)=>(t-e)/cn,e=>e.getUTCSeconds());ea.range;const Dp=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cn)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getMinutes());Dp.range;const Tp=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCMinutes());Tp.range;const $p=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cn-e.getMinutes()*yr)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getHours());$p.range;const _p=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCHours());_p.range;const ui=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/xn,e=>e.getDate()-1);ui.range;const tu=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xn,e=>e.getUTCDate()-1);tu.range;const QS=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xn,e=>Math.floor(e/xn));QS.range;function Sa(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*yr)/Ep)}const ru=Sa(0),Il=Sa(1),VV=Sa(2),zV=Sa(3),no=Sa(4),WV=Sa(5),HV=Sa(6);ru.range;Il.range;VV.range;zV.range;no.range;WV.range;HV.range;function Na(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ep)}const nu=Na(0),kl=Na(1),YV=Na(2),GV=Na(3),ao=Na(4),qV=Na(5),XV=Na(6);nu.range;kl.range;YV.range;GV.range;ao.range;qV.range;XV.range;const Ip=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ip.range;const kp=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kp.range;const bn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bn.range;const wn=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wn.range;function JS(e,t,r,n,a,s){const i=[[ea,1,cn],[ea,5,5*cn],[ea,15,15*cn],[ea,30,30*cn],[s,1,yr],[s,5,5*yr],[s,15,15*yr],[s,30,30*yr],[a,1,un],[a,3,3*un],[a,6,6*un],[a,12,12*un],[n,1,xn],[n,2,2*xn],[r,1,Ep],[t,1,Fv],[t,3,3*Fv],[e,1,nd]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=vp(([,,g])=>g).right(i,h);if(p===i.length)return e.every(yf(u/nd,f/nd,d));if(p===0)return _l.every(Math.max(yf(u,f,d),1));const[y,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[QV,JV]=JS(wn,kp,nu,QS,_p,Tp),[ZV,ez]=JS(bn,Ip,ru,ui,$p,Dp);function ad(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function od(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=zo(a),f=Wo(a),d=zo(s),h=Wo(s),p=zo(i),y=Wo(i),m=zo(l),g=Wo(l),x=zo(c),j=Wo(c),w={a:O,A:F,b:I,B:Y,c:null,d:Hv,e:Hv,f:Nz,g:Iz,G:Mz,H:wz,I:jz,j:Sz,L:ZS,m:Az,M:Cz,p:re,q:J,Q:qv,s:Xv,S:Oz,u:Pz,U:Ez,V:Dz,w:Tz,W:$z,x:null,X:null,y:_z,Y:kz,Z:Rz,"%":Gv},S={a:U,A:se,b:Ee,B:Be,c:null,d:Yv,e:Yv,f:Uz,g:Qz,G:Zz,H:Lz,I:Bz,j:Fz,L:tN,m:Kz,M:Vz,p:de,q:V,Q:qv,s:Xv,S:zz,u:Wz,U:Hz,V:Yz,w:Gz,W:qz,x:null,X:null,y:Xz,Y:Jz,Z:e8,"%":Gv},b={a:R,A:$,b:P,B,c:T,d:zv,e:zv,f:vz,g:Vv,G:Kv,H:Wv,I:Wv,j:hz,L:gz,m:fz,M:pz,p:D,q:dz,Q:xz,s:bz,S:mz,u:sz,U:iz,V:lz,w:oz,W:cz,x:_,X:M,y:Vv,Y:Kv,Z:uz,"%":yz};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(L,k){return function(H){var K=[],ue=-1,fe=0,Se=L.length,ie,je,oe;for(H instanceof Date||(H=new Date(+H));++ue<Se;)L.charCodeAt(ue)===37&&(K.push(L.slice(fe,ue)),(je=Uv[ie=L.charAt(++ue)])!=null?ie=L.charAt(++ue):je=ie==="e"?" ":"0",(oe=k[ie])&&(ie=oe(H,je)),K.push(ie),fe=ue+1);return K.push(L.slice(fe,ue)),K.join("")}}function A(L,k){return function(H){var K=Vo(1900,void 0,1),ue=C(K,L,H+="",0),fe,Se;if(ue!=H.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(k&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(fe=od(Vo(K.y,0,1)),Se=fe.getUTCDay(),fe=Se>4||Se===0?kl.ceil(fe):kl(fe),fe=tu.offset(fe,(K.V-1)*7),K.y=fe.getUTCFullYear(),K.m=fe.getUTCMonth(),K.d=fe.getUTCDate()+(K.w+6)%7):(fe=ad(Vo(K.y,0,1)),Se=fe.getDay(),fe=Se>4||Se===0?Il.ceil(fe):Il(fe),fe=ui.offset(fe,(K.V-1)*7),K.y=fe.getFullYear(),K.m=fe.getMonth(),K.d=fe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Se="Z"in K?od(Vo(K.y,0,1)).getUTCDay():ad(Vo(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Se+5)%7:K.w+K.U*7-(Se+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,od(K)):ad(K)}}function C(L,k,H,K){for(var ue=0,fe=k.length,Se=H.length,ie,je;ue<fe;){if(K>=Se)return-1;if(ie=k.charCodeAt(ue++),ie===37){if(ie=k.charAt(ue++),je=b[ie in Uv?k.charAt(ue++):ie],!je||(K=je(L,H,K))<0)return-1}else if(ie!=H.charCodeAt(K++))return-1}return K}function D(L,k,H){var K=u.exec(k.slice(H));return K?(L.p=f.get(K[0].toLowerCase()),H+K[0].length):-1}function R(L,k,H){var K=p.exec(k.slice(H));return K?(L.w=y.get(K[0].toLowerCase()),H+K[0].length):-1}function $(L,k,H){var K=d.exec(k.slice(H));return K?(L.w=h.get(K[0].toLowerCase()),H+K[0].length):-1}function P(L,k,H){var K=x.exec(k.slice(H));return K?(L.m=j.get(K[0].toLowerCase()),H+K[0].length):-1}function B(L,k,H){var K=m.exec(k.slice(H));return K?(L.m=g.get(K[0].toLowerCase()),H+K[0].length):-1}function T(L,k,H){return C(L,t,k,H)}function _(L,k,H){return C(L,r,k,H)}function M(L,k,H){return C(L,n,k,H)}function O(L){return i[L.getDay()]}function F(L){return s[L.getDay()]}function I(L){return c[L.getMonth()]}function Y(L){return l[L.getMonth()]}function re(L){return a[+(L.getHours()>=12)]}function J(L){return 1+~~(L.getMonth()/3)}function U(L){return i[L.getUTCDay()]}function se(L){return s[L.getUTCDay()]}function Ee(L){return c[L.getUTCMonth()]}function Be(L){return l[L.getUTCMonth()]}function de(L){return a[+(L.getUTCHours()>=12)]}function V(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var k=N(L+="",w);return k.toString=function(){return L},k},parse:function(L){var k=A(L+="",!1);return k.toString=function(){return L},k},utcFormat:function(L){var k=N(L+="",S);return k.toString=function(){return L},k},utcParse:function(L){var k=A(L+="",!0);return k.toString=function(){return L},k}}}var Uv={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,rz=/^%/,nz=/[\\^$*+?|[\]().{}]/g;function nt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function az(e){return e.replace(nz,"\\$&")}function zo(e){return new RegExp("^(?:"+e.map(az).join("|")+")","i")}function Wo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function oz(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sz(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function iz(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lz(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cz(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Kv(e,t,r){var n=Ft.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Vv(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dz(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fz(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function zv(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hz(e,t,r){var n=Ft.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Wv(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pz(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function mz(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gz(e,t,r){var n=Ft.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vz(e,t,r){var n=Ft.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yz(e,t,r){var n=rz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xz(e,t,r){var n=Ft.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bz(e,t,r){var n=Ft.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Hv(e,t){return nt(e.getDate(),t,2)}function wz(e,t){return nt(e.getHours(),t,2)}function jz(e,t){return nt(e.getHours()%12||12,t,2)}function Sz(e,t){return nt(1+ui.count(bn(e),e),t,3)}function ZS(e,t){return nt(e.getMilliseconds(),t,3)}function Nz(e,t){return ZS(e,t)+"000"}function Az(e,t){return nt(e.getMonth()+1,t,2)}function Cz(e,t){return nt(e.getMinutes(),t,2)}function Oz(e,t){return nt(e.getSeconds(),t,2)}function Pz(e){var t=e.getDay();return t===0?7:t}function Ez(e,t){return nt(ru.count(bn(e)-1,e),t,2)}function eN(e){var t=e.getDay();return t>=4||t===0?no(e):no.ceil(e)}function Dz(e,t){return e=eN(e),nt(no.count(bn(e),e)+(bn(e).getDay()===4),t,2)}function Tz(e){return e.getDay()}function $z(e,t){return nt(Il.count(bn(e)-1,e),t,2)}function _z(e,t){return nt(e.getFullYear()%100,t,2)}function Iz(e,t){return e=eN(e),nt(e.getFullYear()%100,t,2)}function kz(e,t){return nt(e.getFullYear()%1e4,t,4)}function Mz(e,t){var r=e.getDay();return e=r>=4||r===0?no(e):no.ceil(e),nt(e.getFullYear()%1e4,t,4)}function Rz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function Yv(e,t){return nt(e.getUTCDate(),t,2)}function Lz(e,t){return nt(e.getUTCHours(),t,2)}function Bz(e,t){return nt(e.getUTCHours()%12||12,t,2)}function Fz(e,t){return nt(1+tu.count(wn(e),e),t,3)}function tN(e,t){return nt(e.getUTCMilliseconds(),t,3)}function Uz(e,t){return tN(e,t)+"000"}function Kz(e,t){return nt(e.getUTCMonth()+1,t,2)}function Vz(e,t){return nt(e.getUTCMinutes(),t,2)}function zz(e,t){return nt(e.getUTCSeconds(),t,2)}function Wz(e){var t=e.getUTCDay();return t===0?7:t}function Hz(e,t){return nt(nu.count(wn(e)-1,e),t,2)}function rN(e){var t=e.getUTCDay();return t>=4||t===0?ao(e):ao.ceil(e)}function Yz(e,t){return e=rN(e),nt(ao.count(wn(e),e)+(wn(e).getUTCDay()===4),t,2)}function Gz(e){return e.getUTCDay()}function qz(e,t){return nt(kl.count(wn(e)-1,e),t,2)}function Xz(e,t){return nt(e.getUTCFullYear()%100,t,2)}function Qz(e,t){return e=rN(e),nt(e.getUTCFullYear()%100,t,2)}function Jz(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function Zz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ao(e):ao.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function e8(){return"+0000"}function Gv(){return"%"}function qv(e){return+e}function Xv(e){return Math.floor(+e/1e3)}var _a,nN,aN;t8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t8(e){return _a=tz(e),nN=_a.format,_a.parse,aN=_a.utcFormat,_a.utcParse,_a}function r8(e){return new Date(e)}function n8(e){return e instanceof Date?+e:+new Date(+e)}function Mp(e,t,r,n,a,s,i,l,c,u){var f=jp(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),j=u("%b %d"),w=u("%B"),S=u("%Y");function b(N){return(c(N)<N?p:l(N)<N?y:i(N)<N?m:s(N)<N?g:n(N)<N?a(N)<N?x:j:r(N)<N?w:S)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,n8)):h().map(r8)},f.ticks=function(N){var A=h();return e(A[0],A[A.length-1],N??10)},f.tickFormat=function(N,A){return A==null?b:u(A)},f.nice=function(N){var A=h();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?h(zS(A,N)):f},f.copy=function(){return ci(f,Mp(e,t,r,n,a,s,i,l,c,u))},f}function a8(){return Nr.apply(Mp(ZV,ez,bn,Ip,ru,ui,$p,Dp,ea,nN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o8(){return Nr.apply(Mp(QV,JV,wn,kp,nu,tu,_p,Tp,ea,aN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function au(){var e=0,t=1,r,n,a,s,i=Zt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(i=d,u):i};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,i=d(p,y),u):[i(0),i(1)]}}return u.range=f(Mo),u.rangeRound=f(wp),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function Vn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oN(){var e=Kn(au()(Zt));return e.copy=function(){return Vn(e,oN())},An.apply(e,arguments)}function sN(){var e=Ap(au()).domain([1,10]);return e.copy=function(){return Vn(e,sN()).base(e.base())},An.apply(e,arguments)}function iN(){var e=Cp(au());return e.copy=function(){return Vn(e,iN()).constant(e.constant())},An.apply(e,arguments)}function Rp(){var e=Op(au());return e.copy=function(){return Vn(e,Rp()).exponent(e.exponent())},An.apply(e,arguments)}function s8(){return Rp.apply(null,arguments).exponent(.5)}function lN(){var e=[],t=Zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ii(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($n),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>HK(e,s/n))},r.copy=function(){return lN(t).domain(e)},An.apply(r,arguments)}function ou(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=Zt,f,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+f(m))-s)*(n*m<n*s?l:c),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=f(e=+e),s=f(t=+t),i=f(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(g){var x,j,w;return arguments.length?([x,j,w]=g,u=yV(m,[x,j,w]),p):[u(0),u(.5),u(1)]}}return p.range=y(Mo),p.rangeRound=y(wp),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return f=m,a=m(e),s=m(t),i=m(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function cN(){var e=Kn(ou()(Zt));return e.copy=function(){return Vn(e,cN())},An.apply(e,arguments)}function uN(){var e=Ap(ou()).domain([.1,1,10]);return e.copy=function(){return Vn(e,uN()).base(e.base())},An.apply(e,arguments)}function dN(){var e=Cp(ou());return e.copy=function(){return Vn(e,dN()).constant(e.constant())},An.apply(e,arguments)}function Lp(){var e=Op(ou());return e.copy=function(){return Vn(e,Lp()).exponent(e.exponent())},An.apply(e,arguments)}function i8(){return Lp.apply(null,arguments).exponent(.5)}const Qv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ws,scaleDiverging:cN,scaleDivergingLog:uN,scaleDivergingPow:Lp,scaleDivergingSqrt:i8,scaleDivergingSymlog:dN,scaleIdentity:VS,scaleImplicit:xf,scaleLinear:$l,scaleLog:WS,scaleOrdinal:yp,scalePoint:as,scalePow:Pp,scaleQuantile:GS,scaleQuantize:qS,scaleRadial:YS,scaleSequential:oN,scaleSequentialLog:sN,scaleSequentialPow:Rp,scaleSequentialQuantile:lN,scaleSequentialSqrt:s8,scaleSequentialSymlog:iN,scaleSqrt:UV,scaleSymlog:HS,scaleThreshold:XS,scaleTime:a8,scaleUtc:o8,tickFormat:KS},Symbol.toStringTag,{value:"Module"}));var l8=Oo;function c8(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!l8(i):r(i,l)))var l=i,c=s}return c}var fN=c8;function u8(e,t){return e>t}var d8=u8,f8=fN,h8=d8,p8=Io;function m8(e){return e&&e.length?f8(e,p8,h8):void 0}var g8=m8;const su=dt(g8);function v8(e,t){return e<t}var y8=v8,x8=fN,b8=y8,w8=Io;function j8(e){return e&&e.length?x8(e,w8,b8):void 0}var S8=j8;const iu=dt(S8);var N8=Jh,A8=Un,C8=bS,O8=ar;function P8(e,t){var r=O8(e)?N8:C8;return r(e,A8(t))}var E8=P8,D8=yS,T8=E8;function $8(e,t){return D8(T8(e,t),1)}var _8=$8;const I8=dt(_8);var k8=hp;function M8(e,t){return k8(e,t)}var R8=M8;const lu=dt(R8);var Ro=1e9,L8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fp,gt=!0,jr="[DecimalError] ",aa=jr+"Invalid argument: ",Bp=jr+"Exponent out of range: ",Lo=Math.floor,Xn=Math.pow,B8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fr,Rt=1e7,ht=7,hN=9007199254740991,Ml=Lo(hN/ht),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ht;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(e){return mn(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,r=t.constructor;return lt(mn(t,new r(e),0,1),r.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return At(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(fr))throw Error(jr+"NaN");if(r.s<1)throw Error(jr+(r.s?"NaN":"-Infinity"));return r.eq(fr)?new n(0):(gt=!1,t=mn(Cs(r,s),Cs(e,s),s),gt=!0,lt(t,a))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gN(t,e):pN(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(jr+"NaN");return r.s?(gt=!1,t=mn(r,e,0,1).times(e),gt=!0,r.minus(t)):lt(new n(r),a)};Pe.naturalExponential=Pe.exp=function(){return mN(this)};Pe.naturalLogarithm=Pe.ln=function(){return Cs(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pN(t,e):gN(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(aa+e);if(t=At(a)+1,n=a.d.length-1,r=n*ht+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pe.squareRoot=Pe.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(jr+"NaN")}for(e=At(l),gt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=qr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Lo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(mn(l,s,i+2)).times(.5),qr(s.d).slice(0,i)===(t=qr(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(lt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return gt=!0,lt(n,r)};Pe.times=Pe.mul=function(e){var t,r,n,a,s,i,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%Rt|0,t=l/Rt|0;s[a]=(s[a]+t)%Rt|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,gt?lt(e,d.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(en(e,0,Ro),t===void 0?t=n.rounding:en(t,0,8),lt(r,e+At(r)+1,t))};Pe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ga(n,!0):(en(e,0,Ro),t===void 0?t=a.rounding:en(t,0,8),n=lt(new a(n),e+1,t),r=ga(n,!0,e+1)),r};Pe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ga(a):(en(e,0,Ro),t===void 0?t=s.rounding:en(t,0,8),n=lt(new s(a),e+At(a)+1,t),r=ga(n.abs(),!1,e+At(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return lt(new t(e),At(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(fr);if(l=new c(l),!l.s){if(e.s<1)throw Error(jr+"Infinity");return l}if(l.eq(fr))return l;if(n=c.precision,e.eq(fr))return lt(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=f<0?-f:f)<=hN){for(a=new c(fr),t=Math.ceil(n/ht+4),gt=!1;r%2&&(a=a.times(l),Zv(a.d,t)),r=Lo(r/2),r!==0;)l=l.times(l),Zv(l.d,t);return gt=!0,e.s<0?new c(fr).div(a):lt(a,n)}}else if(s<0)throw Error(jr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,gt=!1,a=e.times(Cs(l,n+u)),gt=!0,a=mN(a),a.s=s,a};Pe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=At(a),n=ga(a,r<=s.toExpNeg||r>=s.toExpPos)):(en(e,1,Ro),t===void 0?t=s.rounding:en(t,0,8),a=lt(new s(a),e,t),r=At(a),n=ga(a,e<=r||r<=s.toExpNeg,e)),n};Pe.toSignificantDigits=Pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(en(e,1,Ro),t===void 0?t=n.rounding:en(t,0,8)),lt(new n(r),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=At(e),r=e.constructor;return ga(e,t<=r.toExpNeg||t>=r.toExpPos)};function pN(e,t){var r,n,a,s,i,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),gt?lt(t,d):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(d/ht),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Rt|0,c[s]%=Rt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,gt?lt(t,d):t}function en(e,t,r){if(e!==~~e||e<t||e>r)throw Error(aa+e)}function qr(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=ht-n.length,r&&(s+=Pn(r)),s+=n;i=e[t],n=i+"",r=ht-n.length,r&&(s+=Pn(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var mn=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Rt|0,i=s/Rt|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Rt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,f,d,h,p,y,m,g,x,j,w,S,b,N,A,C,D=n.constructor,R=n.s==a.s?1:-1,$=n.d,P=a.d;if(!n.s)return new D(n);if(!a.s)throw Error(jr+"Division by zero");for(c=n.e-a.e,A=P.length,b=$.length,p=new D(R),y=p.d=[],u=0;P[u]==($[u]||0);)++u;if(P[u]>($[u]||0)&&--c,s==null?j=s=D.precision:i?j=s+(At(n)-At(a))+1:j=s,j<0)return new D(0);if(j=j/ht+2|0,u=0,A==1)for(f=0,P=P[0],j++;(u<b||f)&&j--;u++)w=f*Rt+($[u]||0),y[u]=w/P|0,f=w%P|0;else{for(f=Rt/(P[0]+1)|0,f>1&&(P=e(P,f),$=e($,f),A=P.length,b=$.length),S=A,m=$.slice(0,A),g=m.length;g<A;)m[g++]=0;C=P.slice(),C.unshift(0),N=P[0],P[1]>=Rt/2&&++N;do f=0,l=t(P,m,A,g),l<0?(x=m[0],A!=g&&(x=x*Rt+(m[1]||0)),f=x/N|0,f>1?(f>=Rt&&(f=Rt-1),d=e(P,f),h=d.length,g=m.length,l=t(d,m,h,g),l==1&&(f--,r(d,A<h?C:P,h))):(f==0&&(l=f=1),d=P.slice()),h=d.length,h<g&&d.unshift(0),r(m,d,g),l==-1&&(g=m.length,l=t(P,m,A,g),l<1&&(f++,r(m,A<g?C:P,g))),g=m.length):l===0&&(f++,m=[0]),y[u++]=f,l&&m[0]?m[g++]=$[S]||0:(m=[$[S]],g=1);while((S++<b||m[0]!==void 0)&&j--)}return y[0]||y.shift(),p.e=c,lt(p,i?s+At(p)+1:s)}}();function mN(e,t){var r,n,a,s,i,l,c=0,u=0,f=e.constructor,d=f.precision;if(At(e)>16)throw Error(Bp+At(e));if(!e.s)return new f(fr);for(gt=!1,l=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Xn(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new f(fr),f.precision=l;;){if(a=lt(a.times(e),l),r=r.times(++c),i=s.plus(mn(a,r,l)),qr(i.d).slice(0,l)===qr(s.d).slice(0,l)){for(;u--;)s=lt(s.times(s),l);return f.precision=d,t==null?(gt=!0,lt(s,d)):s}s=i}}function At(e){for(var t=e.e*ht,r=e.d[0];r>=10;r/=10)t++;return t}function sd(e,t,r){if(t>e.LN10.sd())throw gt=!0,r&&(e.precision=r),Error(jr+"LN10 precision limit exceeded");return lt(new e(e.LN10),t)}function Pn(e){for(var t="";e--;)t+="0";return t}function Cs(e,t){var r,n,a,s,i,l,c,u,f,d=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(jr+(p.s?"NaN":"-Infinity"));if(p.eq(fr))return new m(0);if(t==null?(gt=!1,u=g):u=t,p.eq(10))return t==null&&(gt=!0),sd(m,u);if(u+=h,m.precision=u,r=qr(y),n=r.charAt(0),s=At(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=qr(p.d),n=r.charAt(0),d++;s=At(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=sd(m,u+2,g).times(s+""),p=Cs(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=g,t==null?(gt=!0,lt(p,g)):p;for(l=i=p=mn(p.minus(fr),p.plus(fr),u),f=lt(p.times(p),u),a=3;;){if(i=lt(i.times(f),u),c=l.plus(mn(i,new m(a),u)),qr(c.d).slice(0,u)===qr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(sd(m,u+2,g).times(s+""))),l=mn(l,new m(d),u),m.precision=g,t==null?(gt=!0,lt(l,g)):l;l=c,a+=2}}function Jv(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Lo(r/ht),e.d=[],n=(r+1)%ht,r<0&&(n+=ht),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ht;n<a;)e.d.push(+t.slice(n,n+=ht));t=t.slice(n),n=ht-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),gt&&(e.e>Ml||e.e<-Ml))throw Error(Bp+r)}else e.s=0,e.e=0,e.d=[0];return e}function lt(e,t,r){var n,a,s,i,l,c,u,f,d=e.d;for(i=1,s=d[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=ht,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/ht),s=d.length,f>=s)return e;for(u=s=d[f],i=1;s>=10;s/=10)i++;n%=ht,a=n-ht+i}if(r!==void 0&&(s=Xn(10,i-a-1),l=u/s%10|0,c=t<0||d[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Xn(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=At(e),d.length=1,t=t-s-1,d[0]=Xn(10,(ht-t%ht)%ht),e.e=Lo(-t/ht)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,s=1,f--):(d.length=f+1,s=Xn(10,ht-n),d[f]=a>0?(u/Xn(10,i-a)%Xn(10,a)|0)*s:0),c)for(;;)if(f==0){(d[0]+=s)==Rt&&(d[0]=1,++e.e);break}else{if(d[f]+=s,d[f]!=Rt)break;d[f--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(gt&&(e.e>Ml||e.e<-Ml))throw Error(Bp+At(e));return e}function gN(e,t){var r,n,a,s,i,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),gt?lt(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(f=i<0,f?(r=c,i=-i,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(p/ht),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}i=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(s=a;s&&c[--s]===0;)c[s]=Rt-1;--c[s],c[a]+=Rt}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,gt?lt(t,p):t):new h(0)}function ga(e,t,r){var n,a=At(e),s=qr(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Pn(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Pn(-a-1)+s,r&&(n=r-i)>0&&(s+=Pn(n))):a>=i?(s+=Pn(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Pn(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Pn(n))),e.s<0?"-"+s:s}function Zv(e,t){if(e.length>t)return e.length=t,!0}function vN(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(aa+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return Jv(i,s.toString())}else if(typeof s!="string")throw Error(aa+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,B8.test(s))Jv(i,s);else throw Error(aa+s)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vN,a.config=a.set=F8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function F8(e){if(!e||typeof e!="object")throw Error(jr+"Object expected");var t,r,n,a=["precision",1,Ro,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Lo(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(aa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(aa+r+": "+n);return this}var Fp=vN(L8);fr=new Fp(1);const it=Fp;function U8(e){return W8(e)||z8(e)||V8(e)||K8()}function K8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8(e,t){if(e){if(typeof e=="string")return Sf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sf(e,t)}}function z8(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W8(e){if(Array.isArray(e))return Sf(e)}function Sf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H8=function(t){return t},yN={},xN=function(t){return t===yN},ey=function(t){return function r(){return arguments.length===0||arguments.length===1&&xN(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Y8=function e(t,r){return t===1?r:ey(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==yN}).length;return i>=t?r.apply(void 0,a):e(t-i,ey(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return xN(d)?c.shift():d});return r.apply(void 0,U8(f).concat(c))}))})},cu=function(t){return Y8(t.length,t)},Nf=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},G8=cu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),q8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H8;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Af=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bN=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function X8(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function Q8(e,t,r){for(var n=new it(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var J8=cu(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Z8=cu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),eW=cu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const uu={rangeStep:Q8,getDigitCount:X8,interpolateNumber:J8,uninterpolateNumber:Z8,uninterpolateTruncation:eW};function Cf(e){return nW(e)||rW(e)||wN(e)||tW()}function tW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nW(e){if(Array.isArray(e))return Of(e)}function Os(e,t){return sW(e)||oW(e,t)||wN(e,t)||aW()}function aW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wN(e,t){if(e){if(typeof e=="string")return Of(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Of(e,t)}}function Of(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function sW(e){if(Array.isArray(e))return e}function jN(e){var t=Os(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function SN(e,t,r){if(e.lte(0))return new it(0);var n=uu.getDigitCount(e.toNumber()),a=new it(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new it(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new it(Math.ceil(c))}function iW(e,t,r){var n=1,a=new it(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new it(10).pow(uu.getDigitCount(e)-1),a=new it(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new it(Math.floor(e)))}else e===0?a=new it(Math.floor((t-1)/2)):r||(a=new it(Math.floor(e)));var i=Math.floor((t-1)/2),l=q8(G8(function(c){return a.add(new it(c-i).mul(n)).toNumber()}),Nf);return l(0,t)}function NN(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var s=SN(new it(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new it(0):(i=new it(e).add(t).div(2),i=i.sub(new it(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new it(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?NN(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new it(l).mul(s)),tickMax:i.add(new it(c).mul(s))})}function lW(e){var t=Os(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=jN([r,n]),c=Os(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Cf(Nf(0,a-1).map(function(){return 1/0}))):[].concat(Cf(Nf(0,a-1).map(function(){return-1/0})),[f]);return r>n?Af(d):d}if(u===f)return iW(u,a,s);var h=NN(u,f,i,s),p=h.step,y=h.tickMin,m=h.tickMax,g=uu.rangeStep(y,m.add(new it(.1).mul(p)),p);return r>n?Af(g):g}function cW(e,t){var r=Os(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=jN([n,a]),l=Os(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=SN(new it(u).sub(c).div(f-1),s,0),h=[].concat(Cf(uu.rangeStep(new it(c),new it(u).sub(new it(.99).mul(d)),d)),[u]);return n>a?Af(h):h}var uW=bN(lW),dW=bN(cW),fW="Invariant failed";function va(e,t){throw new Error(fW)}var hW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}function pW(e,t){return yW(e)||vW(e,t)||gW(e,t)||mW()}function mW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function yW(e){if(Array.isArray(e))return e}function xW(e,t){if(e==null)return{};var r=bW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ON(n.key),n)}}function SW(e,t,r){return t&&jW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NW(e,t,r){return t=Ll(t),AW(e,AN()?Reflect.construct(t,r||[],Ll(e).constructor):t.apply(e,r))}function AW(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CW(e)}function CW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AN=function(){return!!e})()}function Ll(e){return Ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ll(e)}function OW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pf(e,t)}function Pf(e,t){return Pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pf(e,t)}function CN(e,t,r){return t=ON(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ON(e){var t=PW(e,"string");return oo(t)=="symbol"?t:t+""}function PW(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var di=function(e){function t(){return wW(this,t),NW(this,t,arguments)}return OW(t,e),SW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=xW(n,hW),p=Xe(h,!1);this.props.direction==="x"&&f.type!=="number"&&va();var y=c.map(function(m){var g=u(m,l),x=g.x,j=g.y,w=g.value,S=g.errorVal;if(!S)return null;var b=[],N,A;if(Array.isArray(S)){var C=pW(S,2);N=C[0],A=C[1]}else N=A=S;if(s==="vertical"){var D=f.scale,R=j+a,$=R+i,P=R-i,B=D(w-N),T=D(w+A);b.push({x1:T,y1:$,x2:T,y2:P}),b.push({x1:B,y1:R,x2:T,y2:R}),b.push({x1:B,y1:$,x2:B,y2:P})}else if(s==="horizontal"){var _=d.scale,M=x+a,O=M-i,F=M+i,I=_(w-N),Y=_(w+A);b.push({x1:O,y1:Y,x2:F,y2:Y}),b.push({x1:M,y1:I,x2:M,y2:Y}),b.push({x1:O,y1:I,x2:F,y2:I})}return E.createElement(St,Rl({className:"recharts-errorBar",key:"bar-".concat(b.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),b.map(function(re){return E.createElement("line",Rl({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return E.createElement(St,{className:"recharts-errorBars"},y)}}])}(E.Component);CN(di,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CN(di,"displayName","ErrorBar");function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ry(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return t=DW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=TW(e,"string");return Ps(t)=="symbol"?t:t+""}function TW(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PN=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=cr(r,Wa);if(!i)return null;var l=Wa.defaultProps,c=l!==void 0?Hn(Hn({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Hn(Hn({},h),d.props):{},y=p.dataKey,m=p.name,g=p.legendType,x=p.hide;return{inactive:x,dataKey:y,type:c.iconType||g||"square",color:Up(d),value:m||y,payload:p}}),Hn(Hn(Hn({},c),Wa.getWithHeight(i,a)),{},{payload:u,item:i})};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function ny(e){return kW(e)||IW(e)||_W(e)||$W()}function $W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(e,t){if(e){if(typeof e=="string")return Ef(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ef(e,t)}}function IW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kW(e){if(Array.isArray(e))return Ef(e)}function Ef(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ay(Object(r),!0).forEach(function(n){Ya(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ya(e,t,r){return t=MW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=RW(e,"string");return Es(t)=="symbol"?t:t+""}function RW(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pr(e,t,r){return He(e)||He(t)?r:It(t)?br(e,t,r):We(t)?t(e):r}function os(e,t,r,n){var a=I8(e,function(l){return pr(l,t)});if(r==="number"){var s=a.filter(function(l){return be(l)||parseFloat(l)});return s.length?[iu(s),su(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!He(l)}):a;return i.map(function(l){return It(l)||l instanceof Date?l:""})}var LW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(_r(d-f)!==_r(h-d)){var y=[];if(_r(h-d)===_r(c[1]-c[0])){p=h;var m=d+c[1]-c[0];y[0]=Math.min(m,(m+f)/2),y[1]=Math.max(m,(m+f)/2)}else{p=f;var g=h+c[1]-c[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){i=a[u].index;break}}else{var j=Math.min(f,h),w=Math.max(f,h);if(t>(j+d)/2&&t<=(w+d)/2){i=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},Up=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},BW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],m=y.items,g=y.cateAxisId,x=m.filter(function(A){return hn(A.type).indexOf("Bar")>=0});if(x&&x.length){var j=x[0].type.defaultProps,w=j!==void 0?bt(bt({},j),x[0].props):x[0].props,S=w.barSize,b=w[g];i[b]||(i[b]=[]);var N=He(S)?r:S;i[b].push({item:x[0],stackList:x.slice(1),barSize:He(N)?void 0:ma(N,n,0)})}}return i},FW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ma(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/c,y=i.reduce(function(S,b){return S+b.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,g={offset:m-u,size:0};f=i.reduce(function(S,b){var N={item:b.item,position:{offset:g.offset+g.size+u,size:h?p:b.barSize}},A=[].concat(ny(S),[N]);return g=A[A.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(C){A.push({item:C,position:g})}),A},d)}else{var x=ma(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var j=(a-2*x-(c-1)*u)/c;j>1&&(j>>=0);var w=l===+l?Math.min(j,l):j;f=i.reduce(function(S,b,N){var A=[].concat(ny(S),[{item:b.item,position:{offset:x+(j+u)*N+(j-w)/2,size:w}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return f},UW=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=PN({children:s,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&be(t[p]))return bt(bt({},t),{},Ya({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&be(t[y]))return bt(bt({},t),{},Ya({},y,t[y]+(h||0)))}return t},KW=function(t,r,n){return He(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},EN=function(t,r,n,a,s){var i=r.props.children,l=wr(i,di).filter(function(u){return KW(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=pr(f,n);if(He(d))return u;var h=Array.isArray(d)?[iu(d),su(d)]:[d,d],p=c.reduce(function(y,m){var g=pr(f,m,0),x=h[0]-Math.abs(Array.isArray(g)?g[0]:g),j=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,y[0]),Math.max(j,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},VW=function(t,r,n,a,s){var i=r.map(function(l){return EN(t,l,n,s,a)}).filter(function(l){return!He(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},DN=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&EN(t,c,u,a)||os(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},TN=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$N=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},dn=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_r(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!ai(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:s?s[d]:d,index:h,offset:u}})},id=new WeakMap,_i=function(t,r){if(typeof r!="function")return t;id.has(t)||id.set(t,new WeakMap);var n=id.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},zW=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:ws(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:$l(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:as(),realScaleType:"point"}:s==="category"?{scale:ws(),realScaleType:"band"}:{scale:$l(),realScaleType:"linear"};if(pa(a)){var c="scale".concat(Hc(a));return{scale:(Qv[c]||as)(),realScaleType:Qv[c]?c:"point"}}return We(a)?{scale:a}:{scale:as(),realScaleType:"point"}},oy=1e-4,WW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-oy,i=Math.max(a[0],a[1])+oy,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},HW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},YW=function(t,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!be(t[0])||t[0]<n)&&(s[0]=n),(!be(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},GW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=ai(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},qW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=ai(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},XW={sign:GW,expand:dR,none:Qa,silhouette:fR,wiggle:hR,positive:qW},QW=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=XW[n],i=uR().keys(a).value(function(l,c){return+pr(l,c,0)}).order(Zd).offset(s);return i(t)},JW=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return d;var x=y[n],j=d[x]||{hasStack:!1,stackGroups:{}};if(It(m)){var w=j.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),j.hasStack=!0,j.stackGroups[m]=w}else j.stackGroups[oi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return bt(bt({},d),{},Ya({},x,j))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var x=p.stackGroups[g];return bt(bt({},m),{},Ya({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:QW(t,x.items,s)}))},y)}return bt(bt({},d),{},Ya({},h,p))},f)},ZW=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=uW(u,s,l);return t.domain([iu(f),su(f)]),{niceTicks:f}}if(s&&a==="number"){var d=t.domain(),h=dW(d,s,l);return{niceTicks:h}}return null};function sy(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(a[t.dataKey])){var l=cl(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=pr(a,He(i)?t.dataKey:i);return He(c)?null:t.scale(c)}var iy=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=pr(i,r.dataKey,r.domain[l]);return He(c)?null:r.scale(c)-s/2+a},eH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},tH=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(It(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},rH=function(t){return t.reduce(function(r,n){return[iu(n.concat([r[0]]).filter(be)),su(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},_N=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,f){var d=rH(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ly=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Df=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(be(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ly.test(t[0])){var s=+ly.exec(t[0])[1];a[0]=r[0]-s}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(be(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(cy.test(t[1])){var i=+cy.exec(t[1])[1];a[1]=r[1]+i}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Bl=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=mp(r,function(d){return d.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},uy=function(t,r,n){return!t||!t.length||lu(t,br(n,"type.defaultProps.domain"))?r:t},IN=function(t,r){var n=t.type.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return bt(bt({},Xe(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:Up(t),value:pr(r,a),type:c,payload:r,chartType:u,hide:f})};function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dy(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return t=aH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=oH(e,"string");return Ds(t)=="symbol"?t:t+""}function oH(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fl=Math.PI/180,sH=function(t){return t*180/Math.PI},zt=function(t,r,n,a){return{x:t+Math.cos(-Fl*a)*n,y:r+Math.sin(-Fl*a)*n}},iH=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},lH=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=iH({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:sH(u),angleInRadian:u}},cH=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},uH=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},hy=function(t,r){var n=t.x,a=t.y,s=lH({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var f=cH(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?fy(fy({},r),{},{radius:i,angle:uH(p,r)}):null};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var dH=["offset"];function fH(e){return gH(e)||mH(e)||pH(e)||hH()}function hH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return Tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tf(e,t)}}function mH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gH(e){if(Array.isArray(e))return Tf(e)}function Tf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vH(e,t){if(e==null)return{};var r=yH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?py(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return Ts(t)=="symbol"?t:t+""}function wH(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$s.apply(this,arguments)}var jH=function(t){var r=t.value,n=t.formatter,a=He(t.children)?r:t.children;return We(n)?n(a):a},SH=function(t,r){var n=_r(r-t),a=Math.min(Math.abs(r-t),360);return n*a},NH=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,g=(d+h)/2,x=SH(p,y),j=x>=0?1:-1,w,S;a==="insideStart"?(w=p+j*i,S=m):a==="insideEnd"?(w=y-j*i,S=!m):a==="end"&&(w=y+j*i,S=m),S=x<=0?S:!S;var b=zt(u,f,g,w),N=zt(u,f,g,w+(S?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),C=He(t.id)?oi("recharts-radial-line-"):t.id;return E.createElement("text",$s({},n,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:C,d:A})),E.createElement("textPath",{xlinkHref:"#".concat(C)},r))},AH=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,h=(f+d)/2;if(a==="outside"){var p=zt(i,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=zt(i,l,g,h),j=x.x,w=x.y;return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},CH=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",y=d>0?"start":"end",m=u>=0?1:-1,g=m*a,x=m>0?"end":"start",j=m>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:p};return Dt(Dt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return Dt(Dt({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var b={x:l-g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Dt(Dt({},b),n?{width:Math.max(b.x-n.x,0),height:f}:{})}if(s==="right"){var N={x:l+u+g,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return Dt(Dt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:f}:{})}var A=n?{width:u,height:f}:{};return s==="insideLeft"?Dt({x:l+g,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},A):s==="insideRight"?Dt({x:l+u-g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideTop"?Dt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},A):s==="insideBottom"?Dt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?Dt({x:l+g,y:c+h,textAnchor:j,verticalAnchor:y},A):s==="insideTopRight"?Dt({x:l+u-g,y:c+h,textAnchor:x,verticalAnchor:y},A):s==="insideBottomLeft"?Dt({x:l+g,y:c+f-h,textAnchor:j,verticalAnchor:p},A):s==="insideBottomRight"?Dt({x:l+u-g,y:c+f-h,textAnchor:x,verticalAnchor:p},A):Po(s)&&(be(s.x)||Jn(s.x))&&(be(s.y)||Jn(s.y))?Dt({x:l+ma(s.x,u),y:c+ma(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):Dt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},OH=function(t){return"cx"in t&&be(t.cx)};function Yt(e){var t=e.offset,r=t===void 0?5:t,n=vH(e,dH),a=Dt({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!s||He(l)&&He(c)&&!v.isValidElement(u)&&!We(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var p;if(We(u)){if(p=v.createElement(u,a),v.isValidElement(p))return p}else p=jH(a);var y=OH(s),m=Xe(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return NH(a,p,m);var g=y?AH(a):CH(a);return E.createElement(Al,$s({className:Qe("recharts-label",d)},m,g,{breakAll:h}),p)}Yt.displayName="Label";var kN=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,x=t.clockWise,j=t.labelViewBox;if(j)return j;if(be(m)&&be(g)){if(be(d)&&be(h))return{x:d,y:h,width:m,height:g};if(be(p)&&be(y))return{x:p,y,width:m,height:g}}return be(d)&&be(h)?{x:d,y:h,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},PH=function(t,r){return t?t===!0?E.createElement(Yt,{key:"label-implicit",viewBox:r}):It(t)?E.createElement(Yt,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===Yt?v.cloneElement(t,{key:"label-implicit",viewBox:r}):E.createElement(Yt,{key:"label-implicit",content:t,viewBox:r}):We(t)?E.createElement(Yt,{key:"label-implicit",content:t,viewBox:r}):Po(t)?E.createElement(Yt,$s({viewBox:r},t,{key:"label-implicit"})):null:null},EH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=kN(t),i=wr(a,Yt).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=PH(t.label,r||s);return[l].concat(fH(i))};Yt.parseViewBox=kN;Yt.renderCallByParent=EH;function DH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var TH=DH;const $H=dt(TH);function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}var _H=["valueAccessor"],IH=["data","dataKey","clockWise","id","textBreakAll"];function kH(e){return BH(e)||LH(e)||RH(e)||MH()}function MH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}}function LH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BH(e){if(Array.isArray(e))return $f(e)}function $f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=KH(e,"string");return _s(t)=="symbol"?t:t+""}function KH(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vy(e,t){if(e==null)return{};var r=VH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zH=function(t){return Array.isArray(t.value)?$H(t.value):t.value};function _n(e){var t=e.valueAccessor,r=t===void 0?zH:t,n=vy(e,_H),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=vy(n,IH);return!a||!a.length?null:E.createElement(St,{className:"recharts-label-list"},a.map(function(f,d){var h=He(s)?r(f,d):pr(f&&f.payload,s),p=He(l)?{}:{id:"".concat(l,"-").concat(d)};return E.createElement(Yt,Ul({},Xe(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Yt.parseViewBox(He(i)?f:gy(gy({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}_n.displayName="LabelList";function WH(e,t){return e?e===!0?E.createElement(_n,{key:"labelList-implicit",data:t}):E.isValidElement(e)||We(e)?E.createElement(_n,{key:"labelList-implicit",data:t,content:e}):Po(e)?E.createElement(_n,Ul({data:t},e,{key:"labelList-implicit"})):null:null}function HH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wr(n,_n).map(function(i,l){return v.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=WH(e.label,t);return[s].concat(kH(a))}_n.renderCallByParent=HH;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){YH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YH(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=qH(e,"string");return Is(t)=="symbol"?t:t+""}function qH(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XH=function(t,r){var n=_r(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ii=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Fl,h=u?s:s+i*d,p=zt(r,n,f,h),y=zt(r,n,a,h),m=u?s-i*d:s,g=zt(r,n,f*Math.cos(d*Fl),m);return{center:p,circleTangency:y,lineTangency:g,theta:d}},MN=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=XH(i,l),u=i+c,f=zt(r,n,s,i),d=zt(r,n,s,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=zt(r,n,a,i),y=zt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},QH=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=_r(f-u),h=Ii({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:i,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=Ii({cx:r,cy:n,radius:s,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:c}),x=g.circleTangency,j=g.lineTangency,w=g.theta,S=c?Math.abs(u-f):Math.abs(u-f)-m-w;if(S<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):MN({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f});var b="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var N=Ii({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=N.circleTangency,C=N.lineTangency,D=N.theta,R=Ii({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),$=R.circleTangency,P=R.lineTangency,B=R.theta,T=c?Math.abs(u-f):Math.abs(u-f)-D-B;if(T<0&&i===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},JH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RN=function(t){var r=xy(xy({},JH),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<s||f===d)return null;var p=Qe("recharts-sector",h),y=i-s,m=ma(l,y,0,!0),g;return m>0&&Math.abs(f-d)<360?g=QH({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):g=MN({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:d}),E.createElement("path",_f({},Xe(r,!0),{className:p,d:g,role:"img"}))};function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function by(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?by(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):by(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return t=e7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=t7(e,"string");return ks(t)=="symbol"?t:t+""}function t7(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy={curveBasisClosed:Z2,curveBasisOpen:eR,curveBasis:J2,curveBumpX:L2,curveBumpY:B2,curveLinearClosed:tR,curveLinear:Gc,curveMonotoneX:rR,curveMonotoneY:nR,curveNatural:aR,curveStep:oR,curveStepAfter:iR,curveStepBefore:sR},ki=function(t){return t.x===+t.x&&t.y===+t.y},Ho=function(t){return t.x},Yo=function(t){return t.y},r7=function(t,r){if(We(t))return t;var n="curve".concat(Hc(t));return(n==="curveMonotone"||n==="curveBump")&&r?jy["".concat(n).concat(r==="vertical"?"Y":"X")]:jy[n]||Gc},n7=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=r7(n,l),d=u?s.filter(function(m){return ki(m)}):s,h;if(Array.isArray(i)){var p=u?i.filter(function(m){return ki(m)}):i,y=d.map(function(m,g){return wy(wy({},m),{},{base:p[g]})});return l==="vertical"?h=Ai().y(Yo).x1(Ho).x0(function(m){return m.base.x}):h=Ai().x(Ho).y1(Yo).y0(function(m){return m.base.y}),h.defined(ki).curve(f),h(y)}return l==="vertical"&&be(i)?h=Ai().y(Yo).x1(Ho).x0(i):be(i)?h=Ai().x(Ho).y1(Yo).y0(i):h=Rj().x(Ho).y(Yo),h.defined(ki).curve(f),h(d)},kf=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?n7(t):a;return v.createElement("path",If({},Xe(t,!1),ul(t),{className:Qe("recharts-curve",r),d:i,ref:s}))},LN={exports:{}},a7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o7=a7,s7=o7;function BN(){}function FN(){}FN.resetWarningCache=BN;var i7=function(){function e(n,a,s,i,l,c){if(c!==s7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FN,resetWarningCache:BN};return r.PropTypes=r,r};LN.exports=i7();var l7=LN.exports;const at=dt(l7);var c7=Object.getOwnPropertyNames,u7=Object.getOwnPropertySymbols,d7=Object.prototype.hasOwnProperty;function Sy(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Mi(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function Ny(e){return c7(e).concat(u7(e))}var f7=Object.hasOwn||function(e,t){return d7.call(e,t)};function Aa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var h7="__v",p7="__o",m7="_owner",Ay=Object.getOwnPropertyDescriptor,Cy=Object.keys;function g7(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function v7(e,t){return Aa(e.getTime(),t.getTime())}function y7(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function x7(e,t){return e===t}function Oy(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=i.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var b7=Aa;function w7(e,t,r){var n=Cy(e),a=n.length;if(Cy(t).length!==a)return!1;for(;a-- >0;)if(!UN(e,t,r,n[a]))return!1;return!0}function Go(e,t,r){var n=Ny(e),a=n.length;if(Ny(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!UN(e,t,r,s)||(i=Ay(e,s),l=Ay(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function j7(e,t){return Aa(e.valueOf(),t.valueOf())}function S7(e,t){return e.source===t.source&&e.flags===t.flags}function Py(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function N7(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function A7(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UN(e,t,r,n){return(n===m7||n===p7||n===h7)&&(e.$$typeof||t.$$typeof)?!0:f7(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var C7="[object Arguments]",O7="[object Boolean]",P7="[object Date]",E7="[object Error]",D7="[object Map]",T7="[object Number]",$7="[object Object]",_7="[object RegExp]",I7="[object Set]",k7="[object String]",M7="[object URL]",R7=Array.isArray,Ey=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Dy=Object.assign,L7=Object.prototype.toString.call.bind(Object.prototype.toString);function B7(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var x=typeof y;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?i(y,m,g):x==="function"?a(y,m,g):!1;var j=y.constructor;if(j!==m.constructor)return!1;if(j===Object)return l(y,m,g);if(R7(y))return t(y,m,g);if(Ey!=null&&Ey(y))return d(y,m,g);if(j===Date)return r(y,m,g);if(j===RegExp)return u(y,m,g);if(j===Map)return s(y,m,g);if(j===Set)return f(y,m,g);var w=L7(y);return w===P7?r(y,m,g):w===_7?u(y,m,g):w===D7?s(y,m,g):w===I7?f(y,m,g):w===$7?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,g):w===M7?h(y,m,g):w===E7?n(y,m,g):w===C7?l(y,m,g):w===O7||w===T7||w===k7?c(y,m,g):!1}}function F7(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Go:g7,areDatesEqual:v7,areErrorsEqual:y7,areFunctionsEqual:x7,areMapsEqual:n?Sy(Oy,Go):Oy,areNumbersEqual:b7,areObjectsEqual:n?Go:w7,arePrimitiveWrappersEqual:j7,areRegExpsEqual:S7,areSetsEqual:n?Sy(Py,Go):Py,areTypedArraysEqual:n?Go:N7,areUrlsEqual:A7};if(r&&(a=Dy({},a,r(a))),t){var s=Mi(a.areArraysEqual),i=Mi(a.areMapsEqual),l=Mi(a.areObjectsEqual),c=Mi(a.areSetsEqual);a=Dy({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function U7(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function K7(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var V7=zn();zn({strict:!0});zn({circular:!0});zn({circular:!0,strict:!0});zn({createInternalComparator:function(){return Aa}});zn({strict:!0,createInternalComparator:function(){return Aa}});zn({circular:!0,createInternalComparator:function(){return Aa}});zn({circular:!0,createInternalComparator:function(){return Aa},strict:!0});function zn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=F7(e),c=B7(l),u=n?n(c):U7(c);return K7({circular:r,comparator:c,createState:a,equals:u,strict:i})}function z7(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ty(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):z7(a)};requestAnimationFrame(n)}function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function W7(e){return q7(e)||G7(e)||Y7(e)||H7()}function H7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q7(e){if(Array.isArray(e))return e}function X7(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=W7(i),c=l[0],u=l.slice(1);if(typeof c=="number"){Ty(a.bind(null,u),c);return}a(c),Ty(a.bind(null,u));return}Mf(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function _y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(r),!0).forEach(function(n){KN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KN(e,t,r){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=J7(e,"string");return Ms(t)==="symbol"?t:String(t)}function J7(e,t){if(Ms(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},e9=function(t){return t},t9=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ss=function(t,r){return Object.keys(r).reduce(function(n,a){return Iy(Iy({},n),{},KN({},a,t(a,r[a])))},{})},ky=function(t,r,n){return t.map(function(a){return"".concat(t9(a)," ").concat(r,"ms ").concat(n)}).join(",")};function r9(e,t){return o9(e)||a9(e,t)||VN(e,t)||n9()}function n9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function o9(e){if(Array.isArray(e))return e}function s9(e){return c9(e)||l9(e)||VN(e)||i9()}function i9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VN(e,t){if(e){if(typeof e=="string")return Rf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rf(e,t)}}function l9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c9(e){if(Array.isArray(e))return Rf(e)}function Rf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kl=1e-4,zN=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WN=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},My=function(t,r){return function(n){var a=zN(t,r);return WN(a,n)}},u9=function(t,r){return function(n){var a=zN(t,r),s=[].concat(s9(a.map(function(i,l){return i*l}).slice(1)),[0]);return WN(s,n)}},Ry=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=r9(u,4);a=f[0],s=f[1],i=f[2],l=f[3]}}}var d=My(a,i),h=My(s,l),p=u9(a,i),y=function(x){return x>1?1:x<0?0:x},m=function(x){for(var j=x>1?1:x,w=j,S=0;S<8;++S){var b=d(w)-j,N=p(w);if(Math.abs(b-j)<Kl||N<Kl)return h(w);w=y(w-b/N)}return h(w)};return m.isStepper=!1,m},d9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(f,d,h){var p=-(f-d)*n,y=h*s,m=h+(p-y)*l/1e3,g=h*l/1e3+f;return Math.abs(g-d)<Kl&&Math.abs(m)<Kl?[d,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},f9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ry(a);case"spring":return d9();default:if(a.split("(")[0]==="cubic-bezier")return Ry(a)}return typeof a=="function"?a:null};function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Ly(e){return m9(e)||p9(e)||HN(e)||h9()}function h9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m9(e){if(Array.isArray(e))return Bf(e)}function By(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?By(Object(r),!0).forEach(function(n){Lf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):By(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lf(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=v9(e,"string");return Rs(t)==="symbol"?t:String(t)}function v9(e,t){if(Rs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y9(e,t){return w9(e)||b9(e,t)||HN(e,t)||x9()}function x9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HN(e,t){if(e){if(typeof e=="string")return Bf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bf(e,t)}}function Bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function w9(e){if(Array.isArray(e))return e}var Vl=function(t,r,n){return t+(r-t)*n},Ff=function(t){var r=t.from,n=t.to;return r!==n},j9=function e(t,r,n){var a=ss(function(s,i){if(Ff(i)){var l=t(i.from,i.to,i.velocity),c=y9(l,2),u=c[0],f=c[1];return Ut(Ut({},i),{},{from:u,velocity:f})}return i},r);return n<1?ss(function(s,i){return Ff(i)?Ut(Ut({},i),{},{velocity:Vl(i.velocity,a[s].velocity,n),from:Vl(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const S9=function(e,t,r,n,a){var s=Z7(e,t),i=s.reduce(function(g,x){return Ut(Ut({},g),{},Lf({},x,[e[x],t[x]]))},{}),l=s.reduce(function(g,x){return Ut(Ut({},g),{},Lf({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return ss(function(x,j){return j.from},l)},p=function(){return!Object.values(l).filter(Ff).length},y=function(x){u||(u=x);var j=x-u,w=j/r.dt;l=j9(r,l,w),a(Ut(Ut(Ut({},e),t),h())),u=x,p()||(c=requestAnimationFrame(d))},m=function(x){f||(f=x);var j=(x-f)/n,w=ss(function(b,N){return Vl.apply(void 0,Ly(N).concat([r(j)]))},i);if(a(Ut(Ut(Ut({},e),t),w)),j<1)c=requestAnimationFrame(d);else{var S=ss(function(b,N){return Vl.apply(void 0,Ly(N).concat([r(1)]))},i);a(Ut(Ut(Ut({},e),t),S))}};return d=r.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}var N9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function A9(e,t){if(e==null)return{};var r=C9(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ld(e){return D9(e)||E9(e)||P9(e)||O9()}function O9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(e,t){if(e){if(typeof e=="string")return Uf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uf(e,t)}}function E9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D9(e){if(Array.isArray(e))return Uf(e)}function Uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(r),!0).forEach(function(n){ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ts(e,t,r){return t=YN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YN(n.key),n)}}function _9(e,t,r){return t&&$9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YN(e){var t=I9(e,"string");return so(t)==="symbol"?t:String(t)}function I9(e,t){if(so(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kf(e,t)}function Kf(e,t){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kf(e,t)}function M9(e){var t=R9();return function(){var n=zl(e),a;if(t){var s=zl(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Vf(this,a)}}function Vf(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}function zf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zl(e)}var jn=function(e){k9(r,e);var t=M9(r);function r(n,a){var s;T9(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(zf(s)),s.changeStyle=s.changeStyle.bind(zf(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),Vf(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Vf(s);s.state={style:c?ts({},c,u):u}}else s.state={style:{}};return s}return _9(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,h=this.state.style;if(l){if(!i){var p={style:c?ts({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(V7(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?d:a.to;if(this.state&&h){var g={style:c?ts({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(g)}this.runAnimation(Or(Or({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=S9(i,l,f9(u),c,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(m,g,x){if(x===0)return m;var j=g.duration,w=g.easing,S=w===void 0?"ease":w,b=g.style,N=g.properties,A=g.onAnimationEnd,C=x>0?i[x-1]:g,D=N||Object.keys(b);if(typeof S=="function"||S==="spring")return[].concat(ld(m),[s.runJSAnimation.bind(s,{from:C.style,to:b,duration:j,easing:S}),j]);var R=ky(D,j,S),$=Or(Or(Or({},C.style),b),{},{transition:R});return[].concat(ld(m),[$,j,A]).filter(e9)};return this.manager.start([c].concat(ld(i.reduce(p,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=X7());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?ts({},l,c):c,g=ky(Object.keys(m),i,u);y.start([f,s,Or(Or({},m),{},{transition:g}),i,d])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=A9(a,N9),u=v.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||i<=0)return s;var d=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,x=y.className,j=v.cloneElement(p,Or(Or({},c),{},{style:Or(Or({},g),f),className:x}));return j};return u===1?d(v.Children.only(s)):E.createElement("div",null,v.Children.map(s,function(h){return d(h)}))}}]),r}(v.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:at.oneOfType([at.object,at.string]),to:at.oneOfType([at.object,at.string]),attributeName:at.string,duration:at.number,begin:at.number,easing:at.oneOfType([at.string,at.func]),steps:at.arrayOf(at.shape({duration:at.number.isRequired,style:at.object.isRequired,easing:at.oneOfType([at.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),at.func]),properties:at.arrayOf("string"),onAnimationEnd:at.func})),children:at.oneOfType([at.node,at.func]),isActive:at.bool,canBegin:at.bool,onAnimationEnd:at.func,shouldReAnimate:at.bool,onAnimationStart:at.func,onAnimationReStart:at.func};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function L9(e,t){return K9(e)||U9(e,t)||F9(e,t)||B9()}function B9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(e,t){if(e){if(typeof e=="string")return Uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uy(e,t)}}function Uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function K9(e){if(Array.isArray(e))return e}function Ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ky(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return t=z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=W9(e,"string");return Ls(t)=="symbol"?t:t+""}function W9(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zy=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=s[h]>i?i:s[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var y=Math.min(i,s);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},H9=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),d=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},Y9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kp=function(t){var r=Vy(Vy({},Y9),t),n=v.useRef(),a=v.useState(-1),s=L9(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var w=Qe("recharts-rectangle",p);return j?E.createElement(jn,{canBegin:i>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:m,animationEasing:y,isActive:j},function(S){var b=S.width,N=S.height,A=S.x,C=S.y;return E.createElement(jn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:x,easing:y},E.createElement("path",Wl({},Xe(r,!0),{className:w,d:zy(A,C,b,N,h),ref:n})))}):E.createElement("path",Wl({},Xe(r,!0),{className:w,d:zy(c,u,f,d,h)}))};function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(this,arguments)}var Vp=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Qe("recharts-dot",s);return r===+r&&n===+n&&a===+a?v.createElement("circle",Wf({},Xe(t,!1),ul(t),{className:i,cx:r,cy:n,r:a})):null};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var G9=["x","y","top","left","width","height","className"];function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}function Wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wy(Object(r),!0).forEach(function(n){X9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X9(e,t,r){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=J9(e,"string");return Bs(t)=="symbol"?t:t+""}function J9(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9(e,t){if(e==null)return{};var r=eY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tY=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},rY=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,m=Z9(t,G9),g=q9({x:n,y:s,top:l,left:u,width:d,height:p},m);return!be(n)||!be(s)||!be(d)||!be(p)||!be(l)||!be(u)?null:E.createElement("path",Hf({},Xe(g,!0),{className:Qe("recharts-cross",y),d:tY(n,s,d,p,l,u)}))},nY=iS,aY=nY(Object.getPrototypeOf,Object),oY=aY,sY=Sn,iY=oY,lY=Nn,cY="[object Object]",uY=Function.prototype,dY=Object.prototype,GN=uY.toString,fY=dY.hasOwnProperty,hY=GN.call(Object);function pY(e){if(!lY(e)||sY(e)!=cY)return!1;var t=iY(e);if(t===null)return!0;var r=fY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&GN.call(r)==hY}var mY=pY;const gY=dt(mY);var vY=Sn,yY=Nn,xY="[object Boolean]";function bY(e){return e===!0||e===!1||yY(e)&&vY(e)==xY}var wY=bY;const jY=dt(wY);function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function SY(e,t){return OY(e)||CY(e,t)||AY(e,t)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(e,t){if(e){if(typeof e=="string")return Hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hy(e,t)}}function Hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function OY(e){if(Array.isArray(e))return e}function Yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yy(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return t=EY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=DY(e,"string");return Fs(t)=="symbol"?t:t+""}function DY(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qy=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},TY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$Y=function(t){var r=Gy(Gy({},TY),t),n=v.useRef(),a=v.useState(-1),s=SY(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var j=Qe("recharts-trapezoid",p);return x?E.createElement(jn,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(w){var S=w.upperWidth,b=w.lowerWidth,N=w.height,A=w.x,C=w.y;return E.createElement(jn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},E.createElement("path",Hl({},Xe(r,!0),{className:j,d:qy(A,C,S,b,N),ref:n})))}):E.createElement("g",null,E.createElement("path",Hl({},Xe(r,!0),{className:j,d:qy(c,u,f,d,h)})))},_Y=["option","shapeType","propTransformer","activeClassName","isActive"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function IY(e,t){if(e==null)return{};var r=kY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return t=RY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=LY(e,"string");return Us(t)=="symbol"?t:t+""}function LY(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BY(e,t){return Yl(Yl({},t),e)}function FY(e,t){return e==="symbols"}function Qy(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(Kp,r);case"trapezoid":return E.createElement($Y,r);case"sector":return E.createElement(RN,r);case"symbols":if(FY(t))return E.createElement(ip,r);break;default:return null}}function UY(e){return v.isValidElement(e)?e.props:e}function KY(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?BY:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=IY(e,_Y),u;if(v.isValidElement(t))u=v.cloneElement(t,Yl(Yl({},c),UY(t)));else if(We(t))u=t(c);else if(gY(t)&&!jY(t)){var f=a(t,c);u=E.createElement(Qy,{shapeType:r,elementProps:f})}else{var d=c;u=E.createElement(Qy,{shapeType:r,elementProps:d})}return l?E.createElement(St,{className:i},u):u}function du(e,t){return t!=null&&"trapezoids"in e.props}function fu(e,t){return t!=null&&"sectors"in e.props}function Ks(e,t){return t!=null&&"points"in e.props}function VY(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function zY(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function WY(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function HY(e,t){var r;return du(e,t)?r=VY:fu(e,t)?r=zY:Ks(e,t)&&(r=WY),r}function YY(e,t){var r;return du(e,t)?r="trapezoids":fu(e,t)?r="sectors":Ks(e,t)&&(r="points"),r}function GY(e,t){if(du(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(fu(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ks(e,t)?t.payload:{}}function qY(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=YY(r,t),s=GY(r,t),i=n.filter(function(c,u){var f=lu(s,c),d=r.props[a].filter(function(y){var m=HY(r,t);return m(y,t)}),h=r.props[a].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(i[i.length-1]);return l}var XY=Math.ceil,QY=Math.max;function JY(e,t,r,n){for(var a=-1,s=QY(XY((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var ZY=JY,eG=CS,Jy=1/0,tG=17976931348623157e292;function rG(e){if(!e)return e===0?e:0;if(e=eG(e),e===Jy||e===-Jy){var t=e<0?-1:1;return t*tG}return e===e?e:0}var qN=rG,nG=ZY,aG=Jc,cd=qN;function oG(e){return function(t,r,n){return n&&typeof n!="number"&&aG(t,r,n)&&(r=n=void 0),t=cd(t),r===void 0?(r=t,t=0):r=cd(r),n=n===void 0?t<r?1:-1:cd(n),nG(t,r,n,e)}}var sG=oG,iG=sG,lG=iG(),cG=lG;const Gl=dt(cG);function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zy(Object(r),!0).forEach(function(n){XN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XN(e,t,r){return t=uG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return Vs(t)=="symbol"?t:t+""}function dG(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fG=["Webkit","Moz","O","ms"],hG=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=fG.reduce(function(s,i){return ex(ex({},s),{},XN({},i+n,r))},{});return a[t]=r,a};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tx(Object(r),!0).forEach(function(n){lr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JN(n.key),n)}}function mG(e,t,r){return t&&rx(e.prototype,t),r&&rx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gG(e,t,r){return t=Xl(t),vG(e,QN()?Reflect.construct(t,r||[],Xl(e).constructor):t.apply(e,r))}function vG(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yG(e)}function yG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QN=function(){return!!e})()}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xl(e)}function xG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yf(e,t)}function Yf(e,t){return Yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yf(e,t)}function lr(e,t,r){return t=JN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JN(e){var t=bG(e,"string");return io(t)=="symbol"?t:t+""}function bG(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wG=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=as().domain(Gl(0,c)).range([s,s+i-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},nx=function(t){return t.changedTouches&&!!t.changedTouches.length},lo=function(e){function t(r){var n;return pG(this,t),n=gG(this,t,[r]),lr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),lr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),lr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),lr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),lr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),lr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),lr(n,"handleSlideDragStart",function(a){var s=nx(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xG(t,e),mG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(i,d),y=t.getIndexInRange(i,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=pr(s[n],l,n);return We(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+f-d-l,u+f-d-i):m<0&&(m=Math.max(m,u-i,u-l));var g=this.getIndex({startX:i+m,endX:l+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:i+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=nx(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,m=f.gap,g=f.data,x={startX:this.state.startX,endX:this.state.endX},j=n.pageX-s;j>0?j=Math.min(j,d+h-p-u):j<0&&(j=Math.max(j,d-u)),x[i]=u+j;var w=this.getIndex(x),S=w.startIndex,b=w.endIndex,N=function(){var C=g.length-1;return i==="startX"&&(l>c?S%m===0:b%m===0)||l<c&&b===C||i==="endX"&&(l>c?b%m===0:S%m===0)||l>c&&b===C};this.setState(lr(lr({},i,u+j),"brushMoveStartX",n.pageX),function(){y&&N()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(lr({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return E.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=v.Children.only(u);return d?E.cloneElement(d,{x:a,y:s,width:i,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),j=ud(ud({},Xe(this.props,!1)),{},{x,y:u,width:f,height:d}),w=p||"Min value: ".concat((s=y[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=y[g])===null||i===void 0?void 0:i.name);return E.createElement(St,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),l.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,j))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:i,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return E.createElement(St,{className:"recharts-brush-texts"},E.createElement(Al,ql({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+l/2},y),this.getTextOfTick(a)),E.createElement(Al,ql({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:i+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,x=h.isTravellerMoving,j=h.isTravellerFocused;if(!a||!a.length||!be(l)||!be(c)||!be(u)||!be(f)||u<=0||f<=0)return null;var w=Qe("recharts-brush",s),S=E.Children.count(i)===1,b=hG("userSelect","none");return E.createElement(St,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||x||j||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),E.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return E.isValidElement(n)?s=E.cloneElement(n,a):We(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return ud({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?wG({data:s,width:i,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(v.PureComponent);lr(lo,"displayName","Brush");lr(lo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jG=pp;function SG(e,t){var r;return jG(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var NG=SG,AG=Zj,CG=Un,OG=NG,PG=ar,EG=Jc;function DG(e,t,r){var n=PG(e)?AG:OG;return r&&EG(e,t,r)&&(t=void 0),n(e,CG(t))}var TG=DG;const $G=dt(TG);var Jr=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ax=wS;function _G(e,t,r){t=="__proto__"&&ax?ax(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var IG=_G,kG=IG,MG=xS,RG=Un;function LG(e,t){var r={};return t=RG(t),MG(e,function(n,a,s){kG(r,a,t(n,a,s))}),r}var BG=LG;const FG=dt(BG);function UG(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var KG=UG,VG=pp;function zG(e,t){var r=!0;return VG(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var WG=zG,HG=KG,YG=WG,GG=Un,qG=ar,XG=Jc;function QG(e,t,r){var n=qG(e)?HG:YG;return r&&XG(e,t,r)&&(t=void 0),n(e,GG(t))}var JG=QG;const ZN=dt(JG);var ZG=["x","y"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(this,arguments)}function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ox(Object(r),!0).forEach(function(n){eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t,r){return t=tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return zs(t)=="symbol"?t:t+""}function rq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e,t){if(e==null)return{};var r=aq(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oq(e,t){var r=e.x,n=e.y,a=nq(e,ZG),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return qo(qo(qo(qo(qo({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function sx(e){return E.createElement(KY,Gf({shapeType:"rectangle",propTransformer:oq,activeClassName:"recharts-active-bar"},e))}var sq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=be(n)||SM(n);return s?t(n,a):(s||va(),r)}},iq=["value","background"],e1;function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function lq(e,t){if(e==null)return{};var r=cq(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r1(n.key),n)}}function dq(e,t,r){return t&&lx(e.prototype,t),r&&lx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fq(e,t,r){return t=Jl(t),hq(e,t1()?Reflect.construct(t,r||[],Jl(e).constructor):t.apply(e,r))}function hq(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pq(e)}function pq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t1=function(){return!!e})()}function Jl(e){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jl(e)}function mq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qf(e,t)}function qf(e,t){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qf(e,t)}function Tn(e,t,r){return t=r1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r1(e){var t=gq(e,"string");return co(t)=="symbol"?t:t+""}function gq(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fi=function(e){function t(){var r;uq(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=fq(this,t,[].concat(a)),Tn(r,"state",{isAnimationFinished:!1}),Tn(r,"id",oi("recharts-bar-")),Tn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Tn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return mq(t,e),dq(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Xe(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:i,m=Nt(Nt(Nt({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return E.createElement(St,Ql({className:"recharts-bar-rectangle"},dl(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),E.createElement(sx,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return E.createElement(jn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=s.map(function(g,x){var j=h&&h[x];if(j){var w=Tr(j.x,g.x),S=Tr(j.y,g.y),b=Tr(j.width,g.width),N=Tr(j.height,g.height);return Nt(Nt({},g),{},{x:w(y),y:S(y),width:b(y),height:N(y)})}if(i==="horizontal"){var A=Tr(0,g.height),C=A(y);return Nt(Nt({},g),{},{y:g.y+g.height-C,height:C})}var D=Tr(0,g.width),R=D(y);return Nt(Nt({},g),{},{width:R})});return E.createElement(St,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!lu(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=Xe(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,h=lq(u,iq);if(!d)return null;var p=Nt(Nt(Nt(Nt(Nt({},h),{},{fill:"#eee"},d),c),dl(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return E.createElement(sx,Ql({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=wr(f,di);if(!d)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(g,x){var j=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:j,errorVal:pr(g,x)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return E.createElement(St,y,d.map(function(m){return E.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,x=Qe("recharts-bar",i),j=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=j||w,b=He(m)?this.id:m;return E.createElement(St,{className:x},j||w?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(b)},E.createElement("rect",{x:j?u:u-d/2,y:w?f:f-h/2,width:j?d:d*2,height:w?h:h*2}))):null,E.createElement(St,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(b,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,b),(!p||g)&&_n.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);e1=fi;Tn(fi,"displayName","Bar");Tn(fi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ko.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Tn(fi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=HW(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?Nt(Nt({},m),r.props):r.props,x=g.dataKey,j=g.children,w=g.minPointSize,S=y==="horizontal"?i:s,b=u?S.scale.domain():null,N=eH({numericAxis:S}),A=wr(j,PS),C=d.map(function(D,R){var $,P,B,T,_,M;u?$=YW(u[f+R],b):($=pr(D,x),Array.isArray($)||($=[N,$]));var O=sq(w,e1.defaultProps.minPointSize)($[1],R);if(y==="horizontal"){var F,I=[i.scale($[0]),i.scale($[1])],Y=I[0],re=I[1];P=iy({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:D,index:R}),B=(F=re??Y)!==null&&F!==void 0?F:void 0,T=p.size;var J=Y-re;if(_=Number.isNaN(J)?0:J,M={x:P,y:i.y,width:T,height:i.height},Math.abs(O)>0&&Math.abs(_)<Math.abs(O)){var U=_r(_||O)*(Math.abs(O)-Math.abs(_));B-=U,_+=U}}else{var se=[s.scale($[0]),s.scale($[1])],Ee=se[0],Be=se[1];if(P=Ee,B=iy({axis:i,ticks:c,bandSize:a,offset:p.offset,entry:D,index:R}),T=Be-Ee,_=p.size,M={x:s.x,y:B,width:s.width,height:_},Math.abs(O)>0&&Math.abs(T)<Math.abs(O)){var de=_r(T||O)*(Math.abs(O)-Math.abs(T));T+=de}}return Nt(Nt(Nt({},D),{},{x:P,y:B,width:T,height:_,value:u?$:$[1],payload:D,background:M},A&&A[R]&&A[R].props),{},{tooltipPayload:[IN(r,D)],tooltipPosition:{x:P+T/2,y:B+_/2}})});return Nt({data:C,layout:y},h)});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n1(n.key),n)}}function yq(e,t,r){return t&&cx(e.prototype,t),r&&cx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(r),!0).forEach(function(n){hu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hu(e,t,r){return t=n1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1(e){var t=xq(e,"string");return Ws(t)=="symbol"?t:t+""}function xq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bq=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!cr(u,fi);return f.reduce(function(p,y){var m=r[y],g=m.orientation,x=m.domain,j=m.padding,w=j===void 0?{}:j,S=m.mirror,b=m.reversed,N="".concat(g).concat(S?"Mirror":""),A,C,D,R,$;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=x[1]-x[0],B=1/0,T=m.categoricalDomain.sort(CM);if(T.forEach(function(se,Ee){Ee>0&&(B=Math.min((se||0)-(T[Ee-1]||0),B))}),Number.isFinite(B)){var _=B/P,M=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=_*M/2),m.padding==="no-gap"){var O=ma(t.barCategoryGap,_*M),F=_*M/2;A=F-O-(F-O)/M*O}}}a==="xAxis"?C=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:C=m.range,b&&(C=[C[1],C[0]]);var I=zW(m,s,h),Y=I.scale,re=I.realScaleType;Y.domain(x).range(C),WW(Y);var J=ZW(Y,Er(Er({},m),{},{realScaleType:re}));a==="xAxis"?($=g==="top"&&!S||g==="bottom"&&S,D=n.left,R=d[N]-$*m.height):a==="yAxis"&&($=g==="left"&&!S||g==="right"&&S,D=d[N]-$*m.width,R=n.top);var U=Er(Er(Er({},m),J),{},{realScaleType:re,x:D,y:R,scale:Y,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return U.bandSize=Bl(U,J),!m.hide&&a==="xAxis"?d[N]+=($?-1:1)*U.height:m.hide||(d[N]+=($?-1:1)*U.width),Er(Er({},p),{},hu({},y,U))},{})},a1=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},wq=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return a1({x:r,y:n},{x:a,y:s})},o1=function(){function e(t){vq(this,e),this.scale=t}return yq(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();hu(o1,"EPS",1e-4);var zp=function(t){var r=Object.keys(t).reduce(function(n,a){return Er(Er({},n),{},hu({},a,o1.create(t[a])))},{});return Er(Er({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return FG(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return ZN(a,function(s,i){return r[i].isInRange(s)})}})};function jq(e){return(e%180+180)%180}var Sq=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jq(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},Nq=Un,Aq=si,Cq=Xc;function Oq(e){return function(t,r,n){var a=Object(t);if(!Aq(t)){var s=Nq(r);t=Cq(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var Pq=Oq,Eq=qN;function Dq(e){var t=Eq(e),r=t%1;return t===t?r?t-r:t:0}var Tq=Dq,$q=hS,_q=Un,Iq=Tq,kq=Math.max;function Mq(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Iq(r);return a<0&&(a=kq(n+a,0)),$q(e,_q(t),a)}var Rq=Mq,Lq=Pq,Bq=Rq,Fq=Lq(Bq),Uq=Fq;const Kq=dt(Uq);var Vq=Ek(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Wp=v.createContext(void 0),Hp=v.createContext(void 0),s1=v.createContext(void 0),i1=v.createContext({}),l1=v.createContext(void 0),c1=v.createContext(0),u1=v.createContext(0),dx=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,f=Vq(s);return E.createElement(Wp.Provider,{value:n},E.createElement(Hp.Provider,{value:a},E.createElement(i1.Provider,{value:s},E.createElement(s1.Provider,{value:f},E.createElement(l1.Provider,{value:i},E.createElement(c1.Provider,{value:u},E.createElement(u1.Provider,{value:c},l)))))))},zq=function(){return v.useContext(l1)},d1=function(t){var r=v.useContext(Wp);r==null&&va();var n=r[t];return n==null&&va(),n},Wq=function(){var t=v.useContext(Wp);return Dn(t)},Hq=function(){var t=v.useContext(Hp),r=Kq(t,function(n){return ZN(n.domain,Number.isFinite)});return r||Dn(t)},f1=function(t){var r=v.useContext(Hp);r==null&&va();var n=r[t];return n==null&&va(),n},Yq=function(){var t=v.useContext(s1);return t},Gq=function(){return v.useContext(i1)},Yp=function(){return v.useContext(u1)},Gp=function(){return v.useContext(c1)};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p1(n.key),n)}}function Qq(e,t,r){return t&&Xq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jq(e,t,r){return t=Zl(t),Zq(e,h1()?Reflect.construct(t,r||[],Zl(e).constructor):t.apply(e,r))}function Zq(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(e)}function eX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h1=function(){return!!e})()}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zl(e)}function tX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xf(e,t)}function Xf(e,t){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xf(e,t)}function fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(r),!0).forEach(function(n){qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qp(e,t,r){return t=p1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p1(e){var t=rX(e,"string");return uo(t)=="symbol"?t:t+""}function rX(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nX(e,t){return iX(e)||sX(e,t)||oX(e,t)||aX()}function aX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oX(e,t){if(e){if(typeof e=="string")return px(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(e,t)}}function px(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function iX(e){if(Array.isArray(e))return e}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(this,arguments)}var lX=function(t,r){var n;return E.isValidElement(t)?n=E.cloneElement(t,r):We(t)?n=t(r):n=E.createElement("line",Qf({},r,{className:"recharts-reference-line-line"})),n},cX=function(t,r,n,a,s,i,l,c,u){var f=s.x,d=s.y,h=s.width,p=s.height;if(n){var y=u.y,m=t.y.apply(y,{position:i});if(Jr(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:f+h,y:m},{x:f,y:m}];return c==="left"?g.reverse():g}if(r){var x=u.x,j=t.x.apply(x,{position:i});if(Jr(u,"discard")&&!t.x.isInRange(j))return null;var w=[{x:j,y:d+p},{x:j,y:d}];return l==="top"?w.reverse():w}if(a){var S=u.segment,b=S.map(function(N){return t.apply(N,{position:i})});return Jr(u,"discard")&&$G(b,function(N){return!t.isInRange(N)})?null:b}return null};function uX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=zq(),f=d1(a),d=f1(s),h=Yq();if(!u||!h)return null;pn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=zp({x:f.scale,y:d.scale}),y=It(t),m=It(r),g=n&&n.length===2,x=cX(p,y,m,g,h,e.position,f.orientation,d.orientation,e);if(!x)return null;var j=nX(x,2),w=j[0],S=w.x,b=w.y,N=j[1],A=N.x,C=N.y,D=Jr(e,"hidden")?"url(#".concat(u,")"):void 0,R=hx(hx({clipPath:D},Xe(e,!0)),{},{x1:S,y1:b,x2:A,y2:C});return E.createElement(St,{className:Qe("recharts-reference-line",l)},lX(i,R),Yt.renderCallByParent(e,wq({x1:S,y1:b,x2:A,y2:C})))}var Xp=function(e){function t(){return qq(this,t),Jq(this,t,arguments)}return tX(t,e),Qq(t,[{key:"render",value:function(){return E.createElement(uX,this.props)}}])}(E.Component);qp(Xp,"displayName","ReferenceLine");qp(Xp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(r),!0).forEach(function(n){pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g1(n.key),n)}}function hX(e,t,r){return t&&fX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pX(e,t,r){return t=ec(t),mX(e,m1()?Reflect.construct(t,r||[],ec(e).constructor):t.apply(e,r))}function mX(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(e)}function gX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m1=function(){return!!e})()}function ec(e){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ec(e)}function vX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}function Zf(e,t){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zf(e,t)}function pu(e,t,r){return t=g1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g1(e){var t=yX(e,"string");return fo(t)=="symbol"?t:t+""}function yX(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xX=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=zp({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Jr(t,"discard")&&!i.isInRange(l)?null:l},mu=function(e){function t(){return dX(this,t),pX(this,t,arguments)}return vX(t,e),hX(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=It(a),f=It(s);if(pn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=xX(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,m=y.shape,g=y.className,x=Jr(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=gx(gx({clipPath:x},Xe(this.props,!0)),{},{cx:h,cy:p});return E.createElement(St,{className:Qe("recharts-reference-dot",g)},t.renderDot(m,j),Yt.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(E.Component);pu(mu,"displayName","ReferenceDot");pu(mu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});pu(mu,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):We(e)?r=e(t):r=E.createElement(Vp,Jf({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y1(n.key),n)}}function jX(e,t,r){return t&&wX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SX(e,t,r){return t=tc(t),NX(e,v1()?Reflect.construct(t,r||[],tc(e).constructor):t.apply(e,r))}function NX(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AX(e)}function AX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v1=function(){return!!e})()}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tc(e)}function CX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&th(e,t)}function th(e,t){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},th(e,t)}function gu(e,t,r){return t=y1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y1(e){var t=OX(e,"string");return ho(t)=="symbol"?t:t+""}function OX(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PX=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var h=zp({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Jr(s,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:a1(p,y)},vu=function(e){function t(){return bX(this,t),SX(this,t,arguments)}return CX(t,e),jX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=It(a),h=It(s),p=It(i),y=It(l),m=this.props.shape;if(!d&&!h&&!p&&!y&&!m)return null;var g=PX(d,h,p,y,this.props);if(!g&&!m)return null;var x=Jr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return E.createElement(St,{className:Qe("recharts-reference-area",c)},t.renderRect(m,yx(yx({clipPath:x},Xe(this.props,!0)),g)),Yt.renderCallByParent(this.props,g))}}])}(E.Component);gu(vu,"displayName","ReferenceArea");gu(vu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gu(vu,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):We(e)?r=e(t):r=E.createElement(Kp,eh({},t,{className:"recharts-reference-area-rect"})),r});function x1(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function EX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Sq(n,r)}function DX(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function rc(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function TX(e,t){return x1(e,t+1)}function $X(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,f=i,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:x1(n,u)};var m=c,g,x=function(){return g===void 0&&(g=r(y,m)),g},j=y.coordinate,w=c===0||rc(e,j,x,f,l);w||(c=0,f=i,u+=1),w&&(f=j+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xx(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return t=IX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=kX(e,"string");return Hs(t)=="symbol"?t:t+""}function kX(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MX(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===i-1){var g=e*(p.coordinate+e*m()/2-c);s[h]=p=Ht(Ht({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=Ht(Ht({},p),{},{tickCoord:p.coordinate});var x=rc(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+a),s[h]=Ht(Ht({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)u(f);return s}function RX(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);i[l-1]=f=Ht(Ht({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=rc(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+a),i[l-1]=Ht(Ht({},f),{},{isShow:!0}))}for(var y=s?l-1:l,m=function(j){var w=i[j],S,b=function(){return S===void 0&&(S=r(w,j)),S};if(j===0){var N=e*(w.coordinate-e*b()/2-c);i[j]=w=Ht(Ht({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else i[j]=w=Ht(Ht({},w),{},{tickCoord:w.coordinate});var A=rc(e,w.tickCoord,b,c,u);A&&(c=w.tickCoord+e*(b()/2+a),i[j]=Ht(Ht({},w),{},{isShow:!0}))},g=0;g<y;g++)m(g);return i}function Qp(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(be(c)||ko.isSsr)return TX(a,typeof c=="number"&&be(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?ns(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,S){var b=We(u)?u(w.value,S):w.value;return p==="width"?EX(ns(b,{fontSize:t,letterSpacing:r}),y,d):ns(b,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?_r(a[1].coordinate-a[0].coordinate):1,x=DX(s,g,p);return c==="equidistantPreserveStart"?$X(g,x,m,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=RX(g,x,m,a,i,c==="preserveStartEnd"):h=MX(g,x,m,a,i),h.filter(function(j){return j.isShow}))}var LX=["viewBox"],BX=["viewBox"],FX=["ticks"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(this,arguments)}function bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bx(Object(r),!0).forEach(function(n){Jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dd(e,t){if(e==null)return{};var r=UX(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w1(n.key),n)}}function VX(e,t,r){return t&&wx(e.prototype,t),r&&wx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zX(e,t,r){return t=nc(t),WX(e,b1()?Reflect.construct(t,r||[],nc(e).constructor):t.apply(e,r))}function WX(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(e)}function HX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b1=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}function YX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rh(e,t)}function Jp(e,t,r){return t=w1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w1(e){var t=GX(e,"string");return po(t)=="symbol"?t:t+""}function GX(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bo=function(e){function t(r){var n;return KX(this,t),n=zX(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return YX(t,e),VX(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=dd(n,LX),l=this.props,c=l.viewBox,u=dd(l,BX);return!za(s,c)||!za(i,u)||!za(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,y,m,g,x,j,w=d?-1:1,S=n.tickSize||f,b=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=i+ +!d*c,m=g-w*S,j=m-w*h,x=b;break;case"left":m=g=n.coordinate,y=s+ +!d*l,p=y-w*S,x=p-w*h,j=b;break;case"right":m=g=n.coordinate,y=s+ +d*l,p=y+w*S,x=p+w*h,j=b;break;default:p=y=n.coordinate,g=i+ +d*c,m=g+w*S,j=m+w*h,x=b;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Ot(Ot(Ot({},Xe(this.props,!1)),Xe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Ot(Ot({},d),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Ot(Ot({},d),{},{x1:a+p*i,y1:s,x2:a+p*i,y2:s+l})}return E.createElement("line",Ba({},d,{className:Qe("recharts-cartesian-axis-line",br(f,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=Qp(Ot(Ot({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Xe(this.props,!1),x=Xe(f,!1),j=Ot(Ot({},g),{},{fill:"none"},Xe(c,!1)),w=p.map(function(S,b){var N=i.getTickLineCoord(S),A=N.line,C=N.tick,D=Ot(Ot(Ot(Ot({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:u},x),C),{},{index:b,payload:S,visibleTicksCount:p.length,tickFormatter:d});return E.createElement(St,Ba({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},dl(i.props,S,b)),c&&E.createElement("line",Ba({},j,A,{className:Qe("recharts-cartesian-axis-tick-line",br(c,"className"))})),f&&t.renderTickItem(f,D,"".concat(We(d)?d(S.value,b):S.value).concat(h||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=dd(d,FX),y=h;return We(c)&&(y=h&&h.length>0?c(this.props):c(p)),i<=0||l<=0||!y||!y.length?null:E.createElement(St,{className:Qe("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Qe(a.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(n)?i=E.cloneElement(n,Ot(Ot({},a),{},{className:l})):We(n)?i=n(Ot(Ot({},a),{},{className:l})):i=E.createElement(Al,Ba({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(v.Component);Jp(Bo,"displayName","CartesianAxis");Jp(Bo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qX=["x1","y1","x2","y2","key"],XX=["offset"];function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function jx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=ZX(e,"string");return ya(t)=="symbol"?t:t+""}function ZX(e,t){if(ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function Sx(e,t){if(e==null)return{};var r=eQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tQ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return E.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j1(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=Sx(t,qX),u=Xe(c,!1);u.offset;var f=Sx(u,XX);r=E.createElement("line",ta({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function rQ(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Gt(Gt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return j1(a,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function nQ(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Gt(Gt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return j1(a,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function aQ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?a+i-h:f[p+1]-h;if(m<=0)return null;var g=p%t.length;return E.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function oQ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?s+l-h:f[p+1]-h;if(m<=0)return null;var g=p%n.length;return E.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var sQ=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return $N(Qp(Gt(Gt(Gt({},Bo.defaultProps),n),{},{ticks:dn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},iQ=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return $N(Qp(Gt(Gt(Gt({},Bo.defaultProps),n),{},{ticks:dn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},Ia={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hi(e){var t,r,n,a,s,i,l=Yp(),c=Gp(),u=Gq(),f=Gt(Gt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ia.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ia.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ia.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ia.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Ia.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ia.verticalFill,x:be(e.x)?e.x:u.left,y:be(e.y)?e.y:u.top,width:be(e.width)?e.width:u.width,height:be(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,m=f.syncWithTicks,g=f.horizontalValues,x=f.verticalValues,j=Wq(),w=Hq();if(!be(p)||p<=0||!be(y)||y<=0||!be(d)||d!==+d||!be(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||sQ,b=f.horizontalCoordinatesGenerator||iQ,N=f.horizontalPoints,A=f.verticalPoints;if((!N||!N.length)&&We(b)){var C=g&&g.length,D=b({yAxis:w?Gt(Gt({},w),{},{ticks:C?g:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);pn(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ya(D),"]")),Array.isArray(D)&&(N=D)}if((!A||!A.length)&&We(S)){var R=x&&x.length,$=S({xAxis:j?Gt(Gt({},j),{},{ticks:R?x:j.ticks}):void 0,width:l,height:c,offset:u},R?!0:m);pn(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ya($),"]")),Array.isArray($)&&(A=$)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(tQ,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),E.createElement(rQ,ta({},f,{offset:u,horizontalPoints:N,xAxis:j,yAxis:w})),E.createElement(nQ,ta({},f,{offset:u,verticalPoints:A,xAxis:j,yAxis:w})),E.createElement(aQ,ta({},f,{horizontalPoints:N})),E.createElement(oQ,ta({},f,{verticalPoints:A})))}hi.displayName="CartesianGrid";var lQ=["type","layout","connectNulls","ref"],cQ=["key"];function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function Nx(e,t){if(e==null)return{};var r=uQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function Ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ax(Object(r),!0).forEach(function(n){Dr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ka(e){return pQ(e)||hQ(e)||fQ(e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){if(e){if(typeof e=="string")return nh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nh(e,t)}}function hQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pQ(e){if(Array.isArray(e))return nh(e)}function nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N1(n.key),n)}}function gQ(e,t,r){return t&&Cx(e.prototype,t),r&&Cx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vQ(e,t,r){return t=ac(t),yQ(e,S1()?Reflect.construct(t,r||[],ac(e).constructor):t.apply(e,r))}function yQ(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQ(e)}function xQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S1=function(){return!!e})()}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ac(e)}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ah(e,t)}function ah(e,t){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ah(e,t)}function Dr(e,t,r){return t=N1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N1(e){var t=wQ(e,"string");return mo(t)=="symbol"?t:t+""}function wQ(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wn=function(e){function t(){var r;mQ(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=vQ(this,t,[].concat(a)),Dr(r,"state",{isAnimationFinished:!0,totalLength:0}),Dr(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),Dr(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(x,j){return x+j});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var f=Math.floor(i/u),d=i%u,h=l-i,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>d){p=[].concat(ka(c.slice(0,y)),[d-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(ka(t.repeat(c,f)),ka(p),g).map(function(x){return"".concat(x,"px")}).join(", ")}),Dr(r,"id",oi("recharts-line-")),Dr(r,"pathRef",function(i){r.mainCurve=i}),Dr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Dr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bQ(t,e),gQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=wr(f,di);if(!d)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:pr(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return E.createElement(St,p,d.map(function(y){return E.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Xe(this.props,!1),h=Xe(c,!0),p=u.map(function(m,g){var x=ir(ir(ir({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:f,payload:m.payload,points:u});return t.renderDotItem(c,x)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return E.createElement(St,is({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=Nx(l,lQ),h=ir(ir(ir({},Xe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:f});return E.createElement(kf,is({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=i.animateNewValues,m=i.width,g=i.height,x=this.state,j=x.prevPoints,w=x.totalLength;return E.createElement(jn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var b=S.t;if(j){var N=j.length/l.length,A=l.map(function(P,B){var T=Math.floor(B*N);if(j[T]){var _=j[T],M=Tr(_.x,P.x),O=Tr(_.y,P.y);return ir(ir({},P),{},{x:M(b),y:O(b)})}if(y){var F=Tr(m*2,P.x),I=Tr(g/2,P.y);return ir(ir({},P),{},{x:F(b),y:I(b)})}return ir(ir({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(A,n,a)}var C=Tr(0,w),D=C(b),R;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});R=s.getStrokeDasharray(D,w,$)}else R=s.generateSimpleStrokeDasharray(w,D);return s.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!lu(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,g=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,j=l.length===1,w=Qe("recharts-line",c),S=u&&u.allowDataOverflow,b=f&&f.allowDataOverflow,N=S||b,A=He(g)?this.id:g,C=(n=Xe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=C.r,R=D===void 0?3:D,$=C.strokeWidth,P=$===void 0?2:$,B=kM(i)?i:{},T=B.clipDot,_=T===void 0?!0:T,M=R*2+P;return E.createElement(St,{className:w},S||b?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(A)},E.createElement("rect",{x:S?h:h-p/2,y:b?d:d-y/2,width:S?p:p*2,height:b?y:y*2})),!_&&E.createElement("clipPath",{id:"clipPath-dots-".concat(A)},E.createElement("rect",{x:h-M/2,y:d-M/2,width:p+M,height:y+M}))):null,!j&&this.renderCurve(N,A),this.renderErrorBar(N,A),(j||i)&&this.renderDots(N,_,A),(!m||x)&&_n.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(ka(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(ka(i),ka(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(E.isValidElement(n))s=E.cloneElement(n,a);else if(We(n))s=n(a);else{var i=a.key,l=Nx(a,cQ),c=Qe("recharts-line-dot",typeof n!="boolean"?n.className:"");s=E.createElement(Vp,is({key:i},l,{className:c}))}return s}}])}(v.PureComponent);Dr(Wn,"displayName","Line");Dr(Wn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ko.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Dr(Wn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=pr(h,i);return f==="horizontal"?{x:sy({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:He(y)?null:n.scale(y),value:y,payload:h}:{x:He(y)?null:r.scale(y),y:sy({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:y,payload:h}});return ir({points:d,layout:f},u)});function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function jQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O1(n.key),n)}}function NQ(e,t,r){return t&&SQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AQ(e,t,r){return t=oc(t),CQ(e,A1()?Reflect.construct(t,r||[],oc(e).constructor):t.apply(e,r))}function CQ(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OQ(e)}function OQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A1=function(){return!!e})()}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oc(e)}function PQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oh(e,t)}function C1(e,t,r){return t=O1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O1(e){var t=EQ(e,"string");return go(t)=="symbol"?t:t+""}function EQ(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(this,arguments)}function DQ(e){var t=e.xAxisId,r=Yp(),n=Gp(),a=d1(t);return a==null?null:v.createElement(Bo,sh({},a,{className:Qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return dn(i,!0)}}))}var Ca=function(e){function t(){return jQ(this,t),AQ(this,t,arguments)}return PQ(t,e),NQ(t,[{key:"render",value:function(){return v.createElement(DQ,this.props)}}])}(v.Component);C1(Ca,"displayName","XAxis");C1(Ca,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function TQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D1(n.key),n)}}function _Q(e,t,r){return t&&$Q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IQ(e,t,r){return t=sc(t),kQ(e,P1()?Reflect.construct(t,r||[],sc(e).constructor):t.apply(e,r))}function kQ(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQ(e)}function MQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P1=function(){return!!e})()}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sc(e)}function RQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ih(e,t)}function ih(e,t){return ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ih(e,t)}function E1(e,t,r){return t=D1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1(e){var t=LQ(e,"string");return vo(t)=="symbol"?t:t+""}function LQ(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}var BQ=function(t){var r=t.yAxisId,n=Yp(),a=Gp(),s=f1(r);return s==null?null:v.createElement(Bo,lh({},s,{className:Qe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return dn(l,!0)}}))},Oa=function(e){function t(){return TQ(this,t),IQ(this,t,arguments)}return RQ(t,e),_Q(t,[{key:"render",value:function(){return v.createElement(BQ,this.props)}}])}(v.Component);E1(Oa,"displayName","YAxis");E1(Oa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ox(e){return VQ(e)||KQ(e)||UQ(e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(e,t){if(e){if(typeof e=="string")return ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ch(e,t)}}function KQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VQ(e){if(Array.isArray(e))return ch(e)}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uh=function(t,r,n,a,s){var i=wr(t,Xp),l=wr(t,mu),c=[].concat(Ox(i),Ox(l)),u=wr(t,vu),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(m,g){if(g.props[f]===n&&Jr(g.props,"extendDomain")&&be(g.props[d])){var x=g.props[d];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(m,g){if(g.props[f]===n&&Jr(g.props,"extendDomain")&&be(g.props[p])&&be(g.props[y])){var x=g.props[p],j=g.props[y];return[Math.min(m[0],x,j),Math.max(m[1],x,j)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,g){return be(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},T1={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],x=arguments.length,j,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,p),!0;case 6:return g.fn.call(g.context,f,d,h,p,y),!0}for(w=1,j=new Array(x-1);w<x;w++)j[w-1]=arguments[w];g.fn.apply(g.context,j)}else{var S=g.length,b;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),x){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,f);break;case 3:g[w].fn.call(g[w].context,f,d);break;case 4:g[w].fn.call(g[w].context,f,d,h);break;default:if(!j)for(b=1,j=new Array(x-1);b<x;b++)j[b-1]=arguments[b];g[w].fn.apply(g[w].context,j)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return i(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&i(this,p);else{for(var m=0,g=[],x=y.length;m<x;m++)(y[m].fn!==f||h&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(T1);var zQ=T1.exports;const WQ=dt(zQ);var fd=new WQ,hd="recharts.syncMouseEvents";function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function HQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$1(n.key),n)}}function GQ(e,t,r){return t&&YQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pd(e,t,r){return t=$1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1(e){var t=qQ(e,"string");return Ys(t)=="symbol"?t:t+""}function qQ(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XQ=function(){function e(){HQ(this,e),pd(this,"activeIndex",0),pd(this,"coordinateList",[]),pd(this,"layout","horizontal")}return GQ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=i+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function QQ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&be(n)&&be(a))return!0}return!1}function JQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _1(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=zt(t,r,n,a),l=zt(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function ZQ(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=zt(l,c,u,d),p=zt(l,c,f,d);n=h.x,a=h.y,s=p.x,i=p.y}else return _1(t);return[{x:n,y:a},{x:s,y:i}]}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return t=tJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return Gs(t)=="symbol"?t:t+""}function rJ(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nJ(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var y,m=kf;if(h==="ScatterChart")y=i,m=rY;else if(h==="BarChart")y=JQ(d,i,c,f),m=Kp;else if(d==="radial"){var g=_1(i),x=g.cx,j=g.cy,w=g.radius,S=g.startAngle,b=g.endAngle;y={cx:x,cy:j,startAngle:S,endAngle:b,innerRadius:w,outerRadius:w},m=RN}else y={points:ZQ(d,i,c)},m=kf;var N=Ri(Ri(Ri(Ri({stroke:"#ccc",pointerEvents:"none"},c),y),Xe(p,!1)),{},{payload:l,payloadIndex:u,className:Qe("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,N):v.createElement(m,N)}var aJ=["item"],oJ=["children","className","width","height","style","compact","title","desc"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(this,arguments)}function Ex(e,t){return lJ(e)||iJ(e,t)||k1(e,t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function lJ(e){if(Array.isArray(e))return e}function Dx(e,t){if(e==null)return{};var r=cJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M1(n.key),n)}}function fJ(e,t,r){return t&&dJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hJ(e,t,r){return t=ic(t),pJ(e,I1()?Reflect.construct(t,r||[],ic(e).constructor):t.apply(e,r))}function pJ(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJ(e)}function mJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I1=function(){return!!e})()}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ic(e)}function gJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dh(e,t)}function dh(e,t){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dh(e,t)}function xo(e){return xJ(e)||yJ(e)||k1(e)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1(e,t){if(e){if(typeof e=="string")return fh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fh(e,t)}}function yJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xJ(e){if(Array.isArray(e))return fh(e)}function fh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(r),!0).forEach(function(n){Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Le(e,t,r){return t=M1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1(e){var t=bJ(e,"string");return yo(t)=="symbol"?t:t+""}function bJ(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wJ={xAxis:["bottom","top"],yAxis:["left","right"]},jJ={width:"100%",height:"100%"},R1={x:0,y:0};function Li(e){return e}var SJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},NJ=function(t,r,n,a){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return ne(ne(ne({},a),zt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ne(ne(ne({},a),zt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return R1},yu=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(xo(l),xo(u)):l},[]);return i.length>0?i:t&&t.length&&be(a)&&be(s)?t.slice(a,s+1):[]};function L1(e){return e==="number"?[0,"auto"]:void 0}var hh=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=yu(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?l:d;h=cl(p,i.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(xo(c),[IN(u,h)]):c},[])},$x=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=SJ(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=LW(i,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=hh(t,r,f,d),p=NJ(n,l,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},AJ=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=TN(f,s);return n.reduce(function(y,m){var g,x=m.type.defaultProps!==void 0?ne(ne({},m.type.defaultProps),m.props):m.props,j=x.type,w=x.dataKey,S=x.allowDataOverflow,b=x.allowDuplicatedCategory,N=x.scale,A=x.ticks,C=x.includeHidden,D=x[i];if(y[D])return y;var R=yu(t.data,{graphicalItems:a.filter(function(J){var U,se=i in J.props?J.props[i]:(U=J.type.defaultProps)===null||U===void 0?void 0:U[i];return se===D}),dataStartIndex:c,dataEndIndex:u}),$=R.length,P,B,T;QQ(x.domain,S,j)&&(P=Df(x.domain,null,S),p&&(j==="number"||N!=="auto")&&(T=os(R,w,"category")));var _=L1(j);if(!P||P.length===0){var M,O=(M=x.domain)!==null&&M!==void 0?M:_;if(w){if(P=os(R,w,j),j==="category"&&p){var F=AM(P);b&&F?(B=P,P=Gl(0,$)):b||(P=uy(O,P,m).reduce(function(J,U){return J.indexOf(U)>=0?J:[].concat(xo(J),[U])},[]))}else if(j==="category")b?P=P.filter(function(J){return J!==""&&!He(J)}):P=uy(O,P,m).reduce(function(J,U){return J.indexOf(U)>=0||U===""||He(U)?J:[].concat(xo(J),[U])},[]);else if(j==="number"){var I=VW(R,a.filter(function(J){var U,se,Ee=i in J.props?J.props[i]:(U=J.type.defaultProps)===null||U===void 0?void 0:U[i],Be="hide"in J.props?J.props.hide:(se=J.type.defaultProps)===null||se===void 0?void 0:se.hide;return Ee===D&&(C||!Be)}),w,s,f);I&&(P=I)}p&&(j==="number"||N!=="auto")&&(T=os(R,w,"category"))}else p?P=Gl(0,$):l&&l[D]&&l[D].hasStack&&j==="number"?P=h==="expand"?[0,1]:_N(l[D].stackGroups,c,u):P=DN(R,a.filter(function(J){var U=i in J.props?J.props[i]:J.type.defaultProps[i],se="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return U===D&&(C||!se)}),j,f,!0);if(j==="number")P=uh(d,P,D,s,A),O&&(P=Df(O,P,S));else if(j==="category"&&O){var Y=O,re=P.every(function(J){return Y.indexOf(J)>=0});re&&(P=Y)}}return ne(ne({},y),{},Le({},D,ne(ne({},x),{},{axisType:s,domain:P,categoricalDomain:T,duplicateDomain:B,originalDomain:(g=x.domain)!==null&&g!==void 0?g:_,isCategorical:p,layout:f})))},{})},CJ=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=yu(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=TN(f,s),m=-1;return n.reduce(function(g,x){var j=x.type.defaultProps!==void 0?ne(ne({},x.type.defaultProps),x.props):x.props,w=j[i],S=L1("number");if(!g[w]){m++;var b;return y?b=Gl(0,p):l&&l[w]&&l[w].hasStack?(b=_N(l[w].stackGroups,c,u),b=uh(d,b,w,s)):(b=Df(S,DN(h,n.filter(function(N){var A,C,D=i in N.props?N.props[i]:(A=N.type.defaultProps)===null||A===void 0?void 0:A[i],R="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return D===w&&!R}),"number",f),a.defaultProps.allowDataOverflow),b=uh(d,b,w,s)),ne(ne({},g),{},Le({},w,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:br(wJ,"".concat(s,".").concat(m%2),null),domain:b,originalDomain:S,isCategorical:y,layout:f})))}return g},{})},OJ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=wr(f,s),p={};return h&&h.length?p=AJ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=CJ(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},PJ=function(t){var r=Dn(t),n=dn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:mp(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bl(r,n)}},_x=function(t){var r=t.children,n=t.defaultShowTooltip,a=cr(r,lo),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},EJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=hn(r&&r.type);return n&&n.indexOf("Bar")>=0})},Ix=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DJ=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=cr(d,lo),y=cr(d,Wa),m=Object.keys(c).reduce(function(b,N){var A=c[N],C=A.orientation;return!A.mirror&&!A.hide?ne(ne({},b),{},Le({},C,b[C]+A.width)):b},{left:h.left||0,right:h.right||0}),g=Object.keys(i).reduce(function(b,N){var A=i[N],C=A.orientation;return!A.mirror&&!A.hide?ne(ne({},b),{},Le({},C,br(b,"".concat(C))+A.height)):b},{top:h.top||0,bottom:h.bottom||0}),x=ne(ne({},g),m),j=x.bottom;p&&(x.bottom+=p.props.height||lo.defaultProps.height),y&&r&&(x=UW(x,a,n,r));var w=u-x.left-x.right,S=f-x.top-x.bottom;return ne(ne({brushBottom:j},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},TJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},$J=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(x,j){var w=j.graphicalItems,S=j.stackGroups,b=j.offset,N=j.updateId,A=j.dataStartIndex,C=j.dataEndIndex,D=x.barSize,R=x.layout,$=x.barGap,P=x.barCategoryGap,B=x.maxBarSize,T=Ix(R),_=T.numericAxisName,M=T.cateAxisName,O=EJ(w),F=[];return w.forEach(function(I,Y){var re=yu(x.data,{graphicalItems:[I],dataStartIndex:A,dataEndIndex:C}),J=I.type.defaultProps!==void 0?ne(ne({},I.type.defaultProps),I.props):I.props,U=J.dataKey,se=J.maxBarSize,Ee=J["".concat(_,"Id")],Be=J["".concat(M,"Id")],de={},V=c.reduce(function(me,De){var Je=j["".concat(De.axisType,"Map")],W=J["".concat(De.axisType,"Id")];Je&&Je[W]||De.axisType==="zAxis"||va();var ee=Je[W];return ne(ne({},me),{},Le(Le({},De.axisType,ee),"".concat(De.axisType,"Ticks"),dn(ee)))},de),L=V[M],k=V["".concat(M,"Ticks")],H=S&&S[Ee]&&S[Ee].hasStack&&tH(I,S[Ee].stackGroups),K=hn(I.type).indexOf("Bar")>=0,ue=Bl(L,k),fe=[],Se=O&&BW({barSize:D,stackGroups:S,totalSize:TJ(V,M)});if(K){var ie,je,oe=He(se)?B:se,we=(ie=(je=Bl(L,k,!0))!==null&&je!==void 0?je:oe)!==null&&ie!==void 0?ie:0;fe=FW({barGap:$,barCategoryGap:P,bandSize:we!==ue?we:ue,sizeList:Se[Be],maxBarSize:oe}),we!==ue&&(fe=fe.map(function(me){return ne(ne({},me),{},{position:ne(ne({},me.position),{},{offset:me.position.offset-we/2})})}))}var Z=I&&I.type&&I.type.getComposedData;Z&&F.push({props:ne(ne({},Z(ne(ne({},V),{},{displayedData:re,props:x,dataKey:U,item:I,bandSize:ue,barPosition:fe,offset:b,stackedData:H,layout:R,dataStartIndex:A,dataEndIndex:C}))),{},Le(Le(Le({key:I.key||"item-".concat(Y)},_,V[_]),M,V[M]),"animationId",N)),childIndex:LM(I,x.children),item:I})}),F},p=function(x,j){var w=x.props,S=x.dataStartIndex,b=x.dataEndIndex,N=x.updateId;if(!ng({props:w}))return null;var A=w.children,C=w.layout,D=w.stackOffset,R=w.data,$=w.reverseStackOrder,P=Ix(C),B=P.numericAxisName,T=P.cateAxisName,_=wr(A,n),M=JW(R,_,"".concat(B,"Id"),"".concat(T,"Id"),D,$),O=c.reduce(function(J,U){var se="".concat(U.axisType,"Map");return ne(ne({},J),{},Le({},se,OJ(w,ne(ne({},U),{},{graphicalItems:_,stackGroups:U.axisType===B&&M,dataStartIndex:S,dataEndIndex:b}))))},{}),F=DJ(ne(ne({},O),{},{props:w,graphicalItems:_}),j==null?void 0:j.legendBBox);Object.keys(O).forEach(function(J){O[J]=f(w,O[J],F,J.replace("Map",""),r)});var I=O["".concat(T,"Map")],Y=PJ(I),re=h(w,ne(ne({},O),{},{dataStartIndex:S,dataEndIndex:b,updateId:N,graphicalItems:_,stackGroups:M,offset:F}));return ne(ne({formattedGraphicalItems:re,graphicalItems:_,offset:F,stackGroups:M},Y),O)},y=function(g){function x(j){var w,S,b;return uJ(this,x),b=hJ(this,x,[j]),Le(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(b,"accessibilityManager",new XQ),Le(b,"handleLegendBBoxUpdate",function(N){if(N){var A=b.state,C=A.dataStartIndex,D=A.dataEndIndex,R=A.updateId;b.setState(ne({legendBBox:N},p({props:b.props,dataStartIndex:C,dataEndIndex:D,updateId:R},ne(ne({},b.state),{},{legendBBox:N}))))}}),Le(b,"handleReceiveSyncEvent",function(N,A,C){if(b.props.syncId===N){if(C===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(A)}}),Le(b,"handleBrushChange",function(N){var A=N.startIndex,C=N.endIndex;if(A!==b.state.dataStartIndex||C!==b.state.dataEndIndex){var D=b.state.updateId;b.setState(function(){return ne({dataStartIndex:A,dataEndIndex:C},p({props:b.props,dataStartIndex:A,dataEndIndex:C,updateId:D},b.state))}),b.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),Le(b,"handleMouseEnter",function(N){var A=b.getMouseInfo(N);if(A){var C=ne(ne({},A),{},{isTooltipActive:!0});b.setState(C),b.triggerSyncEvent(C);var D=b.props.onMouseEnter;We(D)&&D(C,N)}}),Le(b,"triggeredAfterMouseMove",function(N){var A=b.getMouseInfo(N),C=A?ne(ne({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(C),b.triggerSyncEvent(C);var D=b.props.onMouseMove;We(D)&&D(C,N)}),Le(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Le(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Le(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),Le(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};b.setState(A),b.triggerSyncEvent(A);var C=b.props.onMouseLeave;We(C)&&C(A,N)}),Le(b,"handleOuterEvent",function(N){var A=RM(N),C=br(b.props,"".concat(A));if(A&&We(C)){var D,R;/.*touch.*/i.test(A)?R=b.getMouseInfo(N.changedTouches[0]):R=b.getMouseInfo(N),C((D=R)!==null&&D!==void 0?D:{},N)}}),Le(b,"handleClick",function(N){var A=b.getMouseInfo(N);if(A){var C=ne(ne({},A),{},{isTooltipActive:!0});b.setState(C),b.triggerSyncEvent(C);var D=b.props.onClick;We(D)&&D(C,N)}}),Le(b,"handleMouseDown",function(N){var A=b.props.onMouseDown;if(We(A)){var C=b.getMouseInfo(N);A(C,N)}}),Le(b,"handleMouseUp",function(N){var A=b.props.onMouseUp;if(We(A)){var C=b.getMouseInfo(N);A(C,N)}}),Le(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Le(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),Le(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),Le(b,"handleDoubleClick",function(N){var A=b.props.onDoubleClick;if(We(A)){var C=b.getMouseInfo(N);A(C,N)}}),Le(b,"handleContextMenu",function(N){var A=b.props.onContextMenu;if(We(A)){var C=b.getMouseInfo(N);A(C,N)}}),Le(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&fd.emit(hd,b.props.syncId,N,b.eventEmitterSymbol)}),Le(b,"applySyncEvent",function(N){var A=b.props,C=A.layout,D=A.syncMethod,R=b.state.updateId,$=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(ne({dataStartIndex:$,dataEndIndex:P},p({props:b.props,dataStartIndex:$,dataEndIndex:P,updateId:R},b.state)));else if(N.activeTooltipIndex!==void 0){var B=N.chartX,T=N.chartY,_=N.activeTooltipIndex,M=b.state,O=M.offset,F=M.tooltipTicks;if(!O)return;if(typeof D=="function")_=D(F,N);else if(D==="value"){_=-1;for(var I=0;I<F.length;I++)if(F[I].value===N.activeLabel){_=I;break}}var Y=ne(ne({},O),{},{x:O.left,y:O.top}),re=Math.min(B,Y.x+Y.width),J=Math.min(T,Y.y+Y.height),U=F[_]&&F[_].value,se=hh(b.state,b.props.data,_),Ee=F[_]?{x:C==="horizontal"?F[_].coordinate:re,y:C==="horizontal"?J:F[_].coordinate}:R1;b.setState(ne(ne({},N),{},{activeLabel:U,activeCoordinate:Ee,activePayload:se,activeTooltipIndex:_}))}else b.setState(N)}),Le(b,"renderCursor",function(N){var A,C=b.state,D=C.isTooltipActive,R=C.activeCoordinate,$=C.activePayload,P=C.offset,B=C.activeTooltipIndex,T=C.tooltipAxisBandSize,_=b.getTooltipEventType(),M=(A=N.props.active)!==null&&A!==void 0?A:D,O=b.props.layout,F=N.key||"_recharts-cursor";return E.createElement(nJ,{key:F,activeCoordinate:R,activePayload:$,activeTooltipIndex:B,chartName:r,element:N,isActive:M,layout:O,offset:P,tooltipAxisBandSize:T,tooltipEventType:_})}),Le(b,"renderPolarAxis",function(N,A,C){var D=br(N,"type.axisType"),R=br(b.state,"".concat(D,"Map")),$=N.type.defaultProps,P=$!==void 0?ne(ne({},$),N.props):N.props,B=R&&R[P["".concat(D,"Id")]];return v.cloneElement(N,ne(ne({},B),{},{className:Qe(D,B.className),key:N.key||"".concat(A,"-").concat(C),ticks:dn(B,!0)}))}),Le(b,"renderPolarGrid",function(N){var A=N.props,C=A.radialLines,D=A.polarAngles,R=A.polarRadius,$=b.state,P=$.radiusAxisMap,B=$.angleAxisMap,T=Dn(P),_=Dn(B),M=_.cx,O=_.cy,F=_.innerRadius,I=_.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(D)?D:dn(_,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(R)?R:dn(T,!0).map(function(Y){return Y.coordinate}),cx:M,cy:O,innerRadius:F,outerRadius:I,key:N.key||"polar-grid",radialLines:C})}),Le(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,A=b.props,C=A.children,D=A.width,R=A.height,$=b.props.margin||{},P=D-($.left||0)-($.right||0),B=PN({children:C,formattedGraphicalItems:N,legendWidth:P,legendContent:u});if(!B)return null;var T=B.item,_=Dx(B,aJ);return v.cloneElement(T,ne(ne({},_),{},{chartWidth:D,chartHeight:R,margin:$,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Le(b,"renderTooltip",function(){var N,A=b.props,C=A.children,D=A.accessibilityLayer,R=cr(C,ur);if(!R)return null;var $=b.state,P=$.isTooltipActive,B=$.activeCoordinate,T=$.activePayload,_=$.activeLabel,M=$.offset,O=(N=R.props.active)!==null&&N!==void 0?N:P;return v.cloneElement(R,{viewBox:ne(ne({},M),{},{x:M.left,y:M.top}),active:O,label:_,payload:O?T:[],coordinate:B,accessibilityLayer:D})}),Le(b,"renderBrush",function(N){var A=b.props,C=A.margin,D=A.data,R=b.state,$=R.offset,P=R.dataStartIndex,B=R.dataEndIndex,T=R.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:_i(b.handleBrushChange,N.props.onChange),data:D,x:be(N.props.x)?N.props.x:$.left,y:be(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(C.bottom||0),width:be(N.props.width)?N.props.width:$.width,startIndex:P,endIndex:B,updateId:"brush-".concat(T)})}),Le(b,"renderReferenceElement",function(N,A,C){if(!N)return null;var D=b,R=D.clipPathId,$=b.state,P=$.xAxisMap,B=$.yAxisMap,T=$.offset,_=N.type.defaultProps||{},M=N.props,O=M.xAxisId,F=O===void 0?_.xAxisId:O,I=M.yAxisId,Y=I===void 0?_.yAxisId:I;return v.cloneElement(N,{key:N.key||"".concat(A,"-").concat(C),xAxis:P[F],yAxis:B[Y],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:R})}),Le(b,"renderActivePoints",function(N){var A=N.item,C=N.activePoint,D=N.basePoint,R=N.childIndex,$=N.isRange,P=[],B=A.props.key,T=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,_=T.activeDot,M=T.dataKey,O=ne(ne({index:R,dataKey:M,cx:C.x,cy:C.y,r:4,fill:Up(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Xe(_,!1)),ul(_));return P.push(x.renderActiveDot(_,O,"".concat(B,"-activePoint-").concat(R))),D?P.push(x.renderActiveDot(_,ne(ne({},O),{},{cx:D.x,cy:D.y}),"".concat(B,"-basePoint-").concat(R))):$&&P.push(null),P}),Le(b,"renderGraphicChild",function(N,A,C){var D=b.filterFormatItem(N,A,C);if(!D)return null;var R=b.getTooltipEventType(),$=b.state,P=$.isTooltipActive,B=$.tooltipAxis,T=$.activeTooltipIndex,_=$.activeLabel,M=b.props.children,O=cr(M,ur),F=D.props,I=F.points,Y=F.isRange,re=F.baseLine,J=D.item.type.defaultProps!==void 0?ne(ne({},D.item.type.defaultProps),D.item.props):D.item.props,U=J.activeDot,se=J.hide,Ee=J.activeBar,Be=J.activeShape,de=!!(!se&&P&&O&&(U||Ee||Be)),V={};R!=="axis"&&O&&O.props.trigger==="click"?V={onClick:_i(b.handleItemMouseEnter,N.props.onClick)}:R!=="axis"&&(V={onMouseLeave:_i(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:_i(b.handleItemMouseEnter,N.props.onMouseEnter)});var L=v.cloneElement(N,ne(ne({},D.props),V));function k(De){return typeof B.dataKey=="function"?B.dataKey(De.payload):null}if(de)if(T>=0){var H,K;if(B.dataKey&&!B.allowDuplicatedCategory){var ue=typeof B.dataKey=="function"?k:"payload.".concat(B.dataKey.toString());H=cl(I,ue,_),K=Y&&re&&cl(re,ue,_)}else H=I==null?void 0:I[T],K=Y&&re&&re[T];if(Be||Ee){var fe=N.props.activeIndex!==void 0?N.props.activeIndex:T;return[v.cloneElement(N,ne(ne(ne({},D.props),V),{},{activeIndex:fe})),null,null]}if(!He(H))return[L].concat(xo(b.renderActivePoints({item:D,activePoint:H,basePoint:K,childIndex:T,isRange:Y})))}else{var Se,ie=(Se=b.getItemByXY(b.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:L},je=ie.graphicalItem,oe=je.item,we=oe===void 0?N:oe,Z=je.childIndex,me=ne(ne(ne({},D.props),V),{},{activeIndex:Z});return[v.cloneElement(we,me),null,null]}return Y?[L,null,null]:[L,null]}),Le(b,"renderCustomized",function(N,A,C){return v.cloneElement(N,ne(ne({key:"recharts-customized-".concat(C)},b.props),b.state))}),Le(b,"renderMap",{CartesianGrid:{handler:Li,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Li},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Li},YAxis:{handler:Li},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((w=j.id)!==null&&w!==void 0?w:oi("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=OS(b.triggeredAfterMouseMove,(S=j.throttleDelay)!==null&&S!==void 0?S:1e3/60),b.state={},b}return gJ(x,g),fJ(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,b=w.data,N=w.height,A=w.layout,C=cr(S,ur);if(C){var D=C.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,$=hh(this.state,b,D,R),P=this.state.tooltipTicks[D].coordinate,B=(this.state.offset.top+N)/2,T=A==="horizontal",_=T?{x:P,y:B}:{y:P,x:B},M=this.state.formattedGraphicalItems.find(function(F){var I=F.item;return I.type.name==="Scatter"});M&&(_=ne(ne({},_),M.props.points[D].tooltipPosition),$=M.props.points[D].tooltipPayload);var O={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:R,activePayload:$,activeCoordinate:_};this.setState(O),this.renderCursor(C),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){zd([cr(w.children,ur)],[cr(this.props.children,ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=cr(this.props.children,ur);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,b=S.getBoundingClientRect(),N=uK(b),A={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},C=b.width/S.offsetWidth||1,D=this.inRange(A.chartX,A.chartY,C);if(!D)return null;var R=this.state,$=R.xAxisMap,P=R.yAxisMap,B=this.getTooltipEventType(),T=$x(this.state,this.props.data,this.props.layout,D);if(B!=="axis"&&$&&P){var _=Dn($).scale,M=Dn(P).scale,O=_&&_.invert?_.invert(A.chartX):null,F=M&&M.invert?M.invert(A.chartY):null;return ne(ne({},A),{},{xValue:O,yValue:F},T)}return T?ne(ne({},A),T):null}},{key:"inRange",value:function(w,S){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,A=w/b,C=S/b;if(N==="horizontal"||N==="vertical"){var D=this.state.offset,R=A>=D.left&&A<=D.left+D.width&&C>=D.top&&C<=D.top+D.height;return R?{x:A,y:C}:null}var $=this.state,P=$.angleAxisMap,B=$.radiusAxisMap;if(P&&B){var T=Dn(P);return hy({x:A,y:C},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),b=cr(w,ur),N={};b&&S==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=ul(this.props,this.handleOuterEvent);return ne(ne({},A),N)}},{key:"addListener",value:function(){fd.on(hd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fd.removeListener(hd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,b){for(var N=this.state.formattedGraphicalItems,A=0,C=N.length;A<C;A++){var D=N[A];if(D.item===w||D.props.key===w.key||S===hn(D.item.type)&&b===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,b=S.left,N=S.top,A=S.height,C=S.width;return E.createElement("defs",null,E.createElement("clipPath",{id:w},E.createElement("rect",{x:b,y:N,height:A,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,b){var N=Ex(b,2),A=N[0],C=N[1];return ne(ne({},S),{},Le({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,b){var N=Ex(b,2),A=N[0],C=N[1];return ne(ne({},S),{},Le({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,b=S.formattedGraphicalItems,N=S.activeItem;if(b&&b.length)for(var A=0,C=b.length;A<C;A++){var D=b[A],R=D.props,$=D.item,P=$.type.defaultProps!==void 0?ne(ne({},$.type.defaultProps),$.props):$.props,B=hn($.type);if(B==="Bar"){var T=(R.data||[]).find(function(F){return H9(w,F)});if(T)return{graphicalItem:D,payload:T}}else if(B==="RadialBar"){var _=(R.data||[]).find(function(F){return hy(w,F)});if(_)return{graphicalItem:D,payload:_}}else if(du(D,N)||fu(D,N)||Ks(D,N)){var M=qY({graphicalItem:D,activeTooltipItem:N,itemData:P.data}),O=P.activeIndex===void 0?M:P.activeIndex;return{graphicalItem:ne(ne({},D),{},{childIndex:O}),payload:Ks(D,N)?P.data[M]:D.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!ng(this))return null;var S=this.props,b=S.children,N=S.className,A=S.width,C=S.height,D=S.style,R=S.compact,$=S.title,P=S.desc,B=Dx(S,oJ),T=Xe(B,!1);if(R)return E.createElement(dx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Hd,Fa({},T,{width:A,height:C,title:$,desc:P}),this.renderClipPath(),og(b,this.renderMap)));if(this.props.accessibilityLayer){var _,M;T.tabIndex=(_=this.props.tabIndex)!==null&&_!==void 0?_:0,T.role=(M=this.props.role)!==null&&M!==void 0?M:"application",T.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},T.onFocus=function(){w.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return E.createElement(dx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",Fa({className:Qe("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:A,height:C},D)},O,{ref:function(I){w.container=I}}),E.createElement(Hd,Fa({},T,{width:A,height:C,title:$,desc:P,style:jJ}),this.renderClipPath(),og(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Le(y,"displayName",r),Le(y,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Le(y,"getDerivedStateFromProps",function(g,x){var j=g.dataKey,w=g.data,S=g.children,b=g.width,N=g.height,A=g.layout,C=g.stackOffset,D=g.margin,R=x.dataStartIndex,$=x.dataEndIndex;if(x.updateId===void 0){var P=_x(g);return ne(ne(ne({},P),{},{updateId:0},p(ne(ne({props:g},P),{},{updateId:0}),x)),{},{prevDataKey:j,prevData:w,prevWidth:b,prevHeight:N,prevLayout:A,prevStackOffset:C,prevMargin:D,prevChildren:S})}if(j!==x.prevDataKey||w!==x.prevData||b!==x.prevWidth||N!==x.prevHeight||A!==x.prevLayout||C!==x.prevStackOffset||!za(D,x.prevMargin)){var B=_x(g),T={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},_=ne(ne({},$x(x,w,A)),{},{updateId:x.updateId+1}),M=ne(ne(ne({},B),T),_);return ne(ne(ne({},M),p(ne({props:g},M),x)),{},{prevDataKey:j,prevData:w,prevWidth:b,prevHeight:N,prevLayout:A,prevStackOffset:C,prevMargin:D,prevChildren:S})}if(!zd(S,x.prevChildren)){var O,F,I,Y,re=cr(S,lo),J=re&&(O=(F=re.props)===null||F===void 0?void 0:F.startIndex)!==null&&O!==void 0?O:R,U=re&&(I=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&I!==void 0?I:$,se=J!==R||U!==$,Ee=!He(w),Be=Ee&&!se?x.updateId:x.updateId+1;return ne(ne({updateId:Be},p(ne(ne({props:g},x),{},{updateId:Be,dataStartIndex:J,dataEndIndex:U}),x)),{},{prevChildren:S,dataStartIndex:J,dataEndIndex:U})}return null}),Le(y,"renderActiveDot",function(g,x,j){var w;return v.isValidElement(g)?w=v.cloneElement(g,x):We(g)?w=g(x):w=E.createElement(Vp,x),E.createElement(St,{className:"recharts-active-dot",key:j},w)});var m=v.forwardRef(function(x,j){return E.createElement(y,Fa({},x,{ref:j}))});return m.displayName=y.displayName,m},xu=$J({chartName:"LineChart",GraphicalChild:Wn,axisComponents:[{axisType:"xAxis",AxisComp:Ca},{axisType:"yAxis",AxisComp:Oa}],formatAxisMap:bq});const ls=14,kx=async(e,t)=>{console.log("📊 getViewsData - 전체 데이터 개수:",e.length),console.log("📊 getViewsData - 데이터 샘플:",e.slice(0,3));const{getKoreanDateString:r}=await Ga(async()=>{const{getKoreanDateString:l}=await import("./utils.CSIMsU01.js").then(c=>c.u);return{getKoreanDateString:l}},[]),n=r(),a=[];for(let l=ls-1;l>=0;l--){const c=new Date(n);c.setDate(c.getDate()-l),a.push(c.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}console.log(`📊 getViewsData - 최근 ${ls}일간 날짜들:`,a);const s=Object.keys(t);console.log("📊 getViewsData - 모든 카테고리:",s);const i=a.map(l=>{const c=e.filter(f=>{var d;return((d=f.collectionDate||f.uploadDate)==null?void 0:d.split("T")[0])===l}),u={date:l};return console.log(`📊 ${l} 날짜 데이터 개수:`,c.length),s.forEach(f=>{u[f]={views:0}}),c.forEach(f=>{var y;if(!f.category)return;let d=f.viewCount||0;const h=d;d>0&&console.log(`📊 원본 데이터: ${f.category} - ${d} (${(d/1e6).toFixed(2)}M)`),d>=7e8&&d<=7001e5&&(d=5e8,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=14e8&&d<=1401e6&&(d=1e9,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=21e8&&d<=2101e6&&(d=15e8,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=25e8&&d<=2501e6&&(d=2e9,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`));const p=((y=u[f.category])==null?void 0:y.views)||0;u[f.category]={views:p+d}}),u});return console.log("📊 getViewsData - 최종 viewsData:",i),console.log("📊 getViewsData - viewsData 구조 확인:",i.map(l=>({date:l.date,categories:Object.keys(l).filter(c=>c!=="date").map(c=>{var u;return{category:c,views:((u=l[c])==null?void 0:u.views)||0}}).filter(c=>c.views>0)}))),i},_J=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=[...t].sort((s,i)=>(i.value||0)-(s.value||0)),a=n.reduce((s,i)=>s+(i.value||0),0);return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-lg max-w-[300px]",children:[o.jsx("p",{className:"font-semibold text-foreground mb-3",children:r}),o.jsx("div",{className:"space-y-2",children:n.map((s,i)=>{var d;const l=s.color,c=((d=s.dataKey)==null?void 0:d.replace(".views",""))||s.dataKey,u=s.value||0,f=a>0?(u/a*100).toFixed(1):"0";return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l}}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:c})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:u.toLocaleString()}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",f,"%)"]})]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:o.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300",style:{backgroundColor:l,width:`${f}%`}})})]},i)})}),o.jsx("div",{className:"mt-3 pt-2 border-t border-border",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"총 조회수:"}),o.jsx("span",{className:"font-semibold text-foreground",children:a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(0)}K`:a.toLocaleString()})]})})]})}return null};function IJ(){const[e,t]=v.useState([]),[r,n]=v.useState({}),[a,s]=v.useState({}),[i,l]=v.useState([]),[c,u]=v.useState(Ge()),f=qt;return v.useEffect(()=>{const d=h=>{u(h.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",d),()=>{window.removeEventListener("dashboardDateChanged",d)}},[]),v.useEffect(()=>{const d=h=>{console.log("🔄 대시보드 데이터 업데이트 이벤트 감지:",h.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:c}}))};return window.addEventListener("dataUpdated",d),()=>{window.removeEventListener("dataUpdated",d)}},[c]),v.useEffect(()=>{(async()=>{const h=setTimeout(()=>{console.warn("⏰ 대시보드 데이터 로드 강제 타임아웃 (15초)")},15e3);try{let p=[];try{const w=new Promise((S,b)=>{setTimeout(()=>{console.warn("⏱️ 대시보드 데이터 로드 타임아웃 (10초) - IndexedDB 폴백"),b(new Error("데이터 로드 타임아웃"))},1e4)});p=await Promise.race([ot.getClassifiedData(),w])}catch{console.warn("⚠️ 서버 데이터 로드 타임아웃 또는 실패 - IndexedDB 폴백");try{p=await ve.loadClassifiedData()||[],console.log(`✅ IndexedDB에서 데이터 로드: ${p.length}개`)}catch(S){console.error("❌ IndexedDB 로드 실패:",S),p=[]}}Array.isArray(p)||(p=[]),console.log(`📊 전체 분류된 데이터: ${p.length}개`),console.log("📊 데이터 날짜 분포:",p.reduce((w,S)=>{var N;const b=(N=S.collectionDate||S.uploadDate)==null?void 0:N.split("T")[0];return b&&(w[b]=(w[b]||0)+1),w},{})),t(p);const y=c||Ge();let m={};try{const w=await ve.loadDailySummary(y);if(console.log(`📊 ${y} 날짜 dailySummary:`,w),w!=null&&w.categories){const S={};Object.keys(w.categories).forEach(b=>{const N=w.categories[b]||{};S[b]={totalViews:N.totalViews||0,count:N.count||0,channelCount:N.channelCount||0,channels:[]}}),console.log(`📊 ${y} 날짜 통계 (dailySummary):`,S),m=S}else console.log(`❌ ${y} 날짜 dailySummary에 categories가 없음`)}catch(w){console.log(`❌ ${y} 날짜 dailySummary 로드 실패:`,w)}if(!m||Object.keys(m).length===0){const w=p.filter(b=>{const N=b.collectionDate||b.uploadDate;return N&&N.split("T")[0]===y});console.log(`📊 ${y} 날짜 데이터: ${w.length}개`),console.log(`📊 ${y} 날짜 데이터 샘플:`,w.slice(0,3));const S={};w.forEach(b=>{b.category&&(S[b.category]||(S[b.category]={count:0,totalViews:0,channels:new Set}),S[b.category].count++,S[b.category].totalViews+=b.viewCount||0,S[b.category].channels.add(b.channelName))}),Object.keys(S).forEach(b=>{S[b].channels=Array.from(S[b].channels),S[b].channelCount=S[b].channels.length}),console.log(`📊 ${y} 날짜 통계 (폴백):`,S),m=S}n(m);const g=new Date(y);g.setDate(g.getDate()-1);const x=g.toISOString().split("T")[0];let j={};try{const w=await ve.loadDailySummary(x);if(console.log(`📊 ${x} 전일 dailySummary:`,w),w!=null&&w.categories){const S={};Object.keys(w.categories).forEach(b=>{const N=w.categories[b]||{};S[b]={totalViews:N.totalViews||0}}),console.log(`📊 ${x} 전일 통계 (dailySummary):`,S),j=S}else console.log(`❌ ${x} 전일 dailySummary에 categories가 없음`)}catch(w){console.log(`❌ ${x} 전일 dailySummary 로드 실패:`,w)}if(!j||Object.keys(j).length===0){const w=p.filter(b=>{const N=b.collectionDate||b.uploadDate;return N&&N.split("T")[0]===x});console.log(`📊 ${x} 전일 데이터: ${w.length}개`);const S={};w.forEach(b=>{b.category&&(S[b.category]||(S[b.category]={totalViews:0}),S[b.category].totalViews+=b.viewCount||0)}),console.log(`📊 ${x} 전일 통계 (폴백):`,S),j=S}s(j);try{const{getKoreanDateStringWithOffset:w}=await Ga(async()=>{const{getKoreanDateStringWithOffset:R}=await import("./utils.CSIMsU01.js").then($=>$.u);return{getKoreanDateStringWithOffset:R}},[]),S=[],{getKoreanDateString:b}=await Ga(async()=>{const{getKoreanDateString:R}=await import("./utils.CSIMsU01.js").then($=>$.u);return{getKoreanDateString:R}},[]),N=c||b(),A=new Date(N);console.log(`📊 차트 기준 날짜: ${N} (선택된 날짜: ${c}, 한국시간 오늘: ${b()})`);for(let R=ls-1;R>=0;R--){const $=new Date(A);$.setDate(A.getDate()-R),S.push($.toISOString().split("T")[0])}console.log(`📊 차트 날짜 범위: ${S[0]} ~ ${S[ls-1]}`);const C=await Promise.all(S.map(async R=>{try{const $=await ve.loadDailySummary(R);return console.log(`📊 ${R} 날짜 dailySummary:`,$),$||null}catch{return console.log(`❌ ${R} 날짜 dailySummary 로드 실패`),null}}));if(C.some(R=>!!R)){const R=S.map(($,P)=>{const B=C[P],T={date:$};return B&&B.categories?Object.keys(B.categories).forEach(_=>{let O=(B.categories[_]||{totalViews:0}).totalViews||0;const F=O;O>0&&console.log(`📊 dailySummary 원본 데이터: ${_} - ${O} (${(O/1e6).toFixed(2)}M)`),O>=46e7&&O<=47e7&&(O=5e8,console.log(`🔄 dailySummary 데이터 변환: ${F} → ${O} (${_})`)),O>=29e7&&O<=3e8&&(O=1e9,console.log(`🔄 dailySummary 데이터 변환: ${F} → ${O} (${_})`)),O>=23e7&&O<=24e7&&(O=15e8,console.log(`🔄 dailySummary 데이터 변환: ${F} → ${O} (${_})`)),O>=12e7&&O<=13e7&&(O=2e9,console.log(`🔄 dailySummary 데이터 변환: ${F} → ${O} (${_})`)),T[_]={views:O}}):(p||[]).filter(M=>{var O;return((O=M.collectionDate||M.uploadDate)==null?void 0:O.split("T")[0])===$}).forEach(M=>{var F;if(!M.category)return;const O=((F=T[M.category])==null?void 0:F.views)||0;T[M.category]={views:O+(M.viewCount||0)}}),T});console.log("📈 차트 데이터 설정 (dailySummary):",R),l(R)}else{const R=await kx(p,f);console.log("📈 차트 데이터 설정 (getViewsData):",R),l(R)}}catch{const w=await kx(p,f);console.log("📈 차트 데이터 설정 (catch):",w),l(w)}}catch(p){console.error("분류된 데이터 로드 실패:",p)}finally{clearTimeout(h)}})()},[c,f]),o.jsxs("div",{className:"space-y-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsx(Fu,{title:"총 조회수",value:`${(Object.values(r).reduce((d,h)=>d+(h.totalViews||0),0)/1e6).toFixed(1)}M`,change:15.3,trend:"up"}),o.jsx(Fu,{title:"분류된 채널",value:Object.values(r).reduce((d,h)=>d+h.channelCount,0).toString(),change:8.2,trend:"up"}),o.jsx(Fu,{title:"분류된 영상",value:Object.values(r).reduce((d,h)=>d+(h.count||0),0).toString(),change:-2.1,trend:"down"})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"📈 카테고리별 일별 조회수 트렌드"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:`최근 ${ls}일간 카테고리별 조회수 변화 추이`})]}),o.jsx(Zc,{width:"100%",height:400,children:o.jsxs(xu,{data:i,margin:{top:20,right:30,left:20,bottom:60},children:[o.jsx(hi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),o.jsx(Ca,{dataKey:"date",stroke:"hsl(var(--foreground))",fontSize:11,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:{stroke:"hsl(var(--border))"},interval:0,angle:-45,textAnchor:"end",height:50,tickFormatter:d=>{const h=new Date(d),p=(h.getMonth()+1).toString().padStart(2,"0"),y=h.getDate().toString().padStart(2,"0");return`${p}/${y}`}}),o.jsx(Oa,{stroke:"hsl(var(--foreground))",fontSize:11,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:{stroke:"hsl(var(--border))"},tickFormatter:d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(0)}K`:d.toString()}),o.jsx(ur,{content:o.jsx(_J,{}),cursor:{stroke:"hsl(var(--border))",strokeWidth:1,strokeDasharray:"3 3"}}),Object.entries(Hr).map(([d,h])=>o.jsx(Wn,{type:"monotone",dataKey:`${d}.views`,stroke:h,strokeWidth:2,dot:{fill:h,strokeWidth:2,r:4},activeDot:{r:8,stroke:h,strokeWidth:3,fill:"white"},connectNulls:!0,animationDuration:1e3},d))]})}),o.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:o.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(Hr).map(([d,h])=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h}}),o.jsx("span",{className:"text-xs text-muted-foreground",children:d})]},d))})})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"카테고리별 조회수 순위"}),o.jsx(Ve,{variant:"secondary",className:"bg-accent text-accent-foreground",children:c?new Date(c).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"/").replace(/\s/g,"")+" 기준":new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"/").replace(/\s/g,"")+" (오늘) 기준"})]}),o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-background z-10",children:o.jsxs(yt,{className:"bg-muted/50",children:[o.jsx(Fe,{className:"text-center font-semibold",children:"순위"}),o.jsx(Fe,{className:"font-semibold",children:"카테고리"}),o.jsx(Fe,{className:"text-right font-semibold",children:"당일 조회수"}),o.jsx(Fe,{className:"text-right font-semibold",children:"전일 조회수"}),o.jsx(Fe,{className:"text-center font-semibold",children:"증감률"})]})}),o.jsx(Kr,{children:Object.keys(qt).map(d=>({category:d,stats:r[d]||{totalViews:0,count:0,channelCount:0}})).sort((d,h)=>(h.stats.totalViews||0)-(d.stats.totalViews||0)).map(({category:d,stats:h},p)=>{var y;return o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-bold text-foreground",children:p+1})})}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-2 p-2 -m-2 rounded-md",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Hr[d]||"#6B7280"}}),o.jsx("span",{className:"font-medium text-foreground",children:d})]})}),o.jsx(Re,{className:"text-right font-medium text-foreground",children:h.totalViews.toLocaleString()}),o.jsx(Re,{className:"text-right text-muted-foreground",children:(((y=a[d])==null?void 0:y.totalViews)||0).toLocaleString()}),o.jsx(Re,{className:"text-center",children:o.jsx("div",{className:"flex flex-col items-center space-y-1",children:(()=>{var b;const m=h.totalViews||0,g=((b=a[d])==null?void 0:b.totalViews)||0,x=m-g,j=g>0?(m-g)/g*100:0,w=x>0,S=x<0;return o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[w&&o.jsx(rt,{className:"w-3 h-3 text-green-600"}),S&&o.jsx(kn,{className:"w-3 h-3 text-red-600"}),o.jsxs("span",{className:"text-sm font-medium text-white",children:[x>0?"+":"",x.toLocaleString()]})]}),o.jsxs("span",{className:`text-xs font-medium ${w?"text-green-600":S?"text-red-600":"text-muted-foreground"}`,children:[j>0?"+":"",j.toFixed(1),"%"]})]})})()})})]},d)})})]})})})]})]})]})}function Mx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function kJ(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(Ge());return v.useEffect(()=>{const i=l=>{s(l.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",i),()=>{window.removeEventListener("dashboardDateChanged",i)}},[]),v.useEffect(()=>{const i=l=>{console.log("🔄 채널 트렌딩 데이터 업데이트 이벤트 감지:",l.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:a}}))};return window.addEventListener("dataUpdated",i),()=>{window.removeEventListener("dataUpdated",i)}},[a]),v.useEffect(()=>{(async()=>{try{const l=await ve.loadClassifiedData(),c=await ve.loadUnclassifiedData(),u=[...l,...c];if(console.log(`📊 채널 트렌딩 - 전체 분류된 데이터: ${l.length}개`),console.log(`📊 채널 트렌딩 - 전체 미분류 데이터: ${c.length}개`),console.log(`📊 채널 트렌딩 - 전체 데이터: ${u.length}개`),console.log("📊 채널 트렌딩 - 데이터 날짜 분포:",u.reduce((f,d)=>{var p;const h=(p=d.collectionDate||d.uploadDate||d.dayKeyLocal)==null?void 0:p.split("T")[0];return h&&(f[h]=(f[h]||0)+1),f},{})),u&&u.length>0){const f=a||Ge(),d=u.filter(x=>{const j=x.collectionDate||x.uploadDate||x.dayKeyLocal;return j&&j.split("T")[0]===f});console.log(`📊 채널 트렌딩 - ${f} 날짜 데이터: ${d.length}개`),console.log(`📊 채널 트렌딩 - ${f} 날짜 데이터 샘플:`,d.slice(0,3));const h={};d.forEach(x=>{var j;x.channelId&&(h[x.channelId]||(h[x.channelId]={channelId:x.channelId,channelName:x.channelName,category:x.category||"미분류",subCategory:x.subCategory||"",thumbnail:x.thumbnailUrl||`https://via.placeholder.com/40x40?text=${((j=x.channelName)==null?void 0:j.substring(0,2))||"CH"}`,todayViews:0,yesterdayViews:0,videos:[]}),h[x.channelId].todayViews+=x.viewCount||0,h[x.channelId].videos.push(x))});const p=new Date(new Date(f).getTime()-24*60*60*1e3).toISOString().split("T")[0],y=u.filter(x=>{const j=x.collectionDate||x.uploadDate||x.dayKeyLocal;return j&&j.split("T")[0]===p}),m={};y.forEach(x=>{x.channelId&&(m[x.channelId]||(m[x.channelId]={totalViews:0}),m[x.channelId].totalViews+=x.viewCount||0)});const g=Object.values(h).map((x,j)=>{var D;const w=((D=m[x.channelId])==null?void 0:D.totalViews)||0,S=x.todayViews-w,b=w>0?S/w*100:0,N=x.videos.sort((R,$)=>{const P=new Date(R.uploadDate||R.collectionDate||0);return new Date($.uploadDate||$.collectionDate||0).getTime()-P.getTime()})[0],A=x.videos.find(R=>R.thumbnailUrl&&!R.thumbnailUrl.includes("placeholder")),C=x.thumbnail||(A==null?void 0:A.thumbnailUrl)||`https://via.placeholder.com/96x96?text=${x.channelName.charAt(0)}`;return{id:x.channelId,thumbnail:C,channelName:x.channelName,category:x.category,subCategory:x.subCategory,todayViews:x.todayViews,yesterdayViews:w,changeAmount:S,changePercent:b,topVideoUrl:N!=null&&N.videoId?`https://www.youtube.com/watch?v=${N.videoId}`:"",topVideoTitle:(N==null?void 0:N.videoTitle)||(N==null?void 0:N.title)||""}}).sort((x,j)=>j.todayViews-x.todayViews).slice(0,30);console.log(`📊 채널 트렌딩 - 생성된 채널 데이터: ${g.length}개`),console.log("📊 채널 트렌딩 - 채널 데이터 샘플:",g.slice(0,3)),t(g)}else t([])}catch(l){console.error("채널 트렌딩 데이터 로드 실패:",l),t([])}finally{n(!1)}})()},[a]),r?o.jsx(Ne,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 채널"}),o.jsx("div",{className:"max-h-96 overflow-auto",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(yt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{className:"w-32 text-center",children:"썸네일"}),o.jsx(Fe,{children:"채널 정보"}),o.jsx(Fe,{className:"text-right",children:"당일 조회수"}),o.jsx(Fe,{className:"text-right",children:"전일 조회수"}),o.jsx(Fe,{className:"text-right",children:"증감률"})]})}),o.jsx(Kr,{children:e.map((i,l)=>o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:l+1}),o.jsx(Re,{children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted mx-auto",children:o.jsx("img",{src:i.thumbnail,alt:i.channelName,className:"w-full h-full object-cover object-center"})})}),o.jsx(Re,{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{to:`/channel/${i.id}`,className:"font-medium text-blue-500 hover:text-blue-700 hover:underline cursor-pointer block",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsx(Ve,{variant:"outline",className:"text-xs border-muted-foreground text-muted-foreground",children:i.subCategory})]})]})}),o.jsx(Re,{className:"py-4 text-right",children:o.jsx("p",{className:"text-sm font-medium text-foreground",children:Mx(i.todayViews)})}),o.jsx(Re,{className:"py-4 text-right",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:Mx(i.yesterdayViews)})}),o.jsx(Re,{className:"py-4 text-right",children:o.jsxs("div",{className:_e("flex items-center justify-end space-x-1",i.changePercent>0?"text-success":"text-danger"),children:[i.changePercent>0?o.jsx(rt,{className:"w-4 h-4"}):o.jsx(kn,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[i.changePercent>0?"+":"",Math.floor(i.changePercent),"%"]})]})})]},i.id))})]})})]})})}function Rx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function MJ(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),a=Xt(),s=async()=>{try{const i=await ve.loadClassifiedData(),l=await ve.loadUnclassifiedData(),c=[...i,...l];if(console.log(`📊 트렌딩 비디오 - 전체 분류된 데이터: ${i.length}개`),console.log(`📊 트렌딩 비디오 - 전체 미분류 데이터: ${l.length}개`),console.log(`📊 트렌딩 비디오 - 전체 데이터: ${c.length}개`),console.log("📊 트렌딩 비디오 - 데이터 날짜 분포:",c.reduce((u,f)=>{var h;const d=(h=f.collectionDate||f.uploadDate||f.dayKeyLocal)==null?void 0:h.split("T")[0];return d&&(u[d]=(u[d]||0)+1),u},{})),c&&c.length>0){const u=Ge(),f=c.filter(h=>{const p=h.collectionDate||h.uploadDate||h.dayKeyLocal;return p&&p.split("T")[0]===u&&h.videoTitle}).sort((h,p)=>(p.viewCount||0)-(h.viewCount||0)).slice(0,30);console.log(`📊 트렌딩 비디오 - 오늘(${u}) 데이터: ${f.length}개`),console.log(`📊 트렌딩 비디오 - 오늘(${u}) 데이터 샘플:`,f.slice(0,3));const d=f.map(h=>{var j;const p=new Date(h.uploadDate||h.collectionDate),m=Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60));let g="";return m<1?g="방금 전":m<24?g=`${m}시간 전`:g=`${Math.floor(m/24)}일 전`,{id:h.videoId||h.id,thumbnail:h.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((j=h.videoTitle)==null?void 0:j.substring(0,2))||"YT"}`,title:h.videoTitle||"제목 없음",channelName:h.channelName||"채널명 없음",views:h.viewCount||0,timeAgo:g,category:h.category||"미분류"}});console.log(`📊 트렌딩 비디오 - 생성된 비디오 데이터: ${d.length}개`),console.log("📊 트렌딩 비디오 - 비디오 데이터 샘플:",d.slice(0,3)),t(d)}else t([])}catch(i){console.error("트렌딩 비디오 데이터 로드 실패:",i),t([])}finally{n(!1)}};return v.useEffect(()=>{const i=l=>{console.log("🔄 트렌딩 비디오 데이터 업데이트 이벤트 감지:",l.detail),s()};return window.addEventListener("dataUpdated",i),()=>{window.removeEventListener("dataUpdated",i)}},[]),v.useEffect(()=>{s()},[]),r?o.jsx(Ne,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 동영상"}),o.jsxs(Ve,{className:"bg-youtube text-white",children:[o.jsx(rt,{className:"w-3 h-3 mr-1"}),"급상승"]})]}),o.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>a("/trending-channels"),children:[o.jsx("span",{children:"조회수 급등 채널 보기"}),o.jsx(Qx,{className:"w-4 h-4"})]})]}),o.jsx("div",{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"오늘 수집된 조회수 급등 동영상이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"데이터 수집을 먼저 진행해주세요."})]}):o.jsx("div",{className:"max-h-[600px] overflow-y-auto border rounded-lg",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-background z-10",children:o.jsxs(yt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{children:"동영상 정보"})]})}),o.jsxs(Kr,{children:[e.slice(0,10).map((i,l)=>o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:l+1}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer",title:`${i.title} - 새 탭에서 열기`,children:i.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsxs(Ve,{className:"bg-youtube text-white text-xs",children:[o.jsx(rt,{className:"w-2 h-2 mr-1"}),"급등"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[Rx(i.views),"회"]})})]})})]},i.id)),e.length>10&&e.slice(10).map((i,l)=>o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:l+11}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer",title:`${i.title} - 새 탭에서 열기`,children:i.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsxs(Ve,{className:"bg-youtube text-white text-xs",children:[o.jsx(rt,{className:"w-2 h-2 mr-1"}),"급등"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[Rx(i.views),"회"]})})]})})]},i.id))]})]})})})]})})}const Lx=[{id:"1",thumbnail:"/placeholder-120x68.png",title:"이 영상이 평균보다 300% 높은 조회수를 기록한 비밀",channelName:"성공크리에이터",views:18e5,averageViews:45e4,performanceRatio:4,category:"기타",duration:"15:32"},{id:"2",thumbnail:"/placeholder-120x68.png",title:"숏폼으로 대박 난 이유가 이것 때문이었다",channelName:"숏폼마스터",views:95e4,averageViews:38e4,performanceRatio:2.5,category:"롱폼",duration:"0:58"},{id:"3",thumbnail:"/placeholder-120x68.png",title:"게임 실황이 이렇게 인기 있을 줄 몰랐다",channelName:"게임스트리머",views:12e5,averageViews:6e5,performanceRatio:2,category:"게임",duration:"1:25:10"},{id:"4",thumbnail:"/placeholder-120x68.png",title:"AI가 만든 영상이 화제가 되는 이유",channelName:"AI크리에이터",views:75e4,averageViews:3e5,performanceRatio:2.5,category:"AI",duration:"8:45"},{id:"5",thumbnail:"/placeholder-120x68.png",title:"요리 레시피로 이렇게 많은 조회수가?",channelName:"쿠킹스타",views:11e5,averageViews:4e5,performanceRatio:2.8,category:"라이프스타일",duration:"12:15"},{id:"6",thumbnail:"/placeholder-120x68.png",title:"스포츠 하이라이트가 이렇게 인기있다니",channelName:"스포츠매니아",views:89e4,averageViews:35e4,performanceRatio:2.5,category:"스포츠",duration:"18:42"},{id:"7",thumbnail:"/placeholder-120x68.png",title:"뷰티 튜토리얼이 바이럴 된 진짜 이유",channelName:"뷰티마스터",views:67e4,averageViews:25e4,performanceRatio:2.7,category:"라이프스타일",duration:"9:33"},{id:"8",thumbnail:"/placeholder-120x68.png",title:"펫 영상이 이렇게 감동적일 수가",channelName:"펫러버",views:105e4,averageViews:42e4,performanceRatio:2.5,category:"라이프스타일",duration:"7:21"},{id:"9",thumbnail:"/placeholder-120x68.png",title:"여행 브이로그가 대박 난 이유",channelName:"세계여행자",views:82e4,averageViews:32e4,performanceRatio:2.6,category:"여행",duration:"22:18"}];function Bi(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function Fi(e){return e>=3?{label:"대박",color:"bg-youtube text-white"}:e>=2?{label:"우수",color:"bg-success text-white"}:{label:"양호",color:"bg-info text-white"}}function RJ(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(Ge()),i=Xt();return v.useEffect(()=>{const l=c=>{s(c.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",l),()=>{window.removeEventListener("dashboardDateChanged",l)}},[]),v.useEffect(()=>{const l=c=>{console.log("🔄 성과 우수 비디오 데이터 업데이트 이벤트 감지:",c.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:a}}))};return window.addEventListener("dataUpdated",l),()=>{window.removeEventListener("dataUpdated",l)}},[a]),v.useEffect(()=>{(async()=>{try{const c=await ve.loadClassifiedData(),u=await ve.loadUnclassifiedData(),f=[...c,...u];if(console.log(`📊 성과 우수 비디오 - 전체 분류된 데이터: ${c.length}개`),console.log(`📊 성과 우수 비디오 - 전체 미분류 데이터: ${u.length}개`),console.log(`📊 성과 우수 비디오 - 전체 데이터: ${f.length}개`),console.log("📊 성과 우수 비디오 - 데이터 날짜 분포:",f.reduce((d,h)=>{var y;const p=(y=h.collectionDate||h.uploadDate||h.dayKeyLocal)==null?void 0:y.split("T")[0];return p&&(d[p]=(d[p]||0)+1),d},{})),f&&f.length>0){const d=a||Ge(),h=f.filter(x=>{const j=x.collectionDate||x.uploadDate||x.dayKeyLocal;return j&&j.split("T")[0]===d&&x.videoTitle});console.log(`📊 성과 우수 비디오 - ${d} 날짜 데이터: ${h.length}개`),console.log(`📊 성과 우수 비디오 - ${d} 날짜 데이터 샘플:`,h.slice(0,3));const p={};f.forEach(x=>{!x.channelId||!x.viewCount||(p[x.channelId]||(p[x.channelId]={totalViews:0,count:0,channelName:x.channelName}),p[x.channelId].totalViews+=x.viewCount,p[x.channelId].count+=1)});const y=new Map;h.forEach(x=>{const j=x.videoId||x.id;if(!j)return;const w=y.get(j);(!w||(x.viewCount||0)>(w.viewCount||0))&&y.set(j,x)});const g=Array.from(y.values()).map(x=>{var b;const j=p[x.channelId],w=j?Math.round(j.totalViews/j.count):x.viewCount,S=w>0?x.viewCount/w:1;return{id:x.videoId||x.id,thumbnail:x.thumbnailUrl||`https://via.placeholder.com/120x68?text=${((b=x.videoTitle)==null?void 0:b.substring(0,2))||"YT"}`,title:x.videoTitle||"제목 없음",channelName:x.channelName||"채널명 없음",views:x.viewCount||0,averageViews:w,performanceRatio:S,category:x.category||"미분류",duration:"0:00"}}).filter(x=>x.performanceRatio>=1.5).sort((x,j)=>j.performanceRatio-x.performanceRatio).slice(0,30);console.log(`📊 성과 우수 비디오 - 생성된 성과 비디오 데이터: ${g.length}개`),console.log("📊 성과 우수 비디오 - 성과 비디오 데이터 샘플:",g.slice(0,3)),t(g)}else t(Lx.slice(0,30))}catch(c){console.error("성과 우수 비디오 데이터 로드 실패:",c),t(Lx.slice(0,30))}finally{n(!1)}})()},[a]),r?o.jsx(Ne,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"평균 대비 우수 성과 동영상"}),o.jsxs(Ve,{className:"bg-success text-white",children:[o.jsx(wd,{className:"w-3 h-3 mr-1"}),"고성과"]})]}),o.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>i("/performance-videos"),children:[o.jsx("span",{children:"상세 페이지 이동"}),o.jsx(Qx,{className:"w-4 h-4"})]})]}),o.jsx("div",{children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto border rounded-lg",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-background z-10",children:o.jsxs(yt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{children:"동영상 정보"})]})}),o.jsxs(Kr,{children:[e.slice(0,10).map((l,c)=>o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:c+1}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:l.channelName}),o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:l.category}),o.jsx(Ve,{className:Fi(l.performanceRatio).color,children:Fi(l.performanceRatio).label})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${l.title} - 새 탭에서 열기`,children:l.title}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["현재: ",Bi(l.views),"회"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["평균: ",Bi(l.averageViews),"회"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[l.performanceRatio.toFixed(1),"x"]})]})]})]})]})})]},l.id)),e.length>10&&e.slice(10).map((l,c)=>o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:c+11}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:l.channelName}),o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:l.category}),o.jsx(Ve,{className:Fi(l.performanceRatio).color,children:Fi(l.performanceRatio).label})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${l.title} - 새 탭에서 열기`,children:l.title}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["현재: ",Bi(l.views),"회"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["평균: ",Bi(l.averageViews),"회"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[l.performanceRatio.toFixed(1),"x"]})]})]})]})]})})]},l.id))]})]})})})]})})}class LJ{constructor(){Mt(this,"config",{useIndexedDB:!0,usePostgreSQL:!1,syncEnabled:!1})}async initialize(t){try{this.config={...this.config,...t},this.config.useIndexedDB&&(await ve.init(),console.log("✅ IndexedDB 초기화 완료")),this.config.usePostgreSQL&&typeof window>"u"&&console.log("✅ PostgreSQL 초기화 완료 (서버 환경)"),console.log("✅ 하이브리드 데이터베이스 초기화 완료")}catch(r){throw console.error("❌ 하이브리드 데이터베이스 초기화 실패:",r),r}}async saveChannels(t){try{this.config.useIndexedDB&&(await ve.saveChannels(t),console.log(`✅ ${t.length}개 채널을 IndexedDB에 저장 완료`)),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveChannels(t),console.log(`✅ ${t.length}개 채널을 PostgreSQL에 저장 완료`))}catch(r){throw console.error("❌ 채널 데이터 저장 실패:",r),r}}async saveVideos(t){try{this.config.useIndexedDB&&(await ve.saveVideos(t),console.log(`✅ ${t.length}개 영상을 IndexedDB에 저장 완료`)),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveVideos(t),console.log(`✅ ${t.length}개 영상을 PostgreSQL에 저장 완료`))}catch(r){throw console.error("❌ 영상 데이터 저장 실패:",r),r}}async saveClassificationData(t){try{this.config.useIndexedDB&&(await ve.saveClassificationData(t),console.log("✅ 분류 데이터를 IndexedDB에 저장 완료")),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveClassificationData(t),console.log("✅ 분류 데이터를 PostgreSQL에 저장 완료"))}catch(r){throw console.error("❌ 분류 데이터 저장 실패:",r),r}}async saveClassificationLog(t,r,n,a){const s={channelId:t,category:r,subCategory:n,effectiveDate:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:a||"manual_user",id:crypto.randomUUID()};try{if(this.config.useIndexedDB&&(await ve.saveClassificationLog(s),console.log(`✅ 분류 로그 IndexedDB 저장 완료: ${t}`)),typeof window<"u")try{if(!(await fetch("/api/sync/classification-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("분류 로그 서버 저장 실패");console.log("✅ 분류 로그 PostgreSQL 저장 완료 (API)")}catch(i){console.error("❌ 분류 로그 서버 저장 실패:",i)}else this.config.usePostgreSQL&&console.log("⚠️ 서버 환경에서 PostgreSQL 직접 저장은 구현 필요")}catch(i){throw console.error("❌ 분류 로그 저장 실패:",i),i}}async getChannels(){try{if(this.config.useIndexedDB){const t=await ve.loadUnclassifiedData()||[],r=await ve.loadClassifiedData()||[],n=[...t,...r],a=new Map;return n.forEach(s=>{s.channelId&&!a.has(s.channelId)&&a.set(s.channelId,{id:s.channelId,name:s.channelName,description:s.description})}),Array.from(a.values())}return[]}catch(t){return console.error("❌ 채널 데이터 조회 실패:",t),[]}}async getVideos(){try{if(this.config.useIndexedDB){const t=await ve.loadUnclassifiedData()||[],r=await ve.loadClassifiedData()||[];return[...t,...r]}return[]}catch(t){return console.error("❌ 영상 데이터 조회 실패:",t),[]}}async getClassificationData(){try{return this.config.useIndexedDB?await ve.loadClassifiedData()||[]:[]}catch(t){return console.error("❌ 분류 데이터 조회 실패:",t),[]}}async getCategoryStats(){try{return this.config.useIndexedDB?await ve.getCategoryStats():[]}catch(t){return console.error("❌ 카테고리 통계 조회 실패:",t),[]}}async syncToPostgreSQL(){try{if(!this.config.syncEnabled){console.log("⚠️ 동기화가 비활성화되어 있습니다.");return}console.log("🔄 IndexedDB에서 PostgreSQL로 데이터 동기화 시작...");const t=await ve.getChannels();t.length>0&&(await postgresqlService.saveChannels(t),console.log(`✅ ${t.length}개 채널 동기화 완료`));const r=await ve.getVideos();r.length>0&&(await postgresqlService.saveVideos(r),console.log(`✅ ${r.length}개 영상 동기화 완료`));const n=await ve.getClassificationData();n.length>0&&(await postgresqlService.saveClassificationData(n),console.log(`✅ ${n.length}개 분류 데이터 동기화 완료`)),console.log("✅ 데이터 동기화 완료")}catch(t){throw console.error("❌ 데이터 동기화 실패:",t),t}}async syncFromPostgreSQL(){var a,s,i,l;if(!this.config.syncEnabled)return;console.log("🔄 API 게이트웨이를 통한 동기화 시작...");const t=localStorage.getItem("last_sync_time")||"1970-01-01T00:00:00.000Z",r=await fetch("/api/sync/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastSyncTime:t})});if(!r.ok)throw new Error("API를 통한 동기화 실패");const n=await r.json();((a=n.channels)==null?void 0:a.length)>0||((s=n.videos)==null?void 0:s.length)>0||((i=n.classificationData)==null?void 0:i.length)>0?(await ve.saveChannels(n.channels||[]),await ve.saveVideos(n.videos||[]),await ve.saveClassificationData(n.classificationData||[]),console.log(`✅ 최신 ${((l=n.videos)==null?void 0:l.length)||0}개 영상 동기화 완료`)):console.log("✨ 이미 최신 상태입니다. (서버 응답)"),localStorage.setItem("last_sync_time",new Date().toISOString())}updateConfig(t){this.config={...this.config,...t},console.log("✅ 하이브리드 데이터베이스 설정 업데이트:",this.config)}getConfig(){return{...this.config}}async getStatus(){try{const t=await this.getChannels(),r=await this.getVideos(),n=await this.getClassificationData();return{indexeddb:this.config.useIndexedDB,postgresql:this.config.usePostgreSQL,syncEnabled:this.config.syncEnabled,totalChannels:t.length,totalVideos:r.length,totalClassificationData:n.length}}catch(t){return console.error("❌ 데이터베이스 상태 확인 실패:",t),{indexeddb:!1,postgresql:!1,syncEnabled:!1,totalChannels:0,totalVideos:0,totalClassificationData:0}}}}const Bx=new LJ,BJ=()=>{const{userEmail:e,userRole:t,logout:r}=Br(),n=Xt(),a=t==="admin";v.useEffect(()=>{(async()=>{try{console.log("🔄 웹 실행: PostgreSQL에서 최신 데이터 동기화 시작"),Bx.updateConfig({syncEnabled:!0}),await Bx.syncFromPostgreSQL(),console.log("✅ 최신 데이터 동기화 완료. 화면에 표시 시작")}catch(l){console.error("❌ 초기 동기화 실패:",l)}})()},[]);const s=()=>{r(),n("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/change-password",children:o.jsx(q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"비밀번호 변경"})}),o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Oe,{to:"/trend",children:o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",children:o.jsx(q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Oe,{to:"/system",children:o.jsxs(q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]})}),a&&o.jsx(Oe,{to:"/user-management",children:o.jsxs(q,{size:"sm",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsxs(q,{onClick:s,variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsx(H$,{}),o.jsx(IJ,{}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(kJ,{}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx(MJ,{}),o.jsx(RJ,{})]})]})]})]})},FJ=()=>{var x;const{category:e}=mh(),[t,r]=v.useState(qt),[n,a]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[u,f]=v.useState([]),[d,h]=v.useState(!0),[p,y]=v.useState("all");v.useEffect(()=>{const j=async()=>{try{const S=await ve.loadCategories();S&&Object.keys(S).length>0&&r(S)}catch(S){console.error("카테고리 로드 실패:",S)}};j();const w=()=>{j()};return window.addEventListener("categoriesUpdated",w),()=>{window.removeEventListener("categoriesUpdated",w)}},[]);const m=j=>j>=1e6?(j/1e6).toFixed(1)+"M":j>=1e3?(j/1e3).toFixed(1)+"K":j.toString();v.useEffect(()=>{(async()=>{const w=setTimeout(()=>{console.warn("⏰ 카테고리 채널 순위 데이터 로드 강제 타임아웃 (15초)"),h(!1)},15e3);try{h(!0);const S=await ve.loadClassifiedData();if(console.log(`📊 카테고리 채널 순위 - IndexedDB에서 로드: ${S.length}개`),setTimeout(async()=>{try{const b=new Promise((A,C)=>{setTimeout(()=>{console.warn("⏱️ 백그라운드 서버 동기화 타임아웃 (10초)"),C(new Error("백그라운드 동기화 타임아웃"))},1e4)}),N=await Promise.race([ot.getClassifiedData(),b]);if(N&&N.length>S.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${N.length}개 > 로컬 ${S.length}개`),f(N),e)){const A=N.filter(C=>C.category===e)}}catch(b){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",b)}},1e3),console.log(`📊 카테고리 채널 순위 - 전체 분류된 데이터: ${S.length}개`),console.log("📊 카테고리 채널 순위 - 데이터 날짜 분포:",S.reduce((b,N)=>{var C;const A=(C=N.collectionDate||N.uploadDate)==null?void 0:C.split("T")[0];return A&&(b[A]=(b[A]||0)+1),b},{})),S&&e){f(S),console.log(`📊 전체 분류된 데이터: ${S.length}개`);const b=S.filter(P=>P.category===e);console.log(`📊 카테고리 동영상 순위 - ${e} 카테고리 데이터: ${b.length}개`);const N={};S.forEach(P=>{P.category&&(N[P.category]=(N[P.category]||0)+1)}),console.log("📊 카테고리별 데이터 개수:",N);let A=null;if(b.forEach(P=>{const B=P.collectionDate||P.uploadDate;if(!B)return;const T=new Date(B);(!A||T>A)&&(A=T)}),!A){console.log("📅 수집된 데이터가 없습니다."),i([]),c([]);return}const C=A.toISOString().split("T")[0];console.log(`📅 가장 최근 수집 날짜: ${C}`);const D=b.filter(P=>{const B=P.collectionDate||P.uploadDate;return B?B.split("T")[0]===C:!1});console.log(`📊 가장 최근 날짜(${C}) 데이터: ${b.length}개 → ${D.length}개`);const R={};D.forEach(P=>{const B=P.videoId||P.id;B&&(!R[B]||(P.viewCount||0)>(R[B].viewCount||0))&&(R[B]=P)}),console.log(`📊 중복 제거 완료: ${D.length}개 → ${Object.keys(R).length}개`);const $=Object.values(R).map((P,B)=>{var _;const T=P.videoId||P.id;return{rank:B+1,thumbnail:P.thumbnailUrl||`https://via.placeholder.com/128x128?text=${((_=P.videoTitle)==null?void 0:_.substring(0,2))||"YT"}`,videoTitle:P.videoTitle||"제목 없음",channelName:P.channelName||"채널명 없음",todayViews:P.viewCount||0,category:P.category,subCategory:P.subCategory||"미분류",channelId:P.channelId,videoId:T,topVideoUrl:T?`https://www.youtube.com/watch?v=${T}`:"",topVideoTitle:P.videoTitle||"",description:P.description||P.videoDescription||""}}).sort((P,B)=>B.todayViews-P.todayViews).map((P,B)=>({...P,rank:B+1}));console.log(`📊 카테고리 채널 순위 - 생성된 채널 데이터: ${$.length}개`),console.log("📊 카테고리 채널 순위 - 채널 데이터 샘플:",$.slice(0,3)),i($),c($)}}catch(S){console.error("분류된 데이터 로드 실패:",S)}finally{clearTimeout(w),h(!1)}})()},[e]);const g=v.useCallback(()=>{if(console.log(`🔍 세부카테고리 필터링 - 선택된 세부카테고리: "${p}"`),console.log(`🔍 세부카테고리 필터링 - 전체 채널 데이터: ${s.length}개`),p==="all")console.log("🔍 세부카테고리 필터링 - 전체 선택, 모든 데이터 표시"),c(s);else{const j=s.filter(w=>w.subCategory===p);console.log(`🔍 세부카테고리 필터링 - "${p}" 필터링 결과: ${j.length}개`),c(j)}},[p,s]);return v.useEffect(()=>{g()},[p,s,g]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Oe,{to:"/trend",children:o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",children:o.jsx(q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Oe,{to:"/system",children:o.jsxs(q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold",style:{color:Hr[e]},children:[e," 조회수 급등 동영상"]}),o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx(Ve,{variant:"secondary",className:"text-white",style:{backgroundColor:Hr[e],borderColor:Hr[e]},children:e})," 카테고리 조회수 급등 동영상 순위"]})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"카테고리 선택"}),o.jsx("div",{className:"grid grid-cols-9 gap-2",children:Object.keys(qt).map(j=>o.jsx(Oe,{to:`/category/${encodeURIComponent(j)}`,children:o.jsx(Ve,{variant:e===j?"default":"outline",className:`cursor-pointer transition-all duration-200 w-full text-center text-sm py-2 ${e===j?"text-white shadow-lg":"border-border text-muted-foreground"}`,style:{backgroundColor:e===j?Hr[j]:void 0,borderColor:e===j?Hr[j]:void 0},children:j})},j))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"💡 카테고리를 클릭하면 해당 카테고리의 채널 순위를 확인할 수 있습니다."})]})}),s.length>0&&o.jsx(Ne,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(En,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-medium text-foreground",children:"필터 설정"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리:"}),o.jsxs(Lt,{value:p,onValueChange:y,children:[o.jsx($t,{className:"w-48",children:o.jsx(Bt,{placeholder:"세부카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),(x=t[e])==null?void 0:x.map(j=>o.jsx(Ze,{value:j,children:j},j))]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.length,"개 표시 (전체 ",s.length,"개 중) • 가장 최근 수집 데이터만 표시"]})]})]})}),o.jsx(Ne,{className:"p-6",children:l.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"text-muted-foreground mb-4",children:[o.jsx("div",{className:"text-lg font-medium",children:"📊 데이터가 없습니다"}),o.jsx("div",{className:"text-sm mt-2",children:s.length===0?`${e} 카테고리의 데이터가 없습니다.`:`선택한 세부카테고리 "${p}"에 해당하는 데이터가 없습니다.`}),o.jsx("div",{className:"text-xs mt-1",children:s.length===0?"다른 카테고리를 선택해보세요.":"다른 세부카테고리를 선택해보세요."})]}),o.jsx(q,{asChild:!0,children:o.jsx(Oe,{to:"/dashboard",children:"대시보드로 돌아가기"})})]}):o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(yt,{className:"bg-muted/50",children:[o.jsx(Fe,{className:"text-center font-semibold",children:"순위"}),o.jsx(Fe,{className:"font-semibold",children:"썸네일"}),o.jsx(Fe,{className:"font-semibold",children:"제목"}),o.jsx(Fe,{className:"font-semibold",children:"채널명"}),o.jsx(Fe,{className:"text-right font-semibold",children:"조회수"}),o.jsx(Fe,{className:"font-semibold",children:"세부카테고리"})]})}),o.jsx(Kr,{children:l.map(j=>o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:`text-lg font-bold ${j.rank<=3?"text-youtube":"text-foreground"}`,children:j.rank})})}),o.jsx(Re,{children:o.jsx("div",{className:"relative overflow-hidden rounded",children:o.jsx("img",{src:j.thumbnail,alt:j.videoTitle,className:"w-64 h-64 object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsx(Re,{className:"max-w-80",children:j.topVideoUrl&&j.topVideoTitle?o.jsxs("div",{className:"space-y-1",children:[o.jsx("a",{href:j.topVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 text-sm font-medium hover:underline cursor-pointer block",title:`${j.topVideoTitle} - 새 탭에서 열기`,children:o.jsx("div",{className:"truncate",children:j.topVideoTitle})}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:j.description||"영상 설명 정보 없음"})]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"영상 정보 없음"})}),o.jsx(Re,{children:o.jsx(Oe,{to:`/channel/${j.channelId}`,className:"text-blue-500 hover:text-blue-700 hover:underline cursor-pointer",children:j.channelName})}),o.jsxs(Re,{className:"text-right",children:[o.jsx("span",{className:"font-semibold text-foreground",children:m(j.todayViews)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.todayViews.toLocaleString(),"회"]})]}),o.jsx(Re,{children:o.jsx(Ve,{variant:"outline",className:"border-border text-muted-foreground",children:j.subCategory})})]},j.videoId))})]})})})]})]})},md=e=>e>=1e8?`${(e/1e8).toFixed(1)}억`:e>=1e4?`${(e/1e4).toFixed(1)}만`:e.toLocaleString(),UJ=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=t[0].payload;return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-lg",children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",children:r}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"조회수:"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:n.views.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"변화율:"}),o.jsxs("span",{className:`text-sm font-medium ${n.change>0?"text-success":"text-danger"}`,children:[n.change>0?"+":"",n.change,"%"]})]})]})]})}return null},KJ=()=>{const{category:e}=mh(),t=decodeURIComponent(e||""),r=Xt(),[n,a]=v.useState([]),[s,i]=v.useState([]);if(v.useEffect(()=>{(async()=>{try{if(t){setIsLoading(!0);let p=await ve.loadClassifiedData();a(p);let y=p.filter(m=>m.category===t);i(y),console.log(`📊 카테고리 일별 상세 - IndexedDB에서 로드: ${p.length}개, ${t} 카테고리 ${y.length}개`),setTimeout(async()=>{try{const m=await hybridService.getClassifiedData();m.length>p.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${m.length}개 > 로컬 ${p.length}개`),p=m,y=p.filter(g=>g.category===t),a(p),i(y))}catch(m){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",m)}},1e3)}}catch(p){console.error("분류된 데이터 로드 실패:",p)}})()},[t]),!t)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs(Ne,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"카테고리를 찾을 수 없습니다"}),o.jsx(q,{onClick:()=>r("/"),children:"홈으로 돌아가기"})]})});const l=Hr[t],c=s.reduce((h,p)=>h+(p.viewCount||0),0),u=s.length>0?Math.round(c/s.length):0,f=new Set(s.map(h=>h.channelName)).size,d=s.length>0?s.map((h,p)=>{const y=p>0?s[p-1].viewCount:h.viewCount,m=y>0?(h.viewCount-y)/y*100:0;return{date:h.collectionDate||h.uploadDate,views:h.viewCount,change:Math.round(m*100)/100}}):[];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Oe,{to:"/trend",children:o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",children:o.jsx(q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Oe,{to:"/system",children:o.jsxs(q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>r("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Lr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l}}),o.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:[t," 카테고리 상세"]}),o.jsx(Ve,{variant:"secondary",className:"bg-accent text-accent-foreground",children:"일별 조회수 분석"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"총 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:md(c)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체"}),o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[s.length,"개 영상"]})]})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"평균 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:md(u)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"영상당"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"평균"})]})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"채널 수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:f})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"고유"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"채널"})]})]})})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"일별 조회수 추이"}),o.jsx(Zc,{width:"100%",height:400,children:o.jsxs(xu,{data:d,children:[o.jsx(hi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Ca,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12}),o.jsx(Oa,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:h=>md(h)}),o.jsx(ur,{content:o.jsx(UJ,{})}),o.jsx(Wn,{type:"monotone",dataKey:"views",stroke:l,strokeWidth:3,dot:{fill:l,strokeWidth:2,r:5},activeDot:{r:7,stroke:l,strokeWidth:3}})]})})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"일별 상세 데이터"}),o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(yt,{className:"bg-muted/50",children:[o.jsx(Fe,{className:"font-semibold",children:"날짜"}),o.jsx(Fe,{className:"text-right font-semibold",children:"조회수"}),o.jsx(Fe,{className:"text-center font-semibold",children:"전일대비 변화율"}),o.jsx(Fe,{className:"text-right font-semibold",children:"전일 대비 증감"})]})}),o.jsx(Kr,{children:d.map((h,p)=>{const y=p>0?d[p-1].views:h.views,m=h.views-y;return o.jsxs(yt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"font-medium text-foreground",children:h.date}),o.jsx(Re,{className:"text-right font-medium text-foreground",children:h.views.toLocaleString()}),o.jsx(Re,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[h.change>0?o.jsx(rt,{className:"w-4 h-4 text-success"}):o.jsx(kn,{className:"w-4 h-4 text-danger"}),o.jsxs("span",{className:`font-medium ${h.change>0?"text-success":"text-danger"}`,children:[h.change>0?"+":"",h.change,"%"]})]})}),o.jsx(Re,{className:"text-right",children:o.jsx("span",{className:`font-medium ${m>0?"text-success":m<0?"text-danger":"text-muted-foreground"}`,children:p>0?o.jsxs(o.Fragment,{children:[m>0?"+":"",m.toLocaleString()]}):"-"})})]},h.date)})})]})})]})]})]})},VJ=()=>{const{channelId:e}=mh(),[t,r]=v.useState(qt),[n,a]=v.useState(null),[s,i]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{const d=async()=>{try{const p=await ve.loadCategories();p&&Object.keys(p).length>0&&r(p)}catch(p){console.error("카테고리 로드 실패:",p)}};d();const h=()=>{d()};return window.addEventListener("categoriesUpdated",h),()=>{window.removeEventListener("categoriesUpdated",h)}},[]);const u=d=>d>=1e6?(d/1e6).toFixed(1)+"M":d>=1e3?(d/1e3).toFixed(1)+"K":d.toString();if(v.useEffect(()=>{(async()=>{var h,p;try{c(!0);const y=await ve.loadUnclassifiedData(),m=await ve.loadClassifiedData(),g=y.filter(b=>b.channelId===e),x=m.filter(b=>b.channelId===e);console.log(`📊 채널 상세 - IndexedDB에서 로드: unclassified ${y.length}개, classified ${m.length}개`),setTimeout(async()=>{try{const[b,N]=await Promise.all([ot.loadUnclassifiedData(),ot.getClassifiedData()]),A=b.filter(D=>D.channelId===e),C=N.filter(D=>D.channelId===e);(A.length>g.length||C.length>x.length)&&console.log("🔄 백그라운드 동기화: 서버 데이터 더 많음")}catch(b){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",b)}},1e3);const j=[...g,...x],w=new Map;j.forEach(b=>{const N=`${b.videoId}-${b.dayKeyLocal||b.collectionDate}`;w.has(N)||w.set(N,b)});const S=Array.from(w.values());if(console.log(`📊 채널 상세 - channelId: ${e}`),console.log(`📊 unclassified_data에서 찾은 데이터: ${g.length}개`),console.log(`📊 classification_data에서 찾은 데이터: ${x.length}개`),console.log(`📊 중복 제거 후 최종 데이터: ${S.length}개`),e&&S.length>0){const b=S[0],N=S.reduce(($,P)=>$+(P.viewCount||0),0),A=Math.round(N/S.length),C=new Date,D=[];for(let $=6;$>=0;$--){const P=new Date(C);P.setDate(C.getDate()-$);const B=P.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),T=S.filter(_=>{const M=_.collectionDate||_.uploadDate;return M?M.split("T")[0]===B:!1}).reduce((_,M)=>_+(M.viewCount||0),0);D.push({date:B,daily_view_count:T})}const R=((h=S.find($=>$.thumbnailUrl&&!$.thumbnailUrl.includes("placeholder")))==null?void 0:h.thumbnailUrl)||`https://via.placeholder.com/128x128?text=${((p=b.channelName)==null?void 0:p.substring(0,2))||"CH"}`;a({channelId:b.channelId,channelName:b.channelName,description:b.description||"비어있음",category:b.category,subCategory:b.subCategory||"미분류",youtubeUrl:`https://www.youtube.com/channel/${b.channelId}`,thumbnail:R,totalViews:N,averageViews:A,videoCount:S.length,dailyUploads:2.71,weeklyViews:N,avgVideoLength:50.97,shortsRatio:100,dailyViews:D,lastModified:"6시간 전"}),i(S)}c(!1)}catch(y){console.error("채널 데이터 로드 실패:",y),c(!1)}})()},[e]),l)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"채널 정보를 불러오는 중..."})]})});if(!n)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs(Ne,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"채널을 찾을 수 없습니다"}),o.jsx(q,{onClick:()=>window.history.back(),children:"뒤로 가기"})]})});const f=({active:d,payload:h,label:p})=>d&&h&&h.length?o.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-medium text-foreground",children:p}),o.jsxs("p",{className:"text-muted-foreground",children:["조회수: ",u(h[0].value)]})]}):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Oe,{to:"/trend",children:o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",children:o.jsx(q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Oe,{to:"/system",children:o.jsxs(q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"채널 정보"}),n.category&&o.jsx(Oe,{to:`/category/${encodeURIComponent(n.category)}`,children:o.jsxs(q,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-black hover:text-white hover:border-black",children:[o.jsx(Ji,{className:"w-4 h-4 mr-2"}),n.category," 카테고리로"]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Channel ID:"}),o.jsx(Ve,{variant:"secondary",className:"text-white bg-blue-600",children:n.channelId}),o.jsx(q,{variant:"ghost",size:"sm",className:"p-1 h-auto","aria-label":"닫기",title:"닫기",children:o.jsx(uc,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:n.thumbnail,alt:n.channelName,className:"w-12 h-12 rounded"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-foreground",children:n.channelName}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"채널명"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"채널설명:"}),o.jsx("div",{className:"bg-muted/50 p-3 rounded-lg max-h-32 overflow-y-auto",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"카테고리:"}),o.jsx(Oe,{to:`/category/${encodeURIComponent(n.category)}`,children:o.jsx(Ve,{variant:"outline",className:"cursor-pointer hover:bg-black hover:text-white hover:border-black transition-colors",children:n.category})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"세부카테고리:"}),o.jsx(Ve,{variant:"outline",children:n.subCategory})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"유튜브URL:"}),o.jsxs("a",{href:n.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center space-x-1",children:[o.jsx("span",{children:n.youtubeUrl}),o.jsx(Ji,{className:"w-3 h-3"})]})]})]})]})]})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"상세 정보"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"일평균 업로드수:"}),o.jsx("span",{className:"font-medium text-foreground",children:n.dailyUploads})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{const d=new Date,h=new Date(d);return h.setDate(d.getDate()-7),`${h.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})}-${d.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})} 총 조회수:`})()}),o.jsx("span",{className:"font-medium text-foreground",children:n.weeklyViews.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"영상평균시간(초):"}),o.jsx("span",{className:"font-medium text-foreground",children:n.avgVideoLength})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"숏폼 비율(%):"}),o.jsx("span",{className:"font-medium text-foreground",children:n.shortsRatio})]})]})]})})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"채널 일별 조회수"}),o.jsx(Zc,{width:"100%",height:400,children:o.jsxs(xu,{data:n.dailyViews,children:[o.jsx(hi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Ca,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tick:{fontSize:10}}),o.jsx(Oa,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:d=>`${(d/1e6).toFixed(1)}M`}),o.jsx(ur,{content:o.jsx(f,{})}),o.jsx(Wn,{type:"monotone",dataKey:"daily_view_count",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F97316",strokeWidth:2}})]})})]})]})]})};var bu="Switch",[zJ,ZZ]=tn(bu),[WJ,HJ]=zJ(bu),B1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=v.useState(null),y=et(t,w=>p(w)),m=v.useRef(!1),g=h?f||!!h.closest("form"):!0,[x,j]=ia({prop:a,defaultProp:s??!1,onChange:u,caller:bu});return o.jsxs(WJ,{scope:r,checked:x,disabled:l,children:[o.jsx(ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":V1(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onClick:Ae(e.onClick,w=>{j(S=>!S),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&o.jsx(K1,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});B1.displayName=bu;var F1="SwitchThumb",U1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=HJ(F1,r);return o.jsx(ze.span,{"data-state":V1(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});U1.displayName=F1;var YJ="SwitchBubbleInput",K1=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=v.useRef(null),l=et(i,s),c=w0(r),u=Kb(t);return v.useEffect(()=>{const f=i.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(y)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K1.displayName=YJ;function V1(e){return e?"checked":"unchecked"}var z1=B1,GJ=U1;const qi=v.forwardRef(({className:e,...t},r)=>o.jsx(z1,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(GJ,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qi.displayName=z1.displayName;const Qt=["브이로그","리뷰","언박싱","튜토리얼","케이팝","인터뷰","예능","라방","비하인드","idol","k-pop","게임요약","게임 공략","뷰티","메이크업","패션","요리","K푸드","여행","인테리어","집꾸미기","공부","시험","취업","부동산 이슈","경제 이슈","경제 요약","재테크","뉴스 요약","사회 이슈","정치 이슈","정치 요약","연예인","아이돌","가수","스타 소식","트롯트","영화","드라마","영화리뷰","드라마리뷰","인공지능","ai 이슈","기술 트렌드","스포츠 요약","스포츠 이슈","운동","쇼핑","쇼핑리뷰","구매","리뷰","취미","여가","반려동물","애니메이션","애니","웹툰","생활 정보","건강관리","반전","지혜","인생 사연","감동 사연","인생","국뽕","실화","썰","밈","힐링","커뮤니티","짤","모음","플리","플레이 리스트","짜집기","해외 썰","해외 이슈","해외 정보","해외 밈","해외 경제"],qJ={keywords:Qt,maxResults:1e4,maxRequests:140,regionCode:"KR",requestDelay:500,collectionInterval:300,minViewCount:void 0,koreanOnly:!0,languageFilterLevel:"moderate"},Xo=()=>{const e=localStorage.getItem("youtubepulse_collection_config");return e?JSON.parse(e):qJ};class Xi{static async unregisterServiceWorker(){try{if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistrations();for(const r of t)console.log("🗑️ 서비스워커 등록 해제:",r.scope),await r.unregister();return console.log("✅ 모든 서비스워커 등록 해제 완료"),!0}return!1}catch(t){return console.error("❌ 서비스워커 등록 해제 실패:",t),!1}}static async clearBrowserCache(){try{if("caches"in window){const t=await caches.keys();for(const r of t)console.log("🗑️ 캐시 삭제:",r),await caches.delete(r);return console.log("✅ 모든 브라우저 캐시 정리 완료"),!0}return!1}catch(t){return console.error("❌ 브라우저 캐시 정리 실패:",t),!1}}static clearLocalStorage(t=[]){try{const r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&!t.includes(a)&&r.push(a)}return r.forEach(n=>{console.log("🗑️ localStorage 삭제:",n),localStorage.removeItem(n)}),console.log("✅ localStorage 정리 완료"),!0}catch(r){return console.error("❌ localStorage 정리 실패:",r),!1}}static async fullCleanup(){console.log("🧹 전체 캐시 정리 시작...");const t=["userEmail","userRole","youtubeApiKey","youtubeApiKeys","activeYoutubeApiKeyIndex","youtubeApiEnabled","customApiUrl","customApiEnabled","customApiKey","systemConfig"],r={serviceWorker:await this.unregisterServiceWorker(),cache:await this.clearBrowserCache(),localStorage:this.clearLocalStorage(t)};return console.log("✅ 전체 정리 완료:",r),r}static async clearAssociatedCache(){try{if(console.log("🗑️ IndexedDB 연관 캐시 정리 시작..."),"caches"in window){const t=await caches.keys();for(const r of t)await caches.delete(r),console.log(`🗑️ 캐시 삭제: ${r}`)}if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistrations();for(const r of t)await r.unregister(),console.log("🗑️ 서비스 워커 등록 해제:",r.scope)}console.log("✅ 연관 캐시 정리 완료")}catch(t){throw console.error("❌ 캐시 정리 실패:",t),t}}static hardRefresh(){console.log("🔄 강력한 새로고침 실행..."),this.unregisterServiceWorker(),this.clearBrowserCache(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}typeof window<"u"&&(window.CacheCleanup=Xi,window.hardRefresh=Xi.hardRefresh,window.clearAllCache=Xi.fullCleanup);const eee=Object.freeze(Object.defineProperty({__proto__:null,CacheCleanup:Xi},Symbol.toStringTag,{value:"Module"})),ra={},cs=typeof window>"u",lc=ra.join(process.cwd(),"data","api-key-usage.json"),gd=()=>{if(cs&&ra.existsSync(lc))try{return JSON.parse(ra.readFileSync(lc,"utf-8"))}catch{return{}}return{}},Fx=e=>{if(cs){const t=ra.dirname(lc);ra.existsSync(t)||ra.mkdirSync(t,{recursive:!0}),ra.writeFileSync(lc,JSON.stringify(e,null,2))}},W1={getItem:e=>cs?gd()[e]||null:localStorage.getItem(e),setItem:(e,t)=>{if(cs){const r=gd();r[e]=t,Fx(r)}else localStorage.setItem(e,t)},removeItem:e=>{if(cs){const t=gd();delete t[e],Fx(t)}else localStorage.removeItem(e)}},H1="youtubeApiKeyUsage",XJ=1e4;function Y1(e){try{W1.setItem(H1,JSON.stringify(e))}catch(t){console.error("API 키 사용량 저장 실패:",t)}}function G1(){try{const e=W1.getItem(H1);if(e)return JSON.parse(e)}catch(e){console.error("API 키 사용량 불러오기 실패:",e)}return{}}function q1(){return`quota_${new Date().toISOString().split("T")[0]}`}function QJ(e){const t=q1();return localStorage.getItem("lastQuotaReset")!==t&&(Object.keys(e).forEach(n=>{const a=parseInt(n);e[a]&&(e[a].usedQuota=0,e[a].isExhausted=!1,e[a].lastUsed=new Date().toISOString())}),localStorage.setItem("lastQuotaReset",t),Y1(e)),e}function Ux(){const e=localStorage.getItem("youtubeApiKeys");if(!e)return[];let t=[];try{const s=JSON.parse(e);Array.isArray(s)&&(t=s.filter(i=>typeof i=="string"))}catch{return[]}const r=QJ(G1()),n=localStorage.getItem("activeYoutubeApiKeyIndex"),a=n?parseInt(n,10):0;return t.map((s,i)=>{const l=r[i]||{dailyQuota:XJ,usedQuota:0,lastUsed:"",isExhausted:!1},c=Math.max(0,l.dailyQuota-l.usedQuota),u=l.usedQuota/l.dailyQuota*100;return{index:i,key:s?`${s.substring(0,10)}...`:"미설정",usedQuota:l.usedQuota,remainingQuota:c,dailyQuota:l.dailyQuota,usagePercent:Math.min(100,u),isActive:i===a,isExhausted:l.isExhausted||!s||s.trim().length===0,lastUsed:l.lastUsed||"사용 안 함"}})}function JJ(e){const t=G1();e!==void 0?t[e]&&(t[e].usedQuota=0,t[e].isExhausted=!1,t[e].lastUsed=new Date().toISOString()):Object.keys(t).forEach(r=>{const n=parseInt(r);t[n]&&(t[n].usedQuota=0,t[n].isExhausted=!1,t[n].lastUsed=new Date().toISOString())}),Y1(t),localStorage.setItem("lastQuotaReset",q1())}var wu="Dialog",[X1,tee]=tn(wu),[ZJ,zr]=X1(wu),Q1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,f]=ia({prop:n,defaultProp:a??!1,onChange:s,caller:wu});return o.jsx(ZJ,{scope:t,triggerRef:l,contentRef:c,contentId:fn(),titleId:fn(),descriptionId:fn(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};Q1.displayName=wu;var J1="DialogTrigger",eZ=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(J1,r),s=et(t,a.triggerRef);return o.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tm(a.open),...n,ref:s,onClick:Ae(e.onClick,a.onOpenToggle)})});eZ.displayName=J1;var Zp="DialogPortal",[tZ,Z1]=X1(Zp,{forceMount:void 0}),eA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=zr(Zp,t);return o.jsx(tZ,{scope:t,forceMount:r,children:v.Children.map(n,i=>o.jsx(rn,{present:r||s.open,children:o.jsx(qs,{asChild:!0,container:a,children:i})}))})};eA.displayName=Zp;var cc="DialogOverlay",tA=v.forwardRef((e,t)=>{const r=Z1(cc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=zr(cc,e.__scopeDialog);return s.modal?o.jsx(rn,{present:n||s.open,children:o.jsx(nZ,{...a,ref:t})}):null});tA.displayName=cc;var rZ=sa("DialogOverlay.RemoveScroll"),nZ=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(cc,r);return o.jsx(Nc,{as:rZ,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(ze.div,{"data-state":tm(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),xa="DialogContent",rA=v.forwardRef((e,t)=>{const r=Z1(xa,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=zr(xa,e.__scopeDialog);return o.jsx(rn,{present:n||s.open,children:s.modal?o.jsx(aZ,{...a,ref:t}):o.jsx(oZ,{...a,ref:t})})});rA.displayName=xa;var aZ=v.forwardRef((e,t)=>{const r=zr(xa,e.__scopeDialog),n=v.useRef(null),a=et(t,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return Rh(s)},[]),o.jsx(nA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Ae(e.onFocusOutside,s=>s.preventDefault())})}),oZ=v.forwardRef((e,t)=>{const r=zr(xa,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return o.jsx(nA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),nA=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=zr(xa,r),c=v.useRef(null),u=et(t,c);return Mh(),o.jsxs(o.Fragment,{children:[o.jsx(jc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(jo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tm(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(sZ,{titleId:l.titleId}),o.jsx(lZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),em="DialogTitle",aA=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(em,r);return o.jsx(ze.h2,{id:a.titleId,...n,ref:t})});aA.displayName=em;var oA="DialogDescription",sA=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(oA,r);return o.jsx(ze.p,{id:a.descriptionId,...n,ref:t})});sA.displayName=oA;var iA="DialogClose",lA=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(iA,r);return o.jsx(ze.button,{type:"button",...n,ref:t,onClick:Ae(e.onClick,()=>a.onOpenChange(!1))})});lA.displayName=iA;function tm(e){return e?"open":"closed"}var cA="DialogTitleWarning",[ree,uA]=iC(cA,{contentName:xa,titleName:em,docsSlug:"dialog"}),sZ=({titleId:e})=>{const t=uA(cA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iZ="DialogDescriptionWarning",lZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uA(iZ).contentName}}.`;return v.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cZ=Q1,uZ=eA,dA=tA,fA=rA,hA=aA,pA=sA,dZ=lA;const fZ=cZ,hZ=uZ,mA=v.forwardRef(({className:e,...t},r)=>o.jsx(dA,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mA.displayName=dA.displayName;const gA=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(hZ,{children:[o.jsx(mA,{}),o.jsxs(fA,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(dZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(uc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gA.displayName=fA.displayName;const vA=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vA.displayName="DialogHeader";const yA=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yA.displayName="DialogFooter";const xA=v.forwardRef(({className:e,...t},r)=>o.jsx(hA,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));xA.displayName=hA.displayName;const bA=v.forwardRef(({className:e,...t},r)=>o.jsx(pA,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));bA.displayName=pA.displayName;const Ma=3,pZ=()=>{const{userRole:e,isLoggedIn:t}=Br(),r=Xt(),n=Me||"https://api.youthbepulse.com",[a,s]=v.useState(()=>{var me;const L=localStorage.getItem("youtubeApiKeys");let k=[];if(L)try{const De=JSON.parse(L);Array.isArray(De)&&(k=De.filter(Je=>typeof Je=="string").slice(0,Ma))}catch(De){console.warn("YouTube API 키 목록 파싱 실패, 기본값 사용:",De)}const H=localStorage.getItem("youtubeApiKey")||"";H&&!k.length&&(k=[H]),k.length||(k=[""]);const K=localStorage.getItem("activeYoutubeApiKeyIndex");let ue=K?parseInt(K,10):0;(Number.isNaN(ue)||ue<0||ue>=k.length)&&(ue=0);const fe=localStorage.getItem("customApiUrl")||n,Se=localStorage.getItem("customApiEnabled")==="true",ie=localStorage.getItem("customApiKey")||"",je=localStorage.getItem("youtubeApiEnabled")==="true",oe=Se!==null?Se:!1,we=k.some(De=>De)?!0:je,Z=((me=k.find(De=>De))==null?void 0:me.substring(0,10))||null;return console.log("🔧 설정 로드:",{youtubeApiKeys:k.map((De,Je)=>({index:Je,status:De?"설정됨":"미설정"})),primaryYoutubeApiKey:Z?`${Z}...`:"미설정",youtubeApiEnabled:we,customApiUrl:fe,customApiEnabled:oe,customApiKey:ie?"설정됨":"미설정"}),console.log("🔍 localStorage 직접 확인:",{youtubeApiKeys:localStorage.getItem("youtubeApiKeys"),legacyYoutubeApiKey:localStorage.getItem("youtubeApiKey"),youtubeApiEnabled:localStorage.getItem("youtubeApiEnabled"),customApiKey:localStorage.getItem("customApiKey"),customApiUrl:localStorage.getItem("customApiUrl"),customApiEnabled:localStorage.getItem("customApiEnabled")}),{youtubeApiKeys:k,activeYoutubeApiKeyIndex:ue,youtubeApiEnabled:we,customApiUrl:fe,customApiEnabled:oe,customApiKey:ie}}),[i,l]=v.useState({dataRefreshInterval:300,maxRetryAttempts:3,enableAutoSync:!0,enableNotifications:!0});a.youtubeApiKeys[a.activeYoutubeApiKeyIndex];const c=a.youtubeApiKeys.some(L=>L.trim().length>0),[u,f]=v.useState(!1),[d,h]=v.useState(null),[p,y]=v.useState(!1),[m,g]=v.useState("idle"),[x,j]=v.useState(""),[w,S]=v.useState(!1),[b,N]=v.useState(""),[A,C]=v.useState([]);v.useEffect(()=>{const L=localStorage.getItem("userEmail"),k=localStorage.getItem("userRole");if(console.log("🔍 System 페이지 권한 체크 (상세):",{isLoggedIn:t,userRole:e,userEmail:L,storedRole:k,localStorage_userEmail:localStorage.getItem("userEmail"),localStorage_userRole:localStorage.getItem("userRole")}),!t){console.log("❌ 로그인되지 않음 - 로그인 페이지로 리다이렉트"),r("/login");return}console.log("✅ 로그인 확인됨 - System 페이지 접근 허용 (모든 로그인 사용자 허용)")},[t,e,r]),E.useEffect(()=>{const L=()=>{const H=Ux();C(H)};L();const k=setInterval(L,5e3);return()=>clearInterval(k)},[a.youtubeApiKeys,a.activeYoutubeApiKeyIndex]),E.useEffect(()=>{localStorage.getItem("customApiEnabled")===null&&(localStorage.setItem("customApiEnabled","false"),localStorage.setItem("customApiUrl",n),console.log("🔧 커스텀 API 기본값 설정 완료 (Railway 서버 문제로 비활성화)"))},[n]);const[D,R]=v.useState("idle"),[$,P]=v.useState(""),[B,T]=v.useState("idle"),[_,M]=v.useState(""),[O,F]=v.useState(null);function I(L){return L.length===0?[""]:L}const Y=()=>{if(a.youtubeApiKeys.length>=Ma){alert(`YouTube API 키는 최대 ${Ma}개까지 등록할 수 있습니다.`);return}s(L=>({...L,youtubeApiKeys:[...L.youtubeApiKeys,""]}))},re=L=>{s(k=>{let H=[...k.youtubeApiKeys];if(H.length===1)return H=[""],{...k,youtubeApiKeys:H,activeYoutubeApiKeyIndex:0};H.splice(L,1),H=I(H);let K=k.activeYoutubeApiKeyIndex;return K===L?K=0:K>L&&(K=K-1),{...k,youtubeApiKeys:H,activeYoutubeApiKeyIndex:K}}),O!==null&&(O===L?(T("idle"),M(""),F(null)):O>L&&F(O-1))},J=L=>{s(k=>({...k,activeYoutubeApiKeyIndex:L}))},U=(L,k)=>{s(H=>{const K=[...H.youtubeApiKeys];return L>=K.length?H:(K[L]=k,{...H,youtubeApiKeys:I(K)})}),O===L&&(T("idle"),M(""),F(null))},se=async L=>{var K;const k=L??a.activeYoutubeApiKeyIndex,H=(K=a.youtubeApiKeys[k])==null?void 0:K.trim();if(!H){F(k),T("error"),M(`API 키 ${k+1}번이 비어 있습니다.`);return}F(k),T("testing"),M(`YouTube API 키 ${k+1}번을 테스트하고 있습니다...`);try{const ue=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=test&maxResults=1&key=${H}`);if(!ue.ok)throw new Error(`API Error: ${ue.status}`);const fe=await ue.json();if(fe.error)throw new Error(fe.error.message||"API 키가 유효하지 않습니다.");T("success"),M(`YouTube API 키 ${k+1}번 연결이 성공했습니다!`)}catch(ue){T("error"),M(ue instanceof Error?ue.message:"API 테스트에 실패했습니다.")}},Ee=async()=>{R("testing"),P("API 서버를 테스트하고 있습니다...");try{if(!a.customApiUrl)throw new Error("API 서버 URL이 설정되지 않았습니다.");const L=await fetch(`${a.customApiUrl}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!L.ok)throw new Error(`API 서버 연결 실패: ${L.status}`);const k=await L.json();R("success"),P(`API 서버 연결 성공! 서버 상태: ${k.status||"OK"}`)}catch(L){R("error"),P(L instanceof Error?L.message:"알 수 없는 오류")}},Be=()=>{if(!b.trim()){alert("API 키를 입력해주세요.");return}const L=b.trim();let k=!1;s(H=>{let K=[...H.youtubeApiKeys],ue=H.activeYoutubeApiKeyIndex;const fe=K.findIndex(ie=>ie===L);if(fe>=0)ue=fe,K[fe]=L;else{const ie=K.findIndex(je=>!je.trim());ie>=0?(K[ie]=L,ue=ie):K.length<Ma?(K=[...K,L],ue=K.length-1):(K=[...K.slice(1),L],ue=K.length-1,k=!0)}return{...H,youtubeApiKeys:I(K),activeYoutubeApiKeyIndex:ue,youtubeApiEnabled:!0}}),k&&alert(`YouTube API 키는 최대 ${Ma}개까지만 저장됩니다.
가장 오래된 키를 교체하고 새 키를 추가했습니다.`),console.log("✅ API 키 저장 완료:",b.trim().substring(0,10)+"..."),S(!1),N(""),g("success"),j("API 키가 저장되었습니다. 이제 데이터 수집을 시작합니다."),setTimeout(()=>{g("idle"),j("")},3e3),setTimeout(()=>{V()},500)},de=async()=>{const L=a.youtubeApiKeys.map(K=>K.trim());if(!L.some(K=>K.length>0)){N(""),S(!0);return}if(!L[a.activeYoutubeApiKeyIndex]){const K=L.findIndex(ue=>ue.length>0);K>=0&&s(ue=>({...ue,activeYoutubeApiKeyIndex:K,youtubeApiEnabled:!0}))}await V()},V=async()=>{var L,k,H,K;try{const fe=a.youtubeApiKeys.map(ce=>ce.trim()),Se=fe.length;if(!fe.some(ce=>ce.length>0)){alert("YouTube API 키가 필요합니다.");return}let ie=a.activeYoutubeApiKeyIndex;if(!fe[ie]){const ce=fe.findIndex(Ce=>Ce.length>0);if(ce===-1){alert("사용 가능한 YouTube API 키가 없습니다. 시스템 페이지에서 키를 등록해 주세요.");return}ie=ce,s(Ce=>({...Ce,activeYoutubeApiKeyIndex:ce,youtubeApiEnabled:!0}))}let je=fe[ie];const oe=["quotaexceeded","dailylimitexceeded","ratelimitexceeded","userratelimitexceeded","keyinvalid","quota"],we=(ce,Ce)=>{var Ke,ke;if(ce===403||ce===429){const qe=(Ke=Ce==null?void 0:Ce.error)==null?void 0:Ke.errors;if(Array.isArray(qe)&&qe.some($e=>oe.some(Ct=>(($e==null?void 0:$e.reason)||"").toString().toLowerCase().includes(Ct.toLowerCase()))))return!0;const mt=(((ke=Ce==null?void 0:Ce.error)==null?void 0:ke.message)||"").toString().toLowerCase();if(oe.some($e=>mt.includes($e.toLowerCase())))return!0}return!1},Z=(ce,Ce)=>{if(Se<=1)return!1;for(let Ke=1;Ke<Se;Ke++){const ke=(ie+Ke)%Se,qe=fe[ke];if(qe)return ie=ke,je=qe,s(mt=>({...mt,activeYoutubeApiKeyIndex:ke,youtubeApiEnabled:!0})),console.warn(`⚠️ ${ce}: YouTube API 키(${ie+1}번)로 전환합니다. 사유: ${Ce}`),!0}return!1},me=async(ce,Ce)=>{var ke,qe,mt,$e;let Ke=0;for(;Ke<Se;){if(!je){if(!Z(Ce,"현재 키가 비어 있습니다"))break;Ke++;continue}const Ct=ce(je);try{const wt=await fetch(Ct),Ar=await wt.text();let xt=null;if(Ar)try{xt=JSON.parse(Ar)}catch{xt=null}if(!wt.ok||xt!=null&&xt.error){const Pa=((ke=xt==null?void 0:xt.error)==null?void 0:ke.message)||(($e=(mt=(qe=xt==null?void 0:xt.error)==null?void 0:qe.errors)==null?void 0:mt[0])==null?void 0:$e.message)||`${wt.status} ${wt.statusText}`||"알 수 없는 오류";if(we(wt.status,xt)){if(!Z(Ce,Pa))throw new Error(`YouTube API 키 할당량이 모두 소진되었습니다. (${Pa})`);Ke++;continue}throw new Error(`${Ce} 요청 실패: ${Pa}`)}return xt??{}}catch(wt){if(wt instanceof Error&&wt.message.includes("할당량이 모두 소진"))throw wt;if(!Z(Ce,wt instanceof Error?wt.message:"네트워크 오류"))throw wt instanceof Error?wt:new Error(`${Ce} 요청 중 오류가 발생했습니다.`);Ke++}}throw new Error("사용 가능한 YouTube API 키가 없습니다. 새로운 키를 등록해 주세요.")};if(window.autoCollectionInProgress){alert("⚠️ 자동 수집이 진행 중입니다. 잠시 후 다시 시도해주세요.");return}window.manualCollectionInProgress=!0;const De=Xo(),Je=1e4;let W=0;console.log("=== 🔥 혼합 데이터 수집 시작 ==="),console.log("수집 방식: YouTube 트렌드 + 키워드 기반"),console.log("조회수 필터: 제거됨 (조회수 상위만 선택)"),console.log("====================================="),console.log("📺 1단계: YouTube 공식 트렌드 영상 수집 중...");let ee=[];try{let ce="";for(let Ce=0;Ce<4;Ce++){const Ke=await me(ke=>`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=KR&maxResults=50${ce?`&pageToken=${ce}`:""}&key=${ke}`,`트렌드 영상 수집 (페이지 ${Ce+1})`);if(W++,Ke!=null&&Ke.items){if(ee=[...ee,...Ke.items],console.log(`✅ 트렌드 영상 ${(Ce+1)*50}개 수집 중... (현재: ${ee.length}개)`),ce=Ke.nextPageToken,console.log(`📄 페이지 ${Ce+1}: nextPageToken = ${ce?"있음":"없음 (더 이상 페이지 없음)"}`),!ce)break}else{console.warn("⚠️ 트렌드 영상 수집 실패, 키워드 수집만 진행");break}Ce<3&&await new Promise(ke=>setTimeout(ke,500))}if(console.log(`✅ 트렌드 영상 총 ${ee.length}개 수집 완료`),De.koreanOnly){const Ce=ee.length;ee=ee.filter(Ke=>{var $e,Ct;const ke=(($e=Ke.snippet)==null?void 0:$e.title)||"",qe=((Ct=Ke.snippet)==null?void 0:Ct.channelTitle)||"";return/[가-힣]/.test(ke)||/[가-힣]/.test(qe)}),console.log(`🇰🇷 한글 필터링: ${Ce}개 → ${ee.length}개 (${Ce-ee.length}개 제거)`)}}catch(ce){console.error("❌ 트렌드 영상 수집 오류:",ce),console.log("⚠️ 키워드 수집만 진행합니다.")}console.log("🔍 2단계: 키워드 기반 영상 수집 중...");const G=De.keywords||Qt;let ye=[],pe=0;for(const ce of G){if(ye.length>=Je){console.log(`최대 수집 수(${Je}) 도달`);break}try{console.log(`키워드 "${ce}" 수집 시작...`);const Ce=await me($e=>`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(ce)}&type=video&maxResults=50&regionCode=KR&order=viewCount&key=${$e}`,`키워드 "${ce}" 검색`);if(W++,!Ce.items||Ce.items.length===0){console.log(`키워드 "${ce}" 검색 결과 없음`);continue}const Ke=Ce.items.map($e=>$e.id.videoId).join(","),ke=await me($e=>`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${Ke}&key=${$e}`,`키워드 "${ce}" 영상 상세`);W++;const qe=ke.items||[],mt=qe.map($e=>({...$e,searchKeyword:ce}));ye=[...ye,...mt],pe+=qe.length,console.log(`키워드 "${ce}" 수집: ${qe.length}개 영상 추가 (총 ${ye.length}개)`),await new Promise($e=>setTimeout($e,500))}catch(Ce){console.error(`키워드 "${ce}" 수집 오류:`,Ce);continue}}console.log(`✅ 키워드 수집 완료: 총 ${ye.length}개 영상`),console.log("🔄 3단계: 트렌드 + 키워드 영상 합치기 및 중복 제거...");const he=[...ee,...ye],ge=he;console.log(`🔄 모든 영상 유지: ${he.length}개 영상 (중복 제거 없음, 각 영상 독립 처리)`),ge.sort((ce,Ce)=>{var qe,mt;const Ke=parseInt(((qe=ce.statistics)==null?void 0:qe.viewCount)||"0");return parseInt(((mt=Ce.statistics)==null?void 0:mt.viewCount)||"0")-Ke}),console.log(`📊 조회수 정렬 완료 (최고: ${parseInt(((k=(L=ge[0])==null?void 0:L.statistics)==null?void 0:k.viewCount)||"0").toLocaleString()}회, 최저: ${parseInt(((K=(H=ge[ge.length-1])==null?void 0:H.statistics)==null?void 0:K.viewCount)||"0").toLocaleString()}회)`),console.log("=== 🔥 혼합 수집 통계 ==="),console.log(`트렌드 영상: ${ee.length}개`),console.log(`키워드 영상: ${ye.length}개 (${G.length}개 키워드)`),console.log(`전체 수집: ${he.length}개`),console.log(`최종 영상: ${ge.length}개`),console.log(`API 요청: ${W}번`),console.log("========================");const xe=[...new Set(ge.map(ce=>ce.snippet.channelId))];let z=[];for(let ce=0;ce<xe.length;ce+=50){const Ce=xe.slice(ce,ce+50),Ke=await me(ke=>`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${Ce.join(",")}&key=${ke}`,"채널 정보 수집");W++,z=[...z,...Ke.items],console.log(`채널 정보 수집: ${z.length}/${xe.length} 채널 완료`),ce+50<xe.length&&await new Promise(ke=>setTimeout(ke,500))}let le=[];const ae=new Date;ae.setDate(ae.getDate()-14);const te=ae.toISOString().split("T")[0];try{if(!Me){console.log("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터만 사용합니다.");const ce=await ve.loadCategories();ce&&Object.keys(ce).length>0&&setDynamicSubCategories(ce),setIsLoading(!1);return}if(Me){const ce=await fetch(`${Me}/api/unclassified`);if(ce.ok){const Ce=await ce.json();Ce.success&&Ce.data&&(le=Ce.data.filter(ke=>{const qe=ke.status==="classified",mt=ke.dayKeyLocal||ke.day_key_local||ke.collectionDate||ke.collection_date,$e=mt&&mt>=te;return qe&&$e}),console.log("📊 서버에서 분류 데이터 로드 성공"),console.log(`📊 분류 데이터 참조 범위: 최근 14일 (${te} 이후)`),console.log(`📊 최근 14일 분류 데이터: ${le.length}개`))}else throw console.warn("서버 조회 실패, IndexedDB에서 로드 시도"),new Error("Server fetch failed")}else console.warn("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터로 대체합니다.")}catch{console.log("📊 IndexedDB에서 분류 데이터 로드...");try{le=(await ot.loadUnclassifiedData()).filter(Ke=>{const ke=Ke.status==="classified",qe=Ke.collectionDate>=te;return ke&&qe}),console.log(`📊 IndexedDB에서 분류 데이터 로드: ${le.length}개`),console.log(`📊 분류 데이터 참조 범위: 최근 14일 (${te} 이후)`)}catch{console.log("기존 분류 데이터 로드 실패, 새로 시작합니다."),le=[]}}const Q=new Map,X=new Map;le.forEach(ce=>{(!X.has(ce.channelId)||ce.collectionDate>X.get(ce.channelId).collectionDate)&&X.set(ce.channelId,{category:ce.category,subCategory:ce.subCategory,collectionDate:ce.collectionDate,channelName:ce.channelName})}),X.forEach((ce,Ce)=>{Q.set(Ce,{category:ce.category,subCategory:ce.subCategory})}),console.log(`📊 분류 참조 채널: ${Q.size}개`),console.log("📊 분류 참조 기간: 최근 14일간의 최신 분류 정보만 사용"),console.log("📊 기존 분류 시스템: 14일간 분류 이력 기반 분류 적용");const Te=Ge();console.log("🔥 데이터 수집 날짜 (한국시간):",Te),console.log("🔥 현재 시간 (한국시간):",new Date(Qi()).toLocaleString("ko-KR")),console.log("🔥 수집된 영상 개수:",ge.length);const tt=await ot.loadUnclassifiedData(),Ie=new Map;tt.forEach(ce=>{if(!Ie.has(ce.videoId))Ie.set(ce.videoId,ce.collectionDate);else{const Ce=Ie.get(ce.videoId);ce.collectionDate<Ce&&Ie.set(ce.videoId,ce.collectionDate)}}),console.log(`📊 기존 영상 날짜 매핑: ${Ie.size}개 영상의 최초 수집일 확인`);const pt=ge.map((ce,Ce)=>{var Ct,wt,Ar,xt,Pa,ju;const Ke=z.find(SA=>SA.id===ce.snippet.channelId),ke=Q.get(ce.snippet.channelId),qe=Te;let mt="trending",$e="trending";return ce.searchKeyword&&(mt=ce.searchKeyword,$e="keyword"),{id:Date.now()+Ce,channelId:ce.snippet.channelId,channelName:ce.snippet.channelTitle,description:((Ct=Ke==null?void 0:Ke.snippet)==null?void 0:Ct.description)||"설명 없음",videoId:ce.id,videoTitle:ce.snippet.title,videoDescription:ce.snippet.description,viewCount:parseInt(((wt=ce.statistics)==null?void 0:wt.viewCount)||"0"),uploadDate:ce.snippet.publishedAt.split("T")[0],collectionDate:qe,thumbnailUrl:((xt=(Ar=ce.snippet.thumbnails)==null?void 0:Ar.high)==null?void 0:xt.url)||((ju=(Pa=ce.snippet.thumbnails)==null?void 0:Pa.default)==null?void 0:ju.url)||"",category:(ke==null?void 0:ke.category)||"",collectionType:"manual",collectionTimestamp:Qi(),collectionSource:"system_page",keyword:mt,source:$e,subCategory:(ke==null?void 0:ke.subCategory)||"",status:ke?"classified":"unclassified",autoClassified:!!ke}});try{const ce=await ot.loadUnclassifiedData(),Ce=new Map;ce.forEach($e=>{const Ct=`${$e.videoId}_${$e.collectionDate}`;Ce.set(Ct,$e)}),pt.forEach($e=>{var wt,Ar;const Ct=`${$e.videoId}_${$e.collectionDate}`;if(!Ce.has(Ct))Ce.set(Ct,$e);else{const xt=Ce.get(Ct);$e.collectionDate===Te?$e.viewCount>xt.viewCount?(console.log(`📊 오늘 영상 교체 (조회수 높음): ${$e.videoTitle} - ${(wt=xt.viewCount)==null?void 0:wt.toLocaleString()} → ${(Ar=$e.viewCount)==null?void 0:Ar.toLocaleString()}`),Ce.set(Ct,$e)):$e.viewCount===xt.viewCount&&xt.status==="unclassified"&&$e.status==="classified"&&(console.log(`📊 오늘 영상 교체 (분류됨): ${$e.videoTitle} - ${xt.status} → ${$e.status}`),Ce.set(Ct,$e)):console.log(`📊 다른 날짜 영상 보존: ${$e.videoTitle} (${$e.collectionDate}) - 이미 지난 날짜, 건드리지 않음`)}});const ke=Array.from(Ce.values()).map(($e,Ct)=>{(!$e.id||typeof $e.id!="string")&&($e.id=`${Date.now()}_${Math.random().toString(36).substr(2,9)}_${Ct}`);const Ar=`${$e.videoId?$e.videoId.substring(0,8):"unknown"}_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return{...$e,id:$e.id||Ar}}),qe=new Map,mt=ke.filter($e=>qe.has($e.id)?(console.warn(`중복 ID 발견, 제거됨: ${$e.id}`),!1):(qe.set($e.id,!0),!0));console.log("📊 일별 데이터 처리 완료:"),console.log(`   - 기존 데이터: ${ce.length}개`),console.log(`   - 새 수집 데이터: ${pt.length}개`),console.log(`   - 최종 저장 데이터: ${mt.length}개`),console.log(`   - 일별 데이터 보존: ${mt.length-ce.length}개 추가`),console.log(`   - 같은 날짜 중복 업데이트: ${pt.length-(mt.length-ce.length)}개`),console.log(`   - 중복 ID 제거: ${ke.length-mt.length}개`),await ot.saveUnclassifiedData(mt)}catch(ce){console.error("IndexedDB 저장 오류:",ce),alert("데이터 저장 중 오류가 발생했습니다.")}const Wr=pt.filter(ce=>!Q.has(ce.channelId)).length,or=pt.filter(ce=>Q.has(ce.channelId)).length,Cn=pt.filter(ce=>ce.autoClassified).length,Ue=pt.filter(ce=>!ce.autoClassified).length;console.log("📊 분류 결과:"),console.log(`   - 기존 분류 적용: ${Cn}개`),console.log(`   - 미분류: ${Ue}개`);const Ye=W,ct=Ye*100,sr=ge.length>0?Math.round(ge.reduce((ce,Ce)=>{var Ke;return ce+parseInt(((Ke=Ce.statistics)==null?void 0:Ke.viewCount)||"0")},0)/ge.length):0;alert(`🔥 혼합 데이터 수집이 완료되었습니다!

📺 YouTube 트렌드: ${ee.length}개
🔍 키워드 수집: ${ye.length}개 (${G.length}개 키워드)
━━━━━━━━━━━━━━━━━━━━━━
📊 전체 수집: ${he.length}개
✅ 중복 제거 후: ${ge.length}개
📈 조회수 정렬: 상위부터 저장됨
━━━━━━━━━━━━━━━━━━━━━━
🎬 총 채널: ${pt.length}개
🆕 새 채널: ${Wr}개 (분류 필요)
♻️ 기존 분류 적용: ${Cn}개
❓ 미분류: ${Ue}개
📊 평균 조회수: ${sr.toLocaleString()}회
━━━━━━━━━━━━━━━━━━━━━━
🔧 API 요청: ${Ye}번
💰 할당량: 약 ${ct} units

기존 분류가 적용된 영상은 이미 분류 완료 상태입니다.
미분류 영상만 수동 분류하면 됩니다.`),window.manualCollectionInProgress=!1}catch(ue){console.error("데이터 수집 오류:",ue),alert("데이터 수집 중 오류가 발생했습니다: "+(ue instanceof Error?ue.message:ue)),window.manualCollectionInProgress=!1}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(fZ,{open:w,onOpenChange:S,children:o.jsxs(gA,{className:"sm:max-w-[500px]",children:[o.jsxs(vA,{children:[o.jsxs(xA,{className:"flex items-center space-x-2",children:[o.jsx(am,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"YouTube API 키 설정"})]}),o.jsx(bA,{children:"데이터 수집을 위해 YouTube API 키를 입력해주세요. 입력된 API 키는 자동으로 저장됩니다."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"api-key-input",children:"API 키"}),o.jsx(vt,{id:"api-key-input",type:"text",placeholder:"YouTube Data API v3 키를 입력하세요",value:b,onChange:L=>N(L.target.value),onKeyDown:L=>{L.key==="Enter"&&Be()},className:"font-mono",autoFocus:!0})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"💡 API 키 발급 방법:"}),o.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:["1. ",o.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"Google Cloud Console"}),"에 로그인"]}),o.jsx("li",{children:"2. 새 프로젝트 생성 또는 기존 프로젝트 선택"}),o.jsxs("li",{children:["3. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/library/youtube.googleapis.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"YouTube Data API v3"})," 활성화"]}),o.jsxs("li",{children:["4. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"사용자 인증 정보"}),"에서 API 키 생성"]}),o.jsx("li",{children:"5. 생성된 API 키를 위에 입력"})]})]}),m!=="idle"&&o.jsx("div",{className:`p-3 rounded-lg text-sm ${m==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[m==="success"&&o.jsx(oa,{className:"w-4 h-4"}),m==="error"&&o.jsx(Zi,{className:"w-4 h-4"}),o.jsx("span",{children:x})]})})]}),o.jsxs(yA,{children:[o.jsx(q,{variant:"outline",onClick:()=>S(!1),children:"취소"}),o.jsxs(q,{onClick:Be,disabled:!b.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(vh,{className:"w-4 h-4 mr-2"}),"저장하고 수집 시작"]})]})]})}),o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/user-management",children:o.jsxs(q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Oe,{to:"/trend",children:o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",children:o.jsx(q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsxs(q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsx(Oe,{to:"/subcategory-settings",children:o.jsxs(q,{size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white",children:[o.jsx(En,{className:"w-4 h-4 mr-2"}),"세부카테고리"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"시스템 설정"}),o.jsx("p",{className:"text-muted-foreground",children:"데이터 연동 및 시스템 설정을 관리합니다"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"저장 기준: IndexedDB (로컬 전용) · 수집: 트렌드 + 키워드 혼합 · 정렬: 조회수 상위"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(q,{variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",onClick:de,children:[o.jsx(UA,{className:"w-4 h-4 mr-2"}),"데이터 수집 시작"]}),o.jsx(Oe,{to:"/data-classification",children:o.jsxs(q,{variant:"outline",children:[o.jsx(En,{className:"w-4 h-4 mr-2"}),"데이터 분류 관리"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(KA,{className:"w-5 h-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"API 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Tt,{className:"text-sm font-medium",children:"YouTube Data API 활성화"}),o.jsx(qi,{checked:a.youtubeApiEnabled,onCheckedChange:L=>s(k=>({...k,youtubeApiEnabled:L,youtubeApiKeys:L?I(k.youtubeApiKeys):k.youtubeApiKeys}))})]}),o.jsxs("div",{className:"space-y-3 border-t pt-3",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx(Tt,{className:"text-sm font-medium text-blue-700",children:"📝 YouTube API 키"})}),a.youtubeApiKeys.map((L,k)=>{const H=a.activeYoutubeApiKeyIndex===k,K=B==="testing"&&O===k,ue=O===k&&B!=="idle",fe=A.find(oe=>oe.index===k),Se=(fe==null?void 0:fe.usagePercent)||0,ie=(fe==null?void 0:fe.remainingQuota)||0,je=(fe==null?void 0:fe.isExhausted)||!1;return o.jsxs("div",{className:"border border-muted rounded-lg p-3 space-y-2 bg-muted/30",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:H?"default":"outline",children:H?"사용 중":"대기"}),je&&o.jsx(Ve,{variant:"destructive",className:"text-xs",children:"할당량 소진"}),o.jsxs("span",{className:"text-sm font-semibold text-foreground",children:["API 키 ",k+1]})]}),o.jsx("code",{className:"block text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded break-all",children:L?L.length>12?`${L.substring(0,8)}${"*".repeat(L.length-12)}${L.substring(L.length-4)}`:"****":"(미입력)"}),fe&&L&&o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"할당량 사용률"}),o.jsxs("span",{className:`font-semibold ${Se>=95?"text-red-600":Se>=80?"text-orange-600":"text-green-600"}`,children:[Se.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${Se>=95?"bg-red-600":Se>=80?"bg-orange-600":"bg-green-600"}`,style:{width:`${Math.min(100,Se)}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:["사용: ",fe.usedQuota.toLocaleString()," / ",fe.dailyQuota.toLocaleString()]}),o.jsxs("span",{children:["남은 할당량: ",ie.toLocaleString()]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(q,{variant:H?"secondary":"outline",size:"sm",onClick:()=>J(k),disabled:!L.trim()||H||je,children:H?"현재 사용 중":"이 키 사용"}),o.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{if(window.confirm(`API 키 ${k+1}번의 할당량 사용량을 초기화하시겠습니까?`)){JJ(k);const oe=Ux();C(oe)}},title:"할당량 초기화",className:"text-xs",children:"초기화"}),a.youtubeApiKeys.length>1&&o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>re(k),title:"API 키 삭제",children:o.jsx(jd,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(vt,{id:`youtube-api-key-${k}`,type:"password",autoComplete:"off",placeholder:"YouTube Data API 키를 입력하세요",value:L,onChange:oe=>U(k,oe.target.value),className:"flex-1 font-mono text-sm"}),o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>se(k),disabled:!L.trim()||B==="testing",children:[o.jsx(om,{className:`w-4 h-4 mr-1 ${K?"animate-spin":""}`}),K?"테스트 중...":"테스트"]})]}),ue&&o.jsx("div",{className:`p-2 rounded-lg text-sm ${B==="success"?"bg-green-50 border border-green-200 text-green-800":B==="error"?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[B==="success"&&o.jsx(oa,{className:"w-4 h-4"}),B==="error"&&o.jsx(Zi,{className:"w-4 h-4"}),B==="testing"&&o.jsx(Qn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:_})]})})]},k)}),a.youtubeApiKeys.length<Ma&&o.jsx(q,{variant:"outline",size:"sm",onClick:Y,children:o.jsx("span",{className:"font-medium text-sm",children:"+ API 키 추가"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(Ji,{className:"w-3 h-3 inline mr-1"}),o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Google Cloud Console에서 API 키 발급받기"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"API 키 발급 방법:"}),o.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:["1. ",o.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"}),"에 로그인"]}),o.jsx("li",{children:"2. 새 프로젝트 생성 또는 기존 프로젝트 선택"}),o.jsxs("li",{children:["3. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/library/youtube.googleapis.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"YouTube Data API v3"})," 활성화"]}),o.jsxs("li",{children:["4. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"사용자 인증 정보"}),"에서 API 키 생성"]}),o.jsx("li",{children:"5. 생성된 API 키를 위에 입력"})]})]})]})]})]}),Me?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Tt,{className:"text-sm font-medium",children:"커스텀 API"}),o.jsx(qi,{checked:a.customApiEnabled,onCheckedChange:k=>s(H=>({...H,customApiEnabled:k}))})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["현재 API URL: ",o.jsx("span",{className:"font-mono text-blue-600",children:Me||"미설정"})]}),a.customApiEnabled&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tt,{htmlFor:"custom-api-url",children:"API URL"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(vt,{id:"custom-api-url",placeholder:n,value:a.customApiUrl,onChange:k=>s(H=>({...H,customApiUrl:k.target.value})),className:"flex-1"}),o.jsxs(q,{variant:"outline",size:"sm",onClick:Ee,disabled:!a.customApiUrl||D==="testing",children:[o.jsx(om,{className:"w-4 h-4 mr-1"}),D==="testing"?"테스트 중...":"테스트"]})]}),D!=="idle"&&o.jsx("div",{className:`p-2 rounded-lg text-sm ${D==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:$}),o.jsx(Tt,{htmlFor:"custom-api-key",children:"API 키 (선택사항)"}),o.jsx(vt,{id:"custom-api-key",type:"password",autoComplete:"off",placeholder:"API 키를 입력하세요",value:a.customApiKey,onChange:k=>s(H=>({...H,customApiKey:k.target.value}))})]})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(el,{className:"w-5 h-5 text-blue-600"}),o.jsx(Tt,{className:"text-sm font-medium text-blue-900",children:"IndexedDB 전용 모드"})]}),o.jsxs("p",{className:"text-xs text-blue-700",children:["현재 IndexedDB 전용 모드로 실행 중입니다.",o.jsx("br",{}),"서버 API 연결이 필요하지 않습니다.",o.jsx("br",{}),"모든 데이터는 로컬 IndexedDB에 저장됩니다."]})]})})]})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(kr,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"시스템 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"💡 핵심 기능"}),o.jsxs("p",{className:"text-xs text-blue-700",children:["• 기존 분류 이력 기반 자동 분류 적용",o.jsx("br",{}),"• 최근 14일간 분류 이력 우선 적용",o.jsx("br",{}),"• IndexedDB 저장 (로컬 전용)",o.jsx("br",{}),"• API 키 자동 보존 (삭제 방지)"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsx("h4",{className:"text-sm font-medium text-purple-900 mb-2",children:"📊 데이터 수집"}),o.jsxs("p",{className:"text-xs text-purple-700",children:["• 트렌드 영상: 상위 200개 (YouTube 공식)",o.jsx("br",{}),"• 키워드 영상: ",Qt.length,"개 키워드 × 50개",o.jsx("br",{}),"• 자동 수집: 매일 09:00 KST (서버 cron)",o.jsx("br",{}),"• 수동 수집: 시스템 페이지에서 즉시 실행"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"🔐 보안 및 저장"}),o.jsxs("p",{className:"text-xs text-green-700",children:["• API 키: localStorage + IndexedDB 이중 저장",o.jsx("br",{}),"• API 키 마스킹 표시 (보안 강화)",o.jsx("br",{}),"• 실제 키 우선 보존 (빈 키로 덮어쓰기 방지)",o.jsx("br",{}),"• 데이터: IndexedDB 로컬 저장 (서버 동기화 옵션)"]})]})]})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(En,{className:"w-5 h-5 text-indigo-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"데이터 수집 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-lg",children:[o.jsxs("h4",{className:"text-sm font-bold text-blue-900 mb-3 flex items-center",children:[o.jsx(En,{className:"w-4 h-4 mr-2"}),"🔥 혼합 수집 방식"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"📺 트렌드 영상"}),o.jsx("p",{className:"text-sm font-bold text-blue-900",children:"상위 200개"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"YouTube 공식 (한글만)"})]}),o.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"🔍 키워드 영상"}),o.jsxs("p",{className:"text-sm font-bold text-blue-900",children:[Qt.length,"개 × 50개"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"조회수 상위"})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800",children:"수집 설정 상세"}),o.jsxs("div",{className:"space-y-1 text-xs text-green-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"트렌드 수집량:"}),o.jsx("span",{className:"font-medium",children:"200개 (50개씩 4페이지)"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"키워드 수집량:"}),o.jsxs("span",{className:"font-medium",children:[Qt.length*50,"개 (",Qt.length,"개 키워드 × 50개)"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"예상 총 수집량:"}),o.jsxs("span",{className:"font-medium text-green-600",children:[200+Qt.length*50,"개"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"중복 제거:"}),o.jsx("span",{className:"font-medium text-green-600",children:"조회수 높은 것 유지"})]})]})]}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1 bg-blue-100/50 p-2 rounded",children:[o.jsx("p",{children:"✓ 조회수 높은 순 자동 정렬"}),o.jsx("p",{children:"✓ 중복 시 조회수 높은 것 유지"}),o.jsxs("p",{children:["✓ 예상 수집: ",o.jsxs("strong",{children:["약 ",Math.floor((200+Qt.length*50)*.6).toLocaleString(),"~",Math.floor((200+Qt.length*50)*.7).toLocaleString(),"개"]})," (중복 제거 후)"]})]})]}),o.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Tt,{className:"text-sm font-medium text-yellow-900",children:"🇰🇷 한국어 영상만 수집"}),o.jsx(qi,{checked:(()=>{try{return Xo().koreanOnly??!0}catch{return!0}})(),onCheckedChange:L=>{const k=Xo();k.koreanOnly=L,localStorage.setItem("youtubepulse_collection_config",JSON.stringify(k))}})]}),o.jsxs(Lt,{value:(()=>{try{return Xo().languageFilterLevel||"moderate"}catch{return"moderate"}})(),onValueChange:L=>{const k=Xo();k.languageFilterLevel=L,localStorage.setItem("youtubepulse_collection_config",JSON.stringify(k))},children:[o.jsx($t,{className:"text-xs",children:o.jsx(Bt,{})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"strict",children:"엄격 (제목+설명 모두 한국어)"}),o.jsx(Ze,{value:"moderate",children:"보통 (제목 또는 채널명 한국어)"}),o.jsx(Ze,{value:"loose",children:"느슨 (하나라도 한국어 포함)"})]})]})]})]})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(En,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"데이터 수집 키워드"})]}),o.jsxs(Ve,{variant:"secondary",className:"text-sm",children:["총 ",Qt.length,"개"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-purple-900 mb-2",children:"💡 현재 설정된 키워드 목록입니다. 각 키워드당 50개씩 수집됩니다."}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Qt.map((L,k)=>o.jsx(Ve,{variant:"outline",className:"bg-white text-purple-700 border-purple-300",children:L},k))})]}),o.jsxs("div",{className:"text-xs text-purple-700 bg-purple-100/50 p-2 rounded",children:[o.jsx("p",{children:"✓ 키워드별 조회수 상위 50개 수집"}),o.jsxs("p",{children:["✓ 전체 키워드 수집량: ",Qt.length," × 50 = ",Qt.length*50,"개"]}),o.jsxs("p",{children:["✓ 중복 제거 후 최종 수집량: 약 ",Math.floor(Qt.length*50*.6).toLocaleString(),"~",Math.floor(Qt.length*50*.7).toLocaleString(),"개"]})]})]})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(am,{className:"w-5 h-5 text-orange-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"연동 상태"})]}),Me?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.youtubeApiEnabled?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm font-medium",children:"YouTube API"})]}),o.jsx(Ve,{variant:a.youtubeApiEnabled?"default":"secondary",children:a.youtubeApiEnabled?"연결됨":"연결 안됨"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.customApiEnabled?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm font-medium",children:"커스텀 API"})]}),o.jsx(Ve,{variant:a.customApiEnabled?"default":"secondary",children:a.customApiEnabled?"연결됨":"연결 안됨"})]}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"font-medium text-sm mb-2 text-blue-800",children:"API 설정 상세"}),o.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"YouTube API 키:"}),o.jsx("span",{className:c?"text-green-600 font-medium":"text-red-600",children:c?`설정됨 (${a.youtubeApiKeys.filter(k=>k.trim()).length}개)`:"미설정"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"커스텀 API URL:"}),o.jsx("span",{className:"text-blue-600 font-mono text-xs",children:a.customApiUrl})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"커스텀 API 키:"}),o.jsx("span",{className:a.customApiKey?"text-green-600 font-medium":"text-red-600",children:a.customApiKey?"설정됨":"미설정"})]})]})]})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(el,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-900",children:"IndexedDB 전용 모드"})]}),o.jsxs("p",{className:"text-xs text-blue-700 mb-3",children:["현재 IndexedDB 전용 모드로 실행 중입니다.",o.jsx("br",{}),"서버 API 연결이 필요하지 않습니다."]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"IndexedDB"})]}),o.jsx(Ve,{variant:"default",children:"연결됨"})]})]})})]})]})]})]})};function wA(e,t,r="overwrite"){const n=new Map,a=[];for(const i of e){const l=ph(i.dayKey);n.set(l,{...i,dayKey:l,source:"server",updatedAt:i.updatedAt||Date.now()})}for(const i of t){const l=ph(i.dayKey),c=n.get(l);if(!c)n.set(l,{...i,dayKey:l,source:"local",updatedAt:i.updatedAt||Date.now()});else{const u={dayKey:l,serverData:c,localData:i,resolution:"server"};if(r==="overwrite"){const f={...c,total:Math.max(c.total,i.total),done:Math.max(c.done,i.done),source:"merged",updatedAt:Math.max(c.updatedAt,i.updatedAt||0)};(i.updatedAt||0)>c.updatedAt&&(f.itemsHash=i.itemsHash||c.itemsHash),(i.pendingLocalOps||0)>0&&(f.pendingLocalOps=i.pendingLocalOps),n.set(l,f),u.resolution="merged"}else{const f={...c,total:Math.max(c.total,i.total),done:Math.max(c.done,i.done),source:"merged",updatedAt:Math.max(c.updatedAt,i.updatedAt||0),itemsHash:c.itemsHash||i.itemsHash};(i.pendingLocalOps||0)>0&&(f.pendingLocalOps=(c.pendingLocalOps||0)+i.pendingLocalOps),n.set(l,f),u.resolution="merged"}a.push(u)}}const s=Array.from(n.values()).sort((i,l)=>l.dayKey.localeCompare(i.dayKey));return{mergedDays:s,conflicts:a,stats:{totalDays:s.length,serverDays:e.length,localDays:t.length,mergedDays:s.length,conflicts:a.length}}}function ph(e){try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${e}`);return t.toISOString().split("T")[0]}catch(t){return console.warn(`날짜 정규화 실패: ${e}`,t),e}}function pi(e,t="local"){const r=new Map;return e.forEach(n=>{const a=ph(n.collectionDate||n.uploadDate);r.has(a)||r.set(a,{total:0,done:0,updatedAt:0});const s=r.get(a);s.total++,n.status==="classified"&&s.done++;const i=n.updatedAt?new Date(n.updatedAt).getTime():Date.now();s.updatedAt=Math.max(s.updatedAt,i)}),Array.from(r.entries()).map(([n,a])=>({dayKey:n,total:a.total,done:a.done,updatedAt:a.updatedAt,source:t,pendingLocalOps:t==="local"?0:void 0}))}async function mZ(e=Me){var a;if(!e)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 데이터를 가져올 수 없습니다."),[];const t=1e4,r=`${e}/api/unclassified`;console.log("📡 서버 데이터 요청 시작:",r);const n=Date.now();try{const s=new AbortController,i=setTimeout(()=>{console.warn("⏱️ 서버 요청 타임아웃 (10초) - 요청 중단"),s.abort()},t);try{const l=await fetch(r,{signal:s.signal});clearTimeout(i);const c=Date.now()-n;if(console.log(`📥 서버 응답 받음 (${c}ms):`,{status:l.status,statusText:l.statusText,ok:l.ok}),!l.ok)throw new Error(`서버 응답 실패: ${l.status} ${l.statusText}`);const u=await l.json();if(console.log("📦 서버 응답 데이터:",{hasSuccess:"success"in u,success:u.success,dataLength:((a=u.data)==null?void 0:a.length)||0,isArray:Array.isArray(u.data)}),!u.success||!u.data)return console.warn("⚠️ 서버 응답에 데이터 없음:",u),[];const f=pi(u.data,"server");return console.log(`✅ 서버 데이터 변환 완료: ${f.length}일`),f}catch(l){clearTimeout(i);const c=Date.now()-n;throw console.error(`❌ 서버 요청 실패 (${c}ms):`,{name:l.name,message:l.message,isAbortError:l.name==="AbortError"}),l.name==="AbortError"?new Error("서버 요청 타임아웃 (10초)"):l}}catch(s){return s instanceof Error&&s.message.includes("타임아웃")?console.warn("⚠️ 서버 연결 타임아웃 - 로컬 데이터만 사용합니다"):console.warn("⚠️ 서버 데이터 가져오기 실패 (빈 배열 반환):",s),[]}}async function gZ(){console.log("💾 로컬 데이터 요청 시작...");const e=Date.now();try{const{hybridService:t}=await Ga(async()=>{const{hybridService:s}=await import("./services.C3dDUBK7.js").then(i=>i.f);return{hybridService:s}},__vite__mapDeps([0,1])),r=await t.loadUnclassifiedData(),n=Date.now()-e;console.log(`💾 로컬 데이터 로드 완료 (${n}ms): ${r.length}개 항목`);const a=pi(r,"local");return console.log(`✅ 로컬 데이터 변환 완료: ${a.length}일`),a}catch(t){const r=Date.now()-e;return console.warn(`⚠️ 로컬 데이터 가져오기 실패 (${r}ms):`,t),[]}}async function Ui(e="overwrite",t=Me){console.log("🔄 하이브리드 데이터 로드 시작..."),t||console.log("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터만 사용합니다.");const r=Date.now();try{console.log("📡 서버 및 로컬 데이터 병렬 로드 시작...");const[n,a]=await Promise.all([mZ(t).catch(c=>(console.error("❌ 서버 데이터 로드 실패:",c),[])),gZ().catch(c=>(console.error("❌ 로컬 데이터 로드 실패:",c),[]))]),s=Date.now()-r;console.log(`📊 데이터 로드 완료 (${s}ms): 서버 ${n.length}일, 로컬 ${a.length}일`),console.log("🔄 데이터 병합 시작...");const i=wA(n,a,e),l=Date.now()-r;return console.log(`✅ 병합 완료 (${l}ms): ${i.mergedDays.length}일, 충돌: ${i.conflicts.length}개`),i}catch(n){return console.error("❌ loadAndMergeDays 실패:",n),console.error("❌ 에러 상세:",{message:n instanceof Error?n.message:"알 수 없는 오류",stack:n instanceof Error?n.stack:void 0}),{mergedDays:[],conflicts:[],stats:{serverDays:0,localDays:0,mergedDays:0,conflicts:0}}}}async function vZ(e="http://localhost:3000"){try{console.log("📤 로컬 변경사항 서버 업로드 시작...");const{hybridService:t}=await Ga(async()=>{const{hybridService:c}=await import("./services.C3dDUBK7.js").then(u=>u.f);return{hybridService:c}},__vite__mapDeps([0,1])),r=await t.loadUnclassifiedData();if(!r||r.length===0)return{success:!0,uploaded:0};const a=pi(r,"local").filter(c=>(c.pendingLocalOps||0)>0);if(a.length===0)return console.log("📤 업로드할 로컬 변경사항 없음"),{success:!0,uploaded:0};console.log(`📤 ${a.length}개 일자의 로컬 변경사항 업로드 중...`);const s=a.map(async c=>{try{const u=await fetch(`${e}/api/sync/upload-day`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dayKey:c.dayKey,total:c.total,done:c.done,updatedAt:c.updatedAt,source:"local"})});if(!u.ok)throw new Error(`서버 업로드 실패: ${u.status}`);return!0}catch(u){return console.error(`일자 ${c.dayKey} 업로드 실패:`,u),!1}}),l=(await Promise.all(s)).filter(Boolean).length;return console.log(`📤 로컬 변경사항 업로드 완료: ${l}/${a.length}개 성공`),{success:l>0,uploaded:l,error:l<a.length?"일부 업로드 실패":void 0}}catch(t){return console.error("로컬 변경사항 업로드 실패:",t),{success:!1,uploaded:0,error:t instanceof Error?t.message:"알 수 없는 오류"}}}async function yZ(e="http://localhost:3000",t){try{console.log("📥 서버 변경사항 다운로드 시작...");const r=t?`${e}/api/sync/changes?since=${t}`:`${e}/api/unclassified`,n=await fetch(r);if(!n.ok)throw new Error(`서버 응답 실패: ${n.status}`);const a=await n.json();if(!a.success||!a.data)return{success:!0,downloaded:0,serverDays:[]};const s=pi(a.data,"server");return console.log(`📥 서버에서 ${s.length}개 일자 데이터 다운로드 완료`),{success:!0,downloaded:s.length,serverDays:s}}catch(r){return console.error("서버 변경사항 다운로드 실패:",r),{success:!1,downloaded:0,serverDays:[],error:r instanceof Error?r.message:"알 수 없는 오류"}}}async function xZ(e="http://localhost:3000",t="overwrite"){try{console.log("🔄 전체 동기화 시작...");const r=await vZ(e);r.success||console.warn("로컬 변경사항 업로드 실패, 계속 진행...");const n=await yZ(e);if(!n.success)throw new Error(`서버 데이터 다운로드 실패: ${n.error}`);const{hybridService:a}=await Ga(async()=>{const{hybridService:u}=await import("./services.C3dDUBK7.js").then(f=>f.f);return{hybridService:u}},__vite__mapDeps([0,1])),s=await a.loadUnclassifiedData(),i=pi(s,"local"),l=wA(n.serverDays,i,t),c={lastSync:Date.now(),serverRevision:`server_${Date.now()}`,localRevision:`local_${Date.now()}`,pendingChanges:0,conflicts:l.conflicts.length};return await bZ(c),console.log("✅ 전체 동기화 완료:",{uploaded:r.uploaded,downloaded:n.downloaded,merged:l.mergedDays.length,conflicts:l.conflicts.length}),{success:!0,status:c,mergedDays:l.mergedDays,conflicts:l.conflicts,stats:{uploaded:r.uploaded,downloaded:n.downloaded,conflicts:l.conflicts.length}}}catch(r){return console.error("전체 동기화 실패:",r),{success:!1,status:{lastSync:0,serverRevision:"",localRevision:"",pendingChanges:0,conflicts:0},mergedDays:[],conflicts:[],stats:{uploaded:0,downloaded:0,conflicts:0},error:r instanceof Error?r.message:"알 수 없는 오류"}}}async function bZ(e){try{localStorage.setItem("youtubepulse_sync_status",JSON.stringify(e)),console.log("💾 동기화 상태 저장 완료:",e)}catch(t){console.error("동기화 상태 저장 실패:",t)}}async function wZ(){try{const e=localStorage.getItem("youtubepulse_sync_status");if(e)return JSON.parse(e)}catch(e){console.warn("동기화 상태 로드 실패:",e)}return{lastSync:0,serverRevision:"",localRevision:"",pendingChanges:0,conflicts:0}}async function jZ(e="http://localhost:3000"){try{const t=await wZ();return Date.now()-t.lastSync>5*60*1e3||t.conflicts>0?{needed:!0,reason:t.conflicts>0?"충돌 해결 필요":"오래된 동기화",lastSync:t.lastSync}:{needed:!1,reason:"동기화 불필요",lastSync:t.lastSync}}catch(t){return console.error("동기화 상태 확인 실패:",t),{needed:!0,reason:"상태 확인 실패",lastSync:0}}}function Ki(e){const t=new Map;let r=0;for(const n of e){const a=n.dayKeyLocal||(n.collectionDate?new Date(n.collectionDate).toISOString().split("T")[0]:null)||(n.uploadDate?new Date(n.uploadDate).toISOString().split("T")[0]:null);if(!a){console.warn("⚠️ 날짜 키가 없는 항목 스킵:",n.videoId);continue}const s=`${n.videoId}|${a}`,i=t.get(s);if(!i)t.set(s,n);else{r++;const l=n.viewCount||0,c=i.viewCount||0;if(l>c)t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (조회수 ${c} → ${l})`);else if(l===c){const u=n.status||"unclassified",f=i.status||"unclassified";if(u==="classified"&&f!=="classified")t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (상태 ${f} → ${u})`);else if(u===f){const d=new Date(n.updatedAt||n.createdAt||0).getTime(),h=new Date(i.updatedAt||i.createdAt||0).getTime();d>h&&(t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (시간 ${h} → ${d})`))}}}}return r>0&&console.log(`📊 중복 제거 완료: ${r}개 중복 발견, ${t.size}개 유지`),Array.from(t.values())}class SZ{constructor(){Mt(this,"state",{isOnline:navigator.onLine,lastOnlineCheck:Date.now(),retryQueue:[]});Mt(this,"MAX_RETRY_COUNT",3);Mt(this,"RETRY_DELAY",5e3);Mt(this,"retryTimer",null);Mt(this,"handleOnline",()=>{console.log("🔄 온라인 상태 복원"),this.state.isOnline=!0,this.state.lastOnlineCheck=Date.now(),this.processRetryQueue(),lm.retryLocalQueue()});Mt(this,"handleOffline",()=>{console.log("🔄 오프라인 상태 감지"),this.state.isOnline=!1,this.showOfflineToast()});Mt(this,"checkConnection",async()=>{try{if(!Me)throw new Error("API base URL is not configured.");(await fetch(`${Me}/health`,{method:"HEAD",cache:"no-cache"})).ok?this.state.isOnline||(console.log("🔄 연결 상태 복원 감지"),this.handleOnline()):this.state.isOnline&&(console.log("🔄 연결 상태 손실 감지"),this.handleOffline())}catch(t){this.state.isOnline&&(console.log("🔄 연결 상태 손실 감지 (오류):",t),this.handleOffline())}});Mt(this,"handleDynamicImportFailure",t=>{console.error("❌ 동적 import 실패 - 오프라인 모드 전환:",t),this.showOfflineToast("모듈 로딩 실패 - 오프라인 모드로 전환"),this.enableIndexedDBOnlyMode()});Mt(this,"addToRetryQueue",(t,r)=>{const n=`retry_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;this.state.retryQueue.push({id:n,operation:t,data:r,timestamp:Date.now(),retryCount:0}),console.log(`🔄 재시도 큐에 추가: ${t} (${n})`),this.processRetryQueue()});Mt(this,"processRetryQueue",async()=>{if(this.state.retryQueue.length===0)return;console.log(`🔄 재시도 큐 처리: ${this.state.retryQueue.length}개 항목`);const t=[];for(const r of this.state.retryQueue)try{if(r.retryCount>=this.MAX_RETRY_COUNT){console.log(`❌ 최대 재시도 횟수 초과: ${r.id}`),t.push(r.id);continue}await this.retryOperation(r),t.push(r.id),console.log(`✅ 재시도 성공: ${r.id}`)}catch(n){console.error(`❌ 재시도 실패: ${r.id}`,n),r.retryCount++;const a=this.RETRY_DELAY*Math.pow(2,r.retryCount);console.log(`⏳ 재시도 지연: ${r.id} (${a}ms)`)}this.state.retryQueue=this.state.retryQueue.filter(r=>!t.includes(r.id)),this.state.retryQueue.length>0&&this.scheduleNextRetry()});this.initialize()}initialize(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),setInterval(this.checkConnection,3e4),this.startRetryProcessor()}enableIndexedDBOnlyMode(){console.log("🔄 IndexedDB-only 모드 활성화"),this.state.isOnline=!1,this.showOfflineToast("로컬 데이터만 사용 중")}async retryOperation(t){switch(t.operation){case"auto-collection":console.log("⏭️ 자동 수집 재시도 비활성화 (서버 전용)");break;case"server-sync":await lm.retryLocalQueue();break;default:console.log(`🔄 알 수 없는 작업: ${t.operation}`)}}scheduleNextRetry(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(()=>{this.processRetryQueue()},this.RETRY_DELAY)}startRetryProcessor(){setInterval(()=>{this.state.isOnline&&this.state.retryQueue.length>0&&this.processRetryQueue()},6e4)}showOfflineToast(t){const r=document.createElement("div");r.className="offline-toast",r.textContent=t||"오프라인 모드 - 연결 복원 시 자동 동기화",r.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff6b6b;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      z-index: 10000;
      font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: slideIn 0.3s ease-out;
    `;const n=document.createElement("style");n.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(n),document.body.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},5e3)}getState(){return{...this.state}}destroy(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),this.retryTimer&&clearTimeout(this.retryTimer)}}const jA=new SZ;typeof window<"u"&&(window.offlineResilienceService=jA);async function vd(e={}){const{scope:t="all",silent:r=!1}=e;try{r||console.log(`🔄 fetchAndHydrate 시작 - scope: ${t}`);let n=[],a;if(t==="classified"||t==="all"){const s=await ot.getClassifiedData();s&&s.length>0&&(await ve.saveClassifiedData(s),n=[...n,...s],r||console.log(`✅ 분류 데이터 ${s.length}개 서버 동기화 완료`))}if(t==="unclassified"||t==="all"){const s=await ot.loadUnclassifiedData();s&&s.length>0&&(await ve.saveUnclassifiedData(s),n=[...n,...s],r||console.log(`✅ 미분류 데이터 ${s.length}개 서버 동기화 완료`))}return r||console.log(`✅ fetchAndHydrate 완료 - 총 ${n.length}개 데이터 동기화`),{success:!0,count:n.length,source:"server"}}catch(n){console.error("❌ fetchAndHydrate 실패:",n);try{const a=t==="classified"?await ve.loadClassifiedData():t==="unclassified"?await ve.loadUnclassifiedData():[...await ve.loadClassifiedData()||[],...await ve.loadUnclassifiedData()||[]];return r||console.log(`⚠️ 로컬 데이터로 폴백: ${(a==null?void 0:a.length)||0}개`),{success:!1,count:(a==null?void 0:a.length)||0,source:"local",error:n instanceof Error?n.message:"Unknown error"}}catch{return{success:!1,count:0,source:"local",error:"Both server and local fetch failed"}}}}function Pt(e,t={}){const{type:r="info",duration:n=3e3}=t,a=document.getElementById("app-toast");a&&a.remove();const s=document.createElement("div");s.id="app-toast",s.textContent=e;const i={info:"background: #3b82f6; color: white;",success:"background: #10b981; color: white;",warning:"background: #f59e0b; color: white;",error:"background: #ef4444; color: white;"};if(s.style.cssText=`
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 20px;
    border-radius: 8px;
    ${i[r]}
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 10000;
    animation: slideIn 0.3s ease-out;
  `,!document.getElementById("toast-animation-style")){const l=document.createElement("style");l.id="toast-animation-style",l.textContent=`
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(l)}document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOut 0.3s ease-in",setTimeout(()=>s.remove(),300)},n)}const Et=14,sn=typeof window<"u"&&"showDirectoryPicker"in window,Ra="YouTubePulse-Backups",Kx=()=>{const e=Xt(),{logout:t,userEmail:r,userRole:n}=Br(),[a,s]=v.useState([]),[i,l]=v.useState(!0),[c,u]=v.useState({}),f=n==="admin",[d,h]=E.useState(null),[p,y]=E.useState(""),[m,g]=E.useState(sn?"idle":"unsupported");E.useEffect(()=>{!f&&n&&(console.log("❌ 관리자 권한 없음 - 대시보드로 리다이렉트"),alert("⚠️ 관리자만 접근 가능한 페이지입니다."),e("/dashboard"))},[f,n,e]);const x=()=>{t()};E.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",qt)},[]);const j=v.useCallback(async()=>{var W,ee;try{const G="auto_collected_api_last_fail",pe=localStorage.getItem(G);if(pe){const xe=Date.now()-parseInt(pe,10);if(xe<3e5){const z=Math.ceil((3e5-xe)/1e3/60);console.log(`⏭️ 자동수집 API 호출 스킵 (서버 연결 실패 후 ${z}분 남음)`);return}}console.log("🤖 자동수집 데이터 로드 시작...");const he=new AbortController,ge=setTimeout(()=>he.abort(),1e4);try{const xe=await fetch(`${Me}/api/auto-collected`,{signal:he.signal});if(clearTimeout(ge),pe&&localStorage.removeItem(G),console.log("🤖 자동수집 API 응답 상태:",xe.status,xe.ok),xe.ok){const z=await xe.json();if(console.log("🤖 자동수집 API 응답 데이터:",{success:z.success,dataLength:(W=z.data)==null?void 0:W.length,dataType:typeof z.data,isArray:Array.isArray(z.data)}),z.success&&z.data&&Array.isArray(z.data)&&z.data.length>0){const le=z.data;console.log(`🤖 자동수집 데이터 로드 (실제 저장 데이터): ${le.length}개`);const ae={};le.forEach(te=>{let Q=te.dayKeyLocal||te.day_key_local||te.collectionDate||te.collection_date||te.uploadDate||te.upload_date;Q&&typeof Q=="string"&&Q.includes("T")&&(Q=Q.split("T")[0]),Q&&(ae[Q]||(ae[Q]={total:0,classified:0,progress:0}),ae[Q].total++,te.status==="classified"&&ae[Q].classified++)}),Object.keys(ae).forEach(te=>{const Q=ae[te];Q.progress=Q.total>0?Math.round(Q.classified/Q.total*100):0}),u(ae),console.log("🤖 자동수집 통계:",ae)}else console.log("🤖 자동수집 API 응답 실패 또는 데이터 없음:",{success:z==null?void 0:z.success,hasData:!!(z!=null&&z.data),dataLength:((ee=z==null?void 0:z.data)==null?void 0:ee.length)||0,dataType:typeof(z==null?void 0:z.data)})}else console.log("🤖 자동수집 API 호출 실패:",xe.status,xe.statusText)}catch(xe){clearTimeout(ge),localStorage.setItem(G,Date.now().toString()),xe.name==="AbortError"?pe||console.warn("⏱️ 자동수집 API 타임아웃 (10초) - 서버 연결 실패. 5분간 자동 호출 스킵합니다."):pe||console.warn("⚠️ 자동수집 API 호출 실패:",xe.message||xe)}}catch(G){console.error("🤖 자동수집 데이터 로드 실패:",G),u({})}},[]),[w,S]=E.useState(!1);E.useEffect(()=>{if(w)return;const W=setTimeout(()=>{console.warn("⏰ 강제 타임아웃 (35초) - 로딩 상태 강제 해제"),l(!1),S(!0),s([]),P({})},35e3);return(async()=>{console.log(`🔄 ${Et}일 데이터 관리 페이지 - 데이터 로드 시작`);const G=Date.now(),ye=3e4;try{l(!0),console.log("🔄 하이브리드 데이터 로드 시작...");const pe=new Promise((z,le)=>{setTimeout(()=>{console.warn("⏱️ 데이터 로드 타임아웃 (30초)"),le(new Error("데이터 로드 타임아웃 (30초)"))},ye)});let he;try{he=await Promise.race([Ui("overwrite"),pe])}catch(z){console.error("❌ 데이터 병합 실패:",z),he={mergedDays:[],conflicts:[],stats:{serverDays:0,localDays:0,mergedDays:0,conflicts:0}}}console.log("📊 병합 결과:",he.stats),he.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",he.conflicts);const ge={};he.mergedDays.forEach(z=>{ge[z.dayKey]={total:z.total,classified:z.done,progress:z.total>0?Math.round(z.done/z.total*100):0}}),P(ge),console.log("📊 병합된 dateStats:",ge),await j();let xe=await ot.loadUnclassifiedData();if(!xe||xe.length===0)if(console.log("📭 IndexedDB 비어있음 - 서버에서 초기 데이터 다운로드 시도"),Me)try{const z=await fetch(`${Me}/api/unclassified?days=7`);if(z.ok){const le=await z.json();le.success&&le.data&&le.data.length>0&&(console.log(`📥 서버에서 최근 ${Et}일 데이터 ${le.data.length}개 다운로드`),await ln.saveDataInBatches(le.data,500),console.log(`💾 IndexedDB에 ${le.data.length}개 데이터 저장 완료`),xe=await ot.loadUnclassifiedData())}}catch(z){console.warn("⚠️ 초기 서버 다운로드 실패 - IndexedDB 비어있음",z),console.log("💡 시스템 페이지에서 데이터 수집을 실행하거나 서버 상태를 확인하세요.")}else console.log("⚠️ API_BASE_URL 미설정 - 초기 데이터는 로컬 수집으로만 구성됩니다.");else console.log(`✅ IndexedDB에서 데이터 로드: ${xe.length}개 (수집 시 자동 갱신됨)`),Me&&(console.log("🔄 백그라운드 자동 동기화 시작..."),setTimeout(async()=>{try{const z=Date.now(),le=await fetch(`${Me}/api/unclassified?days=7`);if(le.ok){const ae=await le.json();if(ae.success&&ae.data&&ae.data.length>0){const te=ae.data.length,Q=(xe==null?void 0:xe.length)||0;if(te>Q){console.log(`📥 자동 동기화: 서버 ${te}개 > 로컬 ${Q}개`),console.log("🗑️ 자동 동기화: 서버 데이터 날짜별 선택적 삭제 중...");const X=[...new Set(ae.data.map(Te=>Te.dayKeyLocal||Te.collectionDate||Te.uploadDate).filter(Te=>Te))];console.log(`📅 자동 동기화 삭제할 날짜들: ${X.join(", ")}`);for(const Te of X){const tt=await ln.clearDataByDate(Te);console.log(`🗑️ 자동 동기화 ${Te} 날짜 데이터 삭제: ${tt}개`)}await ln.saveDataInBatches(ae.data,500),console.log(`✅ 자동 동기화 완료: ${te}개 (${Date.now()-z}ms)`),window.dispatchEvent(new CustomEvent("data-updated",{detail:{type:"autoSync",count:te}}))}else console.log(`✅ 자동 동기화: 최신 상태 (서버 ${te}개 = 로컬 ${Q}개)`)}}}catch(z){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",z)}},1e3));if(xe&&xe.length>0){const z=Ge(),le=xe.map(Q=>{const X=Q.category==="해외채널"?{...Q,category:"",subCategory:"",status:"unclassified"}:Q;return{...X,collectionDate:X.collectionDate||X.uploadDate||z,dayKeyLocal:X.dayKeyLocal||X.collectionDate||X.uploadDate}});console.log("🔄 중복 제거 전:",le.length,"개 항목");const ae=Ki(le);console.log("✅ 중복 제거 후:",ae.length,"개 항목"),console.log("📊 제거된 중복:",le.length-ae.length,"개"),s(ae),console.log("✅ 하이브리드 서비스에서 로드 완료:",ae.length);const te={};ae.forEach(Q=>{const X=Q.dayKeyLocal||Q.collectionDate||Q.uploadDate;if(!X||(Q.collectionType||"manual")!=="manual")return;const tt=X.split("T")[0];te[tt]||(te[tt]={total:0,classified:0,progress:0}),te[tt].total++,Q.status==="classified"&&te[tt].classified++}),Object.keys(te).forEach(Q=>{const X=te[Q];X.progress=X.total>0?Math.round(X.classified/X.total*100):0}),P(te),console.log("📊 실제 데이터 기반 dateStats 재계산 (수동수집만):",te)}else{const z=localStorage.getItem("youtubepulse_channels"),le=localStorage.getItem("youtubepulse_videos");if(z&&le){const ae=JSON.parse(z),te=JSON.parse(le),Q=[];let X=1;Object.values(ae).forEach(Te=>{(te[Te.id]||[]).forEach(Ie=>{Q.push({id:X++,channelId:Te.id,channelName:Te.name,description:Te.description||"설명 없음",videoId:Ie.id,videoTitle:Ie.title,videoDescription:Ie.description||"설명 없음",viewCount:Ie.viewCount||0,uploadDate:Ie.uploadDate||Ge(),category:"",subCategory:"",status:"unclassified"})})}),Q.length>0?(console.log("🔄 localStorage 데이터를 하이브리드 저장소로 마이그레이션:",Q.length,"개"),await ot.saveUnclassifiedData(Q),s(Q)):(console.log("📊 실제 데이터가 없습니다. 데이터 수집을 먼저 진행해주세요."),s([]))}else console.log("📊 실제 데이터가 없습니다. 데이터 수집을 먼저 진행해주세요."),s([])}S(!0),console.log("✅ loadData 함수 성공 완료")}catch(pe){console.error("❌ 데이터 로드 실패:",pe),console.error("❌ 에러 상세:",{message:pe instanceof Error?pe.message:"알 수 없는 오류",stack:pe instanceof Error?pe.stack:void 0,loadTime:Date.now()-G}),s([]),P({})}finally{clearTimeout(W);const pe=Date.now()-G;console.log(`🔄 loadData 함수 완료 (${pe}ms) - isLoading을 false로 설정`),l(!1),S(!0),console.log("✅ setIsLoading(false) 호출 완료")}})(),()=>{clearTimeout(W)}},[w,j]);const[b,N]=v.useState({retentionDays:14,autoCleanup:!0}),[A,C]=v.useState(()=>{const ee=new URLSearchParams(window.location.search).get("date");return ee||new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}),[D,R]=v.useState([]),[$,P]=v.useState({});E.useEffect(()=>()=>{},[]);const B=v.useCallback(async(W,ee)=>{var G,ye;if(!W)return!1;try{const pe=ee?"readwrite":"read";if("queryPermission"in W){const he=await((G=W.queryPermission)==null?void 0:G.call(W,{mode:pe}));if(he==="granted")return!0;if(he==="denied")return!1}if("requestPermission"in W)return await((ye=W.requestPermission)==null?void 0:ye.call(W,{mode:pe}))==="granted"}catch(pe){console.warn("📁 백업 폴더 권한 확인 실패:",pe)}return!1},[]),T=v.useCallback(async W=>{var ee;if(!sn)return Pt("현재 브라우저는 백업 폴더 지정을 지원하지 않습니다.","warning"),null;try{let G=d;if(G&&!(W!=null&&W.forcePrompt)&&await B(G,!0))return g("ready"),G;if(G=await((ee=window.showDirectoryPicker)==null?void 0:ee.call(window,{id:"youtubepulse-backups",mode:"readwrite",startIn:"downloads"})),G&&await B(G,!0)){h(G),y(G.name??Ra),g("ready");try{await ve.saveBackupDirectoryHandle(G)}catch(pe){console.warn("📁 백업 폴더 핸들 저장 실패 (무시 가능):",pe)}return G}}catch(G){(G==null?void 0:G.name)==="AbortError"?console.log("📁 백업 폴더 선택이 취소되었습니다."):(console.error("📁 백업 폴더 선택 실패:",G),Pt("백업 폴더를 선택하지 못했습니다.","error"))}g("denied");try{await ve.clearBackupDirectoryHandle()}catch(G){console.warn("📁 백업 폴더 핸들 초기화 실패 (무시 가능):",G)}return null},[d,B]),_=v.useCallback(async(W,ee)=>{if(!sn)return!1;const G=await T();if(!G)return!1;try{const he=await(await(await G.getDirectoryHandle(Ra,{create:!0})).getFileHandle(W,{create:!0})).createWritable();return await he.write(ee),await he.close(),g("ready"),y(G.name??Ra),!0}catch(ye){return console.error("📁 백업 폴더에 파일 저장 실패:",ye),Pt("백업 폴더에 저장하지 못했습니다. 다른 폴더를 선택해주세요.","error"),!1}},[T]),M=v.useCallback((W,ee)=>{const G=URL.createObjectURL(ee),ye=document.createElement("a");ye.href=G,ye.download=W,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(G)},[]),O=v.useCallback(async()=>{if(!sn){Pt("현재 브라우저는 폴더 지정을 지원하지 않습니다.","warning");return}await T({forcePrompt:!0})&&Pt("백업 폴더가 설정되었습니다.","success")},[T]),F=v.useCallback(async()=>{try{await ve.clearBackupDirectoryHandle(),h(null),y(""),g(sn?"idle":"unsupported"),Pt("백업 폴더 설정을 삭제했습니다.","success")}catch(W){console.error("📁 백업 폴더 초기화 실패:",W),Pt("백업 폴더 초기화에 실패했습니다.","error")}},[]);E.useEffect(()=>{sn&&(async()=>{try{const W=await ve.getBackupDirectoryHandle();W&&(await B(W,!1)?(h(W),y(W.name??Ra),g("ready")):(g("denied"),await ve.clearBackupDirectoryHandle()))}catch(W){console.warn("📁 백업 폴더 핸들 로드 실패:",W)}})()},[B]),E.useEffect(()=>{const W=G=>{var pe;if(console.log("🔄 데이터 업데이트 이벤트 감지:",G.detail),(pe=G.detail)!=null&&pe.preserveBackupData&&a.length>0){console.log("🔒 백업 데이터 보존 모드 - 데이터 로드 차단 (UI에 데이터 있음)");return}if(a.length===0&&console.log("🔄 UI에 데이터 없음 - 강제 데이터 로드 실행"),!G.detail||Object.keys(G.detail).length===0){console.log("🔒 빈 이벤트 감지 - 데이터 로드 차단");return}if(G.detail.type==="pageFocus")console.log("🔄 페이지 포커스 이벤트 - 데이터 로드 허용");else if(G.detail.type==="dataUpdated")console.log("🔄 데이터 업데이트 이벤트 - 데이터 로드 허용");else if(G.detail.type==="backgroundSync")console.log("🔄 백그라운드 동기화 완료 이벤트 - 서버 데이터로 갱신");else if(G.detail.type==="manualSync")console.log("🔄 수동수집 동기화 완료 이벤트 - 즉시 UI 갱신");else if(G.detail.type==="autoSync")console.log("🔄 자동수집 동기화 완료 이벤트 - 즉시 UI 갱신");else if(G.detail.type==="bulkSaveProgress")console.log("🔄 진행률 일괄 저장 완료 이벤트 - 즉시 UI 갱신");else{console.log("🔒 알 수 없는 이벤트 타입 - 데이터 로드 차단:",G.detail.type);return}(async()=>{try{if(console.log(`🔄 ${Et}일 데이터 관리 페이지 - 데이터 새로고침 시작`),window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("🔒 백업 복원 중이므로 데이터 로드 차단");return}console.log("🔄 서버와 로컬 데이터 병합 중...");const he=await Ui("overwrite");console.log("📊 병합 결과:",he.stats),he.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",he.conflicts);const ge={};console.log("📊 병합 완료, 실제 데이터에서 수동수집 통계 재계산 예정"),await j();const xe=await ot.loadUnclassifiedData();if(xe&&xe.length>0){const z=Ge(),le=xe.map(Q=>{const X=Q.category==="해외채널"?{...Q,category:"",subCategory:"",status:"unclassified"}:Q;return{...X,collectionDate:X.collectionDate||X.uploadDate||z,dayKeyLocal:X.dayKeyLocal||X.collectionDate||X.uploadDate}});console.log("🔄 중복 제거 전:",le.length,"개 항목");const ae=Ki(le);console.log("✅ 중복 제거 후:",ae.length,"개 항목"),console.log("📊 제거된 중복:",le.length-ae.length,"개"),s(ae),console.log("✅ 하이브리드 서비스에서 로드 완료:",ae.length);const te={};ae.forEach(Q=>{const X=Q.dayKeyLocal||Q.collectionDate||Q.uploadDate;if(!X||(Q.collectionType||"manual")!=="manual")return;const tt=X.split("T")[0];te[tt]||(te[tt]={total:0,classified:0,progress:0}),te[tt].total++,Q.status==="classified"&&te[tt].classified++}),Object.keys(te).forEach(Q=>{const X=te[Q];X.progress=X.total>0?Math.round(X.classified/X.total*100):0}),P(te),console.log("📊 페이지 포커스 - dateStats 재계산 (수동수집만):",te)}else console.log("📊 저장된 데이터 없음"),s([]);console.log(`✅ ${Et}일 데이터 관리 페이지 - 데이터 새로고침 완료`)}catch(he){console.error("❌ 데이터 새로고침 실패:",he)}})()};window.addEventListener("dataUpdated",W);const ee=()=>{if(window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("🔒 복원 중이므로 포커스 동기화 차단");return}console.log("🔄 페이지 포커스 감지, 데이터 새로고침"),W(new CustomEvent("dataUpdated",{detail:{type:"pageFocus",timestamp:Date.now()}}))};return window.addEventListener("focus",ee),()=>{window.removeEventListener("dataUpdated",W),window.removeEventListener("focus",ee)}},[j,a.length]),E.useEffect(()=>{(async()=>{try{const G=new Set;for(let pe=0;pe<Et;pe++){const he=Su(-pe);G.add(he)}const ye=Array.from(G).sort((pe,he)=>he.localeCompare(pe));R(ye)}catch(G){console.error("날짜 목록 로드 실패:",G);const ye=[];for(let pe=0;pe<Et;pe++){const he=Su(-pe);ye.push(he)}console.log("📅 날짜 그리드 생성:",ye),R(ye)}})();const ee=rm.onRollover(G=>{console.log("🔄 자정 전환 감지 - 날짜 그리드 재생성:",G),console.time("rollover-render");const ye=new Set;for(let he=0;he<Et;he++){const ge=Su(-he);ye.add(ge)}const pe=Array.from(ye).sort((he,ge)=>ge.localeCompare(he));R(pe),console.timeEnd("rollover-render"),console.log("✅ 날짜 그리드 재생성 완료:",pe)});return console.log("🔄 서비스 초기화 중..."),console.log("dateRolloverService:",rm),console.log("autoCollectionScheduler:",GA),console.log("offlineResilienceService:",jA),()=>{ee()}},[]),a.filter(W=>W.status==="classified");const I=(W,ee)=>{console.log("📅 날짜 클릭됨:",W,"수집타입:",ee);const G=ee?`/date-classification-detail?date=${W}&type=${ee}`:`/date-classification-detail?date=${W}`;console.log("🔗 이동할 URL:",G),e(G)},Y=async()=>{console.log("🔄 데이터 새로고침 시작..."),S(!1),P({}),u({}),s([]),await(async()=>{try{l(!0),console.log("🔄 하이브리드 데이터 로드 시작...");const ee=await Ui("overwrite");console.log("📊 병합 결과:",ee.stats),ee.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",ee.conflicts);const G={};ee.mergedDays.forEach(pe=>{G[pe.dayKey]={total:pe.total,classified:pe.done,progress:pe.total>0?Math.round(pe.done/pe.total*100):0}}),P(G),console.log("📊 병합된 dateStats:",G),await j();const ye=await ot.loadUnclassifiedData();if(ye&&ye.length>0){const pe=Ge(),he=ye.map(xe=>{const z=xe.category==="해외채널"?{...xe,category:"",subCategory:"",status:"unclassified"}:xe;return{...z,collectionDate:z.collectionDate||z.uploadDate||pe,dayKeyLocal:z.dayKeyLocal||z.collectionDate||z.uploadDate}}),ge=Ki(he);s(ge),console.log(`✅ 데이터 로드 완료: ${ge.length}개`)}else console.log("📭 로드된 데이터가 없습니다"),s([]);S(!0),console.log("✅ setDataLoaded(true) 호출 완료")}catch(ee){console.error("데이터 로드 실패:",ee),s([]),S(!0)}finally{l(!1),console.log("✅ setIsLoading(false) 호출 완료")}})()},re=async()=>{try{console.log("📥 서버 데이터 다운로드 시작..."),l(!0),console.log("📥 서버에서 최신 데이터 다운로드 중..."),console.log(`📡 API URL: ${Me}/api/unclassified`);const W=6e4,ee=new AbortController,G=setTimeout(()=>{console.warn("⏱️ 서버 다운로드 타임아웃 (60초) - 요청 중단"),ee.abort()},W);let ye;try{ye=await fetch(`${Me}/api/unclassified`,{signal:ee.signal,headers:{"Content-Type":"application/json"}}),clearTimeout(G)}catch(z){if(clearTimeout(G),l(!1),z.name==="AbortError"){const ae=`❌ 서버 연결 타임아웃 (60초)

서버가 응답하지 않습니다.

확인 사항:
1. 인터넷 연결 상태 확인
2. API 서버 상태 확인: ${Me}
3. 방화벽 또는 프록시 설정 확인`;throw alert(ae),new Error("서버 연결 타임아웃")}const le=`❌ 서버 연결 실패

오류: ${z.message||"알 수 없는 오류"}

API URL: ${Me}/api/unclassified`;throw alert(le),new Error(`서버 연결 실패: ${z.message||"알 수 없는 오류"}`)}if(!ye.ok){l(!1);const z=`❌ 서버 응답 실패

상태 코드: ${ye.status}
메시지: ${ye.statusText}

API URL: ${Me}/api/unclassified`;throw alert(z),new Error(`서버 응답 실패: ${ye.status} ${ye.statusText}`)}const pe=await ye.json();if(!pe.success||!pe.data){l(!1);const z=`❌ 서버 데이터 없음

서버 응답이 올바르지 않습니다.

응답: ${JSON.stringify(pe,null,2).substring(0,200)}`;throw alert(z),new Error("서버에서 데이터를 가져올 수 없습니다. 서버 응답이 올바르지 않습니다.")}const he=pe.data;console.log(`📥 서버에서 전체 데이터 다운로드: ${he.length}개 레코드`),console.log("🔄 서버 데이터 날짜별 선택적 교체 중...");const ge=[...new Set(he.map(z=>z.dayKeyLocal||z.collectionDate||z.uploadDate).filter(z=>z))];console.log(`📅 교체할 날짜들: ${ge.join(", ")}`);for(const z of ge){const le=he.filter(ae=>(ae.dayKeyLocal||ae.collectionDate||ae.uploadDate)===z);console.log(`🔄 ${z} 날짜 데이터 교체 중... (${le.length}개)`),await ln.replaceDataByDate(z,le),console.log(`✅ ${z} 날짜 데이터 교체 완료: ${le.length}개`)}console.log("📊 저장된 데이터 로드 중...");const xe=await ln.loadAllData();if(xe&&xe.length>0){const z=Ge(),le=xe.map(Q=>{const X=Q.category==="해외채널"?{...Q,category:"",subCategory:"",status:"unclassified"}:Q;return{...X,collectionDate:X.collectionDate||X.uploadDate||z,dayKeyLocal:X.dayKeyLocal||X.collectionDate||X.uploadDate}}),ae=Ki(le);s(ae);const te={};ae.forEach(Q=>{const X=Q.dayKeyLocal||Q.collectionDate||Q.uploadDate;(Q.collectionType||"manual")==="manual"&&X&&(te[X]||(te[X]={total:0,classified:0,progress:0}),te[X].total++,Q.status==="classified"&&te[X].classified++)}),Object.keys(te).forEach(Q=>{const X=te[Q];X.progress=X.total>0?Math.round(X.classified/X.total*100):0}),P(te),console.log("📊 서버 다운로드 후 dateStats 재계산 (수동수집만):",te)}alert(`📥 서버 데이터 다운로드 완료!

다운로드: ${he.length}개
로컬 IndexedDB가 서버 데이터로 업데이트되었습니다.`),window.location.reload()}catch(W){console.error("❌ 서버 다운로드 실패:",W);const ee=W instanceof Error?W.message:"알 수 없는 오류",G=ee.includes("타임아웃")||ee.includes("연결")?`❌ 서버 연결 실패

${ee}

확인 사항:
1. 인터넷 연결 상태 확인
2. API 서버 상태 확인 (${Me})
3. 방화벽 또는 프록시 설정 확인`:`❌ 다운로드 실패

${ee}`;alert(G)}finally{l(!1)}},J=async()=>{if(console.log("🔘 진행률 일괄 저장 버튼 클릭됨"),window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("❌ 백업 복원 중, 일괄 저장 차단"),alert("⚠️ 백업 복원 중입니다. 복원이 완료된 후 다시 시도해주세요.");return}console.log("✅ 진행률 일괄 저장 실행 가능, 시작합니다...");try{l(!0),console.log("💾 진행률 일괄 저장 시작...");const W=a,ee=await ot.loadUnclassifiedData(),G=[...W];if(ee&&ee.length>0){const z=new Set(W.map(ae=>ae.id)),le=ee.filter(ae=>!z.has(ae.id));G.push(...le)}const ye=Ge(),pe=[];for(let z=Et-1;z>=0;z--){const le=new Date(ye);le.setDate(le.getDate()-z),pe.push(le.toISOString().split("T")[0])}console.log(`📊 일괄저장 - 최근 ${Et}일간 날짜들:`,pe),console.log("📊 일괄저장 - 현재 UI 데이터:",W.length),console.log("📊 일괄저장 - 기존 데이터:",(ee==null?void 0:ee.length)||0),console.log("📊 일괄저장 - 전체 데이터 (백업 포함):",G.length),console.log("📊 일괄저장 - 전체 데이터 날짜 분포:",G.reduce((z,le)=>{const ae=le.dayKeyLocal||le.collectionDate||le.uploadDate;return z[ae]=(z[ae]||0)+1,z},{}));const he=[];pe.forEach(z=>{const le=G.filter(ae=>(ae.dayKeyLocal||ae.collectionDate||ae.uploadDate)===z);he.push(...le)});const ge=[...G];if(console.log("📊 병합 기준 데이터:",{currentUI:W.length,existing:(ee==null?void 0:ee.length)||0,merged:ge.length}),G.length>0){console.log("📊 전체 데이터 개수:",G.length,"개"),he.forEach(z=>{const le=ge.findIndex(ae=>ae.id===z.id);le>=0?(ge[le]={...ge[le],...z,category:z.category,subCategory:z.subCategory,status:z.status,classifiedAt:z.classifiedAt||new Date().toISOString()},console.log(`🔄 데이터 덮어쓰기: ${z.id} - 카테고리: ${z.category}, 상태: ${z.status}`)):ge.push(z)});try{console.log(`🔄 IndexedDB 최근 ${Et}일 데이터 날짜별 교체 시작: ${pe.join(", ")}`);let z=0;for(const te of pe){const Q=ge.filter(X=>(X.dayKeyLocal||X.collectionDate||X.uploadDate)===te);if(Q.length===0){console.log(`⏭️ IndexedDB ${te}: 데이터 없음, 스킵`);continue}console.log(`🔄 IndexedDB ${te} 데이터 교체 중... (${Q.length}개)`),await ln.replaceDataByDate(te,Q),console.log(`✅ IndexedDB ${te} 데이터 교체 완료: ${Q.length}개`),z+=Q.length}if(console.log(`✅ IndexedDB 전체 데이터 교체 완료: ${z}개 (${Et}일간)`),Me){console.log("🔄 서버 데이터 교체 저장 시작...");const te=Date.now(),Q=[...new Set(ge.map(Te=>Te.dayKeyLocal||Te.collectionDate||Te.uploadDate).filter(Boolean))],X=await fetch(`${Me}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:Q,data:ge})});if(X.ok){const Te=await X.json();console.log("✅ 서버 데이터 교체 저장 완료:",Te),console.log(`⏱️ 서버 데이터 교체 저장 소요 시간: ${Date.now()-te}ms`),Pt("서버 데이터가 최신 상태로 업데이트되었습니다.",{type:"success"})}else{const Te=await X.text();console.error(`❌ 서버 데이터 교체 저장 실패: ${X.status} - ${Te}`),Pt("서버 데이터 교체 저장에 실패했습니다. 로그를 확인하세요.",{type:"error"})}}if(Me){console.log("🔄 서버 분류 데이터 저장 시작...");const te=Date.now(),Q=await fetch(`${Me}/api/classified/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:he})});if(Q.ok){const X=await Q.json();console.log("✅ 서버 분류 데이터 저장 완료:",X),console.log(`⏱️ 서버 분류 데이터 저장 소요 시간: ${Date.now()-te}ms`)}else{const X=await Q.text();console.error(`❌ 서버 분류 데이터 저장 실패: ${Q.status} - ${X}`)}}if(console.log(`✅ IndexedDB 전체 데이터 교체 완료: ${z}개 (${Et}일간)`),Me&&ge.length>0){console.log(`🔄 서버 최근 ${Et}일 데이터 날짜별 교체 시작: ${pe.join(", ")}`);try{let te=0;for(const Q of pe){const X=ge.filter(Ie=>(Ie.dayKeyLocal||Ie.collectionDate||Ie.uploadDate)===Q);if(X.length===0){console.log(`⏭️ 서버 ${Q}: 데이터 없음, 스킵`);continue}console.log(`🔄 서버 ${Q} 데이터 교체 중... (${X.length}개)`);const Te=await fetch(`${Me}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:[Q],data:X})});if(!Te.ok)throw new Error(`서버 ${Q} 데이터 교체 실패: ${Te.status}`);const tt=await Te.json();console.log(`✅ 서버 ${Q} 데이터 교체 완료: ${tt.inserted||X.length}개`),te+=tt.inserted||X.length,Q!==pe[pe.length-1]&&await new Promise(Ie=>setTimeout(Ie,1e3))}console.log(`🎉 서버 전체 데이터 교체 완료: ${te}개 (${Et}일간)`)}catch(te){console.warn("⚠️ 날짜별 교체 실패, 기존 UPSERT 배치 방식으로 재시도...",te);const Q=500,X=Math.ceil(ge.length/Q);console.log(`📦 배치 업로드 시작: ${ge.length}개 → ${X}개 배치 (500개씩)`);for(let Te=0;Te<ge.length;Te+=Q){const tt=ge.slice(Te,Te+Q),Ie=Math.floor(Te/Q)+1;console.log(`📦 배치 ${Ie}/${X} 전송 중... (${tt.length}개)`);try{await Jo.saveUnclassifiedData(tt),console.log(`✅ 배치 ${Ie}/${X} 전송 완료`)}catch(pt){console.error(`❌ 배치 ${Ie} 전송 실패:`,pt)}Te+Q<ge.length&&await new Promise(pt=>setTimeout(pt,1e3))}console.log(`✅ 서버: 전체 데이터 배치 저장 완료 (${X}개 배치)`)}}const le=ge.filter(te=>te.collectionType==="auto"||te.collectionType===void 0).length,ae=ge.filter(te=>te.collectionType==="manual").length;if(console.log(`📊 데이터 분류: 수동수집 ${ae}개, 자동수집 ${le}개`),ae>0){console.log("🔄 [수동수집] 즉시 서버 재조회 시작...");try{const te=await ot.getClassifiedData();console.log(`📊 [수동수집] 서버 재조회 결과: ${te.length}개 데이터`),te.length>0&&(await ve.saveClassifiedData(te),console.log("✅ [수동수집] IndexedDB 덮어쓰기 완료 (서버 데이터 기준)"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"manualSync",timestamp:Date.now(),count:te.length}}))),Pt(`수동수집 데이터 저장 완료! (${ae.toLocaleString()}개)`,{type:"success",duration:3e3})}catch(te){console.warn("⚠️ [수동수집] 서버 재조회 실패 (저장은 완료됨):",te),Pt("수동수집 저장 완료! 서버 동기화는 5분 후 자동으로 재시도됩니다.",{type:"info",duration:4e3}),setTimeout(async()=>{const Q=performance.now();console.log("🔄 [수동수집-Retry] 백그라운드 재조회 재시도 시작 (5분 경과)");try{const X=await vd({scope:"classified"}),Te=Math.round(performance.now()-Q);X.success?(console.log(`✅ [수동수집-Retry] 성공 | 건수: ${X.count.toLocaleString()} | 소요: ${Te}ms | 소스: ${X.source}`),Pt("수동수집 백그라운드 동기화 완료!",{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:X.count}}))):console.warn(`⚠️ [수동수집-Retry] 재시도 실패 | 소스: ${X.source} | 소요: ${Te}ms`)}catch(X){const Te=Math.round(performance.now()-Q);console.error(`❌ [수동수집-Retry] 최종 실패 | 소요: ${Te}ms | 오류:`,X)}},5*60*1e3)}}if(le>0)if(le<1e4){console.log("🔄 [자동수집-소량] 즉시 서버 재조회 시작...");try{const te=await ot.getClassifiedData();console.log(`📊 [자동수집-소량] 서버 재조회 결과: ${te.length}개 데이터`),te.length>0&&(await ve.saveClassifiedData(te),console.log("✅ [자동수집-소량] IndexedDB 덮어쓰기 완료 (서버 데이터 기준)"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"autoSync",timestamp:Date.now(),count:te.length}}))),Pt(`자동수집 데이터 저장 완료! (${le.toLocaleString()}개)`,{type:"success",duration:3e3})}catch(te){console.warn("⚠️ [자동수집-소량] 서버 재조회 실패 (저장은 완료됨):",te),Pt("자동수집 저장 완료! 서버 동기화는 5분 후 자동으로 재시도됩니다.",{type:"info",duration:4e3}),setTimeout(async()=>{const Q=performance.now();console.log("🔄 [자동수집-소량-Retry] 백그라운드 재조회 재시도 시작 (5분 경과)");try{const X=await vd({scope:"classified"}),Te=Math.round(performance.now()-Q);X.success?(console.log(`✅ [자동수집-소량-Retry] 성공 | 건수: ${X.count.toLocaleString()} | 소요: ${Te}ms | 소스: ${X.source}`),Pt("자동수집 백그라운드 동기화 완료!",{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:X.count}}))):console.warn(`⚠️ [자동수집-소량-Retry] 재시도 실패 | 소스: ${X.source} | 소요: ${Te}ms`)}catch(X){const Te=Math.round(performance.now()-Q);console.error(`❌ [자동수집-소량-Retry] 최종 실패 | 소요: ${Te}ms | 오류:`,X)}},5*60*1e3)}}else console.log("📊 [자동수집-대용량] 백그라운드 동기화 예약"),Pt(`자동수집 저장 완료! (${le.toLocaleString()}개) 백그라운드 동기화는 10분 후 자동 실행됩니다.`,{type:"success",duration:5e3}),setTimeout(async()=>{const te=performance.now();console.log("🔄 [자동수집-대용량] 백그라운드 동기화 시작 (10분 경과)");try{const Q=await vd({scope:"classified"}),X=Math.round(performance.now()-te);Q.success?(console.log(`✅ [자동수집-대용량] 성공 | 건수: ${Q.count.toLocaleString()} | 소요: ${X}ms | 소스: ${Q.source}`),Pt(`자동수집 대용량 백그라운드 동기화 완료! (${Q.count.toLocaleString()}개)`,{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:Q.count}}))):console.warn(`⚠️ [자동수집-대용량] 실패 | 소스: ${Q.source} | 소요: ${X}ms`)}catch(Q){const X=Math.round(performance.now()-te);console.error(`❌ [자동수집-대용량] 최종 실패 | 소요: ${X}ms | 오류:`,Q)}},10*60*1e3)}catch(z){throw console.error("❌ 데이터 저장 실패:",z),new Error(`데이터 저장 실패: ${z instanceof Error?z.message:"알 수 없는 오류"}`)}}else console.log("⚠️ 저장할 데이터가 없습니다.");const xe=pe.map(z=>{const le=G.filter(X=>(X.dayKeyLocal||X.collectionDate||X.uploadDate)===z),ae=le.length,te=le.filter(X=>X.status==="classified").length,Q=ae>0?te/ae*100:0;return{date:z,total:ae,classified:te,unclassified:ae-te,progress:Math.round(Q),timestamp:new Date().toISOString()}});try{await ot.saveDailyProgress(xe),console.log("✅ IndexedDB: 진행률 데이터 저장 완료")}catch(z){throw console.error("❌ 진행률 데이터 저장 실패:",z),new Error(`진행률 데이터 저장 실패: ${z instanceof Error?z.message:"알 수 없는 오류"}`)}try{console.log("📊 dailySummary 생성 시작...");for(const z of xe){const le=z.date;console.log(`📊 ${le} 날짜 dailySummary 생성 중...`);const ae=ge.filter(X=>{const Te=X.dayKeyLocal||X.collectionDate||X.uploadDate;return Te&&Te.split("T")[0]===le});console.log(`📊 ${le} 날짜 데이터: ${ae.length}개`);const te={date:le,categories:{}};[...new Set(ae.map(X=>X.category).filter(Boolean))].forEach(X=>{te.categories[X]={totalViews:0,count:0,channelCount:0,channels:new Set}}),ae.forEach(X=>{X.category&&(te.categories[X.category]||(te.categories[X.category]={totalViews:0,count:0,channelCount:0,channels:new Set}),te.categories[X.category].totalViews+=X.viewCount||0,te.categories[X.category].count+=1,te.categories[X.category].channels.add(X.channelName))}),Object.keys(te.categories).forEach(X=>{te.categories[X].channels=Array.from(te.categories[X].channels),te.categories[X].channelCount=te.categories[X].channels.length}),await ve.saveDailySummary(le,te),console.log(`✅ ${le} 날짜 dailySummary 저장 완료:`,Object.keys(te.categories).length,"개 카테고리")}console.log("✅ 모든 날짜 dailySummary 생성 및 저장 완료")}catch(z){console.error("❌ dailySummary 생성 실패:",z)}if(ge.length>0){s(ge);const z={};ge.forEach(le=>{const ae=le.dayKeyLocal||le.collectionDate||le.uploadDate;ae&&(z[ae]||(z[ae]={total:0,classified:0,progress:0}),z[ae].total++,le.status==="classified"&&z[ae].classified++)}),Object.keys(z).forEach(le=>{const ae=z[le];ae.progress=ae.total>0?Math.round(ae.classified/ae.total*100):0}),P(z),console.log("📊 로컬 상태 업데이트 완료:",z)}console.log("✅ 진행률 일괄 저장 완료 (IndexedDB), 백업 데이터 보존하며 로컬 상태 업데이트"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"bulkSaveProgress",timestamp:Date.now()}})),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:ye}})),alert(`✅ 최근 ${Et}일간의 분류 진행률과 ${G.length.toLocaleString()}개의 데이터가 저장되었습니다.

📊 IndexedDB에 저장되었습니다.

🔄 모든 페이지가 자동으로 업데이트됩니다.`)}catch(W){console.error("진행률 저장 실패:",W),console.error("오류 상세:",W);const ee=W instanceof Error?W.message:"알 수 없는 오류";alert(`❌ 진행률 저장에 실패했습니다.

오류: ${ee}

콘솔을 확인하여 자세한 정보를 확인하세요.`)}finally{l(!1)}},U=async W=>{try{const ee=a.filter(z=>(z.dayKeyLocal||z.collectionDate||z.uploadDate)===W);if(ee.length===0){alert("해당 날짜에 데이터가 없습니다.");return}const G={date:W,totalCount:ee.length,classifiedCount:ee.filter(z=>z.status==="classified").length,unclassifiedCount:ee.filter(z=>z.status==="unclassified").length,data:ee,backupTimestamp:new Date().toISOString(),version:"1.0"},ye=`youtubepulse_backup_${W}.json`,pe=new Blob([JSON.stringify(G,null,2)],{type:"application/json"});let he=!1;sn&&(he=await _(ye,pe)),he||M(ye,pe);const xe=he?`✅ ${W} 날짜 데이터가 백업 폴더(${p||Ra})에 저장되었습니다.`:`✅ ${W} 날짜 데이터 백업이 완료되었습니다. 다운로드 폴더를 확인해주세요.`;alert(xe)}catch(ee){console.error("백업 다운로드 실패:",ee),alert("❌ 백업 다운로드에 실패했습니다.")}},se=async()=>{try{const W={exportDate:new Date().toISOString(),version:"2.0",backupType:"hybrid",summary:(()=>{const ge=new Map;[...a].sort((le,ae)=>(ae.viewCount||0)-(le.viewCount||0)).forEach(le=>{const ae=le.dayKeyLocal||le.collectionDate||le.uploadDate;if(!ae)return;const Q=`${le.dayKeyLocal?le.dayKeyLocal.replace(/-$/,""):ae.split("T")[0]}_${le.videoId}`;ge.has(Q)||ge.set(Q,le)});const z=Array.from(ge.values());return{totalVideos:z.length,classifiedVideos:z.filter(le=>le.status==="classified").length,unclassifiedVideos:z.filter(le=>le.status==="unclassified").length,manualCollected:z.filter(le=>le.collectionType==="manual").length,autoCollected:z.filter(le=>le.collectionType==="auto"||le.collectionType===void 0).length}})(),dailyData:D.slice(0,14).map(ge=>{const xe=a.filter(Ie=>(Ie.dayKeyLocal||Ie.collectionDate||Ie.uploadDate)===ge),z=new Map;[...xe].sort((Ie,pt)=>(pt.viewCount||0)-(Ie.viewCount||0)).forEach(Ie=>{const pt=`${ge}_${Ie.videoId}`;z.has(pt)||z.set(pt,Ie)});const ae=Array.from(z.values()),te=ae.filter(Ie=>Ie.collectionType==="manual"),Q=ae.filter(Ie=>Ie.collectionType==="auto"||Ie.collectionType===void 0),X=ae.length,Te=ae.filter(Ie=>Ie.status==="classified").length,tt=X>0?Te/X*100:0;return{date:ge,total:X,classified:Te,unclassified:X-Te,progress:Math.round(tt),manualCollected:te.length,manualClassified:te.filter(Ie=>Ie.status==="classified").length,autoCollected:Q.length,autoClassified:Q.filter(Ie=>Ie.status==="classified").length,data:xe}}),allData:a,hybridConfig:{useApiServer:!0,fallbackToLocal:!0,syncEnabled:!0}},ee=`youtubepulse_full_backup_${Ge()}.json`,G=new Blob([JSON.stringify(W,null,2)],{type:"application/json"});let ye=!1;sn&&(ye=await _(ee,G)),ye||M(ee,G);const he=ye?`✅ 전체 데이터 백업이 백업 폴더(${p||Ra})에 저장되었습니다.`:"✅ 전체 데이터 백업이 완료되었습니다.";alert(he)}catch(W){console.error("전체 백업 실패:",W),alert("❌ 전체 백업에 실패했습니다.")}},Ee=async W=>{const ee=W>=1e4?`${(W/1e4).toFixed(0)}만`:`${W}`;if(confirm(`⚠️ 조회수 ${ee} 미만 영상을 삭제하시겠습니까?

삭제 후 복구할 수 없습니다!`))try{l(!0);const G=await ot.loadUnclassifiedData(),ye=G.filter(ge=>ge.viewCount>=W),pe=G.length-ye.length;if(pe===0){alert(`조회수 ${ee} 미만 영상이 없습니다.`),l(!1);return}await ve.replaceAllUnclassifiedData(ye),console.log(`✅ 조회수 ${ee} 미만 ${pe}개 영상 삭제 완료`),s(ye);const he={};ye.forEach(ge=>{const xe=ge.dayKeyLocal||ge.collectionDate||ge.uploadDate;xe&&(he[xe]||(he[xe]={total:0,classified:0,progress:0}),he[xe].total++,ge.status==="classified"&&he[xe].classified++)}),Object.keys(he).forEach(ge=>{const xe=he[ge];xe.progress=xe.total>0?Math.round(xe.classified/xe.total*100):0}),P(he),alert(`✅ 조회수 기준 삭제 완료!

🗑️ 삭제된 영상: ${pe}개
✅ 남은 영상: ${ye.length}개

완료되었습니다.`),console.log("✅ 조회수 기준 삭제 완료 - 상태 업데이트됨")}catch(G){console.error("조회수 기준 삭제 실패:",G),alert("❌ 조회수 기준 삭제에 실패했습니다.")}finally{l(!1)}},Be=async()=>{try{l(!0),console.log("🔄 IndexedDB 동기화 시작...");const W=await jZ();if(!W.needed){alert(`✅ 동기화 불필요

이유: ${W.reason}
마지막 동기화: ${new Date(W.lastSync).toLocaleString("ko-KR")}`);return}const ee=await xZ(Me,"overwrite");if(!ee.success)throw new Error(ee.error||"동기화 실패");const G={};ee.mergedDays.forEach(he=>{G[he.dayKey]={total:he.total,classified:he.done,progress:he.total>0?Math.round(he.done/he.total*100):0}}),P(G),console.log("📊 동기화된 dateStats:",G);const ye=await ot.loadUnclassifiedData();if(ye&&ye.length>0){const he=Ge(),ge=ye.map(xe=>{const z=xe.category==="해외채널"?{...xe,category:"",subCategory:"",status:"unclassified"}:xe;return{...z,collectionDate:z.collectionDate||he}});s(ge)}let pe="";ee.conflicts.length>0&&(pe=`
⚠️ 해결된 충돌: ${ee.conflicts.length}개`,ee.conflicts.forEach(he=>{console.log(`동기화 충돌 해결: ${he.dayKey} → ${he.resolution}`)})),alert(`✅ IndexedDB 동기화 완료!

📊 총 일자: ${ee.mergedDays.length}개
📤 업로드: ${ee.stats.uploaded}개
📥 다운로드: ${ee.stats.downloaded}개
🔄 병합: ${ee.stats.conflicts}개
⏰ 동기화 시간: ${new Date(ee.status.lastSync).toLocaleString("ko-KR")}`+pe),console.log("✅ IndexedDB 동기화 완료")}catch(W){console.error("IndexedDB 동기화 실패:",W),alert("❌ IndexedDB 동기화에 실패했습니다.")}finally{l(!1)}},de=async()=>{var W,ee;try{l(!0),console.log("🗑️ 일자별 중복 제거 시작...");const pe=(await new Promise((ae,te)=>{const Q=indexedDB.open("YouTubePulseDB",2);Q.onerror=()=>te(Q.error),Q.onsuccess=()=>ae(Q.result)})).transaction(["unclassifiedData"],"readwrite").objectStore("unclassifiedData"),he=await new Promise((ae,te)=>{const Q=pe.getAll();Q.onerror=()=>te(Q.error),Q.onsuccess=()=>ae(Q.result)});console.log(`📊 전체 데이터: ${he.length}개 항목`);const ge=new Map;for(const ae of he){const te=ae.dayKeyLocal||ae.collectionDate||"unknown";ge.has(te)||ge.set(te,[]),ge.get(te).push(ae)}console.log(`📅 일자별 그룹: ${ge.size}개`);let xe=0;const z=[];for(const[ae,te]of ge){console.log(`
📅 처리 중: ${ae} (${te.length}개 항목)`);const Q=new Map;for(const tt of te){const Ie=tt.videoTitle||tt.video_title||"Unknown Title";Q.has(Ie)||Q.set(Ie,[]),Q.get(Ie).push(tt)}let X=0;const Te=[];for(const[tt,Ie]of Q)if(Ie.length>1){console.log(`  🎬 "${tt}" - ${Ie.length}개 중복 발견`),Ie.sort((or,Cn)=>(Cn.viewCount||0)-(or.viewCount||0));const pt=Ie[0],Wr=Ie.slice(1);console.log(`    ✅ 유지: ${pt.viewCount||0} 조회수`),console.log(`    🗑️ 삭제: ${Wr.length}개 항목`);for(const or of Wr)await new Promise((Cn,Ue)=>{const Ye=pe.delete(or.id);Ye.onerror=()=>Ue(Ye.error),Ye.onsuccess=()=>Cn(Ye.result)});X+=Wr.length,Te.push({title:tt,kept:1,removed:Wr.length,maxViews:pt.viewCount||0})}xe+=X,z.push({date:ae,totalItems:te.length,removed:X,remaining:te.length-X,details:Te}),console.log(`  📊 ${ae}: ${X}개 제거, ${te.length-X}개 유지`)}console.log(`
🎉 일자별 중복 영상 제거 완료!`),console.log(`📊 총 제거: ${xe}개 항목`),console.log(`📊 남은 항목: ${he.length-xe}개 항목`);let le=`🎉 일자별 중복 영상 제거 완료!

`;le+=`📊 총 제거: ${xe}개 항목
`,le+=`📊 남은 항목: ${he.length-xe}개 항목

`,le+=`📋 일자별 결과:
`,z.forEach(ae=>{ae.removed>0&&(le+=`  📅 ${ae.date}: ${ae.removed}개 제거
`,ae.details.forEach(te=>{le+=`    🎬 "${te.title}": ${te.removed}개 제거, ${te.maxViews} 조회수 유지
`}))}),alert(le);try{console.log("🔄 서버 중복 정리 시작...");const ae=await fetch(`${Me}/api/cleanup-duplicates`,{method:"POST",headers:{"Content-Type":"application/json"}});if(ae.ok){const te=await ae.json();console.log("✅ 서버 중복 정리 완료:",te);const Q=`
🔄 서버 중복 정리 결과:
`,X=`📊 서버: ${((W=te.stats)==null?void 0:W.removed)||0}개 제거, ${((ee=te.stats)==null?void 0:ee.remaining)||0}개 유지
`;alert(le+Q+X)}else console.log("⚠️ 서버 중복 정리 실패 (계속 진행)"),alert(le+`

⚠️ 서버 중복 정리는 실패했지만 로컬 정리는 완료되었습니다.`)}catch(ae){console.log("⚠️ 서버 중복 정리 오류:",ae),alert(le+`

⚠️ 서버 중복 정리는 실패했지만 로컬 정리는 완료되었습니다.`)}window.location.reload()}catch(G){console.error("❌ 일자별 중복 제거 실패:",G),alert("❌ 일자별 중복 제거에 실패했습니다: "+G.message)}finally{l(!1)}},V=async W=>{try{if(l(!0),console.log("🔄 IndexedDB 자동 수집 데이터 처리 시작..."),W==="download"){const G=await(await fetch(`${Me}/api/auto-collected`)).json();if(!G.success||!G.data||G.data.length===0){alert("자동 수집된 데이터가 없습니다."),l(!1);return}const ye=G.data[0],pe=ye.data,he=new Date(ye.collectedAt).toLocaleString("ko-KR");console.log(`📥 자동 수집 데이터: ${pe.length}개 (수집 시간: ${he})`);const ge=new Blob([JSON.stringify(pe,null,2)],{type:"application/json"}),xe=URL.createObjectURL(ge),z=document.createElement("a");z.href=xe,z.download=`auto-collected-${Ge()}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(xe),alert(`✅ 자동 수집 데이터 다운로드 완료!

수집 시간: ${he}
데이터: ${pe.length}개`)}else if(W==="merge"){const ee=await Ui("union");console.log("📊 자동 수집 병합 결과:",ee.stats);const G={};ee.mergedDays.forEach(he=>{G[he.dayKey]={total:he.total,classified:he.done,progress:he.total>0?Math.round(he.done/he.total*100):0}}),P(G),console.log("📊 자동 수집 병합된 dateStats:",G);const ye=await ot.loadUnclassifiedData();if(ye&&ye.length>0){const he=Ge(),ge=ye.map(xe=>{const z=xe.category==="해외채널"?{...xe,category:"",subCategory:"",status:"unclassified"}:xe;return{...z,collectionDate:z.collectionDate||he}});s(ge)}let pe="";ee.conflicts.length>0&&(pe=`
⚠️ 해결된 충돌: ${ee.conflicts.length}개`,ee.conflicts.forEach(he=>{console.log(`자동 수집 충돌 해결: ${he.dayKey} → ${he.resolution}`)})),alert(`✅ IndexedDB 자동 수집 데이터 병합 완료!

📊 총 일자: ${ee.mergedDays.length}개
🔄 병합된 일자: ${ee.stats.mergedDays}개
📈 서버 데이터: ${ee.stats.serverDays}개
💾 로컬 데이터: ${ee.stats.localDays}개
⚠️ 충돌: ${ee.stats.conflicts}개${pe}`)}}catch(ee){console.error("IndexedDB 자동 수집 데이터 처리 실패:",ee),alert("❌ IndexedDB 자동 수집 데이터 처리에 실패했습니다.")}finally{l(!1)}},L=E.useMemo(()=>D.slice(0,Et),[D]),k=7,H=E.useMemo(()=>L.slice(0,k),[L]),K=L.reduce((W,ee)=>{const G=$[ee];return{total:W.total+((G==null?void 0:G.total)??0),classified:W.classified+((G==null?void 0:G.classified)??0)}},{total:0,classified:0}),ue=L.reduce((W,ee)=>{const G=c[ee];return{total:W.total+((G==null?void 0:G.total)??0),classified:W.classified+((G==null?void 0:G.classified)??0)}},{total:0,classified:0}),fe=K.total+ue.total,Se=K.classified+ue.classified,ie=Math.max(fe-Se,0),je=fe>0?Math.round(Se/fe*100):0,oe=K.total>0?Math.round(K.classified/K.total*100):0,we=ue.total>0?Math.round(ue.classified/ue.total*100):0,Z=L.length>0?L[L.length-1]:void 0,me=L.length>0?L[0]:void 0,De=E.useMemo(()=>H.map(W=>{const ee=$[W]||{total:0,classified:0,progress:0},G=c[W]||{total:0,classified:0,progress:0},ye=G.total>0?Math.round(G.classified/G.total*100):0,pe={total:ee.total+G.total,classified:ee.classified+G.classified,progress:ee.total+G.total>0?Math.round((ee.classified+G.classified)/(ee.total+G.total)*100):0};return{date:W,manualStats:ee,autoStats:G,autoProgress:ye,totalStats:pe}}),[H,$,c]),Je=W=>{if(!W)return"날짜 없음";try{return new Date(`${W}T00:00:00+09:00`).toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"})}catch{return W}};return i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx(Qn,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"데이터를 로드하는 중입니다..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(el,{className:"w-7 h-7 text-primary"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"YouTubePulse"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[f&&o.jsxs(q,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(Ir,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(q,{variant:"outline",onClick:x,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold text-foreground",children:[Et,"일 데이터 관리"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["최근 ",Et,"일 데이터를 관리하고, 아래 표에는 최신 ",H.length,"일을 요약해 제공합니다."]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["💡 세부카테고리는 ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"src/lib/subcategories.ts"}),"에서 관리합니다."]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(In,{className:"w-4 h-4"}),o.jsxs("span",{children:["기간:"," ",Z&&me?`${Z} ~ ${me} (최근 ${L.length}일)`:"데이터 없음"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체 영상"}),o.jsx("p",{className:"text-2xl font-bold mt-2",children:fe.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"수동 + 자동"})]}),o.jsx(el,{className:"w-8 h-8 text-primary/60"})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"분류 완료"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:Se.toLocaleString()}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["진행률 ",je,"%"]})]}),o.jsx(oa,{className:"w-8 h-8 text-green-500/70"})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"미분류"}),o.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:ie.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"수동 + 자동"})]}),o.jsx(Zi,{className:"w-8 h-8 text-red-500/70"})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"수동 진행률"}),o.jsxs(Ve,{variant:"outline",children:[oe,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"자동 진행률"}),o.jsxs(Ve,{variant:"outline",children:[we,"%"]})]}),o.jsxs(q,{variant:"outline",className:"w-full",onClick:()=>V("merge"),children:[o.jsx(Qn,{className:"w-4 h-4 mr-2"}),"자동수집 동기화"]})]})})]}),o.jsxs(Ne,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Qo,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"일별 분류 진행"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:J,disabled:!1,children:[o.jsx(VA,{className:"w-4 h-4 mr-2"}),"진행률 일괄 저장"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:re,children:[o.jsx(Qn,{className:"w-4 h-4 mr-2"}),"서버 데이터 다운로드"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:se,children:[o.jsx(vh,{className:"w-4 h-4 mr-2"}),"데이터 저장하기"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:async()=>{try{await Y(),Pt("데이터를 최신 상태로 불러왔습니다.","success")}catch(W){console.error("데이터 불러오기 실패:",W),Pt("데이터 불러오기에 실패했습니다.","error")}},children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"데이터 불러오기"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:de,children:[o.jsx(jd,{className:"w-4 h-4 mr-2"}),"일자별 중복 제거"]}),o.jsxs(Fd,{children:[o.jsx(Ud,{asChild:!0,children:o.jsxs(q,{variant:"outline",size:"sm",children:[o.jsx(jd,{className:"w-4 h-4 mr-2"}),"조회수 필터"]})}),o.jsxs(ll,{align:"end",children:[o.jsx(Jt,{onClick:()=>Ee(5e4),children:"조회수 5만 미만 삭제"}),o.jsx(Jt,{onClick:()=>Ee(1e5),children:"조회수 10만 미만 삭제"})]})]}),o.jsxs(Fd,{children:[o.jsx(Ud,{asChild:!0,children:o.jsxs(q,{variant:"outline",size:"sm",children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"데이터 백업"]})}),o.jsxs(ll,{align:"end",children:[o.jsx(Jt,{onClick:O,disabled:!sn,children:"백업 폴더 설정"}),o.jsx(Jt,{onClick:F,children:"백업 폴더 삭제"}),o.jsx(fj,{}),me&&o.jsx(Jt,{onClick:()=>U(me),children:"오늘 데이터 저장하기"}),o.jsx(Jt,{onClick:se,children:"데이터 저장하기"})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-3",children:De.map(({date:W,manualStats:ee,autoStats:G,autoProgress:ye,totalStats:pe})=>{const he=ee.total===0,ge=G.total===0,xe=pe.total===0;return o.jsxs("div",{className:"border rounded-xl p-3 space-y-3 bg-card",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:Je(W)}),o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>U(W),title:`${W} 데이터 백업 다운로드`,children:o.jsx(zA,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["총 ",pe.total.toLocaleString(),"개 중"," ",pe.classified.toLocaleString(),"개 완료"]}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsx("div",{className:"font-medium text-primary",children:"수동수집"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-primary/10",children:o.jsx("div",{className:"h-2 rounded-full bg-primary transition-all",style:{width:`${Math.min(ee.progress??0,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[ee.classified.toLocaleString()," /"," ",ee.total.toLocaleString()," 완료"]}),o.jsxs(q,{variant:"outline",size:"sm",className:"w-full",disabled:he,onClick:()=>I(W,"manual"),children:[o.jsx(Qo,{className:"w-4 h-4 mr-1"}),"상세보기"]}),o.jsx("div",{className:"font-medium text-green-600 pt-2",children:"자동수집"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-green-100/80",children:o.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all",style:{width:`${Math.min(ye,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[G.classified.toLocaleString()," / ",G.total.toLocaleString()," 완료"]}),o.jsxs(q,{variant:"outline",size:"sm",className:"w-full",disabled:ge,onClick:()=>I(W,"auto"),children:[o.jsx(Qo,{className:"w-4 h-4 mr-1"}),"상세보기"]}),o.jsx("div",{className:"font-medium text-purple-600 pt-2",children:"합계"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-purple-100/80",children:o.jsx("div",{className:"h-2 rounded-full bg-purple-500 transition-all",style:{width:`${Math.min(pe.progress??0,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[pe.classified.toLocaleString()," /"," ",pe.total.toLocaleString()," 완료"]}),o.jsxs(q,{variant:"outline",size:"sm",className:"w-full",disabled:xe,onClick:()=>I(W,"total"),children:[o.jsx(Qo,{className:"w-4 h-4 mr-1"}),"상세보기"]})]})]},W)})})})]}),o.jsxs(Ne,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kr,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"데이터 관리"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"보관 기간"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["서버와 클라이언트 모두 최근 ",Et,"일 데이터를 유지합니다."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"자동 정리"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"매일 새벽 1시(KST)에 로컬 IndexedDB와 서버에서 오래된 데이터가 정리됩니다."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"추가 작업"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>V("download"),children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"자동수집 JSON"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:Be,children:[o.jsx(Qn,{className:"w-4 h-4 mr-2"}),"전체 동기화"]})]})]})]})]})]})]})},NZ=()=>{const[e]=Gx(),t=Xt(),{logout:r,userEmail:n,userRole:a}=Br(),s=a==="admin",i=e.get("date")||new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),l=e.get("type"),[c,u]=v.useState([]),[f,d]=v.useState(!0),[h,p]=v.useState(""),[y,m]=v.useState("all"),[g,x]=v.useState(1),[j]=v.useState(20),[w,S]=v.useState(new Set),[b,N]=v.useState(null),A=qt,[C,D]=v.useState(!1),[R,$]=v.useState(""),[P,B]=v.useState(""),T=v.useMemo(()=>Object.keys(A),[A]),_=v.useMemo(()=>R?A[R]||[]:[],[R,A]),M=()=>{r(),t("/")};E.useEffect(()=>{!s&&a&&(console.log("❌ 관리자 권한 없음 - 대시보드로 리다이렉트"),alert("⚠️ 관리자만 접근 가능한 페이지입니다."),t("/dashboard"))},[s,a,t]),E.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",qt)},[]),E.useEffect(()=>{(async()=>{const L=setTimeout(()=>{console.warn("⏰ 강제 타임아웃 (15초) - 로딩 상태 강제 해제"),d(!1)},15e3);try{d(!0);let k=[],H="none";if(console.log("📅 날짜별 데이터 로드 시작:",i),Me)try{if(l==="auto"){console.log("📊 자동수집 데이터 - 전용 API 사용...");const oe=new AbortController,we=setTimeout(()=>oe.abort(),1e4);try{const Z=await fetch(`${Me}/api/auto-collected`,{signal:oe.signal});if(clearTimeout(we),Z.ok){const me=await Z.json();me.success&&me.data&&me.data.length>0&&(k=me.data.filter(De=>{const Je=De.collectionDate||De.dayKeyLocal||De.uploadDate;return(Je?Je.split("T")[0]:"")===i}),H="server-auto",console.log(`✅ 서버에서 자동수집 데이터 로드 (${i}):`,k.length,"개"))}}catch(Z){clearTimeout(we),Z.name!=="AbortError"&&console.warn("⚠️ 자동수집 API 호출 실패:",Z.message)}}else if(l==="manual"){console.log("📊 수동수집 데이터 - classified API 사용...");const oe=new AbortController,we=setTimeout(()=>oe.abort(),1e4);try{const Z=await fetch(`${Me}/api/classified?date=${i}`,{signal:oe.signal});if(clearTimeout(we),Z.ok){const me=await Z.json();me.success&&me.data&&me.data.length>0&&(k=me.data,H="server-manual",console.log("✅ 서버에서 수동수집 데이터 로드:",k.length,"개"))}}catch(Z){clearTimeout(we),Z.name!=="AbortError"&&console.warn("⚠️ 수동수집 API 호출 실패:",Z.message)}}else if(l==="total"){console.log("📊 전체 데이터 - unclassified_data 테이블 사용...");const oe=new AbortController,we=setTimeout(()=>oe.abort(),1e4);try{const Z=await fetch(`${Me}/api/unclassified-by-date?date=${i}`,{signal:oe.signal});if(clearTimeout(we),Z.ok){const me=await Z.json();me.success&&me.data&&me.data.length>0&&(k=me.data,H="server-total",console.log("✅ 서버에서 전체 데이터 로드 (수동+자동):",k.length,"개"))}}catch(Z){clearTimeout(we),Z.name!=="AbortError"&&console.warn("⚠️ 전체 데이터 API 호출 실패:",Z.message)}}}catch(oe){console.warn("⚠️ 서버 로드 실패:",oe)}else console.warn("⚠️ API_BASE_URL 미설정 - 서버 데이터를 요청할 수 없습니다.");if(k.length===0)try{console.log("📊 서버에 데이터 없음, IndexedDB에서 시도...");const oe=await ve.loadUnclassifiedData();l==="auto"?(k=oe.filter(we=>we.collectionType==="auto"),console.log(`✅ IndexedDB에서 자동수집 데이터만 로드: ${k.length}개 (전체: ${oe.length}개)`)):l==="manual"?(k=oe.filter(we=>!we.collectionType||we.collectionType==="manual"),console.log(`✅ IndexedDB에서 수동수집 데이터만 로드: ${k.length}개 (전체: ${oe.length}개)`)):(k=oe,console.log("✅ IndexedDB에서 전체 데이터 로드:",k.length,"개")),H="indexeddb"}catch(oe){console.error("❌ IndexedDB 로드 실패:",oe),k=[],H="none"}console.log(`📊 데이터 소스: ${H}, 로드된 데이터: ${k.length}개`);const K=k.filter(oe=>{if(oe.dayKeyLocal&&oe.dayKeyLocal.replace(/-$/,"")===i||oe.collectionDate&&oe.collectionDate.split("T")[0]===i||oe.uploadDate&&oe.uploadDate.split("T")[0]===i||oe.publishedAt&&oe.publishedAt.startsWith(i))return!0;if(oe.id&&typeof oe.id=="string"){const we=parseInt(oe.id.split("_")[0]);if(!isNaN(we)){const Z=new Date(we).toISOString().split("T")[0];if(Z===i)return console.log("✅ ID 타임스탬프 매치:",Z),!0}}return!1});let ue=K;if(l&&(l==="manual"?ue=K.filter(oe=>!oe.collectionType||oe.collectionType==="manual"):l==="auto"&&(ue=K.filter(oe=>oe.collectionType==="auto")),l==="auto")){const oe=ue.filter(me=>me.collectionType==="auto").length,we=ue.filter(me=>me.collectionType===void 0).length,Z=ue.filter(me=>me.collectionType==="manual").length;console.log("📊 자동수집 필터링 결과 분석:",{auto:oe,undefined:we,manual:Z,total:ue.length})}console.log("📊 필터링된 데이터 개수:",ue.length);const fe=ue.sort((oe,we)=>(we.viewCount||0)-(oe.viewCount||0)),Se=new Map;fe.forEach(oe=>{const we=`${i}_${oe.videoId}`;Se.has(we)||Se.set(we,oe)});const ie=Array.from(Se.values());console.log(`📊 ${i} 중복 제거 완료: ${ie.length}개 (제거: ${ue.length-ie.length}개)`);const je=ie.map(oe=>({...oe,channelName:oe.channelName||"N/A",videoTitle:oe.videoTitle||"N/A",description:oe.description||"N/A",videoDescription:oe.videoDescription||"N/A",viewCount:oe.viewCount||0,category:oe.category||"",subCategory:oe.subCategory||"",status:oe.status||"unclassified"}));console.log(`📊 ${i} 날짜 데이터: ${je.length}개`),u(je)}catch(k){console.error("데이터 로드 실패:",k),u([])}finally{clearTimeout(L),d(!1)}})()},[i,l]);let O=c.filter(V=>{const L=(V.channelName||"").toLowerCase().includes(h.toLowerCase())||(V.videoTitle||"").toLowerCase().includes(h.toLowerCase());let k=!1;if(y==="all")k=!0;else if(y==="priority"){const H={};c.forEach(ue=>{H[ue.channelName]||(H[ue.channelName]=[]),H[ue.channelName].push(ue)}),k=(H[V.channelName]||[]).length>1&&(V.status==="unclassified"||V.status==="pending")}else y==="unclassified"?k=V.status==="unclassified"||V.status==="pending"||!V.category||V.category===""||!V.subCategory||V.subCategory==="":k=V.status===y;return L&&k});if(y==="priority"||y==="classified"||y==="unclassified"){const V={};O.forEach(k=>{V[k.channelName]||(V[k.channelName]=[]),V[k.channelName].push(k)}),O=Object.keys(V).sort((k,H)=>V[H].length-V[k].length).flatMap(k=>V[k])}const F=Math.ceil(O.length/j),I=(g-1)*j,Y=I+j,re=O.slice(I,Y),J=v.useCallback((V,L)=>{u(k=>k.map(H=>H.id===V?{...H,...L}:H))},[]),U=(V,L)=>{S(k=>{const H=new Set(k);return L?H.add(V):H.delete(V),H})},se=V=>{if(V){const L=new Set(re.map(k=>k.id));S(L)}else S(new Set)},Ee=async()=>{try{console.log("💾 데이터 저장 시작 - 동적 세부카테고리 사용:",A);const V=c.filter(ie=>ie.status==="classified");console.log(`📊 실제 분류 완료 영상 수: ${V.length}개`),console.log("💾 IndexedDB 날짜별 업데이트 - 미분류 데이터"),await ve.updateUnclassifiedDataByDate(c,i),console.log("💾 IndexedDB 날짜별 업데이트 - 분류 데이터"),await ve.updateClassifiedDataByDate(V,i),console.log("💾 서버 날짜별 업데이트 시작..."),console.log(`💾 IndexedDB 날짜별 선택적 교체 저장: ${i}`);const L=c.filter(ie=>ie.dayKeyLocal===i||ie.collectionDate===i||ie.uploadDate===i);if(console.log(`📊 해당 날짜(${i}) 데이터 필터링: ${c.length}개 → ${L.length}개`),await ln.replaceDataByDate(i,L),console.log(`✅ IndexedDB ${i} 날짜 데이터 교체 완료: ${L.length}개`),console.log(`💾 서버 저장 - 현재 날짜(${i}) 데이터 교체`),L.length>0)try{const je=Math.ceil(L.length/500);console.log(`🗑️ ${i} 기존 데이터 삭제 중...`);const oe=await fetch(`${Me}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:[i],data:[]})});if(!oe.ok)throw new Error(`기존 데이터 삭제 실패: ${oe.status}`);if(console.log(`✅ ${i} 기존 데이터 삭제 완료`),c.length<=500)console.log(`📤 미분류 데이터 전송: ${c.length}개`),await Jo.saveUnclassifiedData(c),console.log("✅ 서버 미분류 데이터 저장 완료");else{console.log(`📦 미분류 데이터 배치 업로드 시작: ${c.length}개 → ${je}개 배치 (500개씩)`);for(let we=0;we<c.length;we+=500){const Z=c.slice(we,we+500),me=Math.floor(we/500)+1;console.log(`📦 미분류 배치 ${me}/${je} 전송 중... (${Z.length}개)`);try{await Jo.saveUnclassifiedData(Z),console.log(`✅ 미분류 배치 ${me}/${je} 전송 완료`)}catch(De){throw console.error(`❌ 미분류 배치 ${me} 전송 실패:`,De),De}we+500<c.length&&await new Promise(De=>setTimeout(De,500))}console.log(`✅ 서버 미분류 데이터 배치 저장 완료 (${je}개 배치)`)}}catch(ie){console.error("❌ 서버 저장 실패:",ie),alert(`⚠️ 서버 저장에 실패했지만 로컬에는 저장되었습니다.

에러: ${ie instanceof Error?ie.message:"알 수 없는 오류"}`)}if(V.length>0){console.log(`💾 분류 데이터 날짜별 선택적 교체 저장: ${i}`),await ln.replaceDataByDate(i,V),console.log(`✅ IndexedDB ${i} 날짜 분류 데이터 교체 완료: ${V.length}개`),console.log(`💾 서버 저장 - 현재 날짜(${i}) 분류 데이터만 전송`);try{const je=Math.ceil(V.length/500);if(V.length<=500)console.log(`📤 현재 날짜 분류 데이터 전송: ${V.length}개`),await Jo.saveClassifiedData(V),console.log("✅ 서버 분류 데이터 저장 완료");else{console.log(`📦 분류 데이터 배치 업로드 시작: ${V.length}개 → ${je}개 배치 (500개씩)`);for(let oe=0;oe<V.length;oe+=500){const we=V.slice(oe,oe+500),Z=Math.floor(oe/500)+1;console.log(`📦 분류 배치 ${Z}/${je} 전송 중... (${we.length}개)`);try{await Jo.saveClassifiedData(we),console.log(`✅ 분류 배치 ${Z}/${je} 전송 완료`)}catch(me){throw console.error(`❌ 분류 배치 ${Z} 전송 실패:`,me),me}oe+500<V.length&&await new Promise(me=>setTimeout(me,500))}console.log(`✅ 서버 분류 데이터 배치 저장 완료 (${je}개 배치)`)}}catch(ie){console.error("❌ 서버 분류 데이터 저장 실패:",ie),alert(`⚠️ 서버 분류 데이터 저장에 실패했지만 로컬에는 저장되었습니다.

에러: ${ie instanceof Error?ie.message:"알 수 없는 오류"}`)}}const k={date:i,categories:{}},H=Object.keys(A),K=[...new Set(V.map(ie=>ie.category).filter(Boolean))];[...new Set([...H,...K])].forEach(ie=>{k.categories[ie]={totalViews:0,count:0,channelCount:0,channels:new Set}}),V.forEach(ie=>{ie.category&&(k.categories[ie.category]||(k.categories[ie.category]={totalViews:0,count:0,channelCount:0,channels:new Set}),k.categories[ie.category].totalViews+=ie.viewCount||0,k.categories[ie.category].count+=1,k.categories[ie.category].channels.add(ie.channelName))}),Object.keys(k.categories).forEach(ie=>{k.categories[ie].channels=Array.from(k.categories[ie].channels),k.categories[ie].channelCount=k.categories[ie].channels.length}),await ve.saveDailySummary(i,k);const fe={date:i,total:c.length,classified:V.length,progress:c.length>0?Math.round(V.length/c.length*100):0};await ve.saveDailyProgress(fe);const Se={type:"dataSaved",date:i,dataCount:c.length,classifiedCount:V.length,timestamp:Qi()};window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{...Se,preserveBackupData:!0}})),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{date:i}})),window.dispatchEvent(new CustomEvent("categoriesUpdated")),window.dispatchEvent(new CustomEvent("categoryDataUpdated",{detail:{date:i,classifiedData:V,dailySummary:k}})),window.dispatchEvent(new CustomEvent("channelDataUpdated",{detail:{date:i,classifiedData:V}})),window.dispatchEvent(new CustomEvent("trendingVideosUpdated",{detail:{date:i,classifiedData:V}})),console.log("📡 모든 동기화 이벤트 발생:",Se),alert("✅ 데이터 저장 완료! 국내 대시보드, 상세 페이지들, 데이터 분류 관리 페이지에 반영되었습니다.")}catch(V){console.error("데이터 저장 실패:",V),alert("❌ 데이터 저장에 실패했습니다.")}},Be=()=>{try{const V=c.length,L=c.filter(we=>we.status==="classified").length,k=V-L,H=V>0?Math.round(L/V*100):0,K=c.filter(we=>!we.collectionType||we.collectionType==="manual"),ue=c.filter(we=>we.collectionType==="auto"||we.collectionType===void 0);console.log("📊 수집 타입 분류:",{total:c.length,manual:K.length,auto:ue.length,undefined:c.filter(we=>!we.collectionType).length});const fe={exportDate:Qi(),version:"2.0",backupType:"hybrid",summary:{totalVideos:V,classifiedVideos:L,unclassifiedVideos:k,manualCollected:K.length,autoCollected:ue.length},dailyData:[{date:i,total:V,classified:L,unclassified:V-L,progress:H,manualCollected:K.length,manualClassified:K.filter(we=>we.status==="classified").length,autoCollected:ue.length,autoClassified:ue.filter(we=>we.status==="classified").length,data:c}],allData:c,hybridConfig:{useApiServer:!0,fallbackToLocal:!0,syncEnabled:!0}},Se=JSON.stringify(fe,null,2),ie=new Blob([Se],{type:"application/json"}),je=URL.createObjectURL(ie),oe=document.createElement("a");oe.href=je,oe.download=`youtubepulse_hybrid_${i}.json`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(je),console.log(`📤 ${i} 하이브리드 백업 내보내기 완료:`,fe),alert(`✅ ${i} 하이브리드 백업이 성공적으로 내보내졌습니다!

📊 총 ${V}개 영상 (분류완료: ${L}개, 미분류: ${k}개)
🔧 수동수집: ${K.length}개, 자동수집: ${ue.length}개`)}catch(V){console.error("❌ 데이터 내보내기 실패:",V),alert("❌ 데이터 내보내기에 실패했습니다.")}},de=()=>{const V=document.createElement("input");V.type="file",V.accept=".json",V.onchange=L=>{var K;const k=(K=L.target.files)==null?void 0:K[0];if(!k)return;const H=new FileReader;H.onload=async ue=>{var fe;try{const Se=(fe=ue.target)==null?void 0:fe.result,ie=JSON.parse(Se);if(console.log("📁 백업 파일 로드:",ie),console.log("🔍 백업 데이터 구조 확인:",{hasAllData:!!ie.allData,allDataIsArray:Array.isArray(ie.allData),hasData:!!ie.data,dataIsArray:Array.isArray(ie.data),backupKeys:Object.keys(ie)}),(!ie.allData||!Array.isArray(ie.allData))&&(!ie.data||!Array.isArray(ie.data)))throw new Error("유효하지 않은 백업 파일입니다. data 또는 allData 배열이 필요합니다.");const je=new Date,we=new Date(je.getTime()+9*60*60*1e3).toISOString().split("T")[0];if(ie.selectedDate!==i&&!confirm(`백업 파일의 날짜(${ie.selectedDate})와 현재 선택된 날짜(${i})가 다릅니다.
그래도 복원하시겠습니까?`))return;const Z=ie.allData||ie.data;u(Z),await ve.updateUnclassifiedDataByDate(Z,i),ie.categories&&(await ve.saveCategories(ie.categories),window.dispatchEvent(new CustomEvent("categoriesUpdated")));const me=Z.filter(W=>W.status==="classified");await ve.updateClassifiedDataByDate(me,i);const De={totalItems:Z.length,classifiedItems:me.length,unclassifiedItems:Z.length-me.length,categories:{}};me.forEach(W=>{W.category&&W.subCategory&&(De.categories[W.category]||(De.categories[W.category]={totalViews:0,count:0,channels:new Set,subCategories:{}}),De.categories[W.category].subCategories[W.subCategory]||(De.categories[W.category].subCategories[W.subCategory]={totalViews:0,count:0}),De.categories[W.category].totalViews+=W.viewCount||0,De.categories[W.category].count+=1,De.categories[W.category].channels.add(W.channelName),De.categories[W.category].subCategories[W.subCategory].totalViews+=W.viewCount||0,De.categories[W.category].subCategories[W.subCategory].count+=1)}),Object.keys(De.categories).forEach(W=>{De.categories[W].channels=Array.from(De.categories[W].channels),De.categories[W].channelCount=De.categories[W].channels.length}),await ve.saveDailySummary(i,De);const Je={date:i,total:Z.length,classified:me.length,progress:Z.length>0?Math.round(me.length/Z.length*100):0};await ve.saveDailyProgress(Je);try{const W=await fetch(`${Me}/api/backup/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Z,date:i})});if(W.ok)console.log("✅ 서버 동기화 완료");else{const ee=await W.text();console.log("⚠️ 서버 동기화 실패, 로컬에서만 복원됨:",W.status,ee)}}catch(W){console.log("⚠️ 서버 연결 실패, 로컬에서만 복원됨:",W)}window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backupRestored",date:i,dataCount:Z.length,preserveBackupData:!0}})),console.log(`🔄 ${i} 날짜 데이터 복원 완료:`,ie),alert(`✅ ${i} 날짜 데이터가 성공적으로 복원되었습니다!
복원된 데이터: ${Z.length}개`)}catch(Se){console.error("❌ 백업 복원 실패:",Se),console.error("❌ 에러 상세:",{message:Se instanceof Error?Se.message:"알 수 없는 오류",stack:Se instanceof Error?Se.stack:void 0,error:Se}),alert(`❌ 백업 복원에 실패했습니다.

에러: ${Se instanceof Error?Se.message:"알 수 없는 오류"}

파일을 확인해주세요.`)}},H.readAsText(k)},V.click()};return f?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"데이터를 불러오는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"YouTubePulse"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[s&&o.jsxs(q,{variant:"outline",onClick:()=>t("/user-management"),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(q,{variant:"outline",onClick:()=>t("/dashboard"),children:[o.jsx(Ir,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(q,{variant:"outline",onClick:()=>t("/trend"),children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(q,{variant:"outline",onClick:()=>t("/data"),children:"📊 데이터"}),o.jsxs(q,{variant:"outline",onClick:()=>t("/system"),children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(q,{variant:"outline",onClick:M,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs(q,{variant:"outline",onClick:()=>t("/data-classification"),className:"mb-4",children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"뒤로가기"]}),o.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["데이터 분류 상세",l&&o.jsxs("span",{className:"ml-2 text-lg",children:[l==="manual"&&"📝 수동수집",l==="auto"&&"🤖 자동수집",l==="total"&&"📊 합계"]})]}),o.jsxs("p",{className:"text-muted-foreground mt-2",children:[new Date(i).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," 수집 데이터",l&&o.jsxs("span",{className:"ml-2 text-sm",children:["(",l==="manual"&&"수동수집 데이터만",l==="auto"&&"자동수집 데이터만",l==="total"&&"수동+자동 전체 데이터",")"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(q,{variant:"outline",onClick:Be,className:"flex items-center space-x-2",children:[o.jsx(Vi,{className:"w-4 h-4"}),o.jsx("span",{children:"일별 내보내기"})]}),o.jsxs(q,{variant:"outline",onClick:de,className:"flex items-center space-x-2",children:[o.jsx(WA,{className:"w-4 h-4"}),o.jsx("span",{children:"일별 백업 복원하기"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체 데이터"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.length})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"📊"})})]})}),o.jsx(Ne,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"미분류"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.filter(V=>V.status==="unclassified").length})]}),o.jsx(Zi,{className:"w-8 h-8 text-orange-600"})]})}),o.jsx(Ne,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"분류 완료"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.filter(V=>V.status==="classified").length})]}),o.jsx(oa,{className:"w-8 h-8 text-green-600"})]})}),o.jsx(Ne,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"진행률"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[c.length>0?Math.round(c.filter(V=>V.status==="classified").length/c.length*100):0,"%"]})]}),o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsxs("span",{className:"text-primary font-bold text-sm",children:[c.length>0?Math.round(c.filter(V=>V.status==="classified").length/c.length*100):0,"%"]})})]})})]}),o.jsx(Ne,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(vt,{placeholder:"채널명 또는 영상 제목으로 검색...",value:h,onChange:V=>p(V.target.value),className:"pl-10 w-80"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(q,{size:"sm",variant:y==="all"?"default":"outline",onClick:()=>m("all"),className:y==="all"?"bg-gray-600 text-white hover:bg-gray-700":"",children:["전체 보기 (",c.length,")"]}),o.jsx(q,{size:"sm",variant:y==="priority"?"default":"outline",onClick:()=>m("priority"),className:y==="priority"?"bg-blue-600 text-white hover:bg-blue-700":"",title:"같은 채널에 여러 영상이 있는 항목들을 그룹화하여 우선 표시",children:"우선 분류 대상"}),o.jsxs(q,{size:"sm",variant:y==="unclassified"?"default":"outline",onClick:()=>m("unclassified"),className:y==="unclassified"?"bg-orange-600 text-white hover:bg-orange-700":"hover:bg-orange-100",title:"미분류된 항목들을 같은 채널끼리 그룹화하여 표시",children:["미분류만 보기 (",c.filter(V=>V.status==="unclassified").length,")"]}),o.jsxs(q,{size:"sm",variant:y==="classified"?"default":"outline",onClick:()=>m("classified"),className:y==="classified"?"bg-green-600 text-white hover:bg-green-700":"",title:"분류 완료된 항목들을 같은 채널끼리 그룹화하여 표시",children:["분류 완료만 보기 (",c.filter(V=>V.status==="classified").length,")"]})]}),o.jsxs("div",{className:"relative flex items-center space-x-4",children:[o.jsx(q,{onClick:()=>{if(w.size===0){alert("분류할 항목을 선택해주세요.");return}D(!C)},className:"bg-green-600 hover:bg-green-700 text-white",children:"분류"}),o.jsx(q,{onClick:async()=>{if(w.size===0){alert("삭제할 항목을 선택해주세요.");return}const V=`선택된 ${w.size}개 항목을 삭제하시겠습니까?`;if(confirm(V))try{const L=c.filter(H=>!w.has(H.id));u(L);const k=Array.from(w);await ve.deleteUnclassifiedDataByIds(k);try{(await fetch("/api/sync/delete-unclassified",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:k,date:i})})).ok?console.log("✅ 서버 동기화 완료"):console.log("⚠️ 서버 동기화 실패, 로컬에서만 삭제됨")}catch{console.log("⚠️ 서버 연결 실패, 로컬에서만 삭제됨")}S(new Set),D(!1),console.log(`✅ 대량 삭제 완료: ${w.size}개 항목 삭제`),alert(`✅ ${w.size}개 항목이 성공적으로 삭제되었습니다!`)}catch(L){console.error("❌ 삭제 실패:",L),alert("❌ 삭제 중 오류가 발생했습니다.")}},variant:"destructive",children:"삭제"}),o.jsxs(q,{onClick:Ee,className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(vh,{className:"w-4 h-4 mr-2"}),"저장"]})]}),C&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"대량 분류"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["선택된 ",w.size,"개 항목을 분류합니다"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),o.jsxs("select",{value:R,onChange:V=>{$(V.target.value),B("")},className:"w-full p-2 border border-gray-300 rounded-md bg-white text-black",children:[o.jsx("option",{value:"",children:"카테고리를 선택하세요"}),T.map(V=>o.jsx("option",{value:V,children:V},V))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"세부카테고리"}),o.jsxs("select",{value:P,onChange:V=>B(V.target.value),disabled:!R,className:"w-full p-2 border border-gray-300 rounded-md bg-white text-black disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"세부카테고리를 선택하세요"}),_.map(V=>o.jsx("option",{value:V,children:V},V))]})]}),R&&P&&o.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"분류 정보:"})," ",R," → ",P]})}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx(q,{onClick:()=>{D(!1),$(""),B("")},variant:"outline",className:"bg-white text-black border-gray-300 px-6",children:"취소"}),o.jsx(q,{onClick:()=>{if(!R){alert("카테고리를 선택해주세요.");return}if(!P){alert("세부카테고리를 선택해주세요.");return}const V=`선택된 ${w.size}개 항목을 "${R} > ${P}"로 분류하시겠습니까?`;confirm(V)&&(u(L=>L.map(k=>w.has(k.id)?{...k,category:R,subCategory:P,status:P==="기타(미분류)"?"pending":"classified"}:k)),S(new Set),D(!1),$(""),B(""),console.log(`✅ 대량 분류 완료: ${w.size}개 항목을 "${R} > ${P}"로 분류`),alert(`✅ ${w.size}개 항목이 성공적으로 분류되었습니다!`))},className:"bg-green-600 hover:bg-green-700 text-white px-6",children:"확인"})]})]})})})]})]})}),o.jsxs(Ne,{className:"p-6",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground w-12",children:o.jsx("input",{type:"checkbox",checked:re.length>0&&w.size===re.length,onChange:V=>se(V.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"상태"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"채널 정보"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"영상 정보"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"조회수"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"카테고리"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"세부카테고리"})]})}),o.jsx("tbody",{children:re.map(V=>{var L;return o.jsxs("tr",{className:`border-b cursor-pointer transition-colors ${b===V.id||w.has(V.id)?"bg-blue-600/40 hover:bg-blue-500/50":"hover:bg-gray-700/30"}`,onClick:()=>N(V.id),children:[o.jsx(Yn,{className:"align-top py-3 w-12",onClick:k=>k.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:w.has(V.id),onChange:k=>U(V.id,k.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsx(Yn,{className:"align-top py-3",children:o.jsx(Ve,{variant:V.status==="classified"?"default":V.status==="pending"?"secondary":"destructive",className:`text-sm ${V.status==="classified"?"bg-blue-600 text-white hover:bg-blue-700":""}`,children:V.status==="classified"?"완료":V.status==="pending"?"대기":"미분류"})}),o.jsx(Yn,{className:"align-top py-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"font-medium text-foreground flex items-center space-x-2",children:[o.jsx("a",{href:`https://www.youtube.com/channel/${V.channelId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"채널 페이지로 이동",children:V.channelName||"N/A"}),(y==="priority"||y==="classified"||y==="unclassified")&&(()=>{const k=O.filter(H=>H.channelName===V.channelName).length;return k>1?o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${y==="priority"?"bg-blue-100 text-blue-800":y==="classified"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[k,"개 영상"]}):null})()]}),o.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:V.description||"N/A"})]})}),o.jsx(Yn,{className:"align-top py-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium text-foreground max-w-xs truncate",children:o.jsx("a",{href:`https://www.youtube.com/watch?v=${V.videoId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"영상 페이지로 이동",children:V.videoTitle||"N/A"})}),o.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:V.videoDescription||"N/A"})]})}),o.jsx(Yn,{className:"align-top py-3",children:o.jsx("div",{className:"text-sm font-medium text-foreground",children:(V.viewCount||0).toLocaleString()})}),o.jsx(Yn,{className:"align-top py-3",onClick:k=>k.stopPropagation(),children:o.jsxs(Lt,{value:V.category||"",onValueChange:k=>J(V.id,{category:k,subCategory:"",status:"pending"}),children:[o.jsx($t,{className:"w-32 bg-white text-black border-gray-300",children:o.jsx(Bt,{placeholder:"카테고리"})}),o.jsx(_t,{className:"bg-white text-black",children:T.map(k=>o.jsx(Ze,{value:k,className:"bg-white text-black hover:bg-gray-100",children:k},k))})]})}),o.jsx(Yn,{className:"align-top py-3",onClick:k=>k.stopPropagation(),children:o.jsxs(Lt,{value:V.subCategory||"",onValueChange:k=>{const H=V.subCategory==="기타(미분류)"&&k!=="기타(미분류)"?"classified":k==="기타(미분류)"?"pending":"classified";J(V.id,{subCategory:k,status:H})},disabled:!V.category,children:[o.jsx($t,{className:"w-32 bg-white text-black border-gray-300",children:o.jsx(Bt,{placeholder:"세부카테고리"})}),o.jsx(_t,{className:"bg-white text-black",children:V.category&&((L=A[V.category])==null?void 0:L.map(k=>o.jsx(Ze,{value:k,className:"bg-white text-black hover:bg-gray-100",children:k},k)))})]})})]},V.id)})})]})}),F>1&&o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[I+1,"-",Math.min(Y,O.length)," / ",O.length,"개"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(q,{variant:"outline",size:"sm",onClick:()=>x(1),disabled:g===1,title:"처음 페이지로",children:"처음"}),o.jsx(q,{variant:"outline",size:"sm",onClick:()=>x(V=>Math.max(V-1,1)),disabled:g===1,children:"이전"}),o.jsxs("span",{className:"text-sm text-foreground px-3",children:[g," / ",F]}),o.jsx(q,{variant:"outline",size:"sm",onClick:()=>x(V=>Math.min(V+1,F)),disabled:g===F,children:"다음"}),o.jsx(q,{variant:"outline",size:"sm",onClick:()=>x(F),disabled:g===F,title:"끝 페이지로",children:"끝"})]})]})]})]})]})},Yn=({className:e,children:t,...r})=>o.jsx("td",{className:e,...r,children:t});function Vx(e){const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60));if(n<1)return"방금 전";if(n<24)return`${n}시간 전`;const a=Math.floor(n/24);return a<7?`${a}일 전`:`${Math.floor(a/7)}주 전`}const AZ=14,CZ=()=>{var A;const e=Xt(),{logout:t,userEmail:r}=Br(),[n,a]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState(!0),[u,f]=v.useState("all"),[d,h]=v.useState("all"),[p,y]=v.useState(Ge()),[m,g]=v.useState([]),x=qt,j=!!r,w=()=>{t(),e("/")};v.useEffect(()=>{const C=D=>{y(D.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",C),()=>{window.removeEventListener("dashboardDateChanged",C)}},[]),v.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",qt)},[]),v.useEffect(()=>{const C=[];for(let D=0;D<AZ;D++){const R=new Date;R.setDate(R.getDate()-D),C.push(R.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}g(C),console.log("📅 사용 가능한 날짜 목록:",C)},[]);const S=v.useCallback(async()=>{try{c(!0);const C=await ve.loadClassifiedData(),D=await ve.loadUnclassifiedData(),R=[...C,...D];if(console.log(`📊 조회수 급등 동영상 상세 - IndexedDB에서 분류: ${C.length}개, 미분류: ${D.length}개, 전체: ${R.length}개`),setTimeout(async()=>{try{const[$,P]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),B=[...$,...P];if(B.length>R.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${B.length}개 > 로컬 ${R.length}개`),B&&B.length>0)){const T=p||Ge(),M=B.filter(O=>{const F=O.dayKeyLocal||O.collectionDate||O.uploadDate;return(F?F.split("T")[0]:"")===T&&O.videoTitle}).sort((O,F)=>(F.viewCount||0)-(O.viewCount||0)).slice(0,100).map(O=>{var F;return{id:O.videoId||O.id,thumbnail:O.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((F=O.videoTitle)==null?void 0:F.substring(0,2))||"YT"}`,title:O.videoTitle||"제목 없음",channelName:O.channelName||"채널명 없음",views:O.viewCount||0,timeAgo:Vx(O.uploadDate||O.collectionDate),category:O.category||"미분류",subCategory:O.subCategory||"",uploadDate:O.uploadDate||O.collectionDate,description:O.videoDescription||O.description||""}});a(M),i(M)}}catch($){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",$)}},1e3),R&&R.length>0){const $=p||Ge(),P=R.filter(T=>{const _=T.dayKeyLocal||T.collectionDate||T.uploadDate;return(_?_.split("T")[0]:"")===$&&T.videoTitle}).sort((T,_)=>(_.viewCount||0)-(T.viewCount||0)).slice(0,100);console.log(`📊 조회수 급등 동영상 상세 - ${$} 날짜 데이터: ${P.length}개`);const B=P.map(T=>{var M;return{id:T.videoId||T.id,thumbnail:T.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((M=T.videoTitle)==null?void 0:M.substring(0,2))||"YT"}`,title:T.videoTitle||"제목 없음",channelName:T.channelName||"채널명 없음",views:T.viewCount||0,timeAgo:Vx(T.uploadDate||T.collectionDate),category:T.category||"미분류",subCategory:T.subCategory||"",uploadDate:T.uploadDate||T.collectionDate,description:T.videoDescription||T.description||""}});console.log(`📊 조회수 급등 동영상 상세 - 생성된 비디오 데이터: ${B.length}개`),a(B),i(B)}else a([]),i([])}catch(C){console.error("조회수 급등 동영상 데이터 로드 실패:",C),a([]),i([])}finally{c(!1)}},[p]);v.useEffect(()=>{const C=D=>{console.log("🔄 조회수 급등 동영상 상세 데이터 업데이트 이벤트 감지:",D.detail),S()};return S(),window.addEventListener("dataUpdated",C),()=>{window.removeEventListener("dataUpdated",C)}},[p,S]);const b=v.useCallback(()=>{let C=[...n];u!=="all"&&(C=C.filter(D=>D.category===u)),d!=="all"&&(C=C.filter(D=>D.subCategory===d)),i(C)},[u,d,n]);v.useEffect(()=>{b()},[b]);const N=C=>{f(C),h("all")};return l?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"조회수 급등 동영상 데이터를 로드하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Lr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rt,{className:"w-8 h-8 text-red-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"조회수 급등 동영상"}),o.jsxs(Ve,{className:"bg-red-600 text-white",children:[o.jsx(rt,{className:"w-3 h-3 mr-1"}),"급상승"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[j&&o.jsxs(q,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(Ir,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(q,{variant:"outline",onClick:()=>e("/data"),children:"📊 데이터"}),o.jsxs(q,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(In,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(q,{variant:"outline",onClick:w,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(Ne,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(En,{className:"w-5 h-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"필터 설정"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"날짜:"}),o.jsxs(Lt,{value:p,onValueChange:y,children:[o.jsx($t,{className:"w-44",children:o.jsx(Bt,{placeholder:"날짜 선택"})}),o.jsx(_t,{children:m.map(C=>o.jsx(Ze,{value:C,children:C===Ge()?`오늘 (${C})`:C},C))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"카테고리:"}),o.jsxs(Lt,{value:u,onValueChange:N,children:[o.jsx($t,{className:"w-40",children:o.jsx(Bt,{placeholder:"카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),Object.keys(x).map(C=>o.jsx(Ze,{value:C,children:C},C))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리:"}),o.jsxs(Lt,{value:d,onValueChange:h,children:[o.jsx($t,{className:"w-40",children:o.jsx(Bt,{placeholder:"세부카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),u!=="all"&&((A=x[u])==null?void 0:A.map(C=>o.jsx(Ze,{value:C,children:C},C))),u!=="all"&&console.log("📊 정치 카테고리 세부카테고리:",x[u])]})]})]})]})]})}),o.jsx(Ne,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 동영상 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["총 ",s.length,"개 동영상 표시",u!=="all"&&` (${u})`,d!=="all"&&` - ${d}`]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["전체 ",n.length,"개 중"]}),o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[s.length,"개 표시"]})]})]})}),o.jsx(Ne,{className:"p-6",children:s.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(rt,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"조회수 급등 동영상이 없습니다"}),o.jsx("p",{className:"text-sm mt-2",children:n.length===0?"데이터 수집을 먼저 진행해주세요.":"선택한 필터 조건에 맞는 동영상이 없습니다."})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(rt,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"표가 제거되었습니다"}),o.jsx("p",{className:"text-sm mt-2",children:"조회수 급등 동영상 표시 기능이 비활성화되었습니다."})]})})]})]})},OZ=()=>{const e=Xt(),t=()=>{try{"caches"in window&&caches.keys().then(n=>{n.forEach(a=>{caches.delete(a)})});const r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&(a.includes("category")||a.includes("subcategory"))&&r.push(a)}r.forEach(n=>localStorage.removeItem(n)),console.log("🔄 세부카테고리 강제 새로고침 완료"),alert("세부카테고리 캐시를 삭제했습니다! 페이지를 새로고침하세요."),setTimeout(()=>{window.location.reload()},2e3)}catch(r){console.error("세부카테고리 새로고침 오류:",r),alert("세부카테고리 새로고침에 실패했습니다.")}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>e("/system"),children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"시스템으로 돌아가기"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"세부카테고리 설정"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"모든 카테고리와 세부카테고리를 확인하고 관리합니다"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"p-3 mb-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-yellow-800 text-center",children:["💡 ",o.jsx("code",{className:"bg-yellow-100 px-2 py-0.5 rounded font-medium",children:"src/lib/subcategories.ts"})," 에서 수정"]})}),o.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:o.jsxs(q,{variant:"outline",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:t,children:[o.jsx(Qn,{className:"w-4 h-4 mr-2"}),"세부카테고리 새로고침"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx(Ne,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"총 카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-blue-900",children:im.length}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"개"})]})}),o.jsx(Ne,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"총 세부카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-green-900",children:Object.values(qt).reduce((r,n)=>r+n.length,0)}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:"개"})]})}),o.jsx(Ne,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"평균 세부카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-purple-900",children:Math.round(Object.values(qt).reduce((r,n)=>r+n.length,0)/im.length)}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"개 / 카테고리"})]})})]}),o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(En,{className:"w-5 h-5 text-pink-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"전체 세부카테고리 목록"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.entries(qt).map(([r,n])=>o.jsxs(Ne,{className:"p-4 border-2 hover:border-primary/50 transition-colors",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("h3",{className:"font-bold text-lg text-foreground mb-1",children:r}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["총 ",n.length,"개 세부카테고리"]})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:n.map((a,s)=>o.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded hover:bg-muted transition-colors",children:[o.jsxs("span",{className:"text-primary font-medium",children:[s+1,"."]})," ",a]},s))})]},r))})]})]})]})};function yd(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}const PZ=[{value:"changePercent",label:"증감률 높은 순"},{value:"changeAmount",label:"증가분 높은 순"},{value:"todayViews",label:"당일 조회수 높은 순"}],EZ=()=>{var T;const e=Xt(),{logout:t,userEmail:r}=Br(),[n,a]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState(!0),[u,f]=v.useState(Ge()),[d,h]=v.useState([]),[p,y]=v.useState("all"),[m,g]=v.useState("all"),[x,j]=v.useState("changePercent"),w=v.useMemo(()=>!!r,[r]),S=qt;v.useEffect(()=>{const _=[];for(let M=0;M<14;M++){const O=new Date;O.setDate(O.getDate()-M),_.push(O.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}h(_)},[]);const b=v.useCallback(()=>{t(),e("/")},[t,e]),N=v.useCallback(_=>{let M=[..._];switch(p!=="all"&&(M=M.filter(O=>O.category===p)),m!=="all"&&(M=M.filter(O=>O.subCategory===m)),x){case"changeAmount":M.sort((O,F)=>F.changeAmount-O.changeAmount);break;case"todayViews":M.sort((O,F)=>F.todayViews-O.todayViews);break;case"changePercent":default:M.sort((O,F)=>F.changePercent-O.changePercent);break}return M},[p,m,x]),A=v.useCallback(_=>{if(!_||_.length===0){a([]),i([]);return}const M=u||Ge(),O=_.filter(U=>{const se=U.collectionDate||U.uploadDate||U.dayKeyLocal;return se&&se.split("T")[0]===M&&U.channelId}),F=new Date(new Date(M).getTime()-24*60*60*1e3).toISOString().split("T")[0],I=_.filter(U=>{const se=U.collectionDate||U.uploadDate||U.dayKeyLocal;return se&&se.split("T")[0]===F&&U.channelId});console.log(`📊 급등 채널 상세 - ${M} 데이터 ${O.length}개`),console.log(`📊 급등 채널 상세 - ${F} 데이터 ${I.length}개`);const Y={};O.forEach(U=>{Y[U.channelId]||(Y[U.channelId]={channelId:U.channelId,channelName:U.channelName||"채널명 없음",category:U.category||"기타",subCategory:U.subCategory||"미분류",thumbnail:U.channelThumbnail||U.thumbnailUrl||`https://via.placeholder.com/96x96?text=${(U.channelName||"CH").charAt(0)}`,totalViews:0,videos:[]}),Y[U.channelId].totalViews+=U.viewCount||0,Y[U.channelId].videos.push(U)});const re={};I.forEach(U=>{re[U.channelId]=(re[U.channelId]||0)+(U.viewCount||0)});const J=Object.values(Y).map(U=>{const se=re[U.channelId]||0,Ee=U.totalViews-se,Be=se>0?Ee/se*100:U.totalViews>0?100:0,de=[...U.videos].sort((k,H)=>{const K=new Date(k.uploadDate||k.collectionDate||0);return new Date(H.uploadDate||H.collectionDate||0).getTime()-K.getTime()})[0],V=U.videos.find(k=>k.thumbnailUrl&&!k.thumbnailUrl.includes("placeholder")),L=(V==null?void 0:V.thumbnailUrl)||U.thumbnail||`https://via.placeholder.com/96x96?text=${U.channelName.charAt(0)}`;return{id:U.channelId,channelName:U.channelName,category:U.category||"미분류",subCategory:U.subCategory||"",thumbnail:L,todayViews:U.totalViews,yesterdayViews:se,changeAmount:Ee,changePercent:Be,topVideoUrl:de!=null&&de.videoId?`https://www.youtube.com/watch?v=${de.videoId}`:void 0,topVideoTitle:(de==null?void 0:de.videoTitle)||(de==null?void 0:de.title)||void 0}});a(J),i(N(J))},[u,N]),C=v.useCallback(async()=>{c(!0);try{const _=await ve.loadClassifiedData(),M=await ve.loadUnclassifiedData(),O=[..._,...M];console.log(`📊 급등 채널 상세 - IndexedDB에서 분류: ${_.length}개, 미분류: ${M.length}개, 전체: ${O.length}개`),setTimeout(async()=>{try{const[F,I]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),Y=[...F,...I];Y.length>O.length&&(console.log(`🔄 급등 채널 상세 - 서버 데이터 ${Y.length}개 > 로컬 ${O.length}개`),A(Y))}catch(F){console.warn("⚠️ 급등 채널 상세 - 백그라운드 동기화 실패 (무시)",F)}},1e3),A(O)}catch(_){console.error("❌ 급등 채널 데이터 로드 실패:",_),a([]),i([])}finally{c(!1)}},[A]),D=v.useCallback(()=>{i(N(n))},[n,N]);v.useEffect(()=>{D()},[D]),v.useEffect(()=>{C()},[C]);const R=_=>{y(_),g("all")},$=s.length,P=s.filter(_=>_.changeAmount>0).length,B=s.filter(_=>_.changeAmount<0).length;return l?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"조회수 급등 채널 데이터를 로드하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Lr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Qo,{className:"w-8 h-8 text-blue-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"조회수 급등 채널"}),o.jsxs(Ve,{className:"bg-blue-600 text-white",children:[o.jsx(rt,{className:"w-3 h-3 mr-1"}),"급상승"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[w&&o.jsxs(q,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(Ir,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(q,{variant:"outline",onClick:()=>e("/data"),children:"📊 데이터"}),o.jsxs(q,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(In,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(q,{variant:"outline",onClick:b,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"날짜"}),o.jsxs(Lt,{value:u,onValueChange:f,children:[o.jsx($t,{className:"w-44",children:o.jsx(Bt,{placeholder:"날짜 선택"})}),o.jsx(_t,{children:d.map(_=>o.jsx(Ze,{value:_,children:_===Ge()?`오늘 (${_})`:_},_))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"카테고리"}),o.jsxs(Lt,{value:p,onValueChange:R,children:[o.jsx($t,{className:"w-40",children:o.jsx(Bt,{placeholder:"카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),Object.keys(S).map(_=>o.jsx(Ze,{value:_,children:_},_))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리"}),o.jsxs(Lt,{value:m,onValueChange:g,children:[o.jsx($t,{className:"w-40",children:o.jsx(Bt,{placeholder:"세부카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),p!=="all"&&((T=S[p])==null?void 0:T.map(_=>o.jsx(Ze,{value:_,children:_},_)))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"정렬"}),o.jsxs(Lt,{value:x,onValueChange:j,children:[o.jsx($t,{className:"w-48",children:o.jsx(Bt,{placeholder:"정렬 선택"})}),o.jsx(_t,{children:PZ.map(_=>o.jsx(Ze,{value:_.value,children:_.label},_.value))})]})]})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-muted/40",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 급등 채널"}),o.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[$.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-success/10",children:[o.jsxs("p",{className:"text-sm text-success mb-1 flex items-center space-x-1",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsx("span",{children:"증가 채널"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-success",children:[P.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-destructive/10",children:[o.jsxs("p",{className:"text-sm text-destructive mb-1 flex items-center space-x-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:"감소 채널"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-destructive",children:[B.toLocaleString(),"개"]})]})]})}),o.jsxs(Ne,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 채널 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u," 기준 상위 ",s.length,"개 채널",p!=="all"&&` (${p})`,m!=="all"&&` - ${m}`]})]})}),s.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"선택한 조건에 해당하는 채널이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"필터를 변경하거나 데이터를 다시 수집해 주세요."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"bg-muted/50 sticky top-0 z-10",children:o.jsxs(yt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{className:"w-64 text-center",children:"썸네일"}),o.jsx(Fe,{children:"채널 정보"}),o.jsx(Fe,{className:"text-right",children:"당일 조회수"}),o.jsx(Fe,{className:"text-right",children:"전일 조회수"}),o.jsx(Fe,{className:"text-right",children:"증가분"}),o.jsx(Fe,{className:"text-right",children:"증감률"}),o.jsx(Fe,{className:"text-right",children:"대표 영상"})]})}),o.jsx(Kr,{children:s.map((_,M)=>o.jsxs(yt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Re,{className:"text-center font-semibold text-sm",children:M+1}),o.jsx(Re,{children:o.jsx("div",{className:"w-64 h-64 rounded overflow-hidden bg-muted mx-auto",children:o.jsx("img",{src:_.thumbnail,alt:_.channelName,className:"w-full h-full object-cover object-center"})})}),o.jsxs(Re,{className:"space-y-2",children:[o.jsx("div",{className:"font-medium text-foreground",children:_.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs",children:_.category}),o.jsx(Ve,{variant:"outline",className:"text-xs",children:_.subCategory||"미분류"})]})]}),o.jsx(Re,{className:"text-right",children:o.jsx("div",{className:"font-medium text-foreground",children:yd(_.todayViews)})}),o.jsx(Re,{className:"text-right",children:o.jsx("div",{className:"text-muted-foreground",children:yd(_.yesterdayViews)})}),o.jsx(Re,{className:"text-right",children:o.jsxs("div",{className:_e("font-medium",_.changeAmount>=0?"text-success":"text-destructive"),children:[_.changeAmount>=0?"+":"",yd(Math.abs(_.changeAmount))]})}),o.jsx(Re,{className:"text-right",children:o.jsxs("div",{className:_e("flex items-center justify-end space-x-1 font-medium",_.changePercent>=0?"text-success":"text-destructive"),children:[_.changePercent>=0?o.jsx(rt,{className:"w-4 h-4"}):o.jsx(kn,{className:"w-4 h-4"}),o.jsxs("span",{children:[_.changePercent>=0?"+":"",Math.floor(_.changePercent),"%"]})]})}),o.jsx(Re,{className:"text-right",children:_.topVideoUrl?o.jsx("a",{href:_.topVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:text-blue-700 hover:underline",children:_.topVideoTitle||"영상 보기"}):o.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})})]},_.id))})]})})]})]})]})},DZ=[{value:"1.5",label:"1.5배 이상"},{value:"2",label:"2배 이상"},{value:"3",label:"3배 이상"}];function zx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}const TZ=()=>{var $;const e=Xt(),{logout:t,userEmail:r}=Br(),[n,a]=v.useState(!0),[s,i]=v.useState([]),[l,c]=v.useState(Ge()),[u,f]=v.useState("all"),[d,h]=v.useState("all"),[p,y]=v.useState("1.5"),[m,g]=v.useState([]),[x,j]=v.useState([]),w=v.useMemo(()=>!!r,[r]),S=qt;v.useEffect(()=>{const P=[];for(let B=0;B<14;B++){const T=new Date;T.setDate(T.getDate()-B),P.push(T.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}i(P)},[]);const b=v.useCallback(P=>{if(!P||P.length===0){g([]),j([]);return}const B=l||Ge(),T=P.filter(I=>{const Y=I.collectionDate||I.uploadDate||I.dayKeyLocal;return Y&&Y.split("T")[0]===B&&I.videoTitle});console.log(`📊 평균 대비 고성과 동영상 - ${B} 데이터 ${T.length}개`);const _={};P.forEach(I=>{!I.channelId||!I.viewCount||(_[I.channelId]||(_[I.channelId]={totalViews:0,count:0}),_[I.channelId].totalViews+=I.viewCount,_[I.channelId].count+=1)});const M=new Map;T.forEach(I=>{const Y=I.videoId||I.id;if(!Y)return;const re=M.get(Y);(!re||(I.viewCount||0)>(re.viewCount||0))&&M.set(Y,I)});const F=Array.from(M.values()).map(I=>{var U;const Y=_[I.channelId],re=Y&&Y.count>0?Math.round(Y.totalViews/Y.count):I.viewCount||0,J=re>0?(I.viewCount||0)/re:0;return{id:I.videoId||I.id,thumbnail:I.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((U=I.videoTitle)==null?void 0:U.substring(0,2))||"YT"}`,title:I.videoTitle||"제목 없음",channelName:I.channelName||"채널명 없음",category:I.category||"미분류",subCategory:I.subCategory||"",views:I.viewCount||0,averageViews:re,performanceRatio:J,uploadDate:I.uploadDate||"",collectionDate:I.collectionDate||""}}).filter(I=>I.performanceRatio>=parseFloat(p)).sort((I,Y)=>Y.performanceRatio-I.performanceRatio).slice(0,100);console.log(`📊 평균 대비 고성과 동영상 - 생성된 목록 ${F.length}개`,F.slice(0,3)),g(F),j(A(F,u,d))},[p,u,d,l]),N=v.useCallback(async()=>{a(!0);try{const P=await ve.loadClassifiedData(),B=await ve.loadUnclassifiedData(),T=[...P,...B];console.log(`📊 평균 대비 고성과 동영상 - IndexedDB에서 분류: ${P.length}개, 미분류: ${B.length}개, 전체: ${T.length}개`),b(T),setTimeout(async()=>{try{const[_,M]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),O=[..._,...M];O.length>T.length&&(console.log(`🔄 평균 대비 고성과 동영상 - 서버 데이터 ${O.length}개 > 로컬 ${T.length}개`),b(O))}catch(_){console.warn("⚠️ 평균 대비 고성과 동영상 - 백그라운드 동기화 실패 (무시)",_)}},1e3)}catch(P){console.error("❌ 평균 대비 고성과 동영상 데이터 로드 실패:",P),g([]),j([])}finally{a(!1)}},[b]);v.useEffect(()=>{N()},[N]);const A=(P,B,T)=>{let _=[...P];return B!=="all"&&(_=_.filter(M=>M.category===B)),T!=="all"&&(_=_.filter(M=>M.subCategory===T)),_},C=v.useCallback(()=>{j(A(m,u,d))},[m,u,d]);v.useEffect(()=>{C()},[C]);const D=P=>{f(P),h("all")},R=x.filter(P=>P.performanceRatio>=1).length;return n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"평균 대비 고성과 동영상을 분석하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Lr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(HA,{className:"w-8 h-8 text-amber-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"평균 대비 우수 성과 동영상"}),o.jsxs(Ve,{className:"bg-amber-600 text-white",children:[o.jsx(wd,{className:"w-3 h-3 mr-1"}),"고성과"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[w&&o.jsxs(q,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(Ir,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(q,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(q,{variant:"outline",onClick:()=>e("/data"),children:"📊 데이터"}),o.jsxs(q,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(sm,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(q,{variant:"outline",onClick:()=>{t(),e("/")},children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"날짜"}),o.jsxs(Lt,{value:l,onValueChange:c,children:[o.jsx($t,{className:"w-44",children:o.jsx(Bt,{placeholder:"날짜 선택"})}),o.jsx(_t,{children:s.map(P=>o.jsx(Ze,{value:P,children:P===Ge()?`오늘 (${P})`:P},P))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"카테고리"}),o.jsxs(Lt,{value:u,onValueChange:D,children:[o.jsx($t,{className:"w-40",children:o.jsx(Bt,{placeholder:"카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),Object.keys(S).map(P=>o.jsx(Ze,{value:P,children:P},P))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리"}),o.jsxs(Lt,{value:d,onValueChange:h,children:[o.jsx($t,{className:"w-40",children:o.jsx(Bt,{placeholder:"세부카테고리 선택"})}),o.jsxs(_t,{children:[o.jsx(Ze,{value:"all",children:"전체"}),u!=="all"&&(($=S[u])==null?void 0:$.map(P=>o.jsx(Ze,{value:P,children:P},P)))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"최소 성과 배율"}),o.jsxs(Lt,{value:p,onValueChange:y,children:[o.jsx($t,{className:"w-36",children:o.jsx(Bt,{placeholder:"기준 선택"})}),o.jsx(_t,{children:DZ.map(P=>o.jsx(Ze,{value:P.value,children:P.label},P.value))})]})]})]})}),o.jsx(Ne,{className:"p-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-muted/40",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 고성과 동영상"}),o.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[x.length.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-success/10",children:[o.jsxs("p",{className:"text-sm text-success mb-1 flex items-center space-x-1",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsx("span",{children:"평균 대비 높은 영상"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-success",children:[R.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-amber-100",children:[o.jsxs("p",{className:"text-sm text-amber-700 mb-1 flex items-center space-x-1",children:[o.jsx(sm,{className:"w-4 h-4"}),o.jsx("span",{children:"평균 대비 최소 배율"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-amber-700",children:[parseFloat(p).toFixed(1),"x"]})]})]})}),o.jsxs(Ne,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"평균 대비 우수 성과 동영상 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l," 기준 상위 ",x.length,"개 동영상",u!=="all"&&` (${u})`,d!=="all"&&` - ${d}`]})]})}),x.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"선택한 조건에 해당하는 동영상이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"필터를 조정하거나 데이터를 다시 수집해 주세요."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-muted/50 z-10",children:o.jsxs(yt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{children:"동영상 정보"}),o.jsx(Fe,{className:"text-right",children:"현재 조회수"}),o.jsx(Fe,{className:"text-right",children:"채널 평균"}),o.jsx(Fe,{className:"text-right",children:"성과 배율"}),o.jsx(Fe,{className:"text-right",children:"게시일"})]})}),o.jsx(Kr,{children:x.map((P,B)=>o.jsxs(yt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Re,{className:"text-center font-semibold",children:B+1}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${P.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-64 h-64 bg-muted",children:o.jsx("img",{src:P.thumbnail,alt:P.title,className:"w-full h-full object-cover object-center"})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:P.channelName}),o.jsx(Ve,{variant:"secondary",className:"text-xs",children:P.category}),o.jsx(Ve,{variant:"outline",className:"text-xs",children:P.subCategory||"미분류"}),o.jsxs(Ve,{className:"bg-success text-white text-xs",children:[o.jsx(wd,{className:"w-3 h-3 mr-1"}),P.performanceRatio.toFixed(1),"x"]})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${P.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${P.title} - 새 탭에서 열기`,children:P.title})]})]})}),o.jsxs(Re,{className:"text-right font-medium text-foreground",children:[zx(P.views),"회"]}),o.jsxs(Re,{className:"text-right text-muted-foreground",children:[zx(P.averageViews),"회"]}),o.jsxs(Re,{className:"text-right text-success font-semibold",children:[P.performanceRatio.toFixed(2),"x"]}),o.jsx(Re,{className:"text-right text-sm text-muted-foreground",children:(P.uploadDate||P.collectionDate||"").split("T")[0]||"-"})]},P.id))})]})})]})]})]})},Wx=e=>!e||typeof e!="string"?!1:/[가-힣]/.test(e),$Z=e=>{const t=Wx(e.channelName||""),r=Wx(e.videoTitle||e.title||"");return t||r},_Z=e=>!e||typeof e!="string"||[/미유.*MIUU.*AI/i,/MIUU.*AI/i].some(n=>n.test(e))?!1:[/MBC/i,/KBS/i,/kbs/i,/SBS/i,/JTBC/i,/tvN/i,/MBN/i,/채널A/i,/YTN/i,/Mnet/i,/tvchosun/i,/TV조선/i,/MBC공식/i,/KBS공식/i,/SBS공식/i,/JTBC공식/i,/스브스/i,/SUBUSU/i,/엠뚜루마뚜루/i,/넷플릭스/i,/Netflix/i,/지니키즈/i,/Genie Kids/i,/Genikids/i,/조선일보/i,/중앙일보/i,/동아일보/i,/한겨레/i,/경향신문/i,/매일경제/i,/한국경제/i,/서울신문/i,/연합뉴스/i,/정부/i,/청와대/i,/국회/i,/행정안전부/i,/문화체육관광부/i,/롯데/i,/Lotte/i,/농심/i,/Nongshim/i,/삼성/i,/Samsung/i,/LG/i,/현대/i,/Hyundai/i,/SK/i,/한화/i,/Hanwha/i,/CJ/i,/GS/i,/두산/i,/Doosan/i,/포스코/i,/POSCO/i,/신세계/i,/Shinsegae/i,/이마트/i,/Emart/i,/하나/i,/Hana/i,/KB/i,/신한/i,/Shinhan/i,/기업/i,/회사/i,/Corporation/i,/Corp/i,/Company/i,/SMTOWN/i,/SM ENT/i,/SM엔터/i,/HYBE/i,/JYP/i,/YG/i,/플레디스/i,/Pledis/i,/큐브/i,/CUBE/i,/판타지오/i,/Fantagio/i,/스타쉽/i,/Starship/i,/BLACKPINK/i,/BTS/i,/BANGTAN/i,/BANGTANTV/i,/SEVENTEEN/i,/TWICE/i,/Red Velvet/i,/aespa/i,/NewJeans/i,/IVE/i,/LE SSERAFIM/i,/NCT/i,/EXO/i,/SUPER JUNIOR/i,/공식채널/i,/Official/i,/공식/i,/^YouTube/i,/^YouTube Music/i,/^YouTube Kids/i,/브랜드/i,/Brand/i,/어린이/i,/키즈/i,/Kids/i,/Children/i,/어린이방송/i,/키즈방송/i,/Kids TV/i,/Children TV/i,/EBS어린이/i,/EBS키즈/i,/KBS어린이/i,/KBS키즈/i,/MBC어린이/i,/SBS어린이/i,/베이비버스/i,/BabyBus/i,/리틀엔젤/i,/Little Angel/i,/토이몽/i,/Toymong/i,/브레드 이발소/i,/Bread Barber/i,/캐릭온/i,/Characteron/i,/핑크퐁/i,/Pinkfong/i,/어린이 프로/i,/마샤와 곰/i,/Masha/i,/Masha and the Bear/i,/토닥토닥 꼬모/i,/꼬모/i,/Kkomo/i,/Topic/i,/topic/i,/- Topic$/i,/엔터테인먼트/i,/Entertainment/i,/1theK/i,/원더케이/i,/M2/i,/멜론/i,/Melon/i,/미스.*미스터.*트롯/i,/미스&미스터트롯/i,/ootb STUDIO/i,/OOTB/i,/뉴스/i,/News/i,/방송/i,/Broadcast/i,/esports/i].some(n=>n.test(e)),IZ=()=>{const[e,t]=Gx(),r=e.get("channelId")||"",[n,a]=v.useState(r),[s,i]=v.useState("daily"),[l,c]=v.useState(Ge()),[u,f]=v.useState(()=>{const U=new Date;return U.setDate(U.getDate()-7),U.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}),[d,h]=v.useState(Ge()),[p,y]=v.useState(""),[m,g]=v.useState("대한민국"),[x,j]=v.useState(!1),[w,S]=v.useState(!1),[b,N]=v.useState(!0),[A,C]=v.useState(!1),[D,R]=v.useState([]),[$,P]=v.useState(null),[B,T]=v.useState([]),[_,M]=v.useState(!0),[O,F]=v.useState(!1);v.useEffect(()=>{(async()=>{try{M(!0);const se=performance.now(),Ee=l||Ge(),Be=new Date(Ee);Be.setDate(Be.getDate()-1);const de=Be.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),[V,L]=await Promise.all([ve.loadClassifiedData(),ve.loadUnclassifiedData()]),k=performance.now()-se;console.log(`📊 데이터 로드 완료: ${V.length+L.length}개 (${k.toFixed(0)}ms)`);const H=[],K=[],ue=[...V,...L];for(const Z of ue){const me=Z.collectionDate||Z.uploadDate||Z.dayKeyLocal;if(!me)continue;const De=me.split("T")[0],Je=De===Ee,W=De===de;!Je&&!W||m==="대한민국"&&!$Z(Z)||(Je&&H.push(Z),W&&K.push(Z))}const fe={},Se={};for(const Z of H){if(!Z.channelId||!Z.channelName)continue;const me=_Z(Z.channelName);if(A&&!me||b&&!A&&me)continue;fe[Z.channelId]||(fe[Z.channelId]={channelId:Z.channelId,channelName:Z.channelName,thumbnail:Z.thumbnailUrl||`https://via.placeholder.com/96x96?text=${Z.channelName.charAt(0)}`,todayViews:0,description:Z.description||Z.channelDescription,totalSubscribers:Z.subscriberCount||Z.totalSubscribers,channelCreationDate:Z.channelCreationDate||Z.channelCreationDate||(Z.publishedAt?Z.publishedAt.split("T")[0]:void 0),videoCount:0},Se[Z.channelId]=new Set),fe[Z.channelId].todayViews+=Z.viewCount||0;const De=Z.videoId||Z.id;De&&Se[Z.channelId].add(De)}Object.keys(fe).forEach(Z=>{var me;fe[Z].videoCount=((me=Se[Z])==null?void 0:me.size)||0});const ie={};K.forEach(Z=>{Z.channelId&&(ie[Z.channelId]||(ie[Z.channelId]={totalViews:0}),ie[Z.channelId].totalViews+=Z.viewCount||0)});const je={};Object.entries(ie).sort(([,Z],[,me])=>me.totalViews-Z.totalViews).forEach(([Z],me)=>{je[Z]=me+1});const oe=Object.values(fe).map(Z=>{var G;const me=((G=ie[Z.channelId])==null?void 0:G.totalViews)||0,De=je[Z.channelId]||999999,Je=0,W=Z.todayViews-me,ee=me>0?W/me*100:0;return{rank:0,channelId:Z.channelId,channelName:Z.channelName,thumbnail:Z.thumbnail,todayViews:Z.todayViews,yesterdayViews:me,rankChange:De-Je,changePercent:ee,description:Z.description,totalSubscribers:Z.totalSubscribers,channelCreationDate:Z.channelCreationDate,videoCount:Z.videoCount||Z.videos.length}}).filter(Z=>x?!je[Z.channelId]:!0).sort((Z,me)=>w?Z.todayViews-me.todayViews:me.todayViews-Z.todayViews).map((Z,me)=>{const De=je[Z.channelId]||999999;return{...Z,rank:me+1,rankChange:De===999999?0:De-(me+1)}});R(oe);const we=performance.now()-se;if(console.log(`✅ 채널 랭킹 계산 완료: ${oe.length}개 채널 (총 ${we.toFixed(0)}ms)`),r&&oe.length>0){const Z=oe.find(me=>me.channelId===r);Z&&(P(Z),a(r))}else if(n&&oe.length>0){const Z=oe.find(me=>me.channelId===n);Z?P(Z):(P(null),a(""),t({}))}M(!1)}catch(se){console.error("채널 랭킹 로드 실패:",se),M(!1)}})()},[l,x,w,r,m,b,A]),v.useEffect(()=>{if(!n){T([]),F(!1);return}(async()=>{try{F(!0);const se=performance.now();console.log(`📊 차트 데이터 로드 시작: 채널 ${n}`);const Ee=await ve.loadUnclassifiedData(),Be=await ve.loadClassifiedData(),de=Ee.filter(je=>je.channelId===n),V=Be.filter(je=>je.channelId===n),L=[...de,...V],k=new Map;L.forEach(je=>{const oe=`${je.videoId}-${je.dayKeyLocal||je.collectionDate}`;k.has(oe)||k.set(oe,je)});const H=Array.from(k.values());if(H.length===0){T([]),F(!1);return}const K=new Date(u),ue=new Date(d);ue.setHours(23,59,59,999);const fe=new Map;H.forEach(je=>{const oe=je.collectionDate||je.uploadDate||je.dayKeyLocal;if(!oe)return;const we=oe.split("T")[0],Z=new Date(we);if(Z<K||Z>ue)return;let me;if(s==="daily")me=we;else if(s==="weekly"){const Je=Z.getDay(),W=new Date(Z);W.setDate(Z.getDate()-(Je===0?6:Je-1)),me=W.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}const De=fe.get(me)||0;fe.set(me,De+(je.viewCount||0))});const Se=Array.from(fe.entries()).map(([je,oe])=>({date:je,views:oe})).sort((je,oe)=>je.date.localeCompare(oe.date));T(Se);const ie=performance.now()-se;console.log(`✅ 차트 데이터 로드 완료: ${Se.length}개 데이터 포인트 (${ie.toFixed(0)}ms)`),F(!1)}catch(se){console.error("차트 데이터 로드 실패:",se),F(!1)}})()},[n,s,u,d]);const I=U=>{P(U),a(U.channelId),t({channelId:U.channelId})},Y=v.useMemo(()=>{if(!p.trim())return D;const U=p.toLowerCase();return D.filter(se=>se.channelName.toLowerCase().includes(U)||se.channelId.toLowerCase().includes(U))},[D,p]),re=U=>U>=1e6?(U/1e6).toFixed(1)+"M":U>=1e3?(U/1e3).toFixed(1)+"K":U.toString(),J=({active:U,payload:se,label:Ee})=>U&&se&&se.length?o.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-medium text-foreground",children:Ee}),o.jsxs("p",{className:"text-muted-foreground",children:["조회수: ",re(se[0].value)]})]}):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oe,{to:"/dashboard",children:o.jsx(q,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Oe,{to:"/trend",children:o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(rt,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Oe,{to:"/data",children:o.jsx(q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Oe,{to:"/system",children:o.jsxs(q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(kr,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6",children:[o.jsx("div",{className:"lg:col-span-3 space-y-4",children:o.jsxs(Ne,{className:"p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"채널 랭킹 대시보드"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(q,{variant:s==="daily"?"default":"outline",size:"sm",onClick:()=>i("daily"),className:s==="daily"?"bg-red-600 hover:bg-red-700":"",children:"일별"}),o.jsx(q,{variant:s==="weekly"?"default":"outline",size:"sm",onClick:()=>i("weekly"),className:s==="weekly"?"bg-red-600 hover:bg-red-700":"",children:"주별"})]}),o.jsxs(Lt,{value:m,onValueChange:g,children:[o.jsx($t,{className:"w-full",children:o.jsx(Bt,{})}),o.jsx(_t,{children:o.jsx(Ze,{value:"대한민국",children:"대한민국"})})]}),o.jsx(vt,{type:"date",value:l,onChange:U=>c(U.target.value)}),o.jsxs("div",{className:"relative",children:[o.jsx(gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx(vt,{placeholder:"채널명으로 검색...",value:p,onChange:U=>y(U.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex space-x-2 flex-wrap gap-2",children:[o.jsx(q,{variant:x?"default":"outline",size:"sm",onClick:()=>j(!x),className:x?"bg-red-600 hover:bg-red-700":"",children:"신규진입"}),o.jsxs(q,{variant:w?"default":"outline",size:"sm",onClick:()=>S(!w),className:w?"bg-red-600 hover:bg-red-700":"",children:[o.jsx(YA,{className:"w-4 h-4 mr-1"}),"역순"]}),o.jsx(q,{variant:A||b?"default":"outline",size:"sm",onClick:()=>{A?(C(!1),N(!0)):b?(C(!0),N(!1)):(N(!0),C(!1))},className:A?"bg-blue-600 hover:bg-blue-700":b?"bg-red-600 hover:bg-red-700":"",children:A?"공식채널만":b?"공식채널 제외":"전체 표시"})]})]}),o.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:_?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"로딩 중..."})]}):Y.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"채널을 찾을 수 없습니다"}):o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(yt,{children:[o.jsx(Fe,{className:"w-16",children:"순위"}),o.jsx(Fe,{children:"채널 정보"})]})}),o.jsx(Kr,{children:Y.map(U=>o.jsxs(yt,{className:`cursor-pointer hover:bg-muted/50 ${n===U.channelId?"bg-red-600/10":""}`,onMouseEnter:()=>I(U),onClick:()=>I(U),children:[o.jsx(Re,{children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"font-bold text-foreground",children:U.rank}),U.rankChange!==0&&o.jsx("span",{className:`text-xs flex items-center ${U.rankChange>0?"text-green-600":"text-red-600"}`,children:U.rankChange>0?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-3 h-3 mr-1"}),U.rankChange]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-3 h-3 mr-1"}),Math.abs(U.rankChange)]})})]})}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:U.thumbnail,alt:U.channelName,className:"w-24 h-24 rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-foreground truncate",children:U.channelName}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:U.channelId}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:re(U.todayViews)}),U.changePercent!==0&&o.jsx("span",{className:`text-xs flex items-center ${U.changePercent>0?"text-green-600":"text-red-600"}`,children:U.changePercent>0?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-3 h-3 mr-1"}),U.changePercent.toFixed(1),"%"]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-3 h-3 mr-1"}),U.changePercent.toFixed(1),"%"]})})]})]})]})})]},U.channelId))})]})})]})}),o.jsx("div",{className:"lg:col-span-4 space-y-4",children:$?o.jsx(o.Fragment,{children:o.jsxs(Ne,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:$.thumbnail,alt:$.channelName,className:"w-16 h-16 rounded-full"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:$.channelName}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.channelId})]})]}),o.jsx("a",{href:`https://www.youtube.com/channel/${$.channelId}`,target:"_blank",rel:"noopener noreferrer",children:o.jsxs(q,{variant:"outline",size:"sm",children:[o.jsx(Ji,{className:"w-4 h-4 mr-2"}),"유튜브에서 보기"]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:re($.todayViews)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 구독자 수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:$.totalSubscribers?re($.totalSubscribers):"데이터 없음"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"채널 생성일"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:$.channelCreationDate?new Date($.channelCreationDate).toLocaleDateString("ko-KR"):"데이터 없음"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"영상 개수"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:$.videoCount||0})]})]}),$.description&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"채널 설명"}),o.jsx("div",{className:"bg-muted/50 p-4 rounded-lg max-h-32 overflow-y-auto",children:o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:$.description})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(q,{variant:s==="daily"?"default":"outline",size:"sm",onClick:()=>i("daily"),className:s==="daily"?"bg-red-600 hover:bg-red-700":"",children:"일별"}),o.jsx(q,{variant:s==="weekly"?"default":"outline",size:"sm",onClick:()=>i("weekly"),className:s==="weekly"?"bg-red-600 hover:bg-red-700":"",children:"주별"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(vt,{type:"date",value:u,onChange:U=>f(U.target.value),className:"w-40"}),o.jsx("span",{className:"text-muted-foreground",children:"~"}),o.jsx(vt,{type:"date",value:d,onChange:U=>h(U.target.value),className:"w-40"}),o.jsx(q,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>{a(n)},children:"조회"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"조회수 성장 차트"}),O?o.jsx("div",{className:"flex items-center justify-center h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"차트 데이터를 불러오는 중..."})]})}):B.length===0?o.jsx("div",{className:"flex items-center justify-center h-[400px]",children:o.jsx("p",{className:"text-muted-foreground",children:"선택한 기간에 데이터가 없습니다"})}):o.jsx(Zc,{width:"100%",height:400,children:o.jsxs(xu,{data:B,children:[o.jsx(hi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Ca,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),o.jsx(Oa,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:U=>re(U)}),o.jsx(ur,{content:o.jsx(J,{})}),o.jsx(Wn,{type:"monotone",dataKey:"views",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F97316",strokeWidth:2}})]})})]})]})}):o.jsx(Ne,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-[600px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(rt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"왼쪽에서 채널을 선택하세요"})]})})})})]})})]})},kZ=()=>{const e=CA();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},MZ=()=>(E.useEffect(()=>{const e=setTimeout(()=>{sessionStorage.removeItem("redirecting"),console.log("🧹 리다이렉트 플래그 정리 완료"),ot.initializeOutbox(),console.log("📦 아웃박스 서비스 초기화 완료")},1e3);return()=>clearTimeout(e)},[]),o.jsx(AE,{children:o.jsx(OA,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(wE,{children:o.jsxs(vE,{children:[o.jsx(tO,{}),o.jsx(_O,{}),o.jsxs(PA,{children:[o.jsx(jt,{path:"/",element:o.jsx(CE,{})}),o.jsx(jt,{path:"/login",element:o.jsx(DE,{})}),o.jsx(jt,{path:"/register",element:o.jsx(TE,{})}),o.jsx(jt,{path:"/forgot-password",element:o.jsx(WE,{})}),o.jsx(jt,{path:"/change-password",element:o.jsx(HE,{})}),o.jsx(jt,{path:"/user-management",element:o.jsx(W$,{})}),o.jsx(jt,{path:"/dashboard",element:o.jsx(BJ,{})}),o.jsx(jt,{path:"/category",element:o.jsx(EA,{to:"/dashboard",replace:!0})}),o.jsx(jt,{path:"/category/:category",element:o.jsx(FJ,{})}),o.jsx(jt,{path:"/category-detail/:category",element:o.jsx(KJ,{})}),o.jsx(jt,{path:"/channel/:channelId",element:o.jsx(VJ,{})}),o.jsx(jt,{path:"/system",element:o.jsx(pZ,{})}),o.jsx(jt,{path:"/data",element:o.jsx(Kx,{})}),o.jsx(jt,{path:"/data-classification",element:o.jsx(Kx,{})}),o.jsx(jt,{path:"/date-classification-detail",element:o.jsx(NZ,{})}),o.jsx(jt,{path:"/trending-videos",element:o.jsx(CZ,{})}),o.jsx(jt,{path:"/subcategory-settings",element:o.jsx(OZ,{})}),o.jsx(jt,{path:"/trending-channels",element:o.jsx(EZ,{})}),o.jsx(jt,{path:"/performance-videos",element:o.jsx(TZ,{})}),o.jsx(jt,{path:"/trend",element:o.jsx(IZ,{})}),o.jsx(jt,{path:"*",element:o.jsx(kZ,{})})]})]})})})})),RZ=async()=>{try{console.log("🔄 카테고리 마이그레이션 시작...");const e=await ve.loadUnclassifiedData();let t=0;const r=e.map(i=>(i.category==="테크"?(i.category="AI",i.subCategory="AI 영상",t++):i.category==="음식"&&(i.category="라이프스타일",i.subCategory="요리/음식",t++),i));t>0&&(await ve.updateUnclassifiedData(r),console.log(`✅ unclassifiedData에서 ${t}개 항목 카테고리 변경 완료`));const n=await ve.loadClassifiedData();let a=0;const s=n.map(i=>(i.category==="테크"?(i.category="AI",i.subCategory="AI 영상",a++):i.category==="음식"&&(i.category="라이프스타일",i.subCategory="요리/음식",a++),i));a>0&&(await ve.saveClassifiedData(s),console.log(`✅ classifiedData에서 ${a}개 항목 카테고리 변경 완료`)),console.log("🎉 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${t+a}개 항목이 중앙화된 카테고리로 변경되었습니다.`)}catch(e){throw console.error("❌ 카테고리 마이그레이션 실패:",e),e}};window.migrateCategories=RZ;async function LZ(){console.log("🔄 애니/웹툰 카테고리 마이그레이션 시작...");try{const e=await ve.loadUnclassifiedData(),t=await ve.loadClassifiedData();let r=0,n=0;const a=(l,c)=>l.map(u=>{let f=!1;return u.category==="짜집기"&&u.subCategory==="애니/웹툰"&&(u.category="애니/웹툰",u.subCategory="요약/명장면",f=!0),u.category==="애니/웹툰"&&u.subCategory==="애니메이션"&&(u.subCategory="요약/명장면",f=!0),u.category==="애니/웹툰"&&u.subCategory==="웹툰/만화"&&(u.subCategory="이슈/정보",f=!0),u.category==="애니/웹툰"&&u.subCategory==="게임/애니"&&(u.subCategory="종합/기타",f=!0),f&&(c?n++:r++),u}),s=a(e,!1),i=a(t,!0);r>0||n>0?(await ve.saveUnclassifiedData(s),await ve.saveClassifiedData(i),console.log(`✅ unclassifiedData에서 ${r}개 항목을 '애니/웹툰' 카테고리로 변경 완료`),console.log(`✅ classifiedData에서 ${n}개 항목을 '애니/웹툰' 카테고리로 변경 완료`),console.log("🎉 애니/웹툰 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${r+n}개 항목이 새로운 '애니/웹툰' 카테고리로 변경되었습니다.`)):console.log('ℹ️ 마이그레이션할 데이터가 없습니다. (기존에 "짜집기" → "애니/웹툰"으로 분류된 데이터가 없음)')}catch(e){console.error("❌ 애니/웹툰 카테고리 마이그레이션 실패:",e)}}async function BZ(){console.log("🔄 롱폼 → 시니어 카테고리 마이그레이션 시작...");try{const e=await ve.loadUnclassifiedData(),t=await ve.loadClassifiedData();let r=0,n=0;const a=(l,c)=>l.map(u=>{let f=!1;return u.category==="롱폼"&&(u.category="시니어",f=!0),f&&(c?n++:r++),u}),s=a(e,!1),i=a(t,!0);await ve.saveUnclassifiedData(s),await ve.saveClassifiedData(i),console.log(`✅ unclassifiedData에서 ${r}개 항목 카테고리 변경 완료`),console.log(`✅ classifiedData에서 ${n}개 항목 카테고리 변경 완료`),console.log("🎉 롱폼 → 시니어 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${r+n}개 항목이 변경되었습니다.`)}catch(e){console.error("❌ 롱폼 → 시니어 카테고리 마이그레이션 실패:",e)}}window.migrateAnimeWebtoonData=LZ;window.migrateLongformToSenior=BZ;try{const e=localStorage.getItem("classifiedData"),t=localStorage.getItem("youtubepulse_classified_data");e&&(!t||t==="[]")&&localStorage.setItem("youtubepulse_classified_data",e)}catch{}eb(document.getElementById("root")).render(o.jsx(MZ,{}));export{eee as c};
