const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/services.BsXJvLmN.js","assets/utils.Bod80qvb.js"])))=>i.map(i=>d[i]);
var AA=Object.defineProperty;var CA=(e,t,r)=>t in e?AA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rt=(e,t,r)=>CA(e,typeof t!="symbol"?t+"":t,r);import{r as v,a as So,R as T,b as Hx,c as Yx,u as qt,L as Ne,d as xi,g as ft,e as Js,f as gh,h as qx,B as OA,i as PA,j as St,N as EA}from"./vendor.DsNdnymT.js";import{c as Ze,a as _e,g as Ge,_ as Qa,b as tl,d as rm,e as Cu}from"./utils.Bod80qvb.js";import{X as fc,T as jd,R as cn,L as DA,a as Xe,S as Ht,H as TA,A as Br,E as Va,b as pr,C as aa,M as Sd,c as $A,d as Gx,e as _A,f as Xx,g as IA,h as kA,i as bi,U as Zr,j as Ou,k as No,l as MA,m as vh,n as RA,o as LA,p as nm,q as BA,P as FA,r as kn,s as Qx,t as Nd,u as hc,v as wa,F as Dn,w as rl,K as am,x as nl,y as Jx,z as UA,G as KA,B as Ad,D as om,I as al,J as ts,N as VA,O as Yi,Q as zA,V as WA,W as HA,Y as sm,Z as YA}from"./ui.DGaEXS0T.js";import{A as Me,h as un,i as ge,c as Hr,s as Jt,a as ot,b as rs,d as im}from"./services.BsXJvLmN.js";import{s as lm,a as qA}from"./scheduler.DxyXSj77.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Zx={exports:{}},pc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=v,XA=Symbol.for("react.element"),QA=Symbol.for("react.fragment"),JA=Object.prototype.hasOwnProperty,ZA=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eC={key:!0,ref:!0,__self:!0,__source:!0};function eb(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)JA.call(t,n)&&!eC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:XA,type:e,key:s,ref:i,props:a,_owner:ZA.current}}pc.Fragment=QA;pc.jsx=eb;pc.jsxs=eb;Zx.exports=pc;var o=Zx.exports,tb,cm=So;tb=cm.createRoot,cm.hydrateRoot;const tC=1,rC=1e6;let Pu=0;function nC(){return Pu=(Pu+1)%Number.MAX_SAFE_INTEGER,Pu.toString()}const Eu=new Map,um=e=>{if(Eu.has(e))return;const t=setTimeout(()=>{Eu.delete(e),ss({type:"REMOVE_TOAST",toastId:e})},rC);Eu.set(e,t)},aC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,tC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?um(r):e.toasts.forEach(n=>{um(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qi=[];let Gi={toasts:[]};function ss(e){Gi=aC(Gi,e),qi.forEach(t=>{t(Gi)})}function oC({...e}){const t=nC(),r=a=>ss({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>ss({type:"DISMISS_TOAST",toastId:t});return ss({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function sC(){const[e,t]=v.useState(Gi);return v.useEffect(()=>(qi.push(t),()=>{const r=qi.indexOf(t);r>-1&&qi.splice(r,1)}),[e]),{...e,toast:oC,dismiss:r=>ss({type:"DISMISS_TOAST",toastId:r})}}function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=dm(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():dm(e[a],null)}}}}function tt(...e){return v.useCallback(mc(...e),e)}function iC(e,t){const r=v.createContext(t),n=s=>{const{children:i,...l}=s,c=v.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=v.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function rn(e,t=[]){let r=[];function n(s,i){const l=v.createContext(i),c=r.length;r=[...r,i];const u=d=>{var x;const{scope:h,children:p,...y}=d,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=v.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function f(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=v.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const a=()=>{const s=r.map(i=>v.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,lC(a,...t)]}function lC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function oa(e){const t=uC(e),r=v.forwardRef((n,a)=>{const{children:s,...i}=n,l=v.Children.toArray(s),c=l.find(fC);if(c){const u=c.props.children,f=l.map(d=>d===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:d);return o.jsx(t,{...i,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var cC=oa("Slot");function uC(e){const t=v.forwardRef((r,n)=>{const{children:a,...s}=r;if(v.isValidElement(a)){const i=pC(a),l=hC(s,a.props);return a.type!==v.Fragment&&(l.ref=n?mc(n,i):i),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rb=Symbol("radix.slottable");function dC(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=rb,t}function fC(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rb}function hC(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function pC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function gc(e){const t=e+"CollectionProvider",[r,n]=rn(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:g,children:x}=m,w=T.useRef(null),b=T.useRef(new Map).current;return o.jsx(a,{scope:g,itemMap:b,collectionRef:w,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=oa(l),u=T.forwardRef((m,g)=>{const{scope:x,children:w}=m,b=s(l,x),S=tt(g,b.collectionRef);return o.jsx(c,{ref:S,children:w})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=oa(f),p=T.forwardRef((m,g)=>{const{scope:x,children:w,...b}=m,S=T.useRef(null),j=tt(g,S),N=s(f,x);return T.useEffect(()=>(N.itemMap.set(S,{ref:S,...b}),()=>void N.itemMap.delete(S))),o.jsx(h,{[d]:"",ref:j,children:w})});p.displayName=f;function y(m){const g=s(e+"CollectionConsumer",m);return T.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((N,A)=>b.indexOf(N.ref.current)-b.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},y,n]}var mC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=mC.reduce((e,t)=>{const r=oa(`Primitive.${t}`),n=v.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yh(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}function ar(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function gC(e,t=globalThis==null?void 0:globalThis.document){const r=ar(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vC="DismissableLayer",Cd="dismissableLayer.update",yC="dismissableLayer.pointerDownOutside",xC="dismissableLayer.focusOutside",fm,nb=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ao=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=v.useContext(nb),[f,d]=v.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),y=tt(t,A=>d(A)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(g),w=f?m.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=x,j=wC(A=>{const P=A.target,E=[...u.branches].some(B=>B.contains(P));!S||E||(a==null||a(A),i==null||i(A),A.defaultPrevented||l==null||l())},h),N=jC(A=>{const P=A.target;[...u.branches].some(B=>B.contains(P))||(s==null||s(A),i==null||i(A),A.defaultPrevented||l==null||l())},h);return gC(A=>{w===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},h),v.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),hm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fm)}},[f,h,r,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),hm())},[f,u]),v.useEffect(()=>{const A=()=>p({});return document.addEventListener(Cd,A),()=>document.removeEventListener(Cd,A)},[]),o.jsx(ze.div,{...c,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,j.onPointerDownCapture)})});Ao.displayName=vC;var bC="DismissableLayerBranch",ab=v.forwardRef((e,t)=>{const r=v.useContext(nb),n=v.useRef(null),a=tt(t,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(ze.div,{...e,ref:a})});ab.displayName=bC;function wC(e,t=globalThis==null?void 0:globalThis.document){const r=ar(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){ob(yC,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jC(e,t=globalThis==null?void 0:globalThis.document){const r=ar(e),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&ob(xC,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hm(){const e=new CustomEvent(Cd);document.dispatchEvent(e)}function ob(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yh(a,s):a.dispatchEvent(s)}var SC=Ao,NC=ab,Yt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},AC="Portal",Zs=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=v.useState(!1);Yt(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Hx.createPortal(o.jsx(ze.div,{...n,ref:t}),i):null});Zs.displayName=AC;function CC(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var nn=e=>{const{present:t,children:r}=e,n=OC(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=tt(n.ref,PC(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};nn.displayName="Presence";function OC(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),s=v.useRef("none"),i=e?"mounted":"unmounted",[l,c]=CC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=wi(n.current);s.current=l==="mounted"?u:"none"},[l]),Yt(()=>{const u=n.current,f=a.current;if(f!==e){const h=s.current,p=wi(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Yt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const m=wi(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(s.current=wi(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function wi(e){return(e==null?void 0:e.animationName)||"none"}function PC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EC=Yx[" useInsertionEffect ".trim().toString()]||Yt;function sa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=DC({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=v.useCallback(f=>{var d;if(l){const h=TC(f)?f(e):f;h!==e&&((d=i.current)==null||d.call(i,h))}else s(f)},[l,e,s,i]);return[c,u]}function DC({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),s=v.useRef(t);return EC(()=>{s.current=t},[t]),v.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function TC(e){return typeof e=="function"}var sb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$C="VisuallyHidden",vc=v.forwardRef((e,t)=>o.jsx(ze.span,{...e,ref:t,style:{...sb,...e.style}}));vc.displayName=$C;var _C=vc,xh="ToastProvider",[bh,IC,kC]=gc("Toast"),[ib,HZ]=rn("Toast",[kC]),[MC,yc]=ib(xh),lb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[l,c]=v.useState(null),[u,f]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xh}\`. Expected non-empty \`string\`.`),o.jsx(bh.Provider,{scope:t,children:o.jsx(MC,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>f(p=>p+1),[]),onToastRemove:v.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};lb.displayName=xh;var cb="ToastViewport",RC=["F8"],Od="toast.viewportPause",Pd="toast.viewportResume",ub=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=RC,label:a="Notifications ({hotkey})",...s}=e,i=yc(cb,r),l=IC(r),c=v.useRef(null),u=v.useRef(null),f=v.useRef(null),d=v.useRef(null),h=tt(t,d,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;v.useEffect(()=>{const g=x=>{var b;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),v.useEffect(()=>{const g=c.current,x=d.current;if(y&&g&&x){const w=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Od);x.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Pd);x.dispatchEvent(N),i.isClosePausedRef.current=!1}},S=N=>{!g.contains(N.relatedTarget)&&b()},j=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",w),g.addEventListener("focusout",S),g.addEventListener("pointermove",w),g.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",w),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",w),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:g})=>{const w=l().map(b=>{const S=b.ref.current,j=[S,...XC(S)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?w.reverse():w).flat()},[l]);return v.useEffect(()=>{const g=d.current;if(g){const x=w=>{var j,N,A;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const P=document.activeElement,E=w.shiftKey;if(w.target===g&&E){(j=u.current)==null||j.focus();return}const C=m({tabbingDirection:E?"backwards":"forwards"}),U=C.findIndex(I=>I===P);Du(C.slice(U+1))?w.preventDefault():E?(N=u.current)==null||N.focus():(A=f.current)==null||A.focus()}};return g.addEventListener("keydown",x),()=>g.removeEventListener("keydown",x)}},[l,m]),o.jsxs(NC,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Ed,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Du(g)}}),o.jsx(bh.Slot,{scope:r,children:o.jsx(ze.ol,{tabIndex:-1,...s,ref:h})}),y&&o.jsx(Ed,{ref:f,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Du(g)}})]})});ub.displayName=cb;var db="ToastFocusProxy",Ed=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=yc(db,r);return o.jsx(vc,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});Ed.displayName=db;var ei="Toast",LC="toast.swipeStart",BC="toast.swipeMove",FC="toast.swipeCancel",UC="toast.swipeEnd",fb=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[l,c]=sa({prop:n,defaultProp:a??!0,onChange:s,caller:ei});return o.jsx(nn,{present:r||l,children:o.jsx(zC,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ar(e.onPause),onResume:ar(e.onResume),onSwipeStart:Se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});fb.displayName=ei;var[KC,VC]=ib(ei,{onClose(){}}),zC=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=yc(ei,r),[g,x]=v.useState(null),w=tt(t,I=>x(I)),b=v.useRef(null),S=v.useRef(null),j=a||m.duration,N=v.useRef(0),A=v.useRef(j),P=v.useRef(0),{onToastAdd:E,onToastRemove:B}=m,_=ar(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),i()}),C=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(_,I))},[_]);v.useEffect(()=>{const I=m.viewport;if(I){const F=()=>{C(A.current),u==null||u()},$=()=>{const O=new Date().getTime()-N.current;A.current=A.current-O,window.clearTimeout(P.current),c==null||c()};return I.addEventListener(Od,$),I.addEventListener(Pd,F),()=>{I.removeEventListener(Od,$),I.removeEventListener(Pd,F)}}},[m.viewport,j,c,u,C]),v.useEffect(()=>{s&&!m.isClosePausedRef.current&&C(j)},[s,j,m.isClosePausedRef,C]),v.useEffect(()=>(E(),()=>B()),[E,B]);const U=v.useMemo(()=>g?xb(g):null,[g]);return m.viewport?o.jsxs(o.Fragment,{children:[U&&o.jsx(WC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:U}),o.jsx(KC,{scope:r,onClose:_,children:So.createPortal(o.jsx(bh.ItemSlot,{scope:r,children:o.jsx(SC,{asChild:!0,onEscapeKeyDown:Se(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ze.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:Se(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:Se(e.onPointerMove,I=>{if(!b.current)return;const F=I.clientX-b.current.x,$=I.clientY-b.current.y,O=!!S.current,k=["left","right"].includes(m.swipeDirection),D=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,q=k?D(0,F):0,Z=k?0:D(0,$),Q=I.pointerType==="touch"?10:2,ne={x:q,y:Z},te={originalEvent:I,delta:ne};O?(S.current=ne,ji(BC,d,te,{discrete:!1})):pm(ne,m.swipeDirection,Q)?(S.current=ne,ji(LC,f,te,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(F)>Q||Math.abs($)>Q)&&(b.current=null)}),onPointerUp:Se(e.onPointerUp,I=>{const F=S.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),S.current=null,b.current=null,F){const O=I.currentTarget,k={originalEvent:I,delta:F};pm(F,m.swipeDirection,m.swipeThreshold)?ji(UC,p,k,{discrete:!0}):ji(FC,h,k,{discrete:!0}),O.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),WC=e=>{const{__scopeToast:t,children:r,...n}=e,a=yc(ei,t),[s,i]=v.useState(!1),[l,c]=v.useState(!1);return qC(()=>i(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Zs,{asChild:!0,children:o.jsx(vc,{...n,children:s&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},HC="ToastTitle",hb=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});hb.displayName=HC;var YC="ToastDescription",pb=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});pb.displayName=YC;var mb="ToastAction",gb=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(yb,{altText:r,asChild:!0,children:o.jsx(wh,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mb}\`. Expected non-empty \`string\`.`),null)});gb.displayName=mb;var vb="ToastClose",wh=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=VC(vb,r);return o.jsx(yb,{asChild:!0,children:o.jsx(ze.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,a.onClose)})})});wh.displayName=vb;var yb=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function xb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),GC(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...xb(n))}}),t}function ji(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yh(a,s):a.dispatchEvent(s)}var pm=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function qC(e=()=>{}){const t=ar(e);Yt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function GC(e){return e.nodeType===e.ELEMENT_NODE}function XC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Du(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var QC=lb,bb=ub,wb=fb,jb=hb,Sb=pb,Nb=gb,Ab=wh;const mm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gm=Ze,ti=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gm(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=s==null?void 0:s[u];if(f===null)return null;const h=mm(f)||mm(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...s,...l}[m]):{...s,...l}[m]===g})?[...u,d,h]:u},[]);return gm(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},JC=QC,Cb=v.forwardRef(({className:e,...t},r)=>o.jsx(bb,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Cb.displayName=bb.displayName;const ZC=ti("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=v.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(wb,{ref:n,className:_e(ZC({variant:t}),e),...r}));Ob.displayName=wb.displayName;const eO=v.forwardRef(({className:e,...t},r)=>o.jsx(Nb,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));eO.displayName=Nb.displayName;const Pb=v.forwardRef(({className:e,...t},r)=>o.jsx(Ab,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"","aria-label":"닫기",title:"닫기",...t,children:o.jsx(fc,{className:"h-4 w-4"})}));Pb.displayName=Ab.displayName;const Eb=v.forwardRef(({className:e,...t},r)=>o.jsx(jb,{ref:r,className:_e("text-sm font-semibold",e),...t}));Eb.displayName=jb.displayName;const Db=v.forwardRef(({className:e,...t},r)=>o.jsx(Sb,{ref:r,className:_e("text-sm opacity-90",e),...t}));Db.displayName=Sb.displayName;function tO(){const{toasts:e}=sC();return o.jsxs(JC,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return o.jsxs(Ob,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Eb,{children:r}),n&&o.jsx(Db,{children:n})]}),a,o.jsx(Pb,{})]},t)}),o.jsx(Cb,{})]})}var rO=(e,t,r,n,a,s,i,l)=>{let c=document.documentElement,u=["light","dark"];function f(p){(Array.isArray(e)?e:[e]).forEach(y=>{let m=y==="class",g=m&&s?a.map(x=>s[x]||x):a;m?(c.classList.remove(...g),c.classList.add(s&&s[p]?s[p]:p)):c.setAttribute(y,p)}),d(p)}function d(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let p=localStorage.getItem(t)||r,y=i&&p==="system"?h():p;f(y)}catch{}},nO=v.createContext(void 0),aO={setTheme:e=>{},themes:[]},oO=()=>{var e;return(e=v.useContext(nO))!=null?e:aO};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([r,t,s,e,l,i,n,a]).slice(1,-1);return v.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${rO.toString()})(${f})`}})});var sO=e=>{switch(e){case"success":return cO;case"info":return dO;case"warning":return uO;case"error":return fO;default:return null}},iO=Array(12).fill(0),lO=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},iO.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cO=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uO=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dO=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fO=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hO=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pO=()=>{let[e,t]=T.useState(document.hidden);return T.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Dd=1,mO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Dd++,s=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,i=n.then(async c=>{if(s=["resolve",c],T.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(vO(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Dd++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rr=new mO,gO=(e,t)=>{let r=(t==null?void 0:t.id)||Dd++;return rr.addToast({title:e,...t,id:r}),r},vO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yO=gO,xO=()=>rr.toasts,bO=()=>rr.getActiveToasts();Object.assign(yO,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:xO,getToasts:bO});function wO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Si(e){return e.label!==void 0}var jO=3,SO="32px",NO="16px",vm=4e3,AO=356,CO=14,OO=20,PO=200;function Er(...e){return e.filter(Boolean).join(" ")}function EO(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var DO=e=>{var t,r,n,a,s,i,l,c,u,f,d;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:x,heights:w,index:b,toasts:S,expanded:j,removeToast:N,defaultRichColors:A,closeButton:P,style:E,cancelButtonStyle:B,actionButtonStyle:_,className:C="",descriptionClassName:U="",duration:I,position:F,gap:$,loadingIcon:O,expandByDefault:k,classNames:D,icons:q,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:Q}=e,[ne,te]=T.useState(null),[Oe,Le]=T.useState(null),[pe,M]=T.useState(!1),[L,R]=T.useState(!1),[H,V]=T.useState(!1),[le,he]=T.useState(!1),[we,se]=T.useState(!1),[Te,de]=T.useState(0),[ye,Pe]=T.useState(0),Ae=T.useRef(p.duration||I||vm),be=T.useRef(null),We=T.useRef(null),Y=b===0,K=b+1<=x,z=p.type,fe=p.dismissible!==!1,ue=p.className||"",ce=p.descriptionClassName||"",me=T.useMemo(()=>w.findIndex(Ue=>Ue.toastId===p.id)||0,[w,p.id]),ve=T.useMemo(()=>{var Ue;return(Ue=p.closeButton)!=null?Ue:P},[p.closeButton,P]),W=T.useMemo(()=>p.duration||I||vm,[p.duration,I]),oe=T.useRef(0),ae=T.useRef(0),ee=T.useRef(0),J=T.useRef(null),[X,De]=F.split("-"),rt=T.useMemo(()=>w.reduce((Ue,qe,ut)=>ut>=me?Ue:Ue+qe.height,0),[w,me]),Ie=pO(),mt=p.invert||h,Wr=z==="loading";ae.current=T.useMemo(()=>me*$+rt,[me,rt]),T.useEffect(()=>{Ae.current=W},[W]),T.useEffect(()=>{M(!0)},[]),T.useEffect(()=>{let Ue=We.current;if(Ue){let qe=Ue.getBoundingClientRect().height;return Pe(qe),g(ut=>[{toastId:p.id,height:qe,position:p.position},...ut]),()=>g(ut=>ut.filter(ir=>ir.toastId!==p.id))}},[g,p.id]),T.useLayoutEffect(()=>{if(!pe)return;let Ue=We.current,qe=Ue.style.height;Ue.style.height="auto";let ut=Ue.getBoundingClientRect().height;Ue.style.height=qe,Pe(ut),g(ir=>ir.find(ie=>ie.toastId===p.id)?ir.map(ie=>ie.toastId===p.id?{...ie,height:ut}:ie):[{toastId:p.id,height:ut,position:p.position},...ir])},[pe,p.title,p.description,g,p.id]);let sr=T.useCallback(()=>{R(!0),de(ae.current),g(Ue=>Ue.filter(qe=>qe.toastId!==p.id)),setTimeout(()=>{N(p)},PO)},[p,N,g,ae]);T.useEffect(()=>{if(p.promise&&z==="loading"||p.duration===1/0||p.type==="loading")return;let Ue;return j||m||Q&&Ie?(()=>{if(ee.current<oe.current){let qe=new Date().getTime()-oe.current;Ae.current=Ae.current-qe}ee.current=new Date().getTime()})():Ae.current!==1/0&&(oe.current=new Date().getTime(),Ue=setTimeout(()=>{var qe;(qe=p.onAutoClose)==null||qe.call(p,p),sr()},Ae.current)),()=>clearTimeout(Ue)},[j,m,p,z,Q,Ie,sr]),T.useEffect(()=>{p.delete&&sr()},[sr,p.delete]);function On(){var Ue,qe,ut;return q!=null&&q.loading?T.createElement("div",{className:Er(D==null?void 0:D.loader,(Ue=p==null?void 0:p.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":z==="loading"},q.loading):O?T.createElement("div",{className:Er(D==null?void 0:D.loader,(qe=p==null?void 0:p.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":z==="loading"},O):T.createElement(lO,{className:Er(D==null?void 0:D.loader,(ut=p==null?void 0:p.classNames)==null?void 0:ut.loader),visible:z==="loading"})}return T.createElement("li",{tabIndex:0,ref:We,className:Er(C,ue,D==null?void 0:D.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[z],(r=p==null?void 0:p.classNames)==null?void 0:r[z]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:A,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":pe,"data-promise":!!p.promise,"data-swiped":we,"data-removed":L,"data-visible":K,"data-y-position":X,"data-x-position":De,"data-index":b,"data-front":Y,"data-swiping":H,"data-dismissible":fe,"data-type":z,"data-invert":mt,"data-swipe-out":le,"data-swipe-direction":Oe,"data-expanded":!!(j||k&&pe),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${L?Te:ae.current}px`,"--initial-height":k?"auto":`${ye}px`,...E,...p.style},onDragEnd:()=>{V(!1),te(null),J.current=null},onPointerDown:Ue=>{Wr||!fe||(be.current=new Date,de(ae.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(V(!0),J.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,qe,ut,ir;if(le||!fe)return;J.current=null;let ie=Number(((Ue=We.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ce=Number(((qe=We.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ke=new Date().getTime()-((ut=be.current)==null?void 0:ut.getTime()),ke=ne==="x"?ie:Ce,Qe=Math.abs(ke)/Ke;if(Math.abs(ke)>=OO||Qe>.11){de(ae.current),(ir=p.onDismiss)==null||ir.call(p,p),Le(ne==="x"?ie>0?"right":"left":Ce>0?"down":"up"),sr(),he(!0),se(!1);return}V(!1),te(null)},onPointerMove:Ue=>{var qe,ut,ir,ie;if(!J.current||!fe||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let Ce=Ue.clientY-J.current.y,Ke=Ue.clientX-J.current.x,ke=(ut=e.swipeDirections)!=null?ut:EO(F);!ne&&(Math.abs(Ke)>1||Math.abs(Ce)>1)&&te(Math.abs(Ke)>Math.abs(Ce)?"x":"y");let Qe={x:0,y:0};ne==="y"?(ke.includes("top")||ke.includes("bottom"))&&(ke.includes("top")&&Ce<0||ke.includes("bottom")&&Ce>0)&&(Qe.y=Ce):ne==="x"&&(ke.includes("left")||ke.includes("right"))&&(ke.includes("left")&&Ke<0||ke.includes("right")&&Ke>0)&&(Qe.x=Ke),(Math.abs(Qe.x)>0||Math.abs(Qe.y)>0)&&se(!0),(ir=We.current)==null||ir.style.setProperty("--swipe-amount-x",`${Qe.x}px`),(ie=We.current)==null||ie.style.setProperty("--swipe-amount-y",`${Qe.y}px`)}},ve&&!p.jsx?T.createElement("button",{"aria-label":Z,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!fe?()=>{}:()=>{var Ue;sr(),(Ue=p.onDismiss)==null||Ue.call(p,p)},className:Er(D==null?void 0:D.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(s=q==null?void 0:q.close)!=null?s:hO):null,p.jsx||v.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:T.createElement(T.Fragment,null,z||p.icon||p.promise?T.createElement("div",{"data-icon":"",className:Er(D==null?void 0:D.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||On():null,p.type!=="loading"?p.icon||(q==null?void 0:q[z])||sO(z):null):null,T.createElement("div",{"data-content":"",className:Er(D==null?void 0:D.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},T.createElement("div",{"data-title":"",className:Er(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?T.createElement("div",{"data-description":"",className:Er(U,ce,D==null?void 0:D.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),v.isValidElement(p.cancel)?p.cancel:p.cancel&&Si(p.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||B,onClick:Ue=>{var qe,ut;Si(p.cancel)&&fe&&((ut=(qe=p.cancel).onClick)==null||ut.call(qe,Ue),sr())},className:Er(D==null?void 0:D.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,v.isValidElement(p.action)?p.action:p.action&&Si(p.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:Ue=>{var qe,ut;Si(p.action)&&((ut=(qe=p.action).onClick)==null||ut.call(qe,Ue),!Ue.defaultPrevented&&sr())},className:Er(D==null?void 0:D.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function ym(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function TO(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,i=s?"--mobile-offset":"--offset",l=s?NO:SO;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var $O=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:y=jO,toastOptions:m,dir:g=ym(),gap:x=CO,loadingIcon:w,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[N,A]=T.useState([]),P=T.useMemo(()=>Array.from(new Set([n].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,n]),[E,B]=T.useState([]),[_,C]=T.useState(!1),[U,I]=T.useState(!1),[F,$]=T.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=T.useRef(null),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=T.useRef(null),q=T.useRef(!1),Z=T.useCallback(Q=>{A(ne=>{var te;return(te=ne.find(Oe=>Oe.id===Q.id))!=null&&te.delete||rr.dismiss(Q.id),ne.filter(({id:Oe})=>Oe!==Q.id)})},[]);return T.useEffect(()=>rr.subscribe(Q=>{if(Q.dismiss){A(ne=>ne.map(te=>te.id===Q.id?{...te,delete:!0}:te));return}setTimeout(()=>{Hx.flushSync(()=>{A(ne=>{let te=ne.findIndex(Oe=>Oe.id===Q.id);return te!==-1?[...ne.slice(0,te),{...ne[te],...Q},...ne.slice(te+1)]:[Q,...ne]})})})}),[]),T.useEffect(()=>{if(f!=="system"){$(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ne})=>{$(ne?"dark":"light")})}catch{Q.addListener(({matches:te})=>{try{$(te?"dark":"light")}catch(Oe){console.error(Oe)}})}},[f]),T.useEffect(()=>{N.length<=1&&C(!1)},[N]),T.useEffect(()=>{let Q=ne=>{var te,Oe;a.every(Le=>ne[Le]||ne.code===Le)&&(C(!0),(te=O.current)==null||te.focus()),ne.code==="Escape"&&(document.activeElement===O.current||(Oe=O.current)!=null&&Oe.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[a]),T.useEffect(()=>{if(O.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,q.current=!1)}},[O.current]),T.createElement("section",{ref:t,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((Q,ne)=>{var te;let[Oe,Le]=Q.split("-");return N.length?T.createElement("ol",{key:Q,dir:g==="auto"?ym():g,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":Oe,"data-lifted":_&&N.length>1&&!s,"data-x-position":Le,style:{"--front-toast-height":`${((te=E[0])==null?void 0:te.height)||0}px`,"--width":`${AO}px`,"--gap":`${x}px`,...p,...TO(c,u)},onBlur:pe=>{q.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(q.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||q.current||(q.current=!0,D.current=pe.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{U||C(!1)},onDragEnd:()=>C(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},N.filter(pe=>!pe.position&&ne===0||pe.position===Q).map((pe,M)=>{var L,R;return T.createElement(DO,{key:pe.id,icons:b,index:M,toast:pe,defaultRichColors:d,duration:(L=m==null?void 0:m.duration)!=null?L:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(R=m==null?void 0:m.closeButton)!=null?R:i,interacting:U,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Z,toasts:N.filter(H=>H.position==pe.position),heights:E.filter(H=>H.position==pe.position),setHeights:B,expandByDefault:s,gap:x,loadingIcon:w,expanded:_,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const _O=({...e})=>{const{theme:t="system"}=oO();return o.jsx($O,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IO=Yx[" useId ".trim().toString()]||(()=>{}),kO=0;function pn(e){const[t,r]=v.useState(IO());return Yt(()=>{r(n=>n??String(kO++))},[e]),t?`radix-${t}`:""}const MO=["top","right","bottom","left"],Mn=Math.min,fr=Math.max,ol=Math.round,Ni=Math.floor,Xr=e=>({x:e,y:e}),RO={left:"right",right:"left",bottom:"top",top:"bottom"},LO={start:"end",end:"start"};function Td(e,t,r){return fr(e,Mn(t,r))}function yn(e,t){return typeof e=="function"?e(t):e}function xn(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function jh(e){return e==="x"?"y":"x"}function Sh(e){return e==="y"?"height":"width"}const BO=new Set(["top","bottom"]);function qr(e){return BO.has(xn(e))?"y":"x"}function Nh(e){return jh(qr(e))}function FO(e,t,r){r===void 0&&(r=!1);const n=Co(e),a=Nh(e),s=Sh(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=sl(i)),[i,sl(i)]}function UO(e){const t=sl(e);return[$d(e),t,$d(t)]}function $d(e){return e.replace(/start|end/g,t=>LO[t])}const xm=["left","right"],bm=["right","left"],KO=["top","bottom"],VO=["bottom","top"];function zO(e,t,r){switch(e){case"top":case"bottom":return r?t?bm:xm:t?xm:bm;case"left":case"right":return t?KO:VO;default:return[]}}function WO(e,t,r,n){const a=Co(e);let s=zO(xn(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map($d)))),s}function sl(e){return e.replace(/left|right|bottom|top/g,t=>RO[t])}function HO(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tb(e){return typeof e!="number"?HO(e):{top:e,right:e,bottom:e,left:e}}function il(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function wm(e,t,r){let{reference:n,floating:a}=e;const s=qr(t),i=Nh(t),l=Sh(i),c=xn(t),u=s==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-a.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Co(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const YO=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=wm(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:g,fn:x}=l[m],{x:w,y:b,data:S,reset:j}=await x({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=w??f,d=b??d,p={...p,[g]:{...p[g],...S}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=wm(u,h,c)),m=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:p}};async function hs(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=yn(t,e),y=Tb(p),g=l[h?d==="floating"?"reference":"floating":d],x=il(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),w=d==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},j=il(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-j.top+y.top)/S.y,bottom:(j.bottom-x.bottom+y.bottom)/S.y,left:(x.left-j.left+y.left)/S.x,right:(j.right-x.right+y.right)/S.x}}const qO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=yn(e,t)||{};if(u==null)return{};const d=Tb(f),h={x:r,y:n},p=Nh(a),y=Sh(p),m=await i.getDimensions(u),g=p==="y",x=g?"top":"left",w=g?"bottom":"right",b=g?"clientHeight":"clientWidth",S=s.reference[y]+s.reference[p]-h[p]-s.floating[y],j=h[p]-s.reference[p],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=N?N[b]:0;(!A||!await(i.isElement==null?void 0:i.isElement(N)))&&(A=l.floating[b]||s.floating[y]);const P=S/2-j/2,E=A/2-m[y]/2-1,B=Mn(d[x],E),_=Mn(d[w],E),C=B,U=A-m[y]-_,I=A/2-m[y]/2+P,F=Td(C,I,U),$=!c.arrow&&Co(a)!=null&&I!==F&&s.reference[y]/2-(I<C?B:_)-m[y]/2<0,O=$?I<C?I-C:I-U:0;return{[p]:h[p]+O,data:{[p]:F,centerOffset:I-F-O,...$&&{alignmentOffset:O}},reset:$}}}),GO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=yn(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=xn(a),w=qr(l),b=xn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!m?[sl(l)]:UO(l)),N=y!=="none";!h&&N&&j.push(...WO(l,m,y,S));const A=[l,...j],P=await hs(t,g),E=[];let B=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&E.push(P[x]),d){const I=FO(a,i,S);E.push(P[I[0]],P[I[1]])}if(B=[...B,{placement:a,overflows:E}],!E.every(I=>I<=0)){var _,C;const I=(((_=s.flip)==null?void 0:_.index)||0)+1,F=A[I];if(F&&(!(d==="alignment"?w!==qr(F):!1)||B.every(k=>qr(k.placement)===w?k.overflows[0]>0:!0)))return{data:{index:I,overflows:B},reset:{placement:F}};let $=(C=B.filter(O=>O.overflows[0]<=0).sort((O,k)=>O.overflows[1]-k.overflows[1])[0])==null?void 0:C.placement;if(!$)switch(p){case"bestFit":{var U;const O=(U=B.filter(k=>{if(N){const D=qr(k.placement);return D===w||D==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(D=>D>0).reduce((D,q)=>D+q,0)]).sort((k,D)=>k[1]-D[1])[0])==null?void 0:U[0];O&&($=O);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function jm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sm(e){return MO.some(t=>e[t]>=0)}const XO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=yn(e,t);switch(n){case"referenceHidden":{const s=await hs(t,{...a,elementContext:"reference"}),i=jm(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Sm(i)}}}case"escaped":{const s=await hs(t,{...a,altBoundary:!0}),i=jm(s,r.floating);return{data:{escapedOffsets:i,escaped:Sm(i)}}}default:return{}}}}},$b=new Set(["left","top"]);async function QO(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=xn(r),l=Co(r),c=qr(r)==="y",u=$b.has(i)?-1:1,f=s&&c?-1:1,d=yn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const JO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await QO(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},ZO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:g=>{let{x,y:w}=g;return{x,y:w}}},...c}=yn(e,t),u={x:r,y:n},f=await hs(t,c),d=qr(xn(a)),h=jh(d);let p=u[h],y=u[d];if(s){const g=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=p+f[g],b=p-f[x];p=Td(w,p,b)}if(i){const g=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=y+f[g],b=y-f[x];y=Td(w,y,b)}const m=l.fn({...t,[h]:p,[d]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[d]:i}}}}}},eP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yn(e,t),f={x:r,y:n},d=qr(a),h=jh(d);let p=f[h],y=f[d];const m=yn(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",S=s.reference[h]-s.floating[b]+g.mainAxis,j=s.reference[h]+s.reference[b]-g.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var x,w;const b=h==="y"?"width":"height",S=$b.has(xn(a)),j=s.reference[d]-s.floating[b]+(S&&((x=i.offset)==null?void 0:x[d])||0)+(S?0:g.crossAxis),N=s.reference[d]+s.reference[b]+(S?0:((w=i.offset)==null?void 0:w[d])||0)-(S?g.crossAxis:0);y<j?y=j:y>N&&(y=N)}return{[h]:p,[d]:y}}}},tP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=yn(e,t),f=await hs(t,u),d=xn(a),h=Co(a),p=qr(a)==="y",{width:y,height:m}=s.floating;let g,x;d==="top"||d==="bottom"?(g=d,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,g=h==="end"?"top":"bottom");const w=m-f.top-f.bottom,b=y-f.left-f.right,S=Mn(m-f[g],w),j=Mn(y-f[x],b),N=!t.middlewareData.shift;let A=S,P=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=w),N&&!h){const B=fr(f.left,0),_=fr(f.right,0),C=fr(f.top,0),U=fr(f.bottom,0);p?P=y-2*(B!==0||_!==0?B+_:fr(f.left,f.right)):A=m-2*(C!==0||U!==0?C+U:fr(f.top,f.bottom))}await c({...t,availableWidth:P,availableHeight:A});const E=await i.getDimensions(l.floating);return y!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function xc(){return typeof window<"u"}function Oo(e){return _b(e)?(e.nodeName||"").toLowerCase():"#document"}function mr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(_b(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _b(e){return xc()?e instanceof Node||e instanceof mr(e).Node:!1}function Rr(e){return xc()?e instanceof Element||e instanceof mr(e).Element:!1}function en(e){return xc()?e instanceof HTMLElement||e instanceof mr(e).HTMLElement:!1}function Nm(e){return!xc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mr(e).ShadowRoot}const rP=new Set(["inline","contents"]);function ri(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rP.has(a)}const nP=new Set(["table","td","th"]);function aP(e){return nP.has(Oo(e))}const oP=[":popover-open",":modal"];function bc(e){return oP.some(t=>{try{return e.matches(t)}catch{return!1}})}const sP=["transform","translate","scale","rotate","perspective"],iP=["transform","translate","scale","rotate","perspective","filter"],lP=["paint","layout","strict","content"];function Ah(e){const t=Ch(),r=Rr(e)?Lr(e):e;return sP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||iP.some(n=>(r.willChange||"").includes(n))||lP.some(n=>(r.contain||"").includes(n))}function cP(e){let t=Rn(e);for(;en(t)&&!Ja(t);){if(Ah(t))return t;if(bc(t))return null;t=Rn(t)}return null}function Ch(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uP=new Set(["html","body","#document"]);function Ja(e){return uP.has(Oo(e))}function Lr(e){return mr(e).getComputedStyle(e)}function wc(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rn(e){if(Oo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nm(e)&&e.host||an(e);return Nm(t)?t.host:t}function Ib(e){const t=Rn(e);return Ja(t)?e.ownerDocument?e.ownerDocument.body:e.body:en(t)&&ri(t)?t:Ib(t)}function ps(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Ib(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=mr(a);if(s){const l=_d(i);return t.concat(i,i.visualViewport||[],ri(a)?a:[],l&&r?ps(l):[])}return t.concat(a,ps(a,[],r))}function _d(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kb(e){const t=Lr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=en(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=ol(r)!==s||ol(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function Oh(e){return Rr(e)?e:e.contextElement}function za(e){const t=Oh(e);if(!en(t))return Xr(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=kb(t);let i=(s?ol(r.width):r.width)/n,l=(s?ol(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const dP=Xr(0);function Mb(e){const t=mr(e);return!Ch()||!t.visualViewport?dP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==mr(e)?!1:t}function ia(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Oh(e);let i=Xr(1);t&&(n?Rr(n)&&(i=za(n)):i=za(e));const l=fP(s,r,n)?Mb(s):Xr(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,f=a.width/i.x,d=a.height/i.y;if(s){const h=mr(s),p=n&&Rr(n)?mr(n):n;let y=h,m=_d(y);for(;m&&n&&p!==y;){const g=za(m),x=m.getBoundingClientRect(),w=Lr(m),b=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*g.x,S=x.top+(m.clientTop+parseFloat(w.paddingTop))*g.y;c*=g.x,u*=g.y,f*=g.x,d*=g.y,c+=b,u+=S,y=mr(m),m=_d(y)}}return il({width:f,height:d,x:c,y:u})}function jc(e,t){const r=wc(e).scrollLeft;return t?t.left+r:ia(an(e)).left+r}function Rb(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-jc(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function hP(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=an(n),l=t?bc(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Xr(1);const f=Xr(0),d=en(n);if((d||!d&&!s)&&((Oo(n)!=="body"||ri(i))&&(c=wc(n)),en(n))){const p=ia(n);u=za(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const h=i&&!d&&!s?Rb(i,c):Xr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function pP(e){return Array.from(e.getClientRects())}function mP(e){const t=an(e),r=wc(e),n=e.ownerDocument.body,a=fr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=fr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+jc(e);const l=-r.scrollTop;return Lr(n).direction==="rtl"&&(i+=fr(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}const Am=25;function gP(e,t){const r=mr(e),n=an(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const f=Ch();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=jc(n);if(u<=0){const f=n.ownerDocument,d=f.body,h=getComputedStyle(d),p=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-d.clientWidth-p);y<=Am&&(s-=y)}else u<=Am&&(s+=u);return{width:s,height:i,x:l,y:c}}const vP=new Set(["absolute","fixed"]);function yP(e,t){const r=ia(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=en(e)?za(e):Xr(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function Cm(e,t,r){let n;if(t==="viewport")n=gP(e,r);else if(t==="document")n=mP(an(e));else if(Rr(t))n=yP(t,r);else{const a=Mb(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return il(n)}function Lb(e,t){const r=Rn(e);return r===t||!Rr(r)||Ja(r)?!1:Lr(r).position==="fixed"||Lb(r,t)}function xP(e,t){const r=t.get(e);if(r)return r;let n=ps(e,[],!1).filter(l=>Rr(l)&&Oo(l)!=="body"),a=null;const s=Lr(e).position==="fixed";let i=s?Rn(e):e;for(;Rr(i)&&!Ja(i);){const l=Lr(i),c=Ah(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&vP.has(a.position)||ri(i)&&!c&&Lb(e,i))?n=n.filter(f=>f!==i):a=l,i=Rn(i)}return t.set(e,n),n}function bP(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?bc(t)?[]:xP(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=Cm(t,f,a);return u.top=fr(d.top,u.top),u.right=Mn(d.right,u.right),u.bottom=Mn(d.bottom,u.bottom),u.left=fr(d.left,u.left),u},Cm(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wP(e){const{width:t,height:r}=kb(e);return{width:t,height:r}}function jP(e,t,r){const n=en(t),a=an(t),s=r==="fixed",i=ia(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Xr(0);function u(){c.x=jc(a)}if(n||!n&&!s)if((Oo(t)!=="body"||ri(a))&&(l=wc(t)),n){const p=ia(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();s&&!n&&a&&u();const f=a&&!n&&!s?Rb(a,l):Xr(0),d=i.left+l.scrollLeft-c.x-f.x,h=i.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:i.width,height:i.height}}function Tu(e){return Lr(e).position==="static"}function Om(e,t){if(!en(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return an(e)===r&&(r=r.ownerDocument.body),r}function Bb(e,t){const r=mr(e);if(bc(e))return r;if(!en(e)){let a=Rn(e);for(;a&&!Ja(a);){if(Rr(a)&&!Tu(a))return a;a=Rn(a)}return r}let n=Om(e,t);for(;n&&aP(n)&&Tu(n);)n=Om(n,t);return n&&Ja(n)&&Tu(n)&&!Ah(n)?r:n||cP(e)||r}const SP=async function(e){const t=this.getOffsetParent||Bb,r=this.getDimensions,n=await r(e.floating);return{reference:jP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NP(e){return Lr(e).direction==="rtl"}const AP={convertOffsetParentRelativeRectToViewportRelativeRect:hP,getDocumentElement:an,getClippingRect:bP,getOffsetParent:Bb,getElementRects:SP,getClientRects:pP,getDimensions:wP,getScale:za,isElement:Rr,isRTL:NP};function Fb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CP(e,t){let r=null,n;const a=an(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=Ni(d),m=Ni(a.clientWidth-(f+h)),g=Ni(a.clientHeight-(d+p)),x=Ni(f),b={rootMargin:-y+"px "+-m+"px "+-g+"px "+-x+"px",threshold:fr(0,Mn(1,c))||1};let S=!0;function j(N){const A=N[0].intersectionRatio;if(A!==c){if(!S)return i();A?i(!1,A):n=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!Fb(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return i(!0),s}function OP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Oh(e),f=a||s?[...u?ps(u):[],...ps(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=u&&l?CP(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?ia(e):null;c&&g();function g(){const x=ia(e);m&&!Fb(m,x)&&r(),m=x,y=requestAnimationFrame(g)}return r(),()=>{var x;f.forEach(w=>{a&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const PP=JO,EP=ZO,DP=GO,TP=tP,$P=XO,Pm=qO,_P=eP,IP=(e,t,r)=>{const n=new Map,a={platform:AP,...r},s={...a.platform,_c:n};return YO(e,t,{...a,platform:s})};var kP=typeof document<"u",MP=function(){},Xi=kP?v.useLayoutEffect:MP;function ll(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ll(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!ll(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Ub(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Em(e,t){const r=Ub(e);return Math.round(t*r)/r}function $u(e){const t=v.useRef(e);return Xi(()=>{t.current=e}),t}function RP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);ll(h,n)||p(n);const[y,m]=v.useState(null),[g,x]=v.useState(null),w=v.useCallback(k=>{k!==N.current&&(N.current=k,m(k))},[]),b=v.useCallback(k=>{k!==A.current&&(A.current=k,x(k))},[]),S=s||y,j=i||g,N=v.useRef(null),A=v.useRef(null),P=v.useRef(f),E=c!=null,B=$u(c),_=$u(a),C=$u(u),U=v.useCallback(()=>{if(!N.current||!A.current)return;const k={placement:t,strategy:r,middleware:h};_.current&&(k.platform=_.current),IP(N.current,A.current,k).then(D=>{const q={...D,isPositioned:C.current!==!1};I.current&&!ll(P.current,q)&&(P.current=q,So.flushSync(()=>{d(q)}))})},[h,t,r,_,C]);Xi(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[u]);const I=v.useRef(!1);Xi(()=>(I.current=!0,()=>{I.current=!1}),[]),Xi(()=>{if(S&&(N.current=S),j&&(A.current=j),S&&j){if(B.current)return B.current(S,j,U);U()}},[S,j,U,B,E]);const F=v.useMemo(()=>({reference:N,floating:A,setReference:w,setFloating:b}),[w,b]),$=v.useMemo(()=>({reference:S,floating:j}),[S,j]),O=v.useMemo(()=>{const k={position:r,left:0,top:0};if(!$.floating)return k;const D=Em($.floating,f.x),q=Em($.floating,f.y);return l?{...k,transform:"translate("+D+"px, "+q+"px)",...Ub($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:q}},[r,l,$.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:U,refs:F,elements:$,floatingStyles:O}),[f,U,F,$,O])}const LP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pm({element:n.current,padding:a}).fn(r):{}:n?Pm({element:n,padding:a}).fn(r):{}}}},BP=(e,t)=>({...PP(e),options:[e,t]}),FP=(e,t)=>({...EP(e),options:[e,t]}),UP=(e,t)=>({..._P(e),options:[e,t]}),KP=(e,t)=>({...DP(e),options:[e,t]}),VP=(e,t)=>({...TP(e),options:[e,t]}),zP=(e,t)=>({...$P(e),options:[e,t]}),WP=(e,t)=>({...LP(e),options:[e,t]});var HP="Arrow",Kb=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(ze.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kb.displayName=HP;var YP=Kb;function Vb(e){const[t,r]=v.useState(void 0);return Yt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ph="Popper",[zb,Po]=rn(Ph),[qP,Wb]=zb(Ph),Hb=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return o.jsx(qP,{scope:t,anchor:n,onAnchorChange:a,children:r})};Hb.displayName=Ph;var Yb="PopperAnchor",qb=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=Wb(Yb,r),i=v.useRef(null),l=tt(t,i),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:o.jsx(ze.div,{...a,ref:l})});qb.displayName=Yb;var Eh="PopperContent",[GP,XP]=zb(Eh),Gb=v.forwardRef((e,t)=>{var pe,M,L,R,H,V;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=Wb(Eh,r),[x,w]=v.useState(null),b=tt(t,le=>w(le)),[S,j]=v.useState(null),N=Vb(S),A=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,E=n+(s!=="center"?"-"+s:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(u)?u:[u],C=_.length>0,U={padding:B,boundary:_.filter(JP),altBoundary:C},{refs:I,floatingStyles:F,placement:$,isPositioned:O,middlewareData:k}=RP({strategy:"fixed",placement:E,whileElementsMounted:(...le)=>OP(...le,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[BP({mainAxis:a+P,alignmentAxis:i}),c&&FP({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?UP():void 0,...U}),c&&KP({...U}),VP({...U,apply:({elements:le,rects:he,availableWidth:we,availableHeight:se})=>{const{width:Te,height:de}=he.reference,ye=le.floating.style;ye.setProperty("--radix-popper-available-width",`${we}px`),ye.setProperty("--radix-popper-available-height",`${se}px`),ye.setProperty("--radix-popper-anchor-width",`${Te}px`),ye.setProperty("--radix-popper-anchor-height",`${de}px`)}}),S&&WP({element:S,padding:l}),ZP({arrowWidth:A,arrowHeight:P}),h&&zP({strategy:"referenceHidden",...U})]}),[D,q]=Jb($),Z=ar(y);Yt(()=>{O&&(Z==null||Z())},[O,Z]);const Q=(pe=k.arrow)==null?void 0:pe.x,ne=(M=k.arrow)==null?void 0:M.y,te=((L=k.arrow)==null?void 0:L.centerOffset)!==0,[Oe,Le]=v.useState();return Yt(()=>{x&&Le(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:O?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(R=k.transformOrigin)==null?void 0:R.x,(H=k.transformOrigin)==null?void 0:H.y].join(" "),...((V=k.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(GP,{scope:r,placedSide:D,onArrowChange:j,arrowX:Q,arrowY:ne,shouldHideArrow:te,children:o.jsx(ze.div,{"data-side":D,"data-align":q,...m,ref:b,style:{...m.style,animation:O?void 0:"none"}})})})});Gb.displayName=Eh;var Xb="PopperArrow",QP={top:"bottom",right:"left",bottom:"top",left:"right"},Qb=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=XP(Xb,n),i=QP[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(YP,{...a,ref:r,style:{...a.style,display:"block"}})})});Qb.displayName=Xb;function JP(e){return e!==null}var ZP=e=>({name:"transformOrigin",options:e,fn(t){var g,x,w;const{placement:r,rects:n,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=Jb(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=i?d:`${h}px`,m=`${-c}px`):u==="top"?(y=i?d:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=i?d:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=i?d:`${p}px`),{data:{x:y,y:m}}}});function Jb(e){const[t,r="center"]=e.split("-");return[t,r]}var Zb=Hb,Dh=qb,Th=Gb,$h=Qb,[Sc,YZ]=rn("Tooltip",[Po]),_h=Po(),e0="TooltipProvider",eE=700,Dm="tooltip.open",[tE,t0]=Sc(e0),r0=e=>{const{__scopeTooltip:t,delayDuration:r=eE,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(tE,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};r0.displayName=e0;var n0="Tooltip",[qZ,Nc]=Sc(n0),Id="TooltipTrigger",rE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Nc(Id,r),s=t0(Id,r),i=_h(r),l=v.useRef(null),c=tt(t,l,a.onTriggerChange),u=v.useRef(!1),f=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(Dh,{asChild:!0,...i,children:o.jsx(ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Se(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Se(e.onBlur,a.onClose),onClick:Se(e.onClick,a.onClose)})})});rE.displayName=Id;var nE="TooltipPortal",[GZ,aE]=Sc(nE,{forceMount:void 0}),Za="TooltipContent",a0=v.forwardRef((e,t)=>{const r=aE(Za,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=Nc(Za,e.__scopeTooltip);return o.jsx(nn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(o0,{side:a,...s,ref:t}):o.jsx(oE,{side:a,...s,ref:t})})}),oE=v.forwardRef((e,t)=>{const r=Nc(Za,e.__scopeTooltip),n=t0(Za,e.__scopeTooltip),a=v.useRef(null),s=tt(t,a),[i,l]=v.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),p=v.useCallback((y,m)=>{const g=y.currentTarget,x={x:y.clientX,y:y.clientY},w=uE(x,g.getBoundingClientRect()),b=dE(x,w),S=fE(m.getBoundingClientRect()),j=pE([...b,...S]);l(j),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&f){const y=g=>p(g,f),m=g=>p(g,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",m)}}},[c,f,p,h]),v.useEffect(()=>{if(i){const y=m=>{const g=m.target,x={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),b=!hE(x,i);w?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,i,u,h]),o.jsx(o0,{...e,ref:s})}),[sE,iE]=Sc(n0,{isInside:!1}),lE=dC("TooltipContent"),o0=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,c=Nc(Za,r),u=_h(r),{onClose:f}=c;return v.useEffect(()=>(document.addEventListener(Dm,f),()=>document.removeEventListener(Dm,f)),[f]),v.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(Th,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(lE,{children:n}),o.jsx(sE,{scope:r,isInside:!0,children:o.jsx(_C,{id:c.contentId,role:"tooltip",children:a||n})})]})})});a0.displayName=Za;var s0="TooltipArrow",cE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_h(r);return iE(s0,r).isInside?null:o.jsx($h,{...a,...n,ref:t})});cE.displayName=s0;function uE(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function dE(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function fE(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function hE(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function pE(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),mE(t)}function mE(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var gE=r0,i0=a0;const vE=gE,yE=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(i0,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));yE.displayName=i0.displayName;class xE{constructor(){Rt(this,"clientId");Rt(this,"syncQueue",[]);Rt(this,"metadata",null);this.clientId=this.generateClientId(),this.loadSyncQueue(),this.loadMetadata()}generateClientId(){return`client_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async loadSyncQueue(){try{const t=localStorage.getItem("syncQueue");t&&(this.syncQueue=JSON.parse(t))}catch(t){console.error("동기화 큐 로드 실패:",t),this.syncQueue=[]}}async saveSyncQueue(){try{localStorage.setItem("syncQueue",JSON.stringify(this.syncQueue))}catch(t){console.error("동기화 큐 저장 실패:",t)}}async loadMetadata(){try{const t=localStorage.getItem("syncMetadata");t&&(this.metadata=JSON.parse(t))}catch(t){console.error("메타데이터 로드 실패:",t)}}async saveMetadata(){try{this.metadata&&localStorage.setItem("syncMetadata",JSON.stringify(this.metadata))}catch(t){console.error("메타데이터 저장 실패:",t)}}async addToSyncQueue(t){const r={...t,id:`op_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),status:"pending"};this.syncQueue.push(r),await this.saveSyncQueue(),console.log(`📝 동기화 큐에 추가: ${t.operation} ${t.recordId}`)}async uploadToServer(){if(!Me)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 업로드를 건너뜁니다."),{uploaded:0,errors:[]};const t=this.syncQueue.filter(a=>a.status==="pending");let r=0;const n=[];console.log(`📤 서버로 업로드 시작: ${t.length}개 작업`);for(const a of t)try{a.status="processing",await this.saveSyncQueue();const s=await fetch(`${Me}/api/sync/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:a.operation,tableName:a.tableName,recordId:a.recordId,payload:a.payload,clientVersion:a.clientVersion})});if(s.ok)a.status="completed",r++,console.log(`✅ 업로드 성공: ${a.operation} ${a.recordId}`);else throw new Error(`HTTP ${s.status}: ${await s.text()}`)}catch(s){a.status="failed";const i=`업로드 실패 ${a.recordId}: ${s.message}`;n.push(i),console.error(`❌ ${i}`)}return await this.saveSyncQueue(),{uploaded:r,errors:n}}async downloadFromServer(t=!1){var r;if(!Me)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 다운로드를 건너뜁니다."),{downloaded:0,conflicts:0};try{let n=0;const a=0;if(t){console.log("📥 전체 동기화: 서버의 모든 데이터로 덮어쓰기 시작...");const c=await fetch(`${Me}/api/unclassified`);if(!c.ok)throw new Error(`전체 다운로드 실패: ${c.status}`);const u=await c.json();let f=[];Array.isArray(u)?(f=u,console.log("📥 배열 응답 감지:",f.length,"개")):u&&typeof u=="object"&&(u.success===!0&&Array.isArray(u.data)?(f=u.data,console.log("📥 성공 응답 (data):",f.length,"개")):Array.isArray(u.data)?(f=u.data,console.log("📥 데이터 응답:",f.length,"개")):Array.isArray(u.records)?(f=u.records,console.log("📥 레코드 응답:",f.length,"개")):(console.warn("⚠️ 알 수 없는 응답 형식:",Object.keys(u)),console.warn("⚠️ 응답 샘플:",JSON.stringify(u).substring(0,200)))),console.log(`📥 서버에서 전체 데이터 다운로드: ${f.length}개 레코드`),console.log("🔄 dayKeyLocal 정규화 중...");const d=f.map(h=>{const p=h.dayKeyLocal||(h.collectionDate?new Date(h.collectionDate).toISOString().split("T")[0]:null)||(h.uploadDate?new Date(h.uploadDate).toISOString().split("T")[0]:null);return{...h,dayKeyLocal:p}}).filter(h=>h.dayKeyLocal);return console.log(`✅ 정규화 완료: ${f.length}개 → ${d.length}개`),console.log("💾 서버 데이터를 IndexedDB에 배치 저장 중..."),await un.saveDataInBatches(d,500),n=d.length,console.log(`✅ 전체 동기화 완료: ${n}개 새로 저장`),{downloaded:n,conflicts:a}}const s=((r=this.metadata)==null?void 0:r.lastSyncAt)||0,i=await fetch(`${Me}/api/sync/download?since=${s}`);if(!i.ok)throw new Error(`다운로드 실패: ${i.status}`);const l=await i.json();console.log(`📥 서버에서 증분 다운로드: ${l.records.length}개 레코드`);for(const c of l.records)try{const u=c.dayKeyLocal||(c.collectionDate?new Date(c.collectionDate).toISOString().split("T")[0]:null)||(c.uploadDate?new Date(c.uploadDate).toISOString().split("T")[0]:null);if(!u){console.warn(`⚠️ 날짜 키가 없는 레코드 스킵: ${c.videoId}`);continue}const f=`${c.videoId}|${u}`;console.log(`🔍 키 기반 조회: ${f}`),await ge.upsertUnclassifiedDataWithMaxValues([c]),n++,console.log(`✅ 데이터 upsert: ${c.videoId} (${c.dayKeyLocal})`)}catch(u){console.error(`❌ 레코드 처리 실패 ${c.videoId}:`,u)}return{downloaded:n,conflicts:a}}catch(n){return console.error("❌ 서버 다운로드 실패:",n),{downloaded:0,conflicts:0}}}async performFullSync(t=!0){console.log("🔄 전체 동기화 시작...");try{const r=await this.uploadToServer(),n=await this.downloadFromServer(t);this.metadata={clientId:this.clientId,lastSyncAt:Date.now(),serverVersion:"1.0.0",clientVersion:"1.0.0"},await this.saveMetadata();const a={success:!0,uploaded:r.uploaded,downloaded:n.downloaded,conflicts:n.conflicts,errors:r.errors,lastSyncAt:this.metadata.lastSyncAt};return console.log("✅ 동기화 완료:",a),a}catch(r){return console.error("❌ 동기화 실패:",r),{success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[r instanceof Error?r.message:String(r)],lastSyncAt:0}}}async checkSyncNeeded(){var a;const r=this.syncQueue.filter(s=>s.status==="pending").length>0;let n=!1;try{const s=((a=this.metadata)==null?void 0:a.lastSyncAt)||0,i=await fetch(`/api/sync/check?since=${s}`);i.ok&&(n=(await i.json()).hasChanges)}catch(s){console.error("서버 변경사항 확인 실패:",s)}return r||n}getSyncStatus(){var t;return{pendingOps:this.syncQueue.filter(r=>r.status==="pending").length,lastSyncAt:((t=this.metadata)==null?void 0:t.lastSyncAt)||null,clientId:this.clientId}}async clearSyncQueue(){this.syncQueue=[],await this.saveSyncQueue(),console.log("🗑️ 동기화 큐 초기화 완료")}}const bE=new xE;async function _u({api:e,idb:t,lastSyncAt:r}){var n;if(!Me)return console.warn("⚠️ API_BASE_URL 미설정 - 로그인 후 서버 동기화를 건너뜁니다."),{success:!0,syncedAt:new Date().toISOString(),uploaded:0,downloaded:0,classifiedLoaded:0};try{console.log("🔄 로그인 후 서버 동기화 시작..."),console.log("[1/4] 서버→로컬 분류 데이터 전체 로드...");let a=0;try{const u=await e.get("/api/classified");u.success&&u.data&&Array.isArray(u.data)?(console.log(`📦 서버에서 분류 데이터 로드: ${u.data.length}개`),a=u.data.length,await t.saveClassifiedData(u.data),console.log("✅ IndexedDB 분류 데이터 캐시 갱신 완료")):console.warn("⚠️ 서버 분류 데이터 없음 또는 형식 오류")}catch(u){console.error("❌ 분류 데이터 로드 실패:",u)}console.log("[2/4] 로컬→서버 업로드 큐 재생...");const s=await bE.performFullSync();console.log("✅ 업로드 큐 재생 완료:",s),console.log("[3/4] 서버→로컬 증분 동기화...");const i=r??new Date(Date.now()-24*3600*1e3).toISOString(),l=await e.get(`/api/sync/download?since=${i}`);l&&l.items&&l.items.length>0?(await t.upsertUnclassifiedDataWithMaxValues(l.items),console.log(`✅ 서버 증분 동기화 완료: ${l.items.length}개 항목`)):console.log("📊 서버 증분 동기화: 변경사항 없음"),console.log("[4/4] 동기화 상태 업데이트...");const c=new Date().toISOString();return await t.saveSystemConfig("lastSyncAt",c),console.log("🎉 서버 동기화 완료!"),{success:!0,syncedAt:c,uploaded:s.uploaded||0,downloaded:((n=l==null?void 0:l.items)==null?void 0:n.length)||0,classifiedLoaded:a}}catch(a){return console.error("❌ 서버 동기화 실패:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error",syncedAt:null}}}const l0=v.createContext(void 0),wE=({children:e})=>{const[t,r]=v.useState(!1),[n,a]=v.useState(null),[s,i]=v.useState(null),[l,c]=v.useState(!0),u=qt();v.useEffect(()=>{(()=>{var y;try{console.log("🌐 환경 정보:",{hostname:window.location.hostname,protocol:window.location.protocol,origin:window.location.origin,userAgent:navigator.userAgent.substring(0,50)+"..."});const m=localStorage.getItem("userEmail"),g=localStorage.getItem("userRole");console.log("🔍 저장된 인증 정보 확인:",{storedEmail:m,storedRole:g}),!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")?(console.log("🏭 프로덕션 환경 감지"),m&&g&&m.includes("@")?(r(!0),a(m),i(g),console.log("✅ 프로덕션 인증 정보 로드 완료:",{storedEmail:m,storedRole:g})):(console.log("❌ 프로덕션: 유효하지 않은 인증 정보"),localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"))):(console.log("💻 개발 환경 감지"),m&&g?(r(!0),a(m),i(g),console.log("✅ 개발 인증 정보 로드 완료:",{storedEmail:m,storedRole:g})):console.log("❌ 개발: 저장된 인증 정보 없음"))}catch(m){console.error("❌ 인증 정보 확인 중 오류:",m),console.error("❌ 오류 상세:",{name:m.name,message:m.message,stack:((y=m.stack)==null?void 0:y.substring(0,200))+"..."}),r(!1),a(null),i(null)}finally{c(!1)}})()},[]);const h={isLoggedIn:t,userEmail:n,userRole:s,login:async(p,y)=>{c(!0);try{if(console.log("🔐 로그인 시도:",{email:p,timestamp:new Date().toISOString()}),console.log("🌐 현재 도메인:",window.location.hostname),console.log("🔧 localStorage 사용 가능:",typeof Storage<"u"),p==="ju9511503@gmail.com"&&y==="@ju9180417")if(console.log("✅ 관리자 계정 확인됨"),!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")){console.log("🏭 프로덕션 로그인 처리");try{localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),localStorage.setItem("userEmail",p),localStorage.setItem("userRole","admin");const g=localStorage.getItem("userEmail"),x=localStorage.getItem("userRole");if(console.log("💾 프로덕션 저장 확인:",{savedEmail:g,savedRole:x}),g===p&&x==="admin")return r(!0),a(p),i("admin"),console.log("✅ 프로덕션 관리자 로그인 성공:",{email:p,role:"admin"}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const w=new Promise((j,N)=>{setTimeout(()=>N(new Error("동기화 타임아웃 (30초)")),3e4)});if(!Me){console.warn("⚠️ API_BASE_URL 미설정 - 서버 동기화를 건너뜁니다.");return}const b=_u({api:{get:async j=>(await fetch(`${Me}${j}`)).json(),post:async(j,N)=>(await fetch(`${Me}${j}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json()},idb:ge,lastSyncAt:await ge.loadSystemConfig("lastSyncAt")}),S=await Promise.race([b,w]);S.success?console.log("🎉 백그라운드 동기화 완료:",S):console.warn("⚠️ 백그라운드 동기화 실패:",S.error)}catch(w){console.error("❌ 백그라운드 동기화 오류:",w)}})(),"caches"in window&&(async()=>{try{const w=await caches.keys();await Promise.all(w.map(b=>caches.delete(b))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(w){console.warn("⚠️ 캐시 클리어 실패:",w)}})(),u("/dashboard",{replace:!0}),!0;throw new Error("저장된 데이터가 일치하지 않음")}catch(g){return console.error("❌ 프로덕션 localStorage 저장 실패:",g),c(!1),!1}}else{console.log("💻 개발 로그인 처리");try{return localStorage.setItem("userEmail",p),localStorage.setItem("userRole","admin"),r(!0),a(p),i("admin"),console.log("✅ 개발 관리자 로그인 성공:",{email:p,role:"admin"}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const g=new Promise((b,S)=>{setTimeout(()=>S(new Error("동기화 타임아웃 (30초)")),3e4)});if(!Me){console.warn("⚠️ API_BASE_URL 미설정 - 서버 동기화를 건너뜁니다.");return}const x=_u({api:{get:async b=>(await fetch(`${Me}${b}`)).json(),post:async(b,S)=>(await fetch(`${Me}${b}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).json()},idb:ge,lastSyncAt:await ge.loadSystemConfig("lastSyncAt")}),w=await Promise.race([x,g]);w.success?console.log("🎉 백그라운드 동기화 완료:",w):console.warn("⚠️ 백그라운드 동기화 실패:",w.error)}catch(g){console.error("❌ 백그라운드 동기화 오류:",g)}})(),"caches"in window&&(async()=>{try{const g=await caches.keys();await Promise.all(g.map(x=>caches.delete(x))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(g){console.warn("⚠️ 캐시 클리어 실패:",g)}})(),u("/dashboard",{replace:!0}),!0}catch(g){return console.error("❌ 개발 localStorage 저장 실패:",g),c(!1),!1}}try{const g=JSON.parse(localStorage.getItem("users")||"[]").find(x=>x.email===p&&x.password===y);if(g&&g.status==="active")return localStorage.setItem("userEmail",p),localStorage.setItem("userRole",g.role||"user"),r(!0),a(p),i(g.role||"user"),console.log("✅ 사용자 로그인 성공:",{email:p,role:g.role}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const x=new Promise((S,j)=>{setTimeout(()=>j(new Error("동기화 타임아웃 (30초)")),3e4)}),w=_u({api:{get:async S=>{if(!Me)throw new Error("API base URL is not configured.");return(await fetch(`${Me}${S}`)).json()},post:async(S,j)=>{if(!Me)throw new Error("API base URL is not configured.");return(await fetch(`${Me}${S}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).json()}},idb:ge,lastSyncAt:await ge.loadSystemConfig("lastSyncAt")}),b=await Promise.race([w,x]);b.success?console.log("🎉 백그라운드 동기화 완료:",b):console.warn("⚠️ 백그라운드 동기화 실패:",b.error)}catch(x){console.error("❌ 백그라운드 동기화 오류:",x)}})(),"caches"in window&&(async()=>{try{const x=await caches.keys();await Promise.all(x.map(w=>caches.delete(w))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(x){console.warn("⚠️ 캐시 클리어 실패:",x)}})(),u("/dashboard",{replace:!0}),!0}catch(m){console.error("❌ 사용자 데이터 파싱 실패:",m)}return console.log("❌ 로그인 실패: 잘못된 인증 정보"),console.log("❌ 입력된 정보:",{email:p,passwordLength:y.length}),c(!1),!1}catch(m){return console.error("❌ 로그인 에러:",m),console.error("❌ 에러 상세:",{name:m.name,message:m.message,stack:m.stack}),c(!1),!1}},logout:()=>{localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),r(!1),a(null),i(null),console.log("✅ 로그아웃 완료 - 인증 정보 삭제됨"),u("/login",{replace:!0})},isLoading:l};return o.jsx(l0.Provider,{value:h,children:e})},jE=ti("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,type:a="button",...s},i)=>{const l=n?cC:"button";return o.jsx(l,{type:n?void 0:a,className:_e(jE({variant:t,size:r,className:e})),ref:i,...s})});G.displayName="Button";const SE=ti("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c0=v.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:_e(SE({variant:t}),e),...r}));c0.displayName="Alert";const NE=v.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));NE.displayName="AlertTitle";const u0=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));u0.displayName="AlertDescription";class AE extends T.Component{constructor(r){super(r);Rt(this,"handleServiceWorkerUpdate",async()=>{try{if("serviceWorker"in navigator){const r=await navigator.serviceWorker.getRegistration();r&&r.waiting&&(console.log("🔄 서비스 워커 업데이트 감지 - 즉시 활성화"),r.waiting.postMessage({type:"SKIP_WAITING"}),r.active&&r.active.postMessage({type:"CLIENTS_CLAIM"}))}}catch(r){console.error("❌ 서비스 워커 업데이트 실패:",r)}});Rt(this,"handleRefresh",()=>{window.location.reload()});Rt(this,"handleHardRefresh",()=>{window.location.href=window.location.href+"?v="+Date.now()});this.state={hasError:!1}}static getDerivedStateFromError(r){return r.message.includes("Failed to fetch dynamically imported module")||r.message.includes("Loading chunk")||r.message.includes("Loading CSS chunk")?{hasError:!0,error:r}:{hasError:!1}}componentDidCatch(r,n){console.error("🚨 청크 로딩 오류 감지:",r),console.error("📍 오류 정보:",n),(r.message.includes("Failed to fetch dynamically imported module")||r.message.includes("Loading chunk")||r.message.includes("Loading CSS chunk"))&&(this.setState({hasError:!0,error:r}),this.handleServiceWorkerUpdate())}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"max-w-md w-full mx-4",children:o.jsxs(c0,{className:"border-orange-200 bg-orange-50",children:[o.jsx(jd,{className:"h-4 w-4 text-orange-600"}),o.jsx(u0,{className:"mt-2",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-orange-800",children:"앱 업데이트 감지"}),o.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"새로운 버전이 배포되었습니다. 페이지를 새로고침하여 최신 버전을 사용하세요."})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs(G,{onClick:this.handleRefresh,className:"w-full",variant:"default",children:[o.jsx(cn,{className:"h-4 w-4 mr-2"}),"새로고침"]}),o.jsx(G,{onClick:this.handleHardRefresh,variant:"outline",className:"w-full",children:"강력 새로고침 (캐시 무효화)"})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsxs("p",{children:["💡 ",o.jsx("strong",{children:"문제가 지속되면:"})]}),o.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[o.jsx("li",{children:"브라우저 캐시를 수동으로 삭제하세요"}),o.jsx("li",{children:"시크릿/프라이빗 모드로 시도해보세요"}),o.jsx("li",{children:"다른 브라우저로 접속해보세요"})]})]})]})})]})})}):this.props.children}}const Ar=()=>{const e=v.useContext(l0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},CE=()=>{const{isLoggedIn:e}=Ar(),t=r=>{e||(r.preventDefault(),alert("로그인이 필요합니다. 먼저 로그인해주세요."))};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800",children:[o.jsx("header",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/login",children:o.jsxs(G,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(DA,{className:"w-4 h-4 mr-2"}),"로그인"]})}),o.jsx(Ne,{to:"/dashboard",onClick:t,children:o.jsx(G,{variant:"destructive",size:"sm",className:`${e?"bg-red-600 hover:bg-red-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:"국내"})}),o.jsx(Ne,{to:"/trend",onClick:t,children:o.jsxs(G,{size:"sm",className:`${e?"bg-green-600 hover:bg-green-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",onClick:t,children:o.jsx(G,{size:"sm",className:`${e?"bg-orange-600 hover:bg-orange-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",onClick:t,children:o.jsxs(G,{size:"sm",className:`${e?"bg-purple-600 hover:bg-purple-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-20",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-6xl font-bold text-white leading-tight",children:"유튜브 트렌드의"}),o.jsx("h2",{className:"text-6xl font-bold text-red-500 leading-tight",children:"모든 것을"}),o.jsx("h2",{className:"text-6xl font-bold text-white leading-tight",children:"한눈에"})]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"국내외 유튜브 영상을 분석하여 트렌드를 확인하세요"}),o.jsx("div",{className:"pt-8",children:o.jsx(Ne,{to:"/dashboard",onClick:t,children:o.jsxs(G,{size:"lg",className:`${e?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":"bg-gray-500 cursor-not-allowed"} text-white text-lg px-8 py-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300`,disabled:!e,children:[o.jsx(TA,{className:"w-5 h-5 mr-2"}),e?"대시보드 시작하기":"로그인 후 이용 가능"]})})})]})}),o.jsx("footer",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 YouTube Pulse. All rights reserved."})})})]})},yt=v.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));yt.displayName="Input";const je=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));je.displayName="Card";const la=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));la.displayName="CardHeader";const ca=v.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));ca.displayName="CardTitle";const ua=v.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));ua.displayName="CardDescription";const Vt=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...t}));Vt.displayName="CardContent";const OE=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));OE.displayName="CardFooter";var PE="Label",d0=v.forwardRef((e,t)=>o.jsx(ze.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d0.displayName=PE;var f0=d0;const EE=ti("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$t=v.forwardRef(({className:e,...t},r)=>o.jsx(f0,{ref:r,className:_e(EE(),e),...t}));$t.displayName=f0.displayName;const DE=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState(!1),[i,l]=v.useState(""),{login:c,isLoading:u}=Ar(),f=qt(),d=async h=>{h.preventDefault(),l("");const p=JSON.parse(localStorage.getItem("users")||"[]"),g=[{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417",status:"active"},...p].find(w=>w.email===e);if(g&&g.status==="pending"){l("계정이 관리자 승인 대기 중입니다. 승인 후 로그인 가능합니다.");return}await c(e,r)?f("/dashboard"):l("이메일 또는 비밀번호가 올바르지 않습니다.")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"로그인"}),o.jsx(ua,{className:"text-gray-300",children:"계정에 로그인하여 대시보드에 접근하세요"})]}),o.jsxs(Vt,{children:[o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"email",className:"text-white",children:"이메일"}),o.jsx(yt,{id:"email",type:"email",placeholder:"이메일을 입력하세요",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"password",className:"text-white",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"password",type:a?"text":"password",placeholder:"비밀번호를 입력하세요",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(pr,{className:"h-4 w-4"})})]})]}),i&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:i}),o.jsx(G,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:u,children:u?"로그인 중...":"로그인"})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(Ne,{to:"/register",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"계정이 없으신가요? 회원가입"}),o.jsx("br",{}),o.jsx(Ne,{to:"/forgot-password",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"비밀번호를 잊으셨나요?"})]})]})]})]})})},TE=()=>{const[e,t]=v.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[i,l]=v.useState(!1),[c,u]=v.useState(""),[f,d]=v.useState(!1),h=qt(),p=m=>{const{name:g,value:x}=m.target;t(w=>({...w,[g]:x}))},y=async m=>{if(m.preventDefault(),u(""),e.password!==e.confirmPassword){u("비밀번호가 일치하지 않습니다.");return}if(e.password.length<6){u("비밀번호는 최소 6자 이상이어야 합니다.");return}l(!0),setTimeout(()=>{const g={id:Date.now().toString(),name:e.name,email:e.email,password:e.password,status:"pending",role:"user",joinDate:Ge(),lastLogin:""},x=JSON.parse(localStorage.getItem("users")||"[]");x.push(g),localStorage.setItem("users",JSON.stringify(x)),l(!1),d(!0),setTimeout(()=>{h("/login")},3e3)},2e3)};return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(aa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"회원가입 완료!"}),o.jsxs("p",{className:"text-gray-300",children:["계정이 성공적으로 생성되었습니다.",o.jsx("br",{}),o.jsx("span",{className:"text-yellow-400 font-semibold",children:"관리자 승인 후 사용 가능합니다."}),o.jsx("br",{}),"잠시 후 로그인 페이지로 이동합니다."]}),o.jsx("div",{className:"pt-4",children:o.jsx(Ne,{to:"/login",children:o.jsx(G,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"로그인 페이지로 이동"})})})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"회원가입"}),o.jsx(ua,{className:"text-gray-300",children:"새 계정을 만들어 YouTube Pulse를 시작하세요"})]}),o.jsxs(Vt,{children:[o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"name",className:"text-white",children:"이름"}),o.jsx(yt,{id:"name",name:"name",type:"text",placeholder:"이름을 입력하세요",value:e.name,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"email",className:"text-white",children:"이메일"}),o.jsx(yt,{id:"email",name:"email",type:"email",placeholder:"이메일을 입력하세요",value:e.email,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"password",className:"text-white",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"password",name:"password",type:r?"text":"password",placeholder:"비밀번호를 입력하세요 (최소 6자)",value:e.password,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>n(!r),children:r?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(pr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"confirmPassword",className:"text-white",children:"비밀번호 확인"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",placeholder:"비밀번호를 다시 입력하세요",value:e.confirmPassword,onChange:p,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(pr,{className:"h-4 w-4"})})]})]}),c&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:c}),o.jsx(G,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:i,children:i?"계정 생성 중...":"회원가입"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Ne,{to:"/login",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"이미 계정이 있으신가요? 로그인"})})]})]})]})})};class ni{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const $E=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},zt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:$E()},Ih=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},_E=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=Ih(e);zt.publicKey=r.publicKey,zt.blockHeadless=r.blockHeadless,zt.storageProvider=r.storageProvider,zt.blockList=r.blockList,zt.limitRate=r.limitRate,zt.origin=r.origin||t},h0=async(e,t,r={})=>{const n=await fetch(zt.origin+e,{method:"POST",headers:r,body:t}),a=await n.text(),s=new ni(n.status,a);if(n.ok)return s;throw s},p0=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},IE=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},m0=e=>e.webdriver||!e.languages||e.languages.length===0,g0=()=>new ni(451,"Unavailable For Headless Browser"),kE=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ME=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},RE=(e,t)=>e instanceof FormData?e.get(t):e[t],v0=(e,t)=>{if(ME(e))return!1;kE(e.list,e.watchVariable);const r=RE(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},y0=()=>new ni(403,"Forbidden"),LE=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},BE=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},x0=async(e,t,r)=>{if(!t.throttle||!r)return!1;LE(t.throttle,t.id);const n=t.id||e;return await BE(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},b0=()=>new ni(429,"Too Many Requests"),FE=async(e,t,r,n)=>{const a=Ih(n),s=a.publicKey||zt.publicKey,i=a.blockHeadless||zt.blockHeadless,l=a.storageProvider||zt.storageProvider,c={...zt.blockList,...a.blockList},u={...zt.limitRate,...a.limitRate};return i&&m0(navigator)?Promise.reject(g0()):(p0(s,e,t),IE(r),r&&v0(c,r)?Promise.reject(y0()):await x0(location.pathname,u,l)?Promise.reject(b0()):h0("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},UE=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},KE=e=>typeof e=="string"?document.querySelector(e):e,VE=async(e,t,r,n)=>{const a=Ih(n),s=a.publicKey||zt.publicKey,i=a.blockHeadless||zt.blockHeadless,l=zt.storageProvider||a.storageProvider,c={...zt.blockList,...a.blockList},u={...zt.limitRate,...a.limitRate};if(i&&m0(navigator))return Promise.reject(g0());const f=KE(r);p0(s,e,t),UE(f);const d=new FormData(f);return v0(c,d)?Promise.reject(y0()):await x0(location.pathname,u,l)?Promise.reject(b0()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",s),h0("/api/v1.0/email/send-form",d))},zE={init:_E,send:FE,sendForm:VE,EmailJSResponseStatus:ni},Iu={SERVICE_ID:"service_youtube_pulse",TEMPLATE_ID:"template_password_reset",PUBLIC_KEY:"your_public_key_here"},WE=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(!1),[a,s]=v.useState(""),[i,l]=v.useState(!1),[c,u]=v.useState(!1),f=qt(),d=Iu.SERVICE_ID,h=Iu.TEMPLATE_ID,p=Iu.PUBLIC_KEY,y=async(g,x)=>{try{if(p==="your_public_key_here")return console.warn("⚠️ EmailJS가 설정되지 않았습니다. 개발 모드로 실행됩니다."),await new Promise(b=>setTimeout(b,2e3)),console.log("📧 개발 모드: 이메일 발송 시뮬레이션 완료"),!0;const w={to_email:g,temp_password:x,app_name:"YouTube Pulse",reset_link:`${window.location.origin}/login`};return await zE.send(d,h,w,p),console.log("✅ 이메일 발송 성공:",g),!0}catch(w){return console.error("❌ 이메일 발송 실패:",w),!1}},m=async g=>{if(g.preventDefault(),s(""),!e){s("이메일을 입력해주세요.");return}n(!0);try{const x=JSON.parse(localStorage.getItem("users")||"[]");if(![{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417"},...x].find(P=>P.email===e)){s("해당 이메일로 등록된 계정을 찾을 수 없습니다."),n(!1);return}const j=Math.random().toString(36).slice(-8);console.log("🔑 생성된 임시 비밀번호:",j);const N=x.map(P=>P.email===e?{...P,password:j}:P);if(await y(e,j)){if(u(!0),e==="ju9511503@gmail.com"){const P={tempPassword:j,timestamp:Date.now()};localStorage.setItem("adminTempPassword",JSON.stringify(P)),console.log("👑 관리자 임시 비밀번호 저장:",j)}else localStorage.setItem("users",JSON.stringify(N)),console.log("👤 일반 사용자 비밀번호 업데이트:",j);n(!1),l(!0)}else s("이메일 발송에 실패했습니다. 잠시 후 다시 시도해주세요."),n(!1);setTimeout(()=>{f("/login")},3e3)}catch(x){console.error("비밀번호 재설정 오류:",x),s("비밀번호 재설정 중 오류가 발생했습니다."),n(!1)}};return i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(aa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"이메일을 확인하세요"}),o.jsxs("div",{className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-4",children:[o.jsx(Sd,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),o.jsx("p",{className:"text-white font-semibold mb-2",children:"비밀번호 재설정 이메일 발송 완료"}),o.jsxs("p",{className:"text-gray-300",children:[o.jsx("strong",{className:"text-white",children:e}),"로",o.jsx("br",{}),"임시 비밀번호를 보내드렸습니다."]})]}),o.jsx("div",{className:"bg-yellow-500/20 border border-yellow-400/30 rounded-lg p-3",children:o.jsxs("p",{className:"text-yellow-200 text-sm",children:["⚠️ ",o.jsx("strong",{children:"보안 안내:"})," 임시 비밀번호로 로그인한 후",o.jsx("br",{}),"반드시 새로운 비밀번호로 변경해주세요."]})}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["📧 이메일이 오지 않는다면 스팸 폴더를 확인해주세요.",o.jsx("br",{}),"⏰ 임시 비밀번호는 ",o.jsx("strong",{className:"text-white",children:"1시간"})," 후 만료됩니다."]}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsx(G,{onClick:()=>f("/login"),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"로그인 페이지로 돌아가기"}),o.jsx(G,{onClick:()=>{l(!1),t("")},variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:"다른 이메일로 다시 시도"})]})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"비밀번호 찾기"}),o.jsxs(ua,{className:"text-gray-300",children:["가입하신 이메일 주소를 입력하시면",o.jsx("br",{}),"비밀번호 재설정 링크를 보내드립니다"]})]}),o.jsxs(Vt,{children:[o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"email",className:"text-white",children:"이메일 주소"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"email",type:"email",placeholder:"가입하신 이메일을 입력하세요",value:e,onChange:g=>t(g.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pl-10"}),o.jsx(Sd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),a&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:a}),o.jsx(G,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"이메일 발송 중..."]}):o.jsxs(o.Fragment,{children:["임시 비밀번호 이메일 보내기",o.jsx($A,{className:"w-4 h-4 ml-2"})]})})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(Ne,{to:"/login",className:"text-sm text-gray-300 hover:text-white transition-colors block",children:"로그인 페이지로 돌아가기"}),o.jsx(Ne,{to:"/register",className:"text-sm text-gray-300 hover:text-white transition-colors block",children:"계정이 없으신가요? 회원가입"})]})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-200 mb-2",children:"도움이 필요하신가요?"}),o.jsx("p",{className:"text-xs text-blue-300",children:"비밀번호 재설정 링크가 이메일로 전송되지 않는다면, 입력하신 이메일 주소가 정확한지 확인해주세요. 여전히 문제가 있다면 고객지원팀에 문의해주세요."})]})]})})},HE=()=>{const[e,t]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[i,l]=v.useState(!1),[c,u]=v.useState(!1),[f,d]=v.useState(""),[h,p]=v.useState(!1),{userEmail:y,logout:m}=Ar(),g=qt(),x=b=>{const{name:S,value:j}=b.target;t(N=>({...N,[S]:j}))},w=async b=>{if(b.preventDefault(),d(""),e.newPassword!==e.confirmPassword){d("새 비밀번호가 일치하지 않습니다.");return}if(e.newPassword.length<6){d("새 비밀번호는 최소 6자 이상이어야 합니다.");return}u(!0);try{const S=JSON.parse(localStorage.getItem("users")||"[]"),A=[{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417"},...S].find(E=>E.email===y);if(!A){d("사용자 정보를 찾을 수 없습니다."),u(!1);return}if(A.password!==e.currentPassword){d("현재 비밀번호가 올바르지 않습니다."),u(!1);return}const P=S.map(E=>E.email===y?{...E,password:e.newPassword}:E);localStorage.setItem("users",JSON.stringify(P)),u(!1),p(!0),setTimeout(()=>{g("/dashboard")},3e3)}catch(S){console.error("비밀번호 변경 오류:",S),d("비밀번호 변경 중 오류가 발생했습니다."),u(!1)}};return h?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(aa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"비밀번호 변경 완료!"}),o.jsxs("p",{className:"text-gray-300",children:["비밀번호가 성공적으로 변경되었습니다.",o.jsx("br",{}),"잠시 후 대시보드로 이동합니다."]}),o.jsx("div",{className:"pt-4",children:o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"대시보드로 이동"})})})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/dashboard",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"대시보드로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"비밀번호 변경"}),o.jsx(ua,{className:"text-gray-300",children:"보안을 위해 정기적으로 비밀번호를 변경해주세요"})]}),o.jsx(Vt,{children:o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"currentPassword",className:"text-white",children:"현재 비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"currentPassword",name:"currentPassword",type:r?"text":"password",placeholder:"현재 비밀번호를 입력하세요",value:e.currentPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>n(!r),children:r?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(pr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"newPassword",className:"text-white",children:"새 비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"newPassword",name:"newPassword",type:a?"text":"password",placeholder:"새 비밀번호를 입력하세요 (최소 6자)",value:e.newPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(pr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"confirmPassword",className:"text-white",children:"새 비밀번호 확인"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",placeholder:"새 비밀번호를 다시 입력하세요",value:e.confirmPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>l(!i),children:i?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(pr,{className:"h-4 w-4"})})]})]}),f&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:f}),o.jsx(G,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:c,children:c?"비밀번호 변경 중...":"비밀번호 변경"})]})})]})]})})},YE=ti("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:e,variant:t,...r}){return o.jsx("div",{className:_e(YE({variant:t}),e),...r})}const Fr=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",e),...t})}));Fr.displayName="Table";const Ur=v.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",e),...t}));Ur.displayName="TableHeader";const Kr=v.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...t}));Kr.displayName="TableBody";const qE=v.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qE.displayName="TableFooter";const xt=v.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));xt.displayName="TableRow";const Fe=v.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableHead";const Re=v.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Re.displayName="TableCell";const GE=v.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));GE.displayName="TableCaption";function Tm(e,[t,r]){return Math.min(r,Math.max(t,e))}var XE=v.createContext(void 0);function kh(e){const t=v.useContext(XE);return e||t||"ltr"}var ku=0;function Mh(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$m()),document.body.insertAdjacentElement("beforeend",e[1]??$m()),ku++,()=>{ku===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ku--}},[])}function $m(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mu="focusScope.autoFocusOnMount",Ru="focusScope.autoFocusOnUnmount",_m={bubbles:!1,cancelable:!0},QE="FocusScope",Ac=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=v.useState(null),u=ar(a),f=ar(s),d=v.useRef(null),h=tt(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const S=b.target;l.contains(S)?d.current=S:Pn(d.current,{select:!0})},g=function(b){if(p.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||Pn(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Pn(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),w.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){km.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Mu,_m);l.addEventListener(Mu,u),l.dispatchEvent(x),x.defaultPrevented||(JE(nD(w0(l)),{select:!0}),document.activeElement===m&&Pn(l))}return()=>{l.removeEventListener(Mu,u),setTimeout(()=>{const x=new CustomEvent(Ru,_m);l.addEventListener(Ru,f),l.dispatchEvent(x),x.defaultPrevented||Pn(m??document.body,{select:!0}),l.removeEventListener(Ru,f),km.remove(p)},0)}}},[l,u,f,p]);const y=v.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(g&&x){const w=m.currentTarget,[b,S]=ZE(w);b&&S?!m.shiftKey&&x===S?(m.preventDefault(),r&&Pn(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Pn(S,{select:!0})):x===w&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(ze.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Ac.displayName=QE;function JE(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Pn(n,{select:t}),document.activeElement!==r)return}function ZE(e){const t=w0(e),r=Im(t,e),n=Im(t.reverse(),e);return[r,n]}function w0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Im(e,t){for(const r of e)if(!eD(r,{upTo:t}))return r}function eD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tD(e){return e instanceof HTMLInputElement&&"select"in e}function Pn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tD(e)&&t&&e.select()}}var km=rD();function rD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Mm(e,t),e.unshift(t)},remove(t){var r;e=Mm(e,t),(r=e[0])==null||r.resume()}}}function Mm(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function nD(e){return e.filter(t=>t.tagName!=="A")}function j0(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ta=new WeakMap,Ai=new WeakMap,Ci={},Lu=0,S0=function(e){return e&&(e.host||S0(e.parentNode))},oD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=S0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sD=function(e,t,r,n){var a=oD(t,Array.isArray(e)?e:[e]);Ci[r]||(Ci[r]=new WeakMap);var s=Ci[r],i=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(Ta.get(h)||0)+1,g=(s.get(h)||0)+1;Ta.set(h,m),s.set(h,g),i.push(h),m===1&&y&&Ai.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),l.clear(),Lu++,function(){i.forEach(function(d){var h=Ta.get(d)-1,p=s.get(d)-1;Ta.set(d,h),s.set(d,p),h||(Ai.has(d)||d.removeAttribute(n),Ai.delete(d)),p||d.removeAttribute(r)}),Lu--,Lu||(Ta=new WeakMap,Ta=new WeakMap,Ai=new WeakMap,Ci={})}},Rh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=aD(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),sD(n,a,r,"aria-hidden")):function(){return null}},Yr=function(){return Yr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Yr.apply(this,arguments)};function N0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function iD(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Qi="right-scroll-bar-position",Ji="width-before-scroll-bar",lD="with-scroll-bars-hidden",cD="--removed-body-scroll-bar-size";function Bu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uD(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var dD=typeof window<"u"?v.useLayoutEffect:v.useEffect,Rm=new WeakMap;function fD(e,t){var r=uD(null,function(n){return e.forEach(function(a){return Bu(a,n)})});return dD(function(){var n=Rm.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||Bu(l,null)}),s.forEach(function(l){a.has(l)||Bu(l,i)})}Rm.set(r,e)},[e]),r}function hD(e){return e}function pD(e,t){t===void 0&&(t=hD);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var f=i;i=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return a}function mD(e){e===void 0&&(e={});var t=pD(null);return t.options=Yr({async:!0,ssr:!1},e),t}var A0=function(e){var t=e.sideCar,r=N0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Yr({},r))};A0.isSideCarExport=!0;function gD(e,t){return e.useMedium(t),A0}var C0=mD(),Fu=function(){},Cc=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Fu,onWheelCapture:Fu,onTouchMoveCapture:Fu}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,S=N0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=fD([r,t]),A=Yr(Yr({},S),a);return v.createElement(v.Fragment,null,f&&v.createElement(j,{sideCar:C0,removeScrollBar:u,shards:d,noRelative:p,noIsolation:y,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:b}),i?v.cloneElement(v.Children.only(l),Yr(Yr({},A),{ref:N})):v.createElement(w,Yr({},A,{className:c,ref:N}),l))});Cc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cc.classNames={fullWidth:Ji,zeroRight:Qi};var vD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vD();return t&&e.setAttribute("nonce",t),e}function xD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yD())&&(xD(t,r),bD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jD=function(){var e=wD();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},O0=function(){var e=jD(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},SD={left:0,top:0,right:0,gap:0},Uu=function(e){return parseInt(e||"",10)||0},ND=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Uu(r),Uu(n),Uu(a)]},AD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SD;var t=ND(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CD=O0(),Wa="data-scroll-locked",OD=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qi,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ji,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qi," .").concat(Qi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ji," .").concat(Ji,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat(cD,": ").concat(l,`px;
  }
`)},Lm=function(){var e=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(e)?e:0},PD=function(){v.useEffect(function(){return document.body.setAttribute(Wa,(Lm()+1).toString()),function(){var e=Lm()-1;e<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,e.toString())}},[])},ED=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;PD();var s=v.useMemo(function(){return AD(a)},[a]);return v.createElement(CD,{styles:OD(s,!t,a,r?"":"!important")})},kd=!1;if(typeof window<"u")try{var Oi=Object.defineProperty({},"passive",{get:function(){return kd=!0,!0}});window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{kd=!1}var $a=kd?{passive:!1}:!1,DD=function(e){return e.tagName==="TEXTAREA"},P0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DD(e)&&r[t]==="visible")},TD=function(e){return P0(e,"overflowY")},$D=function(e){return P0(e,"overflowX")},Bm=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=E0(e,n);if(a){var s=D0(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_D=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ID=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},E0=function(e,t){return e==="v"?TD(t):$D(t)},D0=function(e,t){return e==="v"?_D(t):ID(t)},kD=function(e,t){return e==="h"&&t==="rtl"?-1:1},MD=function(e,t,r,n,a){var s=kD(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{if(!l)break;var p=D0(e,l),y=p[0],m=p[1],g=p[2],x=m-g-s*y;(y||x)&&E0(e,l)&&(d+=x,h+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},Pi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fm=function(e){return[e.deltaX,e.deltaY]},Um=function(e){return e&&"current"in e?e.current:e},RD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BD=0,_a=[];function FD(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(BD++)[0],s=v.useState(O0)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=iD([e.lockRef.current],(e.shards||[]).map(Um),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var x=Pi(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],S="deltaY"in m?m.deltaY:w[1]-x[1],j,N=m.target,A=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&N.type==="range")return!1;var P=Bm(A,N);if(!P)return!0;if(P?j=A:(j=A==="v"?"h":"v",P=Bm(A,N)),!P)return!1;if(!n.current&&"changedTouches"in m&&(b||S)&&(n.current=j),!j)return!0;var E=n.current||j;return MD(E,g,m,E==="h"?b:S)},[]),c=v.useCallback(function(m){var g=m;if(!(!_a.length||_a[_a.length-1]!==s)){var x="deltaY"in g?Fm(g):Pi(g),w=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&RD(j.delta,x)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(Um).filter(Boolean).filter(function(j){return j.contains(g.target)}),S=b.length>0?l(g,b[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=v.useCallback(function(m,g,x,w){var b={name:m,delta:g,target:x,should:w,shadowParent:UD(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),f=v.useCallback(function(m){r.current=Pi(m),n.current=void 0},[]),d=v.useCallback(function(m){u(m.type,Fm(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,Pi(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return _a.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,$a),document.addEventListener("touchmove",c,$a),document.addEventListener("touchstart",f,$a),function(){_a=_a.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,$a),document.removeEventListener("touchmove",c,$a),document.removeEventListener("touchstart",f,$a)}},[]);var p=e.removeScrollBar,y=e.inert;return v.createElement(v.Fragment,null,y?v.createElement(s,{styles:LD(a)}):null,p?v.createElement(ED,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KD=gD(C0,FD);var Oc=v.forwardRef(function(e,t){return v.createElement(Cc,Yr({},e,{ref:t,sideCar:KD}))});Oc.classNames=Cc.classNames;var VD=[" ","Enter","ArrowUp","ArrowDown"],zD=[" ","Enter"],da="Select",[Pc,Ec,WD]=gc(da),[Eo,XZ]=rn(da,[WD,Po]),Dc=Po(),[HD,Bn]=Eo(da),[YD,qD]=Eo(da),T0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:y}=e,m=Dc(t),[g,x]=v.useState(null),[w,b]=v.useState(null),[S,j]=v.useState(!1),N=kh(u),[A,P]=sa({prop:n,defaultProp:a??!1,onChange:s,caller:da}),[E,B]=sa({prop:i,defaultProp:l,onChange:c,caller:da}),_=v.useRef(null),C=g?y||!!g.closest("form"):!0,[U,I]=v.useState(new Set),F=Array.from(U).map($=>$.props.value).join(";");return o.jsx(Zb,{...m,children:o.jsxs(HD,{required:p,scope:t,trigger:g,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:pn(),value:E,onValueChange:B,open:A,onOpenChange:P,dir:N,triggerPointerDownPosRef:_,disabled:h,children:[o.jsx(Pc.Provider,{scope:t,children:o.jsx(YD,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback($=>{I(O=>new Set(O).add($))},[]),onNativeOptionRemove:v.useCallback($=>{I(O=>{const k=new Set(O);return k.delete($),k})},[]),children:r})}),C?o.jsxs(tw,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:E,onChange:$=>B($.target.value),disabled:h,form:y,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(U)]},F):null]})})};T0.displayName=da;var $0="SelectTrigger",_0=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Dc(r),i=Bn($0,r),l=i.disabled||n,c=tt(t,i.onTriggerChange),u=Ec(r),f=v.useRef("touch"),[d,h,p]=nw(m=>{const g=u().filter(b=>!b.disabled),x=g.find(b=>b.value===i.value),w=aw(g,m,x);w!==void 0&&i.onValueChange(w.value)}),y=m=>{l||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Dh,{asChild:!0,...s,children:o.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rw(i.value)?"":void 0,...a,ref:c,onClick:Se(a.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&y(m)}),onPointerDown:Se(a.onPointerDown,m=>{f.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Se(a.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&VD.includes(m.key)&&(y(),m.preventDefault())})})})});_0.displayName=$0;var I0="SelectValue",k0=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Bn(I0,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=tt(t,c.onValueNodeChange);return Yt(()=>{u(f)},[u,f]),o.jsx(ze.span,{...l,ref:d,style:{pointerEvents:"none"},children:rw(c.value)?o.jsx(o.Fragment,{children:i}):s})});k0.displayName=I0;var GD="SelectIcon",M0=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});M0.displayName=GD;var XD="SelectPortal",R0=e=>o.jsx(Zs,{asChild:!0,...e});R0.displayName=XD;var fa="SelectContent",L0=v.forwardRef((e,t)=>{const r=Bn(fa,e.__scopeSelect),[n,a]=v.useState();if(Yt(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?So.createPortal(o.jsx(B0,{scope:e.__scopeSelect,children:o.jsx(Pc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(F0,{...e,ref:t})});L0.displayName=fa;var Tr=10,[B0,Fn]=Eo(fa),QD="SelectContentImpl",JD=oa("SelectContent.RemoveScroll"),F0=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...x}=e,w=Bn(fa,r),[b,S]=v.useState(null),[j,N]=v.useState(null),A=tt(t,pe=>S(pe)),[P,E]=v.useState(null),[B,_]=v.useState(null),C=Ec(r),[U,I]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(b)return Rh(b)},[b]),Mh();const $=v.useCallback(pe=>{const[M,...L]=C().map(V=>V.ref.current),[R]=L.slice(-1),H=document.activeElement;for(const V of pe)if(V===H||(V==null||V.scrollIntoView({block:"nearest"}),V===M&&j&&(j.scrollTop=0),V===R&&j&&(j.scrollTop=j.scrollHeight),V==null||V.focus(),document.activeElement!==H))return},[C,j]),O=v.useCallback(()=>$([P,b]),[$,P,b]);v.useEffect(()=>{U&&O()},[U,O]);const{onOpenChange:k,triggerPointerDownPosRef:D}=w;v.useEffect(()=>{if(b){let pe={x:0,y:0};const M=R=>{var H,V;pe={x:Math.abs(Math.round(R.pageX)-(((H=D.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(R.pageY)-(((V=D.current)==null?void 0:V.y)??0))}},L=R=>{pe.x<=10&&pe.y<=10?R.preventDefault():b.contains(R.target)||k(!1),document.removeEventListener("pointermove",M),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",L,{capture:!0})}}},[b,k,D]),v.useEffect(()=>{const pe=()=>k(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[k]);const[q,Z]=nw(pe=>{const M=C().filter(H=>!H.disabled),L=M.find(H=>H.ref.current===document.activeElement),R=aw(M,pe,L);R&&setTimeout(()=>R.ref.current.focus())}),Q=v.useCallback((pe,M,L)=>{const R=!F.current&&!L;(w.value!==void 0&&w.value===M||R)&&(E(pe),R&&(F.current=!0))},[w.value]),ne=v.useCallback(()=>b==null?void 0:b.focus(),[b]),te=v.useCallback((pe,M,L)=>{const R=!F.current&&!L;(w.value!==void 0&&w.value===M||R)&&_(pe)},[w.value]),Oe=n==="popper"?Md:U0,Le=Oe===Md?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return o.jsx(B0,{scope:r,content:b,viewport:j,onViewportChange:N,itemRefCallback:Q,selectedItem:P,onItemLeave:ne,itemTextRefCallback:te,focusSelectedItem:O,selectedItemText:B,position:n,isPositioned:U,searchRef:q,children:o.jsx(Oc,{as:JD,allowPinchZoom:!0,children:o.jsx(Ac,{asChild:!0,trapped:w.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Se(a,pe=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),pe.preventDefault()}),children:o.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Oe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:pe=>pe.preventDefault(),...x,...Le,onPlaced:()=>I(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Se(x.onKeyDown,pe=>{const M=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!M&&pe.key.length===1&&Z(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let R=C().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const H=pe.target,V=R.indexOf(H);R=R.slice(V+1)}setTimeout(()=>$(R)),pe.preventDefault()}})})})})})})});F0.displayName=QD;var ZD="SelectItemAlignedPosition",U0=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Bn(fa,r),i=Fn(fa,r),[l,c]=v.useState(null),[u,f]=v.useState(null),d=tt(t,A=>f(A)),h=Ec(r),p=v.useRef(!1),y=v.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:x,focusSelectedItem:w}=i,b=v.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&g&&x){const A=s.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),B=x.getBoundingClientRect();if(s.dir!=="rtl"){const H=B.left-P.left,V=E.left-H,le=A.left-V,he=A.width+le,we=Math.max(he,P.width),se=window.innerWidth-Tr,Te=Tm(V,[Tr,Math.max(Tr,se-we)]);l.style.minWidth=he+"px",l.style.left=Te+"px"}else{const H=P.right-B.right,V=window.innerWidth-E.right-H,le=window.innerWidth-A.right-V,he=A.width+le,we=Math.max(he,P.width),se=window.innerWidth-Tr,Te=Tm(V,[Tr,Math.max(Tr,se-we)]);l.style.minWidth=he+"px",l.style.right=Te+"px"}const _=h(),C=window.innerHeight-Tr*2,U=m.scrollHeight,I=window.getComputedStyle(u),F=parseInt(I.borderTopWidth,10),$=parseInt(I.paddingTop,10),O=parseInt(I.borderBottomWidth,10),k=parseInt(I.paddingBottom,10),D=F+$+U+k+O,q=Math.min(g.offsetHeight*5,D),Z=window.getComputedStyle(m),Q=parseInt(Z.paddingTop,10),ne=parseInt(Z.paddingBottom,10),te=A.top+A.height/2-Tr,Oe=C-te,Le=g.offsetHeight/2,pe=g.offsetTop+Le,M=F+$+pe,L=D-M;if(M<=te){const H=_.length>0&&g===_[_.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-m.offsetTop-m.offsetHeight,le=Math.max(Oe,Le+(H?ne:0)+V+O),he=M+le;l.style.height=he+"px"}else{const H=_.length>0&&g===_[0].ref.current;l.style.top="0px";const le=Math.max(te,F+m.offsetTop+(H?Q:0)+Le)+L;l.style.height=le+"px",m.scrollTop=M-te+m.offsetTop}l.style.margin=`${Tr}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,g,x,s.dir,n]);Yt(()=>b(),[b]);const[S,j]=v.useState();Yt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(A=>{A&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return o.jsx(tT,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(ze.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});U0.displayName=ZD;var eT="SelectPopperPosition",Md=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Tr,...s}=e,i=Dc(r);return o.jsx(Th,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Md.displayName=eT;var[tT,Lh]=Eo(fa,{}),Rd="SelectViewport",K0=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Fn(Rd,r),i=Lh(Rd,r),l=tt(t,s.onViewportChange),c=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Pc.Slot,{scope:r,children:o.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Se(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const y=window.innerHeight-Tr*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),x=Math.max(m,g);if(x<y){const w=x+p,b=Math.min(y,w),S=w-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});K0.displayName=Rd;var V0="SelectGroup",[rT,nT]=Eo(V0),aT=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=pn();return o.jsx(rT,{scope:r,id:a,children:o.jsx(ze.div,{role:"group","aria-labelledby":a,...n,ref:t})})});aT.displayName=V0;var z0="SelectLabel",W0=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=nT(z0,r);return o.jsx(ze.div,{id:a.id,...n,ref:t})});W0.displayName=z0;var cl="SelectItem",[oT,H0]=Eo(cl),Y0=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Bn(cl,r),c=Fn(cl,r),u=l.value===n,[f,d]=v.useState(s??""),[h,p]=v.useState(!1),y=tt(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,a)}),m=pn(),g=v.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(oT,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:v.useCallback(w=>{d(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Pc.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:o.jsx(ze.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:Se(i.onFocus,()=>p(!0)),onBlur:Se(i.onBlur,()=>p(!1)),onClick:Se(i.onClick,()=>{g.current!=="mouse"&&x()}),onPointerUp:Se(i.onPointerUp,()=>{g.current==="mouse"&&x()}),onPointerDown:Se(i.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:Se(i.onPointerMove,w=>{var b;g.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Se(i.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(zD.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Y0.displayName=cl;var ns="SelectItemText",q0=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Bn(ns,r),l=Fn(ns,r),c=H0(ns,r),u=qD(ns,r),[f,d]=v.useState(null),h=tt(t,x=>d(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),p=f==null?void 0:f.textContent,y=v.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Yt(()=>(m(y),()=>g(y)),[m,g,y]),o.jsxs(o.Fragment,{children:[o.jsx(ze.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?So.createPortal(s.children,i.valueNode):null]})});q0.displayName=ns;var G0="SelectItemIndicator",X0=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return H0(G0,r).isSelected?o.jsx(ze.span,{"aria-hidden":!0,...n,ref:t}):null});X0.displayName=G0;var Ld="SelectScrollUpButton",Q0=v.forwardRef((e,t)=>{const r=Fn(Ld,e.__scopeSelect),n=Lh(Ld,e.__scopeSelect),[a,s]=v.useState(!1),i=tt(t,n.onScrollButtonChange);return Yt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(Z0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Q0.displayName=Ld;var Bd="SelectScrollDownButton",J0=v.forwardRef((e,t)=>{const r=Fn(Bd,e.__scopeSelect),n=Lh(Bd,e.__scopeSelect),[a,s]=v.useState(!1),i=tt(t,n.onScrollButtonChange);return Yt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(Z0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});J0.displayName=Bd;var Z0=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Fn("SelectScrollButton",r),i=v.useRef(null),l=Ec(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Yt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Se(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Se(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Se(a.onPointerLeave,()=>{c()})})}),sT="SelectSeparator",ew=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ze.div,{"aria-hidden":!0,...n,ref:t})});ew.displayName=sT;var Fd="SelectArrow",iT=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Dc(r),s=Bn(Fd,r),i=Fn(Fd,r);return s.open&&i.position==="popper"?o.jsx($h,{...a,...n,ref:t}):null});iT.displayName=Fd;var lT="SelectBubbleInput",tw=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),s=tt(n,a),i=j0(t);return v.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[i,t]),o.jsx(ze.select,{...r,style:{...sb,...r.style},ref:s,defaultValue:t})});tw.displayName=lT;function rw(e){return e===""||e===void 0}function nw(e){const t=ar(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function aw(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=cT(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function cT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uT=T0,ow=_0,dT=k0,fT=M0,hT=R0,sw=L0,pT=K0,iw=W0,lw=Y0,mT=q0,gT=X0,cw=Q0,uw=J0,dw=ew;const Bt=uT,Ft=dT,_t=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ow,{ref:n,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(fT,{asChild:!0,children:o.jsx(Gx,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=ow.displayName;const fw=v.forwardRef(({className:e,...t},r)=>o.jsx(cw,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_A,{className:"h-4 w-4"})}));fw.displayName=cw.displayName;const hw=v.forwardRef(({className:e,...t},r)=>o.jsx(uw,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Gx,{className:"h-4 w-4"})}));hw.displayName=uw.displayName;const It=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(hT,{children:o.jsxs(sw,{ref:a,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(fw,{}),o.jsx(pT,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(hw,{})]})}));It.displayName=sw.displayName;const vT=v.forwardRef(({className:e,...t},r)=>o.jsx(iw,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vT.displayName=iw.displayName;const et=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(lw,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(gT,{children:o.jsx(Xx,{className:"h-4 w-4"})})}),o.jsx(mT,{children:t})]}));et.displayName=lw.displayName;const yT=v.forwardRef(({className:e,...t},r)=>o.jsx(dw,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));yT.displayName=dw.displayName;var Ku="rovingFocusGroup.onEntryFocus",xT={bubbles:!1,cancelable:!0},ai="RovingFocusGroup",[Ud,pw,bT]=gc(ai),[wT,mw]=rn(ai,[bT]),[jT,ST]=wT(ai),gw=v.forwardRef((e,t)=>o.jsx(Ud.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ud.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(NT,{...e,ref:t})})}));gw.displayName=ai;var NT=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=v.useRef(null),p=tt(t,h),y=kh(s),[m,g]=sa({prop:i,defaultProp:l??null,onChange:c,caller:ai}),[x,w]=v.useState(!1),b=ar(u),S=pw(r),j=v.useRef(!1),[N,A]=v.useState(0);return v.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Ku,b),()=>P.removeEventListener(Ku,b)},[b]),o.jsx(jT,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:v.useCallback(P=>g(P),[g]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>A(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>A(P=>P-1),[]),children:o.jsx(ze.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{j.current=!0}),onFocus:Se(e.onFocus,P=>{const E=!j.current;if(P.target===P.currentTarget&&E&&!x){const B=new CustomEvent(Ku,xT);if(P.currentTarget.dispatchEvent(B),!B.defaultPrevented){const _=S().filter($=>$.focusable),C=_.find($=>$.active),U=_.find($=>$.id===m),F=[C,U,..._].filter(Boolean).map($=>$.ref.current);xw(F,f)}}j.current=!1}),onBlur:Se(e.onBlur,()=>w(!1))})})}),vw="RovingFocusGroupItem",yw=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=pn(),u=s||c,f=ST(vw,r),d=f.currentTabStopId===u,h=pw(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=f;return v.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),o.jsx(Ud.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(ze.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Se(e.onMouseDown,g=>{n?f.onItemFocus(u):g.preventDefault()}),onFocus:Se(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Se(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=OT(g,f.orientation,f.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const S=b.indexOf(g.currentTarget);b=f.loop?PT(b,S+1):b.slice(S+1)}setTimeout(()=>xw(b))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:m!=null}):i})})});yw.displayName=vw;var AT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OT(e,t,r){const n=CT(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return AT[n]}function xw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function PT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ET=gw,DT=yw,Kd=["Enter"," "],TT=["ArrowDown","PageUp","Home"],bw=["ArrowUp","PageDown","End"],$T=[...TT,...bw],_T={ltr:[...Kd,"ArrowRight"],rtl:[...Kd,"ArrowLeft"]},IT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},oi="Menu",[ms,kT,MT]=gc(oi),[ja,ww]=rn(oi,[MT,Po,mw]),Tc=Po(),jw=mw(),[RT,Sa]=ja(oi),[LT,si]=ja(oi),Sw=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=Tc(t),[c,u]=v.useState(null),f=v.useRef(!1),d=ar(s),h=kh(a);return v.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(Zb,{...l,children:o.jsx(RT,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:o.jsx(LT,{scope:t,onClose:v.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};Sw.displayName=oi;var BT="MenuAnchor",Bh=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Tc(r);return o.jsx(Dh,{...a,...n,ref:t})});Bh.displayName=BT;var Fh="MenuPortal",[FT,Nw]=ja(Fh,{forceMount:void 0}),Aw=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Sa(Fh,t);return o.jsx(FT,{scope:t,forceMount:r,children:o.jsx(nn,{present:r||s.open,children:o.jsx(Zs,{asChild:!0,container:a,children:n})})})};Aw.displayName=Fh;var wr="MenuContent",[UT,Uh]=ja(wr),Cw=v.forwardRef((e,t)=>{const r=Nw(wr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Sa(wr,e.__scopeMenu),i=si(wr,e.__scopeMenu);return o.jsx(ms.Provider,{scope:e.__scopeMenu,children:o.jsx(nn,{present:n||s.open,children:o.jsx(ms.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(KT,{...a,ref:t}):o.jsx(VT,{...a,ref:t})})})})}),KT=v.forwardRef((e,t)=>{const r=Sa(wr,e.__scopeMenu),n=v.useRef(null),a=tt(t,n);return v.useEffect(()=>{const s=n.current;if(s)return Rh(s)},[]),o.jsx(Kh,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),VT=v.forwardRef((e,t)=>{const r=Sa(wr,e.__scopeMenu);return o.jsx(Kh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),zT=oa("MenuContent.ScrollLock"),Kh=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,g=Sa(wr,r),x=si(wr,r),w=Tc(r),b=jw(r),S=kT(r),[j,N]=v.useState(null),A=v.useRef(null),P=tt(t,A,g.onContentChange),E=v.useRef(0),B=v.useRef(""),_=v.useRef(0),C=v.useRef(null),U=v.useRef("right"),I=v.useRef(0),F=y?Oc:v.Fragment,$=y?{as:zT,allowPinchZoom:!0}:void 0,O=D=>{var pe,M;const q=B.current+D,Z=S().filter(L=>!L.disabled),Q=document.activeElement,ne=(pe=Z.find(L=>L.ref.current===Q))==null?void 0:pe.textValue,te=Z.map(L=>L.textValue),Oe=r$(te,q,ne),Le=(M=Z.find(L=>L.textValue===Oe))==null?void 0:M.ref.current;(function L(R){B.current=R,window.clearTimeout(E.current),R!==""&&(E.current=window.setTimeout(()=>L(""),1e3))})(q),Le&&setTimeout(()=>Le.focus())};v.useEffect(()=>()=>window.clearTimeout(E.current),[]),Mh();const k=v.useCallback(D=>{var Z,Q;return U.current===((Z=C.current)==null?void 0:Z.side)&&a$(D,(Q=C.current)==null?void 0:Q.area)},[]);return o.jsx(UT,{scope:r,searchRef:B,onItemEnter:v.useCallback(D=>{k(D)&&D.preventDefault()},[k]),onItemLeave:v.useCallback(D=>{var q;k(D)||((q=A.current)==null||q.focus(),N(null))},[k]),onTriggerLeave:v.useCallback(D=>{k(D)&&D.preventDefault()},[k]),pointerGraceTimerRef:_,onPointerGraceIntentChange:v.useCallback(D=>{C.current=D},[]),children:o.jsx(F,{...$,children:o.jsx(Ac,{asChild:!0,trapped:a,onMountAutoFocus:Se(s,D=>{var q;D.preventDefault(),(q=A.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:o.jsx(ET,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:Se(c,D=>{x.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Th,{role:"menu","aria-orientation":"vertical","data-state":Kw(g.open),"data-radix-menu-content":"",dir:x.dir,...w,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:Se(m.onKeyDown,D=>{const Z=D.target.closest("[data-radix-menu-content]")===D.currentTarget,Q=D.ctrlKey||D.altKey||D.metaKey,ne=D.key.length===1;Z&&(D.key==="Tab"&&D.preventDefault(),!Q&&ne&&O(D.key));const te=A.current;if(D.target!==te||!$T.includes(D.key))return;D.preventDefault();const Le=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);bw.includes(D.key)&&Le.reverse(),e$(Le)}),onBlur:Se(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(E.current),B.current="")}),onPointerMove:Se(e.onPointerMove,gs(D=>{const q=D.target,Z=I.current!==D.clientX;if(D.currentTarget.contains(q)&&Z){const Q=D.clientX>I.current?"right":"left";U.current=Q,I.current=D.clientX}}))})})})})})})});Cw.displayName=wr;var WT="MenuGroup",Vh=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{role:"group",...n,ref:t})});Vh.displayName=WT;var HT="MenuLabel",Ow=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});Ow.displayName=HT;var ul="MenuItem",Km="menu.itemSelect",$c=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=v.useRef(null),i=si(ul,e.__scopeMenu),l=Uh(ul,e.__scopeMenu),c=tt(t,s),u=v.useRef(!1),f=()=>{const d=s.current;if(!r&&d){const h=new CustomEvent(Km,{bubbles:!0,cancelable:!0});d.addEventListener(Km,p=>n==null?void 0:n(p),{once:!0}),yh(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(Pw,{...a,ref:c,disabled:r,onClick:Se(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:Se(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Se(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Kd.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});$c.displayName=ul;var Pw=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=Uh(ul,r),l=jw(r),c=v.useRef(null),u=tt(t,c),[f,d]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[s.children]),o.jsx(ms.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(DT,{asChild:!0,...l,focusable:!n,children:o.jsx(ze.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Se(e.onPointerMove,gs(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(e.onPointerLeave,gs(y=>i.onItemLeave(y))),onFocus:Se(e.onFocus,()=>d(!0)),onBlur:Se(e.onBlur,()=>d(!1))})})})}),YT="MenuCheckboxItem",Ew=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(Iw,{scope:e.__scopeMenu,checked:r,children:o.jsx($c,{role:"menuitemcheckbox","aria-checked":dl(r)?"mixed":r,...a,ref:t,"data-state":Wh(r),onSelect:Se(a.onSelect,()=>n==null?void 0:n(dl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ew.displayName=YT;var Dw="MenuRadioGroup",[qT,GT]=ja(Dw,{value:void 0,onValueChange:()=>{}}),Tw=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=ar(n);return o.jsx(qT,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(Vh,{...a,ref:t})})});Tw.displayName=Dw;var $w="MenuRadioItem",_w=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=GT($w,e.__scopeMenu),s=r===a.value;return o.jsx(Iw,{scope:e.__scopeMenu,checked:s,children:o.jsx($c,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":Wh(s),onSelect:Se(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});_w.displayName=$w;var zh="MenuItemIndicator",[Iw,XT]=ja(zh,{checked:!1}),kw=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=XT(zh,r);return o.jsx(nn,{present:n||dl(s.checked)||s.checked===!0,children:o.jsx(ze.span,{...a,ref:t,"data-state":Wh(s.checked)})})});kw.displayName=zh;var QT="MenuSeparator",Mw=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Mw.displayName=QT;var JT="MenuArrow",Rw=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Tc(r);return o.jsx($h,{...a,...n,ref:t})});Rw.displayName=JT;var ZT="MenuSub",[QZ,Lw]=ja(ZT),as="MenuSubTrigger",Bw=v.forwardRef((e,t)=>{const r=Sa(as,e.__scopeMenu),n=si(as,e.__scopeMenu),a=Lw(as,e.__scopeMenu),s=Uh(as,e.__scopeMenu),i=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=v.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return v.useEffect(()=>f,[f]),v.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),o.jsx(Bh,{asChild:!0,...u,children:o.jsx(Pw,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Kw(r.open),...e,ref:mc(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(e.onPointerMove,gs(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Se(e.onPointerLeave,gs(d=>{var p,y;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,g=m==="right",x=g?-5:5,w=h[g?"left":"right"],b=h[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(e.onKeyDown,d=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||_T[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});Bw.displayName=as;var Fw="MenuSubContent",Uw=v.forwardRef((e,t)=>{const r=Nw(wr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Sa(wr,e.__scopeMenu),i=si(wr,e.__scopeMenu),l=Lw(Fw,e.__scopeMenu),c=v.useRef(null),u=tt(t,c);return o.jsx(ms.Provider,{scope:e.__scopeMenu,children:o.jsx(nn,{present:n||s.open,children:o.jsx(ms.Slot,{scope:e.__scopeMenu,children:o.jsx(Kh,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Se(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Se(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=IT[i.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});Uw.displayName=Fw;function Kw(e){return e?"open":"closed"}function dl(e){return e==="indeterminate"}function Wh(e){return dl(e)?"indeterminate":e?"checked":"unchecked"}function e$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function t$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function r$(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=t$(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function n$(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function a$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return n$(r,t)}function gs(e){return t=>t.pointerType==="mouse"?e(t):void 0}var o$=Sw,s$=Bh,i$=Aw,l$=Cw,c$=Vh,u$=Ow,d$=$c,f$=Ew,h$=Tw,p$=_w,m$=kw,g$=Mw,v$=Rw,y$=Bw,x$=Uw,_c="DropdownMenu",[b$,JZ]=rn(_c,[ww]),tr=ww(),[w$,Vw]=b$(_c),zw=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=tr(t),u=v.useRef(null),[f,d]=sa({prop:a,defaultProp:s??!1,onChange:i,caller:_c});return o.jsx(w$,{scope:t,triggerId:pn(),triggerRef:u,contentId:pn(),open:f,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:l,children:o.jsx(o$,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};zw.displayName=_c;var Ww="DropdownMenuTrigger",Hw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=Vw(Ww,r),i=tr(r);return o.jsx(s$,{asChild:!0,...i,children:o.jsx(ze.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:mc(t,s.triggerRef),onPointerDown:Se(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Se(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Hw.displayName=Ww;var j$="DropdownMenuPortal",Yw=e=>{const{__scopeDropdownMenu:t,...r}=e,n=tr(t);return o.jsx(i$,{...n,...r})};Yw.displayName=j$;var qw="DropdownMenuContent",Gw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Vw(qw,r),s=tr(r),i=v.useRef(!1);return o.jsx(l$,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Se(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gw.displayName=qw;var S$="DropdownMenuGroup",N$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(c$,{...a,...n,ref:t})});N$.displayName=S$;var A$="DropdownMenuLabel",Xw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(u$,{...a,...n,ref:t})});Xw.displayName=A$;var C$="DropdownMenuItem",Qw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(d$,{...a,...n,ref:t})});Qw.displayName=C$;var O$="DropdownMenuCheckboxItem",Jw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(f$,{...a,...n,ref:t})});Jw.displayName=O$;var P$="DropdownMenuRadioGroup",E$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(h$,{...a,...n,ref:t})});E$.displayName=P$;var D$="DropdownMenuRadioItem",Zw=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(p$,{...a,...n,ref:t})});Zw.displayName=D$;var T$="DropdownMenuItemIndicator",ej=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(m$,{...a,...n,ref:t})});ej.displayName=T$;var $$="DropdownMenuSeparator",tj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(g$,{...a,...n,ref:t})});tj.displayName=$$;var _$="DropdownMenuArrow",I$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(v$,{...a,...n,ref:t})});I$.displayName=_$;var k$="DropdownMenuSubTrigger",rj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(y$,{...a,...n,ref:t})});rj.displayName=k$;var M$="DropdownMenuSubContent",nj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(x$,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nj.displayName=M$;var R$=zw,L$=Hw,B$=Yw,aj=Gw,oj=Xw,sj=Qw,ij=Jw,lj=Zw,cj=ej,uj=tj,dj=rj,fj=nj;const ha=R$,pa=L$,F$=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(dj,{ref:a,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(IA,{className:"ml-auto h-4 w-4"})]}));F$.displayName=dj.displayName;const U$=v.forwardRef(({className:e,...t},r)=>o.jsx(fj,{ref:r,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));U$.displayName=fj.displayName;const Ln=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(B$,{children:o.jsx(aj,{ref:n,sideOffset:t,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ln.displayName=aj.displayName;const lt=v.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(sj,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));lt.displayName=sj.displayName;const K$=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(ij,{ref:a,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cj,{children:o.jsx(Xx,{className:"h-4 w-4"})})}),t]}));K$.displayName=ij.displayName;const V$=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(lj,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cj,{children:o.jsx(kA,{className:"h-2 w-2 fill-current"})})}),t]}));V$.displayName=lj.displayName;const z$=v.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(oj,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));z$.displayName=oj.displayName;const Do=v.forwardRef(({className:e,...t},r)=>o.jsx(uj,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));Do.displayName=uj.displayName;const W$=()=>{const{isLoggedIn:e,userEmail:t,userRole:r}=Ar(),[n,a]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState(""),[u,f]=v.useState("all"),[d,h]=v.useState("all"),[p,y]=v.useState(!1),[m,g]=v.useState(!1),[x,w]=v.useState(null),[b,S]=v.useState(""),[j,N]=v.useState("");v.useEffect(()=>{(()=>{y(r==="admin")})()},[r]),v.useEffect(()=>{const O={id:"admin-1",name:"관리자",email:"ju9511503@gmail.com",role:"admin",status:"active",joinDate:"2025-01-01",lastLogin:"2025-01-10",startDate:"2025-01-01",endDate:"2025-12-31"},k=JSON.parse(localStorage.getItem("users")||"[]"),D=k.length===0?{id:"test-1",name:"테스트 사용자",email:"test@example.com",password:"test123",role:"user",status:"active",joinDate:Ge(),lastLogin:"",startDate:Ge(),endDate:(()=>{const Z=new Date;return Z.setDate(Z.getDate()+30),Z.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})})()}:null,q=[O,...k,...D?[D]:[]];D&&localStorage.setItem("users",JSON.stringify([D])),a(q),i(q),setTimeout(()=>{const Z=Ge(),Q=q.map(te=>te.role==="admin"?te:te.endDate&&te.endDate<Z&&te.status==="active"?{...te,status:"inactive"}:te);if(Q.some(te=>te.role!=="admin"&&te.endDate&&te.endDate<Z&&te.status==="inactive")){a(Q),i(Q);const te=Q.filter(Oe=>Oe.id!=="admin-1");localStorage.setItem("users",JSON.stringify(te)),setTimeout(()=>{alert("만료된 사용자가 자동으로 비활성화되었습니다.")},100)}},100)},[]),v.useEffect(()=>{let O=n;l&&(O=O.filter(k=>k.name.toLowerCase().includes(l.toLowerCase())||k.email.toLowerCase().includes(l.toLowerCase()))),u!=="all"&&(O=O.filter(k=>k.status===u)),d!=="all"&&(O=O.filter(k=>k.role===d)),i(O)},[n,l,u,d]);const A=(O,k)=>{a(D=>D.map(q=>q.id===O?{...q,role:k}:q))},P=(O,k)=>{const D=n.map(Z=>Z.id===O?{...Z,status:k}:Z);a(D),i(D);const q=D.filter(Z=>Z.id!=="admin-1");localStorage.setItem("users",JSON.stringify(q))},E=O=>{console.log(`✅ 사용자 승인: ${O}`),P(O,"active")},B=O=>{console.log(`❌ 사용자 거부: ${O}`),P(O,"inactive")},_=O=>{w(O),S(O.startDate||""),N(O.endDate||""),g(!0)},C=()=>{if(!x)return;const O=n.map(D=>D.id===x.id?{...D,startDate:b,endDate:j}:D);a(O),i(O);const k=O.filter(D=>D.id!=="admin-1");localStorage.setItem("users",JSON.stringify(k)),g(!1),w(null),S(""),N("")},U=O=>{const k=n.find(ne=>ne.id===O);if(!k||!k.endDate)return;const D=new Date(k.endDate),q=new Date(D);q.setDate(q.getDate()+30);const Z=n.map(ne=>ne.id===O?{...ne,endDate:q.toISOString().split("T")[0]}:ne);a(Z),i(Z);const Q=Z.filter(ne=>ne.id!=="admin-1");localStorage.setItem("users",JSON.stringify(Q))};v.useCallback(()=>{const O=Ge();a(k=>{const D=k.map(Z=>Z.role==="admin"?Z:Z.endDate&&Z.endDate<O&&Z.status==="active"?{...Z,status:"inactive"}:Z);if(D.some(Z=>Z.role!=="admin"&&Z.endDate&&Z.endDate<O&&Z.status==="inactive")){const Z=D.filter(Q=>Q.id!=="admin-1");localStorage.setItem("users",JSON.stringify(Z)),setTimeout(()=>{alert("만료된 사용자가 자동으로 비활성화되었습니다.")},100)}return D}),i(k=>k.map(q=>q.role==="admin"?q:q.endDate&&q.endDate<O&&q.status==="active"?{...q,status:"inactive"}:q))},[]);const I=O=>{try{if(O.role==="admin")return{status:"permanent",message:"영구",color:"text-purple-400"};if(!O.endDate)return{status:"none",message:"미설정",color:"text-gray-400"};const k=new Date,D=new Date(O.endDate),q=Math.ceil((D.getTime()-k.getTime())/(1e3*60*60*24));return q<0?{status:"expired",message:"만료됨",color:"text-red-400"}:q<=7?{status:"warning",message:`${q}일 남음`,color:"text-yellow-400"}:{status:"active",message:`${q}일 남음`,color:"text-green-400"}}catch(k){return console.error("getPeriodStatus 오류:",k),{status:"error",message:"오류",color:"text-red-400"}}},F=O=>{switch(O){case"active":return o.jsx(Ve,{className:"bg-green-500 text-white",children:"활성"});case"inactive":return o.jsx(Ve,{className:"bg-red-500 text-white",children:"비활성"});case"pending":return o.jsx(Ve,{className:"bg-yellow-500 text-white",children:"대기중"});default:return o.jsx(Ve,{variant:"secondary",children:O})}},$=O=>{switch(O){case"admin":return o.jsx(Ve,{className:"bg-purple-500 text-white",children:"관리자"});case"user":return o.jsx(Ve,{className:"bg-blue-500 text-white",children:"사용자"});default:return o.jsx(Ve,{variant:"secondary",children:O})}};return!e||!p?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(bi,{className:"w-16 h-16 text-red-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"접근 권한 없음"}),o.jsx("p",{className:"text-gray-300",children:"이 페이지는 관리자만 접근할 수 있습니다."}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsx(Ne,{to:"/system",children:o.jsx(G,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"시스템으로 돌아가기"})}),o.jsx(Ne,{to:"/",children:o.jsx(G,{variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:"홈으로 돌아가기"})})]})]})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ne,{to:"/system",children:o.jsxs(G,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"시스템으로 돌아가기"]})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[o.jsx(Zr,{className:"w-8 h-8 mr-3"}),"회원 관리"]}),o.jsx("p",{className:"text-gray-300",children:"사용자 계정을 관리하고 권한을 설정하세요"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"총 사용자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.length})]}),o.jsx(Zr,{className:"w-8 h-8 text-blue-400"})]})})}),o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"활성 사용자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>O.status==="active").length})]}),o.jsx(Ou,{className:"w-8 h-8 text-green-400"})]})})}),o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"대기중"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>O.status==="pending").length})]}),o.jsx(No,{className:"w-8 h-8 text-yellow-400"})]})})}),o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"관리자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>O.role==="admin").length})]}),o.jsx(MA,{className:"w-8 h-8 text-purple-400"})]})})}),o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"만료 예정"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(O=>{if(!O.endDate)return!1;const k=new Date,D=new Date(O.endDate),q=Math.ceil((D.getTime()-k.getTime())/(1e3*60*60*24));return q<=7&&q>0}).length})]}),o.jsx(jd,{className:"w-8 h-8 text-orange-400"})]})})})]}),o.jsx(je,{className:"bg-white/10 backdrop-blur-md border-white/20 mb-6",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(vh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(yt,{placeholder:"사용자 이름 또는 이메일로 검색...",value:l,onChange:O=>c(O.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Bt,{value:u,onValueChange:f,children:[o.jsx(_t,{className:"w-32 bg-white/10 border-white/20 text-white",children:o.jsx(Ft,{placeholder:"상태"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체 상태"}),o.jsx(et,{value:"active",children:"활성"}),o.jsx(et,{value:"inactive",children:"비활성"}),o.jsx(et,{value:"pending",children:"대기중"})]})]}),o.jsxs(Bt,{value:d,onValueChange:h,children:[o.jsx(_t,{className:"w-32 bg-white/10 border-white/20 text-white",children:o.jsx(Ft,{placeholder:"역할"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체 역할"}),o.jsx(et,{value:"admin",children:"관리자"}),o.jsx(et,{value:"user",children:"사용자"})]})]})]})]})})}),o.jsxs(je,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{children:[o.jsx(ca,{className:"text-white",children:"사용자 목록"}),o.jsxs(ua,{className:"text-gray-300",children:["총 ",s.length,"명의 사용자가 표시됩니다"]})]}),o.jsx(Vt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(xt,{className:"border-white/20",children:[o.jsx(Fe,{className:"text-white",children:"사용자"}),o.jsx(Fe,{className:"text-white",children:"역할"}),o.jsx(Fe,{className:"text-white",children:"상태"}),o.jsx(Fe,{className:"text-white",children:"사용기간"}),o.jsx(Fe,{className:"text-white",children:"가입일"}),o.jsx(Fe,{className:"text-white",children:"마지막 로그인"}),o.jsx(Fe,{className:"text-white",children:"작업"})]})}),o.jsx(Kr,{children:s.map(O=>o.jsxs(xt,{className:"border-white/20 hover:bg-white/5",children:[o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-medium",children:O.name.charAt(0)})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:O.name}),o.jsxs("p",{className:"text-gray-400 text-sm flex items-center",children:[o.jsx(Sd,{className:"w-3 h-3 mr-1"}),O.email]})]})]})}),o.jsx(Re,{children:$(O.role)}),o.jsx(Re,{children:F(O.status)}),o.jsx(Re,{children:o.jsxs("div",{className:"space-y-1",children:[O.role==="admin"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bi,{className:"w-3 h-3"}),o.jsx("span",{className:`text-xs ${I(O).color}`,children:I(O).message})]}):O.endDate?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(RA,{className:"w-3 h-3"}),o.jsx("span",{className:`text-xs ${I(O).color}`,children:I(O).message})]}):o.jsx("span",{className:"text-xs text-gray-400",children:"미설정"}),O.role!=="admin"&&O.endDate&&o.jsxs("div",{className:"text-xs text-gray-400",children:["~",O.endDate]})]})}),o.jsx(Re,{className:"text-gray-300",children:O.joinDate}),o.jsx(Re,{className:"text-gray-300",children:O.lastLogin}),o.jsx(Re,{children:o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsx(G,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10","aria-label":"더보기 메뉴",title:"더보기 메뉴",children:o.jsx(LA,{className:"w-4 h-4"})})}),o.jsxs(Ln,{align:"end",children:[O.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(lt,{onClick:()=>E(O.id),children:[o.jsx(Ou,{className:"w-4 h-4 mr-2"}),"승인"]}),o.jsxs(lt,{onClick:()=>B(O.id),children:[o.jsx(nm,{className:"w-4 h-4 mr-2"}),"거부"]})]}),O.status!=="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(lt,{onClick:()=>P(O.id,"active"),disabled:O.status==="active",children:[o.jsx(Ou,{className:"w-4 h-4 mr-2"}),"활성화"]}),o.jsxs(lt,{onClick:()=>P(O.id,"inactive"),disabled:O.status==="inactive",children:[o.jsx(nm,{className:"w-4 h-4 mr-2"}),"비활성화"]})]}),O.role!=="admin"&&o.jsxs(lt,{onClick:()=>A(O.id,"admin"),children:[o.jsx(bi,{className:"w-4 h-4 mr-2"}),"관리자로 승격"]}),O.role==="admin"&&O.email!=="ju9511503@gmail.com"&&o.jsxs(lt,{onClick:()=>A(O.id,"user"),children:[o.jsx(bi,{className:"w-4 h-4 mr-2"}),"사용자로 변경"]}),O.role!=="admin"&&o.jsxs(lt,{onClick:()=>_(O),children:[o.jsx(BA,{className:"w-4 h-4 mr-2"}),"사용기간 설정"]}),O.role!=="admin"&&O.endDate&&o.jsxs(lt,{onClick:()=>U(O.id),children:[o.jsx(FA,{className:"w-4 h-4 mr-2"}),"30일 연장"]})]})]})})]},O.id))})]})})})]}),m&&x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(je,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md w-full mx-4",children:[o.jsxs(la,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ca,{className:"text-white",children:"사용기간 설정"}),o.jsx(G,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"text-white hover:bg-white/10",children:o.jsx(fc,{className:"w-4 h-4"})})]}),o.jsxs(ua,{className:"text-gray-300",children:[x.name," (",x.email,")"]})]}),o.jsxs(Vt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"시작일"}),o.jsx(yt,{type:"date",value:b,onChange:O=>S(O.target.value),className:"bg-white/10 border-white/20 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"종료일"}),o.jsx(yt,{type:"date",value:j,onChange:O=>N(O.target.value),className:"bg-white/10 border-white/20 text-white"})]}),b&&j&&b>j&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm",children:[o.jsx(jd,{className:"w-4 h-4"}),o.jsx("span",{children:"종료일은 시작일보다 늦어야 합니다."})]}),o.jsxs("div",{className:"flex space-x-2 pt-4",children:[o.jsx(G,{onClick:C,disabled:!b||!j||b>j,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"저장"}),o.jsx(G,{variant:"outline",onClick:()=>g(!1),className:"flex-1 bg-transparent border-white/30 text-white hover:bg-white/10",children:"취소"})]})]})]})})]})})},Vm=Object.keys(Jt);function H$(){return v.useEffect(()=>{console.log("📊 하드코딩된 카테고리 순서 사용:",Vm)},[]),o.jsx(je,{className:"p-6 mb-6",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"카테고리"}),o.jsx("div",{className:"grid grid-cols-9 gap-2",children:Vm.map(e=>o.jsx(Ne,{to:`/category/${encodeURIComponent(e)}`,children:o.jsx(Ve,{className:"cursor-pointer transition-all duration-200 w-full text-center text-sm py-2 text-muted-foreground hover:text-white hover:shadow-lg",style:{border:"none",backgroundColor:"transparent"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=Hr[e]},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:e})},e))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"💡 카테고리를 클릭하면 해당 카테고리의 채널 순위를 확인할 수 있습니다."})]})})})})}function Vu({title:e,value:t,change:r,changeLabel:n,trend:a="neutral",className:s}){const i={up:"text-success",down:"text-danger",neutral:"text-muted-foreground"},l=a==="up"?Xe:kn;return o.jsx(je,{className:_e("p-6 hover:bg-card-hover transition-colors border border-border",s),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:t}),r!==void 0&&o.jsxs("div",{className:_e("flex items-center space-x-1",i[a]),children:[a!=="neutral"&&o.jsx(l,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[r>0?"+":"",r,"%"]}),n&&o.jsx("span",{className:"text-xs text-muted-foreground",children:n})]})]})]})})}var Y$=Array.isArray,or=Y$,q$=typeof xi=="object"&&xi&&xi.Object===Object&&xi,hj=q$,G$=hj,X$=typeof self=="object"&&self&&self.Object===Object&&self,Q$=G$||X$||Function("return this")(),on=Q$,J$=on,Z$=J$.Symbol,ii=Z$,zm=ii,pj=Object.prototype,e_=pj.hasOwnProperty,t_=pj.toString,zo=zm?zm.toStringTag:void 0;function r_(e){var t=e_.call(e,zo),r=e[zo];try{e[zo]=void 0;var n=!0}catch{}var a=t_.call(e);return n&&(t?e[zo]=r:delete e[zo]),a}var n_=r_,a_=Object.prototype,o_=a_.toString;function s_(e){return o_.call(e)}var i_=s_,Wm=ii,l_=n_,c_=i_,u_="[object Null]",d_="[object Undefined]",Hm=Wm?Wm.toStringTag:void 0;function f_(e){return e==null?e===void 0?d_:u_:Hm&&Hm in Object(e)?l_(e):c_(e)}var Nn=f_;function h_(e){return e!=null&&typeof e=="object"}var An=h_,p_=Nn,m_=An,g_="[object Symbol]";function v_(e){return typeof e=="symbol"||m_(e)&&p_(e)==g_}var To=v_,y_=or,x_=To,b_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w_=/^\w*$/;function j_(e,t){if(y_(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||x_(e)?!0:w_.test(e)||!b_.test(e)||t!=null&&e in Object(t)}var Hh=j_;function S_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Un=S_;const $o=ft(Un);var N_=Nn,A_=Un,C_="[object AsyncFunction]",O_="[object Function]",P_="[object GeneratorFunction]",E_="[object Proxy]";function D_(e){if(!A_(e))return!1;var t=N_(e);return t==O_||t==P_||t==C_||t==E_}var Yh=D_;const He=ft(Yh);var T_=on,$_=T_["__core-js_shared__"],__=$_,zu=__,Ym=function(){var e=/[^.]+$/.exec(zu&&zu.keys&&zu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function I_(e){return!!Ym&&Ym in e}var k_=I_,M_=Function.prototype,R_=M_.toString;function L_(e){if(e!=null){try{return R_.call(e)}catch{}try{return e+""}catch{}}return""}var mj=L_,B_=Yh,F_=k_,U_=Un,K_=mj,V_=/[\\^$.*+?()[\]{}|]/g,z_=/^\[object .+?Constructor\]$/,W_=Function.prototype,H_=Object.prototype,Y_=W_.toString,q_=H_.hasOwnProperty,G_=RegExp("^"+Y_.call(q_).replace(V_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X_(e){if(!U_(e)||F_(e))return!1;var t=B_(e)?G_:z_;return t.test(K_(e))}var Q_=X_;function J_(e,t){return e==null?void 0:e[t]}var Z_=J_,eI=Q_,tI=Z_;function rI(e,t){var r=tI(e,t);return eI(r)?r:void 0}var Na=rI,nI=Na,aI=nI(Object,"create"),Ic=aI,qm=Ic;function oI(){this.__data__=qm?qm(null):{},this.size=0}var sI=oI;function iI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lI=iI,cI=Ic,uI="__lodash_hash_undefined__",dI=Object.prototype,fI=dI.hasOwnProperty;function hI(e){var t=this.__data__;if(cI){var r=t[e];return r===uI?void 0:r}return fI.call(t,e)?t[e]:void 0}var pI=hI,mI=Ic,gI=Object.prototype,vI=gI.hasOwnProperty;function yI(e){var t=this.__data__;return mI?t[e]!==void 0:vI.call(t,e)}var xI=yI,bI=Ic,wI="__lodash_hash_undefined__";function jI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bI&&t===void 0?wI:t,this}var SI=jI,NI=sI,AI=lI,CI=pI,OI=xI,PI=SI;function _o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_o.prototype.clear=NI;_o.prototype.delete=AI;_o.prototype.get=CI;_o.prototype.has=OI;_o.prototype.set=PI;var EI=_o;function DI(){this.__data__=[],this.size=0}var TI=DI;function $I(e,t){return e===t||e!==e&&t!==t}var qh=$I,_I=qh;function II(e,t){for(var r=e.length;r--;)if(_I(e[r][0],t))return r;return-1}var kc=II,kI=kc,MI=Array.prototype,RI=MI.splice;function LI(e){var t=this.__data__,r=kI(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():RI.call(t,r,1),--this.size,!0}var BI=LI,FI=kc;function UI(e){var t=this.__data__,r=FI(t,e);return r<0?void 0:t[r][1]}var KI=UI,VI=kc;function zI(e){return VI(this.__data__,e)>-1}var WI=zI,HI=kc;function YI(e,t){var r=this.__data__,n=HI(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var qI=YI,GI=TI,XI=BI,QI=KI,JI=WI,ZI=qI;function Io(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Io.prototype.clear=GI;Io.prototype.delete=XI;Io.prototype.get=QI;Io.prototype.has=JI;Io.prototype.set=ZI;var Mc=Io,ek=Na,tk=on,rk=ek(tk,"Map"),Gh=rk,Gm=EI,nk=Mc,ak=Gh;function ok(){this.size=0,this.__data__={hash:new Gm,map:new(ak||nk),string:new Gm}}var sk=ok;function ik(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lk=ik,ck=lk;function uk(e,t){var r=e.__data__;return ck(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Rc=uk,dk=Rc;function fk(e){var t=dk(this,e).delete(e);return this.size-=t?1:0,t}var hk=fk,pk=Rc;function mk(e){return pk(this,e).get(e)}var gk=mk,vk=Rc;function yk(e){return vk(this,e).has(e)}var xk=yk,bk=Rc;function wk(e,t){var r=bk(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var jk=wk,Sk=sk,Nk=hk,Ak=gk,Ck=xk,Ok=jk;function ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ko.prototype.clear=Sk;ko.prototype.delete=Nk;ko.prototype.get=Ak;ko.prototype.has=Ck;ko.prototype.set=Ok;var Xh=ko,gj=Xh,Pk="Expected a function";function Qh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Pk);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(Qh.Cache||gj),r}Qh.Cache=gj;var vj=Qh;const Ek=ft(vj);var Dk=vj,Tk=500;function $k(e){var t=Dk(e,function(n){return r.size===Tk&&r.clear(),n}),r=t.cache;return t}var _k=$k,Ik=_k,kk=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mk=/\\(\\)?/g,Rk=Ik(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kk,function(r,n,a,s){t.push(a?s.replace(Mk,"$1"):n||r)}),t}),Lk=Rk;function Bk(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Jh=Bk,Xm=ii,Fk=Jh,Uk=or,Kk=To,Qm=Xm?Xm.prototype:void 0,Jm=Qm?Qm.toString:void 0;function yj(e){if(typeof e=="string")return e;if(Uk(e))return Fk(e,yj)+"";if(Kk(e))return Jm?Jm.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Vk=yj,zk=Vk;function Wk(e){return e==null?"":zk(e)}var xj=Wk,Hk=or,Yk=Hh,qk=Lk,Gk=xj;function Xk(e,t){return Hk(e)?e:Yk(e,t)?[e]:qk(Gk(e))}var bj=Xk,Qk=To;function Jk(e){if(typeof e=="string"||Qk(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Lc=Jk,Zk=bj,e2=Lc;function t2(e,t){t=Zk(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[e2(t[r++])];return r&&r==n?e:void 0}var Zh=t2,r2=Zh;function n2(e,t,r){var n=e==null?void 0:r2(e,t);return n===void 0?r:n}var wj=n2;const jr=ft(wj);function a2(e){return e==null}var o2=a2;const Ye=ft(o2);var s2=Nn,i2=or,l2=An,c2="[object String]";function u2(e){return typeof e=="string"||!i2(e)&&l2(e)&&s2(e)==c2}var d2=u2;const ma=ft(d2);var jj={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),tp=Symbol.for("react.portal"),Bc=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),Uc=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),Vc=Symbol.for("react.context"),f2=Symbol.for("react.server_context"),zc=Symbol.for("react.forward_ref"),Wc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),qc=Symbol.for("react.lazy"),h2=Symbol.for("react.offscreen"),Sj;Sj=Symbol.for("react.module.reference");function Cr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ep:switch(e=e.type,e){case Bc:case Uc:case Fc:case Wc:case Hc:return e;default:switch(e=e&&e.$$typeof,e){case f2:case Vc:case zc:case qc:case Yc:case Kc:return e;default:return t}}case tp:return t}}}st.ContextConsumer=Vc;st.ContextProvider=Kc;st.Element=ep;st.ForwardRef=zc;st.Fragment=Bc;st.Lazy=qc;st.Memo=Yc;st.Portal=tp;st.Profiler=Uc;st.StrictMode=Fc;st.Suspense=Wc;st.SuspenseList=Hc;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return Cr(e)===Vc};st.isContextProvider=function(e){return Cr(e)===Kc};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep};st.isForwardRef=function(e){return Cr(e)===zc};st.isFragment=function(e){return Cr(e)===Bc};st.isLazy=function(e){return Cr(e)===qc};st.isMemo=function(e){return Cr(e)===Yc};st.isPortal=function(e){return Cr(e)===tp};st.isProfiler=function(e){return Cr(e)===Uc};st.isStrictMode=function(e){return Cr(e)===Fc};st.isSuspense=function(e){return Cr(e)===Wc};st.isSuspenseList=function(e){return Cr(e)===Hc};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bc||e===Uc||e===Fc||e===Wc||e===Hc||e===h2||typeof e=="object"&&e!==null&&(e.$$typeof===qc||e.$$typeof===Yc||e.$$typeof===Kc||e.$$typeof===Vc||e.$$typeof===zc||e.$$typeof===Sj||e.getModuleId!==void 0)};st.typeOf=Cr;jj.exports=st;var p2=jj.exports,m2=Nn,g2=An,v2="[object Number]";function y2(e){return typeof e=="number"||g2(e)&&m2(e)==v2}var Nj=y2;const x2=ft(Nj);var b2=Nj;function w2(e){return b2(e)&&e!=+e}var j2=w2;const li=ft(j2);var Mr=function(t){return t===0?0:t>0?1:-1},Jn=function(t){return ma(t)&&t.indexOf("%")===t.length-1},xe=function(t){return x2(t)&&!li(t)},S2=function(t){return Ye(t)},kt=function(t){return xe(t)||ma(t)},N2=0,ci=function(t){var r=++N2;return"".concat(t||"").concat(r)},ga=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&!ma(t))return n;var s;if(Jn(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return li(s)&&(s=n),a&&s>r&&(s=r),s},Tn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},A2=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ir=function(t,r){return xe(t)&&xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function fl(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):jr(n,t))===r})}var C2=function(t,r){return xe(t)&&xe(r)?t-r:ma(t)&&ma(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ha(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}var O2=["viewBox","children"],P2=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zm=["points","pathLength"],Wu={svg:O2,polygon:Zm,polyline:Zm},rp=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hl=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!$o(n))return null;var a={};return Object.keys(n).forEach(function(s){rp.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},E2=function(t,r,n){return function(a){return t(r,n,a),null}},pl=function(t,r,n){if(!$o(t)||Vd(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];rp.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=E2(i,r,n))}),a},D2=["children"],T2=["children"];function eg(e,t){if(e==null)return{};var r=$2(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}var tg={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rg=null,Hu=null,np=function e(t){if(t===rg&&Array.isArray(Hu))return Hu;var r=[];return v.Children.forEach(t,function(n){Ye(n)||(p2.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Hu=r,rg=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return mn(a)}):n=[mn(t)],np(e).forEach(function(a){var s=jr(a,"type.displayName")||jr(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function ur(e,t){var r=Sr(e,t);return r&&r[0]}var ng=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!xe(n)||n<=0||!xe(a)||a<=0)},_2=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],I2=function(t){return t&&t.type&&ma(t.type)&&_2.indexOf(t.type)>=0},k2=function(t){return t&&zd(t)==="object"&&"clipDot"in t},M2=function(t,r,n,a){var s,i=(s=Wu==null?void 0:Wu[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!He(t)&&(a&&i.includes(r)||P2.includes(r))||n&&rp.includes(r)},Je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!$o(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;M2((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},Wd=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ag(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!ag(s,i))return!1}return!0},ag=function(t,r){if(Ye(t)&&Ye(r))return!0;if(!Ye(t)&&!Ye(r)){var n=t.props||{},a=n.children,s=eg(n,D2),i=r.props||{},l=i.children,c=eg(i,T2);return a&&l?Ha(s,c)&&Wd(a,l):!a&&!l?Ha(s,c):!1}return!1},og=function(t,r){var n=[],a={};return np(t).forEach(function(s,i){if(I2(s))n.push(s);else if(s){var l=mn(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(s,l,i);n.push(d),a[l]=!0}}}),n},R2=function(t){var r=t&&t.type;return r&&tg[r]?tg[r]:null},L2=function(t,r){return np(r).indexOf(t)},B2=["children","width","height","viewBox","className","style","title","desc"];function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function F2(e,t){if(e==null)return{};var r=U2(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yd(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=F2(e,B2),f=a||{width:r,height:n,x:0,y:0},d=Ze("recharts-surface",s);return T.createElement("svg",Hd({},Je(u,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var K2=["children","className"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function V2(e,t){if(e==null)return{};var r=z2(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nt=T.forwardRef(function(e,t){var r=e.children,n=e.className,a=V2(e,K2),s=Ze("recharts-layer",n);return T.createElement("g",qd({className:s},Je(a,!0),{ref:t}),r)}),gn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function W2(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var H2=W2,Y2=H2;function q2(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Y2(e,t,r)}var G2=q2,X2="\\ud800-\\udfff",Q2="\\u0300-\\u036f",J2="\\ufe20-\\ufe2f",Z2="\\u20d0-\\u20ff",eM=Q2+J2+Z2,tM="\\ufe0e\\ufe0f",rM="\\u200d",nM=RegExp("["+rM+X2+eM+tM+"]");function aM(e){return nM.test(e)}var Aj=aM;function oM(e){return e.split("")}var sM=oM,Cj="\\ud800-\\udfff",iM="\\u0300-\\u036f",lM="\\ufe20-\\ufe2f",cM="\\u20d0-\\u20ff",uM=iM+lM+cM,dM="\\ufe0e\\ufe0f",fM="["+Cj+"]",Gd="["+uM+"]",Xd="\\ud83c[\\udffb-\\udfff]",hM="(?:"+Gd+"|"+Xd+")",Oj="[^"+Cj+"]",Pj="(?:\\ud83c[\\udde6-\\uddff]){2}",Ej="[\\ud800-\\udbff][\\udc00-\\udfff]",pM="\\u200d",Dj=hM+"?",Tj="["+dM+"]?",mM="(?:"+pM+"(?:"+[Oj,Pj,Ej].join("|")+")"+Tj+Dj+")*",gM=Tj+Dj+mM,vM="(?:"+[Oj+Gd+"?",Gd,Pj,Ej,fM].join("|")+")",yM=RegExp(Xd+"(?="+Xd+")|"+vM+gM,"g");function xM(e){return e.match(yM)||[]}var bM=xM,wM=sM,jM=Aj,SM=bM;function NM(e){return jM(e)?SM(e):wM(e)}var AM=NM,CM=G2,OM=Aj,PM=AM,EM=xj;function DM(e){return function(t){t=EM(t);var r=OM(t)?PM(t):void 0,n=r?r[0]:t.charAt(0),a=r?CM(r,1).join(""):t.slice(1);return n[e]()+a}}var TM=DM,$M=TM,_M=$M("toUpperCase"),IM=_M;const Gc=ft(IM);function dt(e){return function(){return e}}const $j=Math.cos,ml=Math.sin,Vr=Math.sqrt,gl=Math.PI,Xc=2*gl,Qd=Math.PI,Jd=2*Qd,Gn=1e-6,kM=Jd-Gn;function _j(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function MM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _j;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class RM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_j:MM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,f=i-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Gn)if(!(Math.abs(d*c-u*f)>Gn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,y=a-l,m=c*c+u*u,g=p*p+y*y,x=Math.sqrt(m),w=Math.sqrt(h),b=s*Math.tan((Qd-Math.acos((m+h-g)/(2*x*w)))/2),S=b/w,j=b/x;Math.abs(S-1)>Gn&&this._append`L${t+S*f},${r+S*d}`,this._append`A${s},${s},0,0,${+(d*p>f*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Gn||Math.abs(this._y1-f)>Gn)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%Jd+Jd),h>kM?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Gn&&this._append`A${n},${n},0,${+(h>=Qd)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ap(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RM(t)}function op(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ij(e){this._context=e}Ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qc(e){return new Ij(e)}function kj(e){return e[0]}function Mj(e){return e[1]}function Rj(e,t){var r=dt(!0),n=null,a=Qc,s=null,i=ap(l);e=typeof e=="function"?e:e===void 0?kj:dt(e),t=typeof t=="function"?t:t===void 0?Mj:dt(t);function l(c){var u,f=(c=op(c)).length,d,h=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,u,c),+t(d,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Ei(e,t,r){var n=null,a=dt(!0),s=null,i=Qc,l=null,c=ap(u);e=typeof e=="function"?e:e===void 0?kj:dt(+e),t=typeof t=="function"?t:dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Mj:dt(+r);function u(d){var h,p,y,m=(d=op(d)).length,g,x=!1,w,b=new Array(m),S=new Array(m);for(s==null&&(l=i(w=c())),h=0;h<=m;++h){if(!(h<m&&a(g=d[h],h,d))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],S[y]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(g,h,d),S[h]=+t(g,h,d),l.point(n?+n(g,h,d):b[h],r?+r(g,h,d):S[h]))}if(w)return l=null,w+""||null}function f(){return Rj().defined(a).curve(i).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:dt(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:dt(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:dt(!!d),u):a},u.curve=function(d){return arguments.length?(i=d,s!=null&&(l=i(s)),u):i},u.context=function(d){return arguments.length?(d==null?s=l=null:l=i(s=d),u):s},u}class Lj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function LM(e){return new Lj(e,!0)}function BM(e){return new Lj(e,!1)}const sp={draw(e,t){const r=Vr(t/gl);e.moveTo(r,0),e.arc(0,0,r,0,Xc)}},FM={draw(e,t){const r=Vr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Bj=Vr(1/3),UM=Bj*2,KM={draw(e,t){const r=Vr(t/UM),n=r*Bj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VM={draw(e,t){const r=Vr(t),n=-r/2;e.rect(n,n,r,r)}},zM=.8908130915292852,Fj=ml(gl/10)/ml(7*gl/10),WM=ml(Xc/10)*Fj,HM=-$j(Xc/10)*Fj,YM={draw(e,t){const r=Vr(t*zM),n=WM*r,a=HM*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=Xc*s/5,l=$j(i),c=ml(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Yu=Vr(3),qM={draw(e,t){const r=-Vr(t/(Yu*3));e.moveTo(0,r*2),e.lineTo(-Yu*r,-r),e.lineTo(Yu*r,-r),e.closePath()}},vr=-.5,yr=Vr(3)/2,Zd=1/Vr(12),GM=(Zd/2+1)*3,XM={draw(e,t){const r=Vr(t/GM),n=r/2,a=r*Zd,s=n,i=r*Zd+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(vr*n-yr*a,yr*n+vr*a),e.lineTo(vr*s-yr*i,yr*s+vr*i),e.lineTo(vr*l-yr*c,yr*l+vr*c),e.lineTo(vr*n+yr*a,vr*a-yr*n),e.lineTo(vr*s+yr*i,vr*i-yr*s),e.lineTo(vr*l+yr*c,vr*c-yr*l),e.closePath()}};function QM(e,t){let r=null,n=ap(a);e=typeof e=="function"?e:dt(e||sp),t=typeof t=="function"?t:dt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:dt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:dt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function vl(){}function yl(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Uj(e){this._context=e}Uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JM(e){return new Uj(e)}function Kj(e){this._context=e}Kj.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZM(e){return new Kj(e)}function Vj(e){this._context=e}Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eR(e){return new Vj(e)}function zj(e){this._context=e}zj.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tR(e){return new zj(e)}function sg(e){return e<0?-1:1}function ig(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(sg(s)+sg(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function lg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qu(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function xl(e){this._context=e}xl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qu(this,this._t0,lg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qu(this,lg(this,r=ig(this,e,t)),r);break;default:qu(this,this._t0,r=ig(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Wj(e){this._context=new Hj(e)}(Wj.prototype=Object.create(xl.prototype)).point=function(e,t){xl.prototype.point.call(this,t,e)};function Hj(e){this._context=e}Hj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function rR(e){return new xl(e)}function nR(e){return new Wj(e)}function Yj(e){this._context=e}Yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cg(e),a=cg(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cg(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function aR(e){return new Yj(e)}function Jc(e,t){this._context=e,this._t=t}Jc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oR(e){return new Jc(e,.5)}function sR(e){return new Jc(e,0)}function iR(e){return new Jc(e,1)}function eo(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ef(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lR(e,t){return e[t]}function cR(e){const t=[];return t.key=e,t}function uR(){var e=dt([]),t=ef,r=eo,n=lR;function a(s){var i=Array.from(e.apply(this,arguments),cR),l,c=i.length,u=-1,f;for(const d of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(d,i[l].key,u,s)]).data=d;for(l=0,f=op(t(i));l<c;++l)i[f[l]].index=l;return r(i,f),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:dt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:dt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?ef:typeof s=="function"?s:dt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??eo,a):r},a}function dR(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}eo(e,t)}}function fR(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}eo(e,t)}}function hR(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var m=e[t[y]],g=m[n][1]||0,x=m[n-1][1]||0;p+=g-x}c+=d,u+=p*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,eo(e,t)}}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}var pR=["type","size","sizeType"];function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tf.apply(this,arguments)}function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(n){mR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mR(e,t,r){return t=gR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e){var t=vR(e,"string");return vs(t)=="symbol"?t:t+""}function vR(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e,t){if(e==null)return{};var r=xR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qj={symbolCircle:sp,symbolCross:FM,symbolDiamond:KM,symbolSquare:VM,symbolStar:YM,symbolTriangle:qM,symbolWye:XM},bR=Math.PI/180,wR=function(t){var r="symbol".concat(Gc(t));return qj[r]||sp},jR=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*bR;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SR=function(t,r){qj["symbol".concat(Gc(t))]=r},ip=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=yR(t,pR),u=dg(dg({},c),{},{type:n,size:s,sizeType:l}),f=function(){var g=wR(n),x=QM().type(g).size(jR(s,l,n));return x()},d=u.className,h=u.cx,p=u.cy,y=Je(u,!0);return h===+h&&p===+p&&s===+s?T.createElement("path",tf({},y,{className:Ze("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};ip.registerSymbol=SR;function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fg(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xj(n.key),n)}}function OR(e,t,r){return t&&CR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PR(e,t,r){return t=bl(t),ER(e,Gj()?Reflect.construct(t,r||[],bl(e).constructor):t.apply(e,r))}function ER(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DR(e)}function DR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!e})()}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bl(e)}function TR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nf(e,t)}function nf(e,t){return nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nf(e,t)}function ys(e,t,r){return t=Xj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e){var t=$R(e,"string");return to(t)=="symbol"?t:t+""}function $R(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xr=32,lp=function(e){function t(){return AR(this,t),PR(this,t,arguments)}return TR(t,e),OR(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=xr/2,i=xr/6,l=xr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:xr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(xr,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xr/8,"h").concat(xr,"v").concat(xr*3/4,"h").concat(-xr,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var u=NR({},n);return delete u.legendIcon,T.cloneElement(n.legendIcon,u)}return T.createElement(ip,{fill:c,cx:s,cy:s,size:xr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:xr,height:xr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var m=p.formatter||c,g=Ze(ys(ys({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=He(p.value)?null:p.value;gn(!He(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return T.createElement("li",rf({className:g,style:d,key:"legend-item-".concat(y)},pl(n.props,p,y)),T.createElement(Yd,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(x,p,y):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);ys(lp,"displayName","Legend");ys(lp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _R=Mc;function IR(){this.__data__=new _R,this.size=0}var kR=IR;function MR(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var RR=MR;function LR(e){return this.__data__.get(e)}var BR=LR;function FR(e){return this.__data__.has(e)}var UR=FR,KR=Mc,VR=Gh,zR=Xh,WR=200;function HR(e,t){var r=this.__data__;if(r instanceof KR){var n=r.__data__;if(!VR||n.length<WR-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zR(n)}return r.set(e,t),this.size=r.size,this}var YR=HR,qR=Mc,GR=kR,XR=RR,QR=BR,JR=UR,ZR=YR;function Mo(e){var t=this.__data__=new qR(e);this.size=t.size}Mo.prototype.clear=GR;Mo.prototype.delete=XR;Mo.prototype.get=QR;Mo.prototype.has=JR;Mo.prototype.set=ZR;var Qj=Mo,eL="__lodash_hash_undefined__";function tL(e){return this.__data__.set(e,eL),this}var rL=tL;function nL(e){return this.__data__.has(e)}var aL=nL,oL=Xh,sL=rL,iL=aL;function wl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new oL;++t<r;)this.add(e[t])}wl.prototype.add=wl.prototype.push=sL;wl.prototype.has=iL;var Jj=wl;function lL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Zj=lL;function cL(e,t){return e.has(t)}var eS=cL,uL=Jj,dL=Zj,fL=eS,hL=1,pL=2;function mL(e,t,r,n,a,s){var i=r&hL,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&pL?new uL:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var y=e[d],m=t[d];if(n)var g=i?n(m,y,d,t,e,s):n(y,m,d,e,t,s);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!dL(t,function(x,w){if(!fL(p,w)&&(y===x||a(y,x,r,n,s)))return p.push(w)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var tS=mL,gL=on,vL=gL.Uint8Array,yL=vL;function xL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var bL=xL;function wL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var cp=wL,hg=ii,pg=yL,jL=qh,SL=tS,NL=bL,AL=cp,CL=1,OL=2,PL="[object Boolean]",EL="[object Date]",DL="[object Error]",TL="[object Map]",$L="[object Number]",_L="[object RegExp]",IL="[object Set]",kL="[object String]",ML="[object Symbol]",RL="[object ArrayBuffer]",LL="[object DataView]",mg=hg?hg.prototype:void 0,Gu=mg?mg.valueOf:void 0;function BL(e,t,r,n,a,s,i){switch(r){case LL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case RL:return!(e.byteLength!=t.byteLength||!s(new pg(e),new pg(t)));case PL:case EL:case $L:return jL(+e,+t);case DL:return e.name==t.name&&e.message==t.message;case _L:case kL:return e==t+"";case TL:var l=NL;case IL:var c=n&CL;if(l||(l=AL),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=OL,i.set(e,t);var f=SL(l(e),l(t),n,a,s,i);return i.delete(e),f;case ML:if(Gu)return Gu.call(e)==Gu.call(t)}return!1}var FL=BL;function UL(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var rS=UL,KL=rS,VL=or;function zL(e,t,r){var n=t(e);return VL(e)?n:KL(n,r(e))}var WL=zL;function HL(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var YL=HL;function qL(){return[]}var GL=qL,XL=YL,QL=GL,JL=Object.prototype,ZL=JL.propertyIsEnumerable,gg=Object.getOwnPropertySymbols,e4=gg?function(e){return e==null?[]:(e=Object(e),XL(gg(e),function(t){return ZL.call(e,t)}))}:QL,t4=e4;function r4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var n4=r4,a4=Nn,o4=An,s4="[object Arguments]";function i4(e){return o4(e)&&a4(e)==s4}var l4=i4,vg=l4,c4=An,nS=Object.prototype,u4=nS.hasOwnProperty,d4=nS.propertyIsEnumerable,f4=vg(function(){return arguments}())?vg:function(e){return c4(e)&&u4.call(e,"callee")&&!d4.call(e,"callee")},up=f4,jl={exports:{}};function h4(){return!1}var p4=h4;jl.exports;(function(e,t){var r=on,n=p4,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(jl,jl.exports);var aS=jl.exports,m4=9007199254740991,g4=/^(?:0|[1-9]\d*)$/;function v4(e,t){var r=typeof e;return t=t??m4,!!t&&(r=="number"||r!="symbol"&&g4.test(e))&&e>-1&&e%1==0&&e<t}var dp=v4,y4=9007199254740991;function x4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=y4}var fp=x4,b4=Nn,w4=fp,j4=An,S4="[object Arguments]",N4="[object Array]",A4="[object Boolean]",C4="[object Date]",O4="[object Error]",P4="[object Function]",E4="[object Map]",D4="[object Number]",T4="[object Object]",$4="[object RegExp]",_4="[object Set]",I4="[object String]",k4="[object WeakMap]",M4="[object ArrayBuffer]",R4="[object DataView]",L4="[object Float32Array]",B4="[object Float64Array]",F4="[object Int8Array]",U4="[object Int16Array]",K4="[object Int32Array]",V4="[object Uint8Array]",z4="[object Uint8ClampedArray]",W4="[object Uint16Array]",H4="[object Uint32Array]",ht={};ht[L4]=ht[B4]=ht[F4]=ht[U4]=ht[K4]=ht[V4]=ht[z4]=ht[W4]=ht[H4]=!0;ht[S4]=ht[N4]=ht[M4]=ht[A4]=ht[R4]=ht[C4]=ht[O4]=ht[P4]=ht[E4]=ht[D4]=ht[T4]=ht[$4]=ht[_4]=ht[I4]=ht[k4]=!1;function Y4(e){return j4(e)&&w4(e.length)&&!!ht[b4(e)]}var q4=Y4;function G4(e){return function(t){return e(t)}}var oS=G4,Sl={exports:{}};Sl.exports;(function(e,t){var r=hj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Sl,Sl.exports);var X4=Sl.exports,Q4=q4,J4=oS,yg=X4,xg=yg&&yg.isTypedArray,Z4=xg?J4(xg):Q4,sS=Z4,eB=n4,tB=up,rB=or,nB=aS,aB=dp,oB=sS,sB=Object.prototype,iB=sB.hasOwnProperty;function lB(e,t){var r=rB(e),n=!r&&tB(e),a=!r&&!n&&nB(e),s=!r&&!n&&!a&&oB(e),i=r||n||a||s,l=i?eB(e.length,String):[],c=l.length;for(var u in e)(t||iB.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aB(u,c)))&&l.push(u);return l}var cB=lB,uB=Object.prototype;function dB(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||uB;return e===r}var fB=dB;function hB(e,t){return function(r){return e(t(r))}}var iS=hB,pB=iS,mB=pB(Object.keys,Object),gB=mB,vB=fB,yB=gB,xB=Object.prototype,bB=xB.hasOwnProperty;function wB(e){if(!vB(e))return yB(e);var t=[];for(var r in Object(e))bB.call(e,r)&&r!="constructor"&&t.push(r);return t}var jB=wB,SB=Yh,NB=fp;function AB(e){return e!=null&&NB(e.length)&&!SB(e)}var ui=AB,CB=cB,OB=jB,PB=ui;function EB(e){return PB(e)?CB(e):OB(e)}var Zc=EB,DB=WL,TB=t4,$B=Zc;function _B(e){return DB(e,$B,TB)}var IB=_B,bg=IB,kB=1,MB=Object.prototype,RB=MB.hasOwnProperty;function LB(e,t,r,n,a,s){var i=r&kB,l=bg(e),c=l.length,u=bg(t),f=u.length;if(c!=f&&!i)return!1;for(var d=c;d--;){var h=l[d];if(!(i?h in t:RB.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=i;++d<c;){h=l[d];var x=e[h],w=t[h];if(n)var b=i?n(w,x,h,t,e,s):n(x,w,h,e,t,s);if(!(b===void 0?x===w||a(x,w,r,n,s):b)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(m=!1)}return s.delete(e),s.delete(t),m}var BB=LB,FB=Na,UB=on,KB=FB(UB,"DataView"),VB=KB,zB=Na,WB=on,HB=zB(WB,"Promise"),YB=HB,qB=Na,GB=on,XB=qB(GB,"Set"),lS=XB,QB=Na,JB=on,ZB=QB(JB,"WeakMap"),e3=ZB,af=VB,of=Gh,sf=YB,lf=lS,cf=e3,cS=Nn,Ro=mj,wg="[object Map]",t3="[object Object]",jg="[object Promise]",Sg="[object Set]",Ng="[object WeakMap]",Ag="[object DataView]",r3=Ro(af),n3=Ro(of),a3=Ro(sf),o3=Ro(lf),s3=Ro(cf),Xn=cS;(af&&Xn(new af(new ArrayBuffer(1)))!=Ag||of&&Xn(new of)!=wg||sf&&Xn(sf.resolve())!=jg||lf&&Xn(new lf)!=Sg||cf&&Xn(new cf)!=Ng)&&(Xn=function(e){var t=cS(e),r=t==t3?e.constructor:void 0,n=r?Ro(r):"";if(n)switch(n){case r3:return Ag;case n3:return wg;case a3:return jg;case o3:return Sg;case s3:return Ng}return t});var i3=Xn,Xu=Qj,l3=tS,c3=FL,u3=BB,Cg=i3,Og=or,Pg=aS,d3=sS,f3=1,Eg="[object Arguments]",Dg="[object Array]",Di="[object Object]",h3=Object.prototype,Tg=h3.hasOwnProperty;function p3(e,t,r,n,a,s){var i=Og(e),l=Og(t),c=i?Dg:Cg(e),u=l?Dg:Cg(t);c=c==Eg?Di:c,u=u==Eg?Di:u;var f=c==Di,d=u==Di,h=c==u;if(h&&Pg(e)){if(!Pg(t))return!1;i=!0,f=!1}if(h&&!f)return s||(s=new Xu),i||d3(e)?l3(e,t,r,n,a,s):c3(e,t,c,r,n,a,s);if(!(r&f3)){var p=f&&Tg.call(e,"__wrapped__"),y=d&&Tg.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,g=y?t.value():t;return s||(s=new Xu),a(m,g,r,n,s)}}return h?(s||(s=new Xu),u3(e,t,r,n,a,s)):!1}var m3=p3,g3=m3,$g=An;function uS(e,t,r,n,a){return e===t?!0:e==null||t==null||!$g(e)&&!$g(t)?e!==e&&t!==t:g3(e,t,r,n,uS,a)}var hp=uS,v3=Qj,y3=hp,x3=1,b3=2;function w3(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],f=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new v3;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?y3(f,u,x3|b3,n,d):h))return!1}}return!0}var j3=w3,S3=Un;function N3(e){return e===e&&!S3(e)}var dS=N3,A3=dS,C3=Zc;function O3(e){for(var t=C3(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,A3(a)]}return t}var P3=O3;function E3(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fS=E3,D3=j3,T3=P3,$3=fS;function _3(e){var t=T3(e);return t.length==1&&t[0][2]?$3(t[0][0],t[0][1]):function(r){return r===e||D3(r,e,t)}}var I3=_3;function k3(e,t){return e!=null&&t in Object(e)}var M3=k3,R3=bj,L3=up,B3=or,F3=dp,U3=fp,K3=Lc;function V3(e,t,r){t=R3(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=K3(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&U3(a)&&F3(i,a)&&(B3(e)||L3(e)))}var z3=V3,W3=M3,H3=z3;function Y3(e,t){return e!=null&&H3(e,t,W3)}var q3=Y3,G3=hp,X3=wj,Q3=q3,J3=Hh,Z3=dS,eF=fS,tF=Lc,rF=1,nF=2;function aF(e,t){return J3(e)&&Z3(t)?eF(tF(e),t):function(r){var n=X3(r,e);return n===void 0&&n===t?Q3(r,e):G3(t,n,rF|nF)}}var oF=aF;function sF(e){return e}var Lo=sF;function iF(e){return function(t){return t==null?void 0:t[e]}}var lF=iF,cF=Zh;function uF(e){return function(t){return cF(t,e)}}var dF=uF,fF=lF,hF=dF,pF=Hh,mF=Lc;function gF(e){return pF(e)?fF(mF(e)):hF(e)}var vF=gF,yF=I3,xF=oF,bF=Lo,wF=or,jF=vF;function SF(e){return typeof e=="function"?e:e==null?bF:typeof e=="object"?wF(e)?xF(e[0],e[1]):yF(e):jF(e)}var Kn=SF;function NF(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var hS=NF;function AF(e){return e!==e}var CF=AF;function OF(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var PF=OF,EF=hS,DF=CF,TF=PF;function $F(e,t,r){return t===t?TF(e,t,r):EF(e,DF,r)}var _F=$F,IF=_F;function kF(e,t){var r=e==null?0:e.length;return!!r&&IF(e,t,0)>-1}var MF=kF;function RF(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var LF=RF;function BF(){}var FF=BF,Qu=lS,UF=FF,KF=cp,VF=1/0,zF=Qu&&1/KF(new Qu([,-0]))[1]==VF?function(e){return new Qu(e)}:UF,WF=zF,HF=Jj,YF=MF,qF=LF,GF=eS,XF=WF,QF=cp,JF=200;function ZF(e,t,r){var n=-1,a=YF,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=qF;else if(s>=JF){var u=t?null:XF(e);if(u)return QF(u);i=!1,a=GF,c=new HF}else c=t?[]:l;e:for(;++n<s;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var e5=ZF,t5=Kn,r5=e5;function n5(e,t){return e&&e.length?r5(e,t5(t)):[]}var a5=n5;const _g=ft(a5);function pS(e,t,r){return t===!0?_g(e,r):He(t)?_g(e,t):e}function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}var o5=["ref"];function Ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ig(Object(r),!0).forEach(function(n){eu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ig(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gS(n.key),n)}}function i5(e,t,r){return t&&kg(e.prototype,t),r&&kg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l5(e,t,r){return t=Nl(t),c5(e,mS()?Reflect.construct(t,r||[],Nl(e).constructor):t.apply(e,r))}function c5(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u5(e)}function u5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mS=function(){return!!e})()}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nl(e)}function d5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uf(e,t)}function uf(e,t){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uf(e,t)}function eu(e,t,r){return t=gS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gS(e){var t=f5(e,"string");return ro(t)=="symbol"?t:t+""}function f5(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h5(e,t){if(e==null)return{};var r=p5(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m5(e){return e.value}function g5(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=h5(t,o5);return T.createElement(lp,r)}var Mg=1,Ya=function(e){function t(){var r;s5(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=l5(this,t,[].concat(a)),eu(r,"lastBoundingBox",{width:-1,height:-1}),r}return d5(t,e),i5(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Mg||Math.abs(a.height-this.lastBoundingBox.height)>Mg)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return sn(sn({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=sn(sn({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},g5(s,sn(sn({},this.props),{},{payload:pS(f,u,m5)})))}}],[{key:"getWithHeight",value:function(n,a){var s=sn(sn({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&xe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);eu(Ya,"displayName","Legend");eu(Ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Rg=ii,v5=up,y5=or,Lg=Rg?Rg.isConcatSpreadable:void 0;function x5(e){return y5(e)||v5(e)||!!(Lg&&e&&e[Lg])}var b5=x5,w5=rS,j5=b5;function vS(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=j5),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?vS(l,t-1,r,n,a):w5(a,l):n||(a[a.length]=l)}return a}var yS=vS;function S5(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var N5=S5,A5=N5,C5=A5(),O5=C5,P5=O5,E5=Zc;function D5(e,t){return e&&P5(e,t,E5)}var xS=D5,T5=ui;function $5(e,t){return function(r,n){if(r==null)return r;if(!T5(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var _5=$5,I5=xS,k5=_5,M5=k5(I5),pp=M5,R5=pp,L5=ui;function B5(e,t){var r=-1,n=L5(e)?Array(e.length):[];return R5(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var bS=B5;function F5(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var U5=F5,Bg=To;function K5(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=Bg(e),i=t!==void 0,l=t===null,c=t===t,u=Bg(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var V5=K5,z5=V5;function W5(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=z5(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var H5=W5,Ju=Jh,Y5=Zh,q5=Kn,G5=bS,X5=U5,Q5=oS,J5=H5,Z5=Lo,e6=or;function t6(e,t,r){t.length?t=Ju(t,function(s){return e6(s)?function(i){return Y5(i,s.length===1?s[0]:s)}:s}):t=[Z5];var n=-1;t=Ju(t,Q5(q5));var a=G5(e,function(s,i,l){var c=Ju(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return X5(a,function(s,i){return J5(s,i,r)})}var r6=t6;function n6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var a6=n6,o6=a6,Fg=Math.max;function s6(e,t,r){return t=Fg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Fg(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),o6(e,this,l)}}var i6=s6;function l6(e){return function(){return e}}var c6=l6,u6=Na,d6=function(){try{var e=u6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wS=d6,f6=c6,Ug=wS,h6=Lo,p6=Ug?function(e,t){return Ug(e,"toString",{configurable:!0,enumerable:!1,value:f6(t),writable:!0})}:h6,m6=p6,g6=800,v6=16,y6=Date.now;function x6(e){var t=0,r=0;return function(){var n=y6(),a=v6-(n-r);if(r=n,a>0){if(++t>=g6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var b6=x6,w6=m6,j6=b6,S6=j6(w6),N6=S6,A6=Lo,C6=i6,O6=N6;function P6(e,t){return O6(C6(e,t,A6),e+"")}var E6=P6,D6=qh,T6=ui,$6=dp,_6=Un;function I6(e,t,r){if(!_6(r))return!1;var n=typeof t;return(n=="number"?T6(r)&&$6(t,r.length):n=="string"&&t in r)?D6(r[t],e):!1}var tu=I6,k6=yS,M6=r6,R6=E6,Kg=tu,L6=R6(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Kg(e,t[0],t[1])?t=[]:r>2&&Kg(t[0],t[1],t[2])&&(t=[t[0]]),M6(e,k6(t,1),[])}),B6=L6;const mp=ft(B6);function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function F6(e,t){return z6(e)||V6(e,t)||K6(e,t)||U6()}function U6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K6(e,t){if(e){if(typeof e=="string")return Vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vg(e,t)}}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function z6(e){if(Array.isArray(e))return e}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){W6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W6(e,t,r){return t=H6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H6(e){var t=Y6(e,"string");return xs(t)=="symbol"?t:t+""}function Y6(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q6(e){return Array.isArray(e)&&kt(e[0])&&kt(e[1])?e.join(" ~ "):e}var G6=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(f&&f.length){var C={padding:0,margin:0},U=(h?mp(f,h):f).map(function(I,F){if(I.type==="none")return null;var $=Zu({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),O=I.formatter||d||q6,k=I.value,D=I.name,q=k,Z=D;if(O&&q!=null&&Z!=null){var Q=O(k,D,I,F,f);if(Array.isArray(Q)){var ne=F6(Q,2);q=ne[0],Z=ne[1]}else q=Q}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},kt(Z)?T.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,kt(Z)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:C},U)}return null},S=Zu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=Zu({margin:0},u),N=!Ye(m),A=N?m:"",P=Ze("recharts-default-tooltip",p),E=Ze("recharts-tooltip-label",y);N&&g&&f!==void 0&&f!==null&&(A=g(m,f));var B=w?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",df({className:P,style:S},B),T.createElement("p",{className:E,style:j},T.isValidElement(A)?A:"".concat(A)),b())};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Ti(e,t,r){return t=X6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X6(e){var t=Q6(e,"string");return bs(t)=="symbol"?t:t+""}function Q6(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wo="recharts-tooltip-wrapper",J6={visibility:"hidden"};function Z6(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ze(Wo,Ti(Ti(Ti(Ti({},"".concat(Wo,"-right"),xe(r)&&t&&xe(t.x)&&r>=t.x),"".concat(Wo,"-left"),xe(r)&&t&&xe(t.x)&&r<t.x),"".concat(Wo,"-bottom"),xe(n)&&t&&xe(t.y)&&n>=t.y),"".concat(Wo,"-top"),xe(n)&&t&&xe(t.y)&&n<t.y))}function Wg(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&xe(s[n]))return s[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,m=c[n]+u;return y>m?Math.max(f,c[n]):Math.max(d,c[n])}function eU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function tU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return i.height>0&&i.width>0&&r?(f=Wg({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=Wg({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=eU({translateX:f,translateY:d,useTranslate3d:l})):u=J6,{cssProperties:u,cssClasses:Z6({translateX:f,translateY:d,coordinate:r})}}function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(r),!0).forEach(function(n){hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SS(n.key),n)}}function aU(e,t,r){return t&&nU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oU(e,t,r){return t=Al(t),sU(e,jS()?Reflect.construct(t,r||[],Al(e).constructor):t.apply(e,r))}function sU(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iU(e)}function iU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jS=function(){return!!e})()}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Al(e)}function lU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ff(e,t)}function ff(e,t){return ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ff(e,t)}function hf(e,t,r){return t=SS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SS(e){var t=cU(e,"string");return no(t)=="symbol"?t:t+""}function cU(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qg=1,uU=function(e){function t(){var r;rU(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=oU(this,t,[].concat(a)),hf(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hf(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return lU(t,e),aU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qg||Math.abs(n.height-this.state.lastBoundingBox.height)>qg)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,b=tU({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),S=b.cssClasses,j=b.cssProperties,N=Yg(Yg({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return T.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(v.PureComponent),dU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bo={isSsr:dU()};function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AS(n.key),n)}}function pU(e,t,r){return t&&hU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mU(e,t,r){return t=Cl(t),gU(e,NS()?Reflect.construct(t,r||[],Cl(e).constructor):t.apply(e,r))}function gU(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vU(e)}function vU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NS=function(){return!!e})()}function Cl(e){return Cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cl(e)}function yU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pf(e,t)}function pf(e,t){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pf(e,t)}function gp(e,t,r){return t=AS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AS(e){var t=xU(e,"string");return ao(t)=="symbol"?t:t+""}function xU(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bU(e){return e.dataKey}function wU(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(G6,t)}var dr=function(e){function t(){return fU(this,t),mU(this,t,arguments)}return yU(t,e),pU(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,g=a.position,x=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,j=y??[];d&&j.length&&(j=pS(y.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,bU));var N=j.length>0;return T.createElement(uU,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:f,hasPayload:N,offset:p,position:g,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:S},wU(u,Xg(Xg({},this.props),{},{payload:j})))}}])}(v.PureComponent);gp(dr,"displayName","Tooltip");gp(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jU=on,SU=function(){return jU.Date.now()},NU=SU,AU=/\s/;function CU(e){for(var t=e.length;t--&&AU.test(e.charAt(t)););return t}var OU=CU,PU=OU,EU=/^\s+/;function DU(e){return e&&e.slice(0,PU(e)+1).replace(EU,"")}var TU=DU,$U=TU,Qg=Un,_U=To,Jg=NaN,IU=/^[-+]0x[0-9a-f]+$/i,kU=/^0b[01]+$/i,MU=/^0o[0-7]+$/i,RU=parseInt;function LU(e){if(typeof e=="number")return e;if(_U(e))return Jg;if(Qg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Qg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$U(e);var r=kU.test(e);return r||MU.test(e)?RU(e.slice(2),r?2:8):IU.test(e)?Jg:+e}var CS=LU,BU=Un,ed=NU,Zg=CS,FU="Expected a function",UU=Math.max,KU=Math.min;function VU(e,t,r){var n,a,s,i,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(FU);t=Zg(t)||0,BU(r)&&(f=!!r.leading,d="maxWait"in r,s=d?UU(Zg(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(N){var A=n,P=a;return n=a=void 0,u=N,i=e.apply(P,A),i}function y(N){return u=N,l=setTimeout(x,t),f?p(N):i}function m(N){var A=N-c,P=N-u,E=t-A;return d?KU(E,s-P):E}function g(N){var A=N-c,P=N-u;return c===void 0||A>=t||A<0||d&&P>=s}function x(){var N=ed();if(g(N))return w(N);l=setTimeout(x,m(N))}function w(N){return l=void 0,h&&n?p(N):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?i:w(ed())}function j(){var N=ed(),A=g(N);if(n=arguments,a=this,c=N,A){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),i}return j.cancel=b,j.flush=S,j}var zU=VU,WU=zU,HU=Un,YU="Expected a function";function qU(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(YU);return HU(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),WU(e,t,{leading:n,maxWait:t,trailing:a})}var GU=qU;const OS=ft(GU);function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return t=QU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=JU(e,"string");return ws(t)=="symbol"?t:t+""}function JU(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZU(e,t){return nK(e)||rK(e,t)||tK(e,t)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(e,t){if(e){if(typeof e=="string")return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(e,t)}}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function nK(e){if(Array.isArray(e))return e}var ru=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,x=e.className,w=e.onResize,b=e.style,S=b===void 0?{}:b,j=v.useRef(null),N=v.useRef();N.current=w,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=v.useState({containerWidth:a.width,containerHeight:a.height}),P=ZU(A,2),E=P[0],B=P[1],_=v.useCallback(function(U,I){B(function(F){var $=Math.round(U),O=Math.round(I);return F.containerWidth===$&&F.containerHeight===O?F:{containerWidth:$,containerHeight:O}})},[]);v.useEffect(function(){var U=function(D){var q,Z=D[0].contentRect,Q=Z.width,ne=Z.height;_(Q,ne),(q=N.current)===null||q===void 0||q.call(N,Q,ne)};m>0&&(U=OS(U,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(U),F=j.current.getBoundingClientRect(),$=F.width,O=F.height;return _($,O),I.observe(j.current),function(){I.disconnect()}},[_,m]);var C=v.useMemo(function(){var U=E.containerWidth,I=E.containerHeight;if(U<0||I<0)return null;gn(Jn(i)||Jn(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),gn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Jn(i)?U:i,$=Jn(c)?I:c;r&&r>0&&(F?$=F/r:$&&(F=$*r),h&&$>h&&($=h)),gn(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,i,c,f,d,r);var O=!Array.isArray(p)&&mn(p.type).endsWith("Chart");return T.Children.map(p,function(k){return T.isValidElement(k)?v.cloneElement(k,$i({width:F,height:$},O?{style:$i({height:"100%",width:"100%",maxHeight:$,maxWidth:F},k.props.style)}:{})):k})},[r,p,c,h,d,f,E,i]);return T.createElement("div",{id:g?"".concat(g):void 0,className:Ze("recharts-responsive-container",x),style:$i($i({},S),{},{width:i,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},C)}),PS=function(t){return null};PS.displayName="Cell";function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=sK(e,"string");return js(t)=="symbol"?t:t+""}function sK(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia={widthCache:{},cacheCount:0},iK=2e3,lK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nv="recharts_measurement_span";function cK(e){var t=mf({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var is=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bo.isSsr)return{width:0,height:0};var n=cK(r),a=JSON.stringify({text:t,copyStyle:n});if(Ia.widthCache[a])return Ia.widthCache[a];try{var s=document.getElementById(nv);s||(s=document.createElement("span"),s.setAttribute("id",nv),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=mf(mf({},lK),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ia.widthCache[a]=c,++Ia.cacheCount>iK&&(Ia.cacheCount=0,Ia.widthCache={}),c}catch{return{width:0,height:0}}},uK=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Ol(e,t){return pK(e)||hK(e,t)||fK(e,t)||dK()}function dK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fK(e,t){if(e){if(typeof e=="string")return av(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return av(e,t)}}function av(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function pK(e){if(Array.isArray(e))return e}function mK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function gK(e,t,r){return t&&ov(e.prototype,t),r&&ov(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vK(e){var t=yK(e,"string");return Ss(t)=="symbol"?t:t+""}function yK(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wK=Object.keys(ES),Fa="NaN";function jK(e,t){return e*ES[t]}var _i=function(){function e(t,r){mK(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!xK.test(r)&&(this.num=NaN,this.unit=""),wK.includes(r)&&(this.num=jK(t,r),this.unit="px")}return gK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=bK.exec(r))!==null&&n!==void 0?n:[],s=Ol(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function DS(e){if(e.includes(Fa))return Fa;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sv.exec(t))!==null&&r!==void 0?r:[],a=Ol(n,4),s=a[1],i=a[2],l=a[3],c=_i.parse(s??""),u=_i.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Fa;t=t.replace(sv,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=iv.exec(t))!==null&&d!==void 0?d:[],p=Ol(h,4),y=p[1],m=p[2],g=p[3],x=_i.parse(y??""),w=_i.parse(g??""),b=m==="+"?x.add(w):x.subtract(w);if(b.isNaN())return Fa;t=t.replace(iv,b.toString())}return t}var lv=/\(([^()]*)\)/;function SK(e){for(var t=e;t.includes("(");){var r=lv.exec(t),n=Ol(r,2),a=n[1];t=t.replace(lv,DS(a))}return t}function NK(e){var t=e.replace(/\s+/g,"");return t=SK(t),t=DS(t),t}function AK(e){try{return NK(e)}catch{return Fa}}function td(e){var t=AK(e.slice(5,-1));return t===Fa?"":t}var CK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OK=["dx","dy","angle","className","breakAll"];function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function cv(e,t){if(e==null)return{};var r=PK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uv(e,t){return $K(e)||TK(e,t)||DK(e,t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(e,t)}}function dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $K(e){if(Array.isArray(e))return e}var TS=/[ \f\n\r\t\v\u2028\u2029]+/,$S=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Ye(r)||(n?s=r.toString().split(""):s=r.toString().split(TS));var i=s.map(function(c){return{word:c,width:is(c,a).width}}),l=n?0:is(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},_K=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=xe(i),d=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,O){var k=O.word,D=O.width,q=$[$.length-1];if(q&&(a==null||s||q.width+D+n<Number(a)))q.words.push(k),q.width+=D+n;else{var Z={words:[k],width:D};$.push(Z)}return $},[])},p=h(r),y=function(F){return F.reduce(function($,O){return $.width>O.width?$:O})};if(!f)return p;for(var m="…",g=function(F){var $=d.slice(0,F),O=$S({breakAll:u,style:c,children:$+m}).wordsWithComputedWidth,k=h(O),D=k.length>i||y(k).width>Number(a);return[D,k]},x=0,w=d.length-1,b=0,S;x<=w&&b<=d.length-1;){var j=Math.floor((x+w)/2),N=j-1,A=g(N),P=uv(A,2),E=P[0],B=P[1],_=g(j),C=uv(_,1),U=C[0];if(!E&&!U&&(x=j+1),E&&U&&(w=j-1),!E&&U){S=B;break}b++}return S||p},fv=function(t){var r=Ye(t)?[]:t.toString().split(TS);return[{words:r}]},IK=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Bo.isSsr){var c,u,f=$S({breakAll:i,children:a,style:s});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return fv(a);return _K({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return fv(a)},hv="#808080",Pl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,x=g===void 0?hv:g,w=cv(t,CK),b=v.useMemo(function(){return IK({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),S=w.dx,j=w.dy,N=w.angle,A=w.className,P=w.breakAll,E=cv(w,OK);if(!kt(n)||!kt(s))return null;var B=n+(xe(S)?S:0),_=s+(xe(j)?j:0),C;switch(m){case"start":C=td("calc(".concat(u,")"));break;case"middle":C=td("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=td("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(d){var I=b[0].width,F=w.width;U.push("scale(".concat((xe(F)?F/I:1)/I,")"))}return N&&U.push("rotate(".concat(N,", ").concat(B,", ").concat(_,")")),U.length&&(E.transform=U.join(" ")),T.createElement("text",gf({},Je(E,!0),{x:B,y:_,className:Ze("recharts-text",A),textAnchor:p,fill:x.includes("url")?hv:x}),b.map(function($,O){var k=$.words.join(P?"":" ");return T.createElement("tspan",{x:B,dy:O===0?C:l,key:"".concat(k,"-").concat(O)},k)}))};function _n(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vp(e){let t,r,n;e.length!==2?(t=_n,r=(l,c)=>_n(e(l),c),n=(l,c)=>e(l)-c):(t=e===_n||e===kK?e:MK,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:i,right:s}}function MK(){return 0}function _S(e){return e===null?NaN:+e}function*RK(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LK=vp(_n),di=LK.right;vp(_S).center;class pv extends Map{constructor(t,r=UK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mv(this,t))}has(t){return super.has(mv(this,t))}set(t,r){return super.set(BK(this,t),r)}delete(t){return super.delete(FK(this,t))}}function mv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function BK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FK({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function UK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KK(e=_n){if(e===_n)return IS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VK=Math.sqrt(50),zK=Math.sqrt(10),WK=Math.sqrt(2);function El(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=VK?10:s>=zK?5:s>=WK?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?El(e,t,r*2):[l,c,u]}function vf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?El(t,e,r):El(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function yf(e,t,r){return t=+t,e=+e,r=+r,El(e,t,r)[2]}function xf(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yf(t,e,r):yf(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gv(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vv(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function kS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?IS:KK(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));kS(e,t,p,y,a)}const s=e[t];let i=r,l=n;for(Ho(e,r,t),a(e[n],s)>0&&Ho(e,r,n);i<l;){for(Ho(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Ho(e,r,l):(++l,Ho(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ho(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HK(e,t,r){if(e=Float64Array.from(RK(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vv(e);if(t>=1)return gv(e);var n,a=(n-1)*t,s=Math.floor(a),i=gv(kS(e,s).subarray(0,s+1)),l=vv(e.subarray(s+1));return i+(l-i)*(a-s)}}function YK(e,t,r=_S){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function qK(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Or(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bf=Symbol("implicit");function yp(){var e=new pv,t=[],r=[],n=bf;function a(s){let i=e.get(s);if(i===void 0){if(n!==bf)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new pv;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yp(t,r).unknown(n)},Or.apply(a,arguments),a}function Ns(){var e=yp().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;s=(m-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(m-y-s*(h-c))*f,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var g=qK(h).map(function(x){return y+s*x});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ns(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Or.apply(d(),arguments)}function MS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MS(t())},e}function ls(){return MS(Ns.apply(null,arguments).paddingInner(1))}function xp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fi(){}var As=.7,Dl=1/As,qa="\\s*([+-]?\\d+)\\s*",Cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GK=/^#([0-9a-f]{3,8})$/,XK=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),QK=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),JK=new RegExp(`^rgba\\(${qa},${qa},${qa},${Cs}\\)$`),ZK=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Cs}\\)$`),eV=new RegExp(`^hsl\\(${Cs},${Qr},${Qr}\\)$`),tV=new RegExp(`^hsla\\(${Cs},${Qr},${Qr},${Cs}\\)$`),yv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xp(fi,Os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xv,formatHex:xv,formatHex8:rV,formatHsl:nV,formatRgb:bv,toString:bv});function xv(){return this.rgb().formatHex()}function rV(){return this.rgb().formatHex8()}function nV(){return LS(this).formatHsl()}function bv(){return this.rgb().formatRgb()}function Os(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=GK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wv(t):r===3?new nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ii(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ii(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XK.exec(e))?new nr(t[1],t[2],t[3],1):(t=QK.exec(e))?new nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JK.exec(e))?Ii(t[1],t[2],t[3],t[4]):(t=ZK.exec(e))?Ii(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eV.exec(e))?Nv(t[1],t[2]/100,t[3]/100,1):(t=tV.exec(e))?Nv(t[1],t[2]/100,t[3]/100,t[4]):yv.hasOwnProperty(e)?wv(yv[e]):e==="transparent"?new nr(NaN,NaN,NaN,0):null}function wv(e){return new nr(e>>16&255,e>>8&255,e&255,1)}function Ii(e,t,r,n){return n<=0&&(e=t=r=NaN),new nr(e,t,r,n)}function aV(e){return e instanceof fi||(e=Os(e)),e?(e=e.rgb(),new nr(e.r,e.g,e.b,e.opacity)):new nr}function wf(e,t,r,n){return arguments.length===1?aV(e):new nr(e,t,r,n??1)}function nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xp(nr,wf,RS(fi,{brighter(e){return e=e==null?Dl:Math.pow(Dl,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?As:Math.pow(As,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nr(ra(this.r),ra(this.g),ra(this.b),Tl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jv,formatHex:jv,formatHex8:oV,formatRgb:Sv,toString:Sv}));function jv(){return`#${Zn(this.r)}${Zn(this.g)}${Zn(this.b)}`}function oV(){return`#${Zn(this.r)}${Zn(this.g)}${Zn(this.b)}${Zn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sv(){const e=Tl(this.opacity);return`${e===1?"rgb(":"rgba("}${ra(this.r)}, ${ra(this.g)}, ${ra(this.b)}${e===1?")":`, ${e})`}`}function Tl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ra(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zn(e){return e=ra(e),(e<16?"0":"")+e.toString(16)}function Nv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kr(e,t,r,n)}function LS(e){if(e instanceof kr)return new kr(e.h,e.s,e.l,e.opacity);if(e instanceof fi||(e=Os(e)),!e)return new kr;if(e instanceof kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new kr(i,l,c,e.opacity)}function sV(e,t,r,n){return arguments.length===1?LS(e):new kr(e,t,r,n??1)}function kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xp(kr,sV,RS(fi,{brighter(e){return e=e==null?Dl:Math.pow(Dl,e),new kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?As:Math.pow(As,e),new kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new nr(rd(e>=240?e-240:e+120,a,n),rd(e,a,n),rd(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new kr(Av(this.h),ki(this.s),ki(this.l),Tl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tl(this.opacity);return`${e===1?"hsl(":"hsla("}${Av(this.h)}, ${ki(this.s)*100}%, ${ki(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Av(e){return e=(e||0)%360,e<0?e+360:e}function ki(e){return Math.max(0,Math.min(1,e||0))}function rd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bp=e=>()=>e;function iV(e,t){return function(r){return e+r*t}}function lV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cV(e){return(e=+e)==1?BS:function(t,r){return r-t?lV(t,r,e):bp(isNaN(t)?r:t)}}function BS(e,t){var r=t-e;return r?iV(e,r):bp(isNaN(e)?t:e)}const Cv=function e(t){var r=cV(t);function n(a,s){var i=r((a=wf(a)).r,(s=wf(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=BS(a.opacity,s.opacity);return function(f){return a.r=i(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function uV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function dV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Fo(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function hV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $l(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pV(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Fo(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var jf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nd=new RegExp(jf.source,"g");function mV(e){return function(){return e}}function gV(e){return function(t){return e(t)+""}}function vV(e,t){var r=jf.lastIndex=nd.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=jf.exec(e))&&(a=nd.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:$l(n,a)})),r=nd.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?gV(c[0].x):mV(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Fo(e,t){var r=typeof t,n;return t==null||r==="boolean"?bp(t):(r==="number"?$l:r==="string"?(n=Os(t))?(t=n,Cv):vV:t instanceof Os?Cv:t instanceof Date?hV:dV(t)?uV:Array.isArray(t)?fV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pV:$l)(e,t)}function wp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function yV(e,t){t===void 0&&(t=e,e=Fo);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function xV(e){return function(){return e}}function _l(e){return+e}var Ov=[0,1];function er(e){return e}function Sf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xV(isNaN(t)?NaN:.5)}function bV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wV(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Sf(a,n),s=r(i,s)):(n=Sf(n,a),s=r(s,i)),function(l){return s(n(l))}}function jV(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Sf(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=di(e,l,1,n)-1;return s[c](a[c](l))}}function hi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nu(){var e=Ov,t=Ov,r=Fo,n,a,s,i=er,l,c,u;function f(){var h=Math.min(e.length,t.length);return i!==er&&(i=bV(e[0],e[h-1])),l=h>2?jV:wV,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((u||(u=l(t,e.map(n),$l)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,_l),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=wp,f()},d.clamp=function(h){return arguments.length?(i=h?!0:er,f()):i!==er},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return n=h,a=p,f()}}function jp(){return nu()(er,er)}function SV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Il(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function oo(e){return e=Il(Math.abs(e)),e?e[1]:NaN}function NV(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function AV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ps(e){if(!(t=CV.exec(e)))throw new Error("invalid format: "+e);var t;return new Sp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ps.prototype=Sp.prototype;function Sp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var FS;function PV(e,t){var r=Il(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(FS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Il(e,Math.max(0,t+s-1))[0]}function Pv(e,t){var r=Il(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Ev={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pv(e*100,t),r:Pv,s:PV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dv(e){return e}var Tv=Array.prototype.map,$v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EV(e){var t=e.grouping===void 0||e.thousands===void 0?Dv:NV(Tv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Dv:AV(Tv.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Ps(d);var h=d.fill,p=d.align,y=d.sign,m=d.symbol,g=d.zero,x=d.width,w=d.comma,b=d.precision,S=d.trim,j=d.type;j==="n"?(w=!0,j="g"):Ev[j]||(b===void 0&&(b=12),S=!0,j="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",A=m==="$"?n:/[%p]/.test(j)?i:"",P=Ev[j],E=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function B(_){var C=N,U=A,I,F,$;if(j==="c")U=P(_)+U,_="";else{_=+_;var O=_<0||1/_<0;if(_=isNaN(_)?c:P(Math.abs(_),b),S&&(_=OV(_)),O&&+_==0&&y!=="+"&&(O=!1),C=(O?y==="("?y:l:y==="-"||y==="("?"":y)+C,U=(j==="s"?$v[8+FS/3]:"")+U+(O&&y==="("?")":""),E){for(I=-1,F=_.length;++I<F;)if($=_.charCodeAt(I),48>$||$>57){U=($===46?a+_.slice(I+1):_.slice(I))+U,_=_.slice(0,I);break}}}w&&!g&&(_=t(_,1/0));var k=C.length+_.length+U.length,D=k<x?new Array(x-k+1).join(h):"";switch(w&&g&&(_=t(D+_,D.length?x-U.length:1/0),D=""),p){case"<":_=C+_+U+D;break;case"=":_=C+D+_+U;break;case"^":_=D.slice(0,k=D.length>>1)+C+_+U+D.slice(k);break;default:_=D+C+_+U;break}return s(_)}return B.toString=function(){return d+""},B}function f(d,h){var p=u((d=Ps(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(oo(h)/3)))*3,m=Math.pow(10,-y),g=$v[8+y/3];return function(x){return p(m*x)+g}}return{format:u,formatPrefix:f}}var Mi,Np,US;DV({thousands:",",grouping:[3],currency:["$",""]});function DV(e){return Mi=EV(e),Np=Mi.format,US=Mi.formatPrefix,Mi}function TV(e){return Math.max(0,-oo(Math.abs(e)))}function $V(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oo(t)/3)))*3-oo(Math.abs(e)))}function _V(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oo(t)-oo(e))+1}function KS(e,t,r,n){var a=xf(e,t,r),s;switch(n=Ps(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=$V(a,i))&&(n.precision=s),US(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=_V(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=TV(a))&&(n.precision=s-(n.type==="%")*2);break}}return Np(n)}function Vn(e){var t=e.domain;return e.ticks=function(r){var n=t();return vf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return KS(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,f=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=yf(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function kl(){var e=jp();return e.copy=function(){return hi(e,kl())},Or.apply(e,arguments),Vn(e)}function VS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_l),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VS(e).unknown(t)},e=arguments.length?Array.from(e,_l):[0,1],Vn(r)}function zS(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function _v(e){return Math.log(e)}function Iv(e){return Math.exp(e)}function IV(e){return-Math.log(-e)}function kV(e){return-Math.exp(-e)}function MV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RV(e){return e===10?MV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kv(e){return(t,r)=>-e(-t,r)}function Ap(e){const t=e(_v,Iv),r=t.domain;let n=10,a,s;function i(){return a=LV(n),s=RV(n),r()[0]<0?(a=kv(a),s=kv(s),e(IV,kV)):e(_v,Iv),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),p=a(f),y,m;const g=l==null?10:+l;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/s(-h):y*s(h),!(m<u)){if(m>f)break;x.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/s(-h):y*s(h),!(m<u)){if(m>f)break;x.push(m)}x.length*2<g&&(x=vf(u,f,g))}else x=vf(h,p,Math.min(p-h,g)).map(s);return d?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ps(c)).precision==null&&(c.trim=!0),c=Np(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/s(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(zS(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function WS(){const e=Ap(nu()).domain([1,10]);return e.copy=()=>hi(e,WS()).base(e.base()),Or.apply(e,arguments),e}function Mv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Rv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cp(e){var t=1,r=e(Mv(t),Rv(t));return r.constant=function(n){return arguments.length?e(Mv(t=+n),Rv(t)):t},Vn(r)}function HS(){var e=Cp(nu());return e.copy=function(){return hi(e,HS()).constant(e.constant())},Or.apply(e,arguments)}function Lv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FV(e){return e<0?-e*e:e*e}function Op(e){var t=e(er,er),r=1;function n(){return r===1?e(er,er):r===.5?e(BV,FV):e(Lv(r),Lv(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vn(t)}function Pp(){var e=Op(nu());return e.copy=function(){return hi(e,Pp()).exponent(e.exponent())},Or.apply(e,arguments),e}function UV(){return Pp.apply(null,arguments).exponent(.5)}function Bv(e){return Math.sign(e)*e*e}function KV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YS(){var e=jp(),t=[0,1],r=!1,n;function a(s){var i=KV(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(Bv(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,_l)).map(Bv)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return YS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Or.apply(a,arguments),Vn(a)}function qS(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=YK(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[di(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(_n),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return qS().domain(e).range(t).unknown(n)},Or.apply(s,arguments)}function GS(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[di(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return GS().domain([e,t]).range(a).unknown(s)},Or.apply(Vn(i),arguments)}function XS(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[di(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return XS().domain(e).range(t).unknown(r)},Or.apply(a,arguments)}const ad=new Date,od=new Date;function Mt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>Mt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(ad.setTime(+s),od.setTime(+i),e(ad),e(od),Math.floor(r(ad,od))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Ml=Mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ml.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ml);Ml.range;const dn=1e3,br=dn*60,fn=br*60,bn=fn*24,Ep=bn*7,Fv=bn*30,sd=bn*365,ea=Mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCSeconds());ea.range;const Dp=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getMinutes());Dp.range;const Tp=Mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getUTCMinutes());Tp.range;const $p=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn-e.getMinutes()*br)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getHours());$p.range;const _p=Mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCHours());_p.range;const pi=Mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*br)/bn,e=>e.getDate()-1);pi.range;const au=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>e.getUTCDate()-1);au.range;const QS=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>Math.floor(e/bn));QS.range;function Aa(e){return Mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*br)/Ep)}const ou=Aa(0),Rl=Aa(1),VV=Aa(2),zV=Aa(3),so=Aa(4),WV=Aa(5),HV=Aa(6);ou.range;Rl.range;VV.range;zV.range;so.range;WV.range;HV.range;function Ca(e){return Mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ep)}const su=Ca(0),Ll=Ca(1),YV=Ca(2),qV=Ca(3),io=Ca(4),GV=Ca(5),XV=Ca(6);su.range;Ll.range;YV.range;qV.range;io.range;GV.range;XV.range;const Ip=Mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ip.range;const kp=Mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kp.range;const wn=Mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wn.range;const jn=Mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});jn.range;function JS(e,t,r,n,a,s){const i=[[ea,1,dn],[ea,5,5*dn],[ea,15,15*dn],[ea,30,30*dn],[s,1,br],[s,5,5*br],[s,15,15*br],[s,30,30*br],[a,1,fn],[a,3,3*fn],[a,6,6*fn],[a,12,12*fn],[n,1,bn],[n,2,2*bn],[r,1,Ep],[t,1,Fv],[t,3,3*Fv],[e,1,sd]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=vp(([,,g])=>g).right(i,h);if(p===i.length)return e.every(xf(u/sd,f/sd,d));if(p===0)return Ml.every(Math.max(xf(u,f,d),1));const[y,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[QV,JV]=JS(jn,kp,su,QS,_p,Tp),[ZV,ez]=JS(wn,Ip,ou,pi,$p,Dp);function id(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ld(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=qo(a),f=Go(a),d=qo(s),h=Go(s),p=qo(i),y=Go(i),m=qo(l),g=Go(l),x=qo(c),w=Go(c),b={a:O,A:k,b:D,B:q,c:null,d:Hv,e:Hv,f:Nz,g:Iz,G:Mz,H:wz,I:jz,j:Sz,L:ZS,m:Az,M:Cz,p:Z,q:Q,Q:Gv,s:Xv,S:Oz,u:Pz,U:Ez,V:Dz,w:Tz,W:$z,x:null,X:null,y:_z,Y:kz,Z:Rz,"%":qv},S={a:ne,A:te,b:Oe,B:Le,c:null,d:Yv,e:Yv,f:Uz,g:Qz,G:Zz,H:Lz,I:Bz,j:Fz,L:tN,m:Kz,M:Vz,p:pe,q:M,Q:Gv,s:Xv,S:zz,u:Wz,U:Hz,V:Yz,w:qz,W:Gz,x:null,X:null,y:Xz,Y:Jz,Z:e8,"%":qv},j={a:B,A:_,b:C,B:U,c:I,d:zv,e:zv,f:vz,g:Vv,G:Kv,H:Wv,I:Wv,j:hz,L:gz,m:fz,M:pz,p:E,q:dz,Q:xz,s:bz,S:mz,u:sz,U:iz,V:lz,w:oz,W:cz,x:F,X:$,y:Vv,Y:Kv,Z:uz,"%":yz};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(L,R){return function(H){var V=[],le=-1,he=0,we=L.length,se,Te,de;for(H instanceof Date||(H=new Date(+H));++le<we;)L.charCodeAt(le)===37&&(V.push(L.slice(he,le)),(Te=Uv[se=L.charAt(++le)])!=null?se=L.charAt(++le):Te=se==="e"?" ":"0",(de=R[se])&&(se=de(H,Te)),V.push(se),he=le+1);return V.push(L.slice(he,le)),V.join("")}}function A(L,R){return function(H){var V=Yo(1900,void 0,1),le=P(V,L,H+="",0),he,we;if(le!=H.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(R&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(he=ld(Yo(V.y,0,1)),we=he.getUTCDay(),he=we>4||we===0?Ll.ceil(he):Ll(he),he=au.offset(he,(V.V-1)*7),V.y=he.getUTCFullYear(),V.m=he.getUTCMonth(),V.d=he.getUTCDate()+(V.w+6)%7):(he=id(Yo(V.y,0,1)),we=he.getDay(),he=we>4||we===0?Rl.ceil(he):Rl(he),he=pi.offset(he,(V.V-1)*7),V.y=he.getFullYear(),V.m=he.getMonth(),V.d=he.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),we="Z"in V?ld(Yo(V.y,0,1)).getUTCDay():id(Yo(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(we+5)%7:V.w+V.U*7-(we+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,ld(V)):id(V)}}function P(L,R,H,V){for(var le=0,he=R.length,we=H.length,se,Te;le<he;){if(V>=we)return-1;if(se=R.charCodeAt(le++),se===37){if(se=R.charAt(le++),Te=j[se in Uv?R.charAt(le++):se],!Te||(V=Te(L,H,V))<0)return-1}else if(se!=H.charCodeAt(V++))return-1}return V}function E(L,R,H){var V=u.exec(R.slice(H));return V?(L.p=f.get(V[0].toLowerCase()),H+V[0].length):-1}function B(L,R,H){var V=p.exec(R.slice(H));return V?(L.w=y.get(V[0].toLowerCase()),H+V[0].length):-1}function _(L,R,H){var V=d.exec(R.slice(H));return V?(L.w=h.get(V[0].toLowerCase()),H+V[0].length):-1}function C(L,R,H){var V=x.exec(R.slice(H));return V?(L.m=w.get(V[0].toLowerCase()),H+V[0].length):-1}function U(L,R,H){var V=m.exec(R.slice(H));return V?(L.m=g.get(V[0].toLowerCase()),H+V[0].length):-1}function I(L,R,H){return P(L,t,R,H)}function F(L,R,H){return P(L,r,R,H)}function $(L,R,H){return P(L,n,R,H)}function O(L){return i[L.getDay()]}function k(L){return s[L.getDay()]}function D(L){return c[L.getMonth()]}function q(L){return l[L.getMonth()]}function Z(L){return a[+(L.getHours()>=12)]}function Q(L){return 1+~~(L.getMonth()/3)}function ne(L){return i[L.getUTCDay()]}function te(L){return s[L.getUTCDay()]}function Oe(L){return c[L.getUTCMonth()]}function Le(L){return l[L.getUTCMonth()]}function pe(L){return a[+(L.getUTCHours()>=12)]}function M(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var R=N(L+="",b);return R.toString=function(){return L},R},parse:function(L){var R=A(L+="",!1);return R.toString=function(){return L},R},utcFormat:function(L){var R=N(L+="",S);return R.toString=function(){return L},R},utcParse:function(L){var R=A(L+="",!0);return R.toString=function(){return L},R}}}var Uv={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,rz=/^%/,nz=/[\\^$*+?|[\]().{}]/g;function nt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function az(e){return e.replace(nz,"\\$&")}function qo(e){return new RegExp("^(?:"+e.map(az).join("|")+")","i")}function Go(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function oz(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sz(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function iz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Kv(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Vv(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dz(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function zv(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hz(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Wv(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function mz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gz(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vz(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yz(e,t,r){var n=rz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xz(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bz(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Hv(e,t){return nt(e.getDate(),t,2)}function wz(e,t){return nt(e.getHours(),t,2)}function jz(e,t){return nt(e.getHours()%12||12,t,2)}function Sz(e,t){return nt(1+pi.count(wn(e),e),t,3)}function ZS(e,t){return nt(e.getMilliseconds(),t,3)}function Nz(e,t){return ZS(e,t)+"000"}function Az(e,t){return nt(e.getMonth()+1,t,2)}function Cz(e,t){return nt(e.getMinutes(),t,2)}function Oz(e,t){return nt(e.getSeconds(),t,2)}function Pz(e){var t=e.getDay();return t===0?7:t}function Ez(e,t){return nt(ou.count(wn(e)-1,e),t,2)}function eN(e){var t=e.getDay();return t>=4||t===0?so(e):so.ceil(e)}function Dz(e,t){return e=eN(e),nt(so.count(wn(e),e)+(wn(e).getDay()===4),t,2)}function Tz(e){return e.getDay()}function $z(e,t){return nt(Rl.count(wn(e)-1,e),t,2)}function _z(e,t){return nt(e.getFullYear()%100,t,2)}function Iz(e,t){return e=eN(e),nt(e.getFullYear()%100,t,2)}function kz(e,t){return nt(e.getFullYear()%1e4,t,4)}function Mz(e,t){var r=e.getDay();return e=r>=4||r===0?so(e):so.ceil(e),nt(e.getFullYear()%1e4,t,4)}function Rz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function Yv(e,t){return nt(e.getUTCDate(),t,2)}function Lz(e,t){return nt(e.getUTCHours(),t,2)}function Bz(e,t){return nt(e.getUTCHours()%12||12,t,2)}function Fz(e,t){return nt(1+au.count(jn(e),e),t,3)}function tN(e,t){return nt(e.getUTCMilliseconds(),t,3)}function Uz(e,t){return tN(e,t)+"000"}function Kz(e,t){return nt(e.getUTCMonth()+1,t,2)}function Vz(e,t){return nt(e.getUTCMinutes(),t,2)}function zz(e,t){return nt(e.getUTCSeconds(),t,2)}function Wz(e){var t=e.getUTCDay();return t===0?7:t}function Hz(e,t){return nt(su.count(jn(e)-1,e),t,2)}function rN(e){var t=e.getUTCDay();return t>=4||t===0?io(e):io.ceil(e)}function Yz(e,t){return e=rN(e),nt(io.count(jn(e),e)+(jn(e).getUTCDay()===4),t,2)}function qz(e){return e.getUTCDay()}function Gz(e,t){return nt(Ll.count(jn(e)-1,e),t,2)}function Xz(e,t){return nt(e.getUTCFullYear()%100,t,2)}function Qz(e,t){return e=rN(e),nt(e.getUTCFullYear()%100,t,2)}function Jz(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function Zz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?io(e):io.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function e8(){return"+0000"}function qv(){return"%"}function Gv(e){return+e}function Xv(e){return Math.floor(+e/1e3)}var ka,nN,aN;t8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t8(e){return ka=tz(e),nN=ka.format,ka.parse,aN=ka.utcFormat,ka.utcParse,ka}function r8(e){return new Date(e)}function n8(e){return e instanceof Date?+e:+new Date(+e)}function Mp(e,t,r,n,a,s,i,l,c,u){var f=jp(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),S=u("%Y");function j(N){return(c(N)<N?p:l(N)<N?y:i(N)<N?m:s(N)<N?g:n(N)<N?a(N)<N?x:w:r(N)<N?b:S)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,n8)):h().map(r8)},f.ticks=function(N){var A=h();return e(A[0],A[A.length-1],N??10)},f.tickFormat=function(N,A){return A==null?j:u(A)},f.nice=function(N){var A=h();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?h(zS(A,N)):f},f.copy=function(){return hi(f,Mp(e,t,r,n,a,s,i,l,c,u))},f}function a8(){return Or.apply(Mp(ZV,ez,wn,Ip,ou,pi,$p,Dp,ea,nN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o8(){return Or.apply(Mp(QV,JV,jn,kp,su,au,_p,Tp,ea,aN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iu(){var e=0,t=1,r,n,a,s,i=er,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(i=d,u):i};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,i=d(p,y),u):[i(0),i(1)]}}return u.range=f(Fo),u.rangeRound=f(wp),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function zn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oN(){var e=Vn(iu()(er));return e.copy=function(){return zn(e,oN())},Cn.apply(e,arguments)}function sN(){var e=Ap(iu()).domain([1,10]);return e.copy=function(){return zn(e,sN()).base(e.base())},Cn.apply(e,arguments)}function iN(){var e=Cp(iu());return e.copy=function(){return zn(e,iN()).constant(e.constant())},Cn.apply(e,arguments)}function Rp(){var e=Op(iu());return e.copy=function(){return zn(e,Rp()).exponent(e.exponent())},Cn.apply(e,arguments)}function s8(){return Rp.apply(null,arguments).exponent(.5)}function lN(){var e=[],t=er;function r(n){if(n!=null&&!isNaN(n=+n))return t((di(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(_n),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>HK(e,s/n))},r.copy=function(){return lN(t).domain(e)},Cn.apply(r,arguments)}function lu(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=er,f,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+f(m))-s)*(n*m<n*s?l:c),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=f(e=+e),s=f(t=+t),i=f(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(g){var x,w,b;return arguments.length?([x,w,b]=g,u=yV(m,[x,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Fo),p.rangeRound=y(wp),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return f=m,a=m(e),s=m(t),i=m(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function cN(){var e=Vn(lu()(er));return e.copy=function(){return zn(e,cN())},Cn.apply(e,arguments)}function uN(){var e=Ap(lu()).domain([.1,1,10]);return e.copy=function(){return zn(e,uN()).base(e.base())},Cn.apply(e,arguments)}function dN(){var e=Cp(lu());return e.copy=function(){return zn(e,dN()).constant(e.constant())},Cn.apply(e,arguments)}function Lp(){var e=Op(lu());return e.copy=function(){return zn(e,Lp()).exponent(e.exponent())},Cn.apply(e,arguments)}function i8(){return Lp.apply(null,arguments).exponent(.5)}const Qv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ns,scaleDiverging:cN,scaleDivergingLog:uN,scaleDivergingPow:Lp,scaleDivergingSqrt:i8,scaleDivergingSymlog:dN,scaleIdentity:VS,scaleImplicit:bf,scaleLinear:kl,scaleLog:WS,scaleOrdinal:yp,scalePoint:ls,scalePow:Pp,scaleQuantile:qS,scaleQuantize:GS,scaleRadial:YS,scaleSequential:oN,scaleSequentialLog:sN,scaleSequentialPow:Rp,scaleSequentialQuantile:lN,scaleSequentialSqrt:s8,scaleSequentialSymlog:iN,scaleSqrt:UV,scaleSymlog:HS,scaleThreshold:XS,scaleTime:a8,scaleUtc:o8,tickFormat:KS},Symbol.toStringTag,{value:"Module"}));var l8=To;function c8(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!l8(i):r(i,l)))var l=i,c=s}return c}var fN=c8;function u8(e,t){return e>t}var d8=u8,f8=fN,h8=d8,p8=Lo;function m8(e){return e&&e.length?f8(e,p8,h8):void 0}var g8=m8;const cu=ft(g8);function v8(e,t){return e<t}var y8=v8,x8=fN,b8=y8,w8=Lo;function j8(e){return e&&e.length?x8(e,w8,b8):void 0}var S8=j8;const uu=ft(S8);var N8=Jh,A8=Kn,C8=bS,O8=or;function P8(e,t){var r=O8(e)?N8:C8;return r(e,A8(t))}var E8=P8,D8=yS,T8=E8;function $8(e,t){return D8(T8(e,t),1)}var _8=$8;const I8=ft(_8);var k8=hp;function M8(e,t){return k8(e,t)}var R8=M8;const du=ft(R8);var Uo=1e9,L8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fp,vt=!0,Nr="[DecimalError] ",na=Nr+"Invalid argument: ",Bp=Nr+"Exponent out of range: ",Ko=Math.floor,Qn=Math.pow,B8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr,Lt=1e7,pt=7,hN=9007199254740991,Bl=Ko(hN/pt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return vn(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return ct(vn(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Ct(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hr))throw Error(Nr+"NaN");if(r.s<1)throw Error(Nr+(r.s?"NaN":"-Infinity"));return r.eq(hr)?new n(0):(vt=!1,t=vn(Es(r,s),Es(e,s),s),vt=!0,ct(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gN(t,e):pN(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Nr+"NaN");return r.s?(vt=!1,t=vn(r,e,0,1).times(e),vt=!0,r.minus(t)):ct(new n(r),a)};Ee.naturalExponential=Ee.exp=function(){return mN(this)};Ee.naturalLogarithm=Ee.ln=function(){return Es(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pN(t,e):gN(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(na+e);if(t=Ct(a)+1,n=a.d.length-1,r=n*pt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Nr+"NaN")}for(e=Ct(l),vt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Gr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ko((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(vn(l,s,i+2)).times(.5),Gr(s.d).slice(0,i)===(t=Gr(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(ct(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return vt=!0,ct(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,a,s,i,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%Lt|0,t=l/Lt|0;s[a]=(s[a]+t)%Lt|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,vt?ct(e,d.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tn(e,0,Uo),t===void 0?t=n.rounding:tn(t,0,8),ct(r,e+Ct(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=va(n,!0):(tn(e,0,Uo),t===void 0?t=a.rounding:tn(t,0,8),n=ct(new a(n),e+1,t),r=va(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?va(a):(tn(e,0,Uo),t===void 0?t=s.rounding:tn(t,0,8),n=ct(new s(a),e+Ct(a)+1,t),r=va(n.abs(),!1,e+Ct(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Ct(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(hr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Nr+"Infinity");return l}if(l.eq(hr))return l;if(n=c.precision,e.eq(hr))return ct(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=f<0?-f:f)<=hN){for(a=new c(hr),t=Math.ceil(n/pt+4),vt=!1;r%2&&(a=a.times(l),Zv(a.d,t)),r=Ko(r/2),r!==0;)l=l.times(l),Zv(l.d,t);return vt=!0,e.s<0?new c(hr).div(a):ct(a,n)}}else if(s<0)throw Error(Nr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,vt=!1,a=e.times(Es(l,n+u)),vt=!0,a=mN(a),a.s=s,a};Ee.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ct(a),n=va(a,r<=s.toExpNeg||r>=s.toExpPos)):(tn(e,1,Uo),t===void 0?t=s.rounding:tn(t,0,8),a=ct(new s(a),e,t),r=Ct(a),n=va(a,e<=r||r<=s.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tn(e,1,Uo),t===void 0?t=n.rounding:tn(t,0,8)),ct(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return va(e,t<=r.toExpNeg||t>=r.toExpPos)};function pN(e,t){var r,n,a,s,i,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),vt?ct(t,d):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(d/pt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Lt|0,c[s]%=Lt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,vt?ct(t,d):t}function tn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(na+e)}function Gr(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=pt-n.length,r&&(s+=En(r)),s+=n;i=e[t],n=i+"",r=pt-n.length,r&&(s+=En(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var vn=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Lt|0,i=s/Lt|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Lt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,f,d,h,p,y,m,g,x,w,b,S,j,N,A,P,E=n.constructor,B=n.s==a.s?1:-1,_=n.d,C=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Nr+"Division by zero");for(c=n.e-a.e,A=C.length,j=_.length,p=new E(B),y=p.d=[],u=0;C[u]==(_[u]||0);)++u;if(C[u]>(_[u]||0)&&--c,s==null?w=s=E.precision:i?w=s+(Ct(n)-Ct(a))+1:w=s,w<0)return new E(0);if(w=w/pt+2|0,u=0,A==1)for(f=0,C=C[0],w++;(u<j||f)&&w--;u++)b=f*Lt+(_[u]||0),y[u]=b/C|0,f=b%C|0;else{for(f=Lt/(C[0]+1)|0,f>1&&(C=e(C,f),_=e(_,f),A=C.length,j=_.length),S=A,m=_.slice(0,A),g=m.length;g<A;)m[g++]=0;P=C.slice(),P.unshift(0),N=C[0],C[1]>=Lt/2&&++N;do f=0,l=t(C,m,A,g),l<0?(x=m[0],A!=g&&(x=x*Lt+(m[1]||0)),f=x/N|0,f>1?(f>=Lt&&(f=Lt-1),d=e(C,f),h=d.length,g=m.length,l=t(d,m,h,g),l==1&&(f--,r(d,A<h?P:C,h))):(f==0&&(l=f=1),d=C.slice()),h=d.length,h<g&&d.unshift(0),r(m,d,g),l==-1&&(g=m.length,l=t(C,m,A,g),l<1&&(f++,r(m,A<g?P:C,g))),g=m.length):l===0&&(f++,m=[0]),y[u++]=f,l&&m[0]?m[g++]=_[S]||0:(m=[_[S]],g=1);while((S++<j||m[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,ct(p,i?s+Ct(p)+1:s)}}();function mN(e,t){var r,n,a,s,i,l,c=0,u=0,f=e.constructor,d=f.precision;if(Ct(e)>16)throw Error(Bp+Ct(e));if(!e.s)return new f(hr);for(vt=!1,l=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Qn(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new f(hr),f.precision=l;;){if(a=ct(a.times(e),l),r=r.times(++c),i=s.plus(vn(a,r,l)),Gr(i.d).slice(0,l)===Gr(s.d).slice(0,l)){for(;u--;)s=ct(s.times(s),l);return f.precision=d,t==null?(vt=!0,ct(s,d)):s}s=i}}function Ct(e){for(var t=e.e*pt,r=e.d[0];r>=10;r/=10)t++;return t}function cd(e,t,r){if(t>e.LN10.sd())throw vt=!0,r&&(e.precision=r),Error(Nr+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function En(e){for(var t="";e--;)t+="0";return t}function Es(e,t){var r,n,a,s,i,l,c,u,f,d=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Nr+(p.s?"NaN":"-Infinity"));if(p.eq(hr))return new m(0);if(t==null?(vt=!1,u=g):u=t,p.eq(10))return t==null&&(vt=!0),cd(m,u);if(u+=h,m.precision=u,r=Gr(y),n=r.charAt(0),s=Ct(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Gr(p.d),n=r.charAt(0),d++;s=Ct(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=cd(m,u+2,g).times(s+""),p=Es(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=g,t==null?(vt=!0,ct(p,g)):p;for(l=i=p=vn(p.minus(hr),p.plus(hr),u),f=ct(p.times(p),u),a=3;;){if(i=ct(i.times(f),u),c=l.plus(vn(i,new m(a),u)),Gr(c.d).slice(0,u)===Gr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(cd(m,u+2,g).times(s+""))),l=vn(l,new m(d),u),m.precision=g,t==null?(vt=!0,ct(l,g)):l;l=c,a+=2}}function Jv(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ko(r/pt),e.d=[],n=(r+1)%pt,r<0&&(n+=pt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=pt;n<a;)e.d.push(+t.slice(n,n+=pt));t=t.slice(n),n=pt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),vt&&(e.e>Bl||e.e<-Bl))throw Error(Bp+r)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,r){var n,a,s,i,l,c,u,f,d=e.d;for(i=1,s=d[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=pt,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/pt),s=d.length,f>=s)return e;for(u=s=d[f],i=1;s>=10;s/=10)i++;n%=pt,a=n-pt+i}if(r!==void 0&&(s=Qn(10,i-a-1),l=u/s%10|0,c=t<0||d[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Qn(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=Ct(e),d.length=1,t=t-s-1,d[0]=Qn(10,(pt-t%pt)%pt),e.e=Ko(-t/pt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,s=1,f--):(d.length=f+1,s=Qn(10,pt-n),d[f]=a>0?(u/Qn(10,i-a)%Qn(10,a)|0)*s:0),c)for(;;)if(f==0){(d[0]+=s)==Lt&&(d[0]=1,++e.e);break}else{if(d[f]+=s,d[f]!=Lt)break;d[f--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(vt&&(e.e>Bl||e.e<-Bl))throw Error(Bp+Ct(e));return e}function gN(e,t){var r,n,a,s,i,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),vt?ct(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(f=i<0,f?(r=c,i=-i,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(p/pt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}i=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(s=a;s&&c[--s]===0;)c[s]=Lt-1;--c[s],c[a]+=Lt}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,vt?ct(t,p):t):new h(0)}function va(e,t,r){var n,a=Ct(e),s=Gr(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+En(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+En(-a-1)+s,r&&(n=r-i)>0&&(s+=En(n))):a>=i?(s+=En(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+En(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=En(n))),e.s<0?"-"+s:s}function Zv(e,t){if(e.length>t)return e.length=t,!0}function vN(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(na+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return Jv(i,s.toString())}else if(typeof s!="string")throw Error(na+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,B8.test(s))Jv(i,s);else throw Error(na+s)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vN,a.config=a.set=F8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function F8(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,r,n,a=["precision",1,Uo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ko(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(na+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(na+r+": "+n);return this}var Fp=vN(L8);hr=new Fp(1);const it=Fp;function U8(e){return W8(e)||z8(e)||V8(e)||K8()}function K8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8(e,t){if(e){if(typeof e=="string")return Nf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nf(e,t)}}function z8(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W8(e){if(Array.isArray(e))return Nf(e)}function Nf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H8=function(t){return t},yN={},xN=function(t){return t===yN},ey=function(t){return function r(){return arguments.length===0||arguments.length===1&&xN(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Y8=function e(t,r){return t===1?r:ey(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==yN}).length;return i>=t?r.apply(void 0,a):e(t-i,ey(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return xN(d)?c.shift():d});return r.apply(void 0,U8(f).concat(c))}))})},fu=function(t){return Y8(t.length,t)},Af=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},q8=fu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),G8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H8;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Cf=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bN=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function X8(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function Q8(e,t,r){for(var n=new it(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var J8=fu(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Z8=fu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),eW=fu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const hu={rangeStep:Q8,getDigitCount:X8,interpolateNumber:J8,uninterpolateNumber:Z8,uninterpolateTruncation:eW};function Of(e){return nW(e)||rW(e)||wN(e)||tW()}function tW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nW(e){if(Array.isArray(e))return Pf(e)}function Ds(e,t){return sW(e)||oW(e,t)||wN(e,t)||aW()}function aW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wN(e,t){if(e){if(typeof e=="string")return Pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pf(e,t)}}function Pf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function sW(e){if(Array.isArray(e))return e}function jN(e){var t=Ds(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function SN(e,t,r){if(e.lte(0))return new it(0);var n=hu.getDigitCount(e.toNumber()),a=new it(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new it(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new it(Math.ceil(c))}function iW(e,t,r){var n=1,a=new it(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new it(10).pow(hu.getDigitCount(e)-1),a=new it(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new it(Math.floor(e)))}else e===0?a=new it(Math.floor((t-1)/2)):r||(a=new it(Math.floor(e)));var i=Math.floor((t-1)/2),l=G8(q8(function(c){return a.add(new it(c-i).mul(n)).toNumber()}),Af);return l(0,t)}function NN(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var s=SN(new it(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new it(0):(i=new it(e).add(t).div(2),i=i.sub(new it(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new it(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?NN(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new it(l).mul(s)),tickMax:i.add(new it(c).mul(s))})}function lW(e){var t=Ds(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=jN([r,n]),c=Ds(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Of(Af(0,a-1).map(function(){return 1/0}))):[].concat(Of(Af(0,a-1).map(function(){return-1/0})),[f]);return r>n?Cf(d):d}if(u===f)return iW(u,a,s);var h=NN(u,f,i,s),p=h.step,y=h.tickMin,m=h.tickMax,g=hu.rangeStep(y,m.add(new it(.1).mul(p)),p);return r>n?Cf(g):g}function cW(e,t){var r=Ds(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=jN([n,a]),l=Ds(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=SN(new it(u).sub(c).div(f-1),s,0),h=[].concat(Of(hu.rangeStep(new it(c),new it(u).sub(new it(.99).mul(d)),d)),[u]);return n>a?Cf(h):h}var uW=bN(lW),dW=bN(cW),fW="Invariant failed";function ya(e,t){throw new Error(fW)}var hW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function pW(e,t){return yW(e)||vW(e,t)||gW(e,t)||mW()}function mW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function yW(e){if(Array.isArray(e))return e}function xW(e,t){if(e==null)return{};var r=bW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ON(n.key),n)}}function SW(e,t,r){return t&&jW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NW(e,t,r){return t=Ul(t),AW(e,AN()?Reflect.construct(t,r||[],Ul(e).constructor):t.apply(e,r))}function AW(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CW(e)}function CW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AN=function(){return!!e})()}function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ul(e)}function OW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ef(e,t)}function Ef(e,t){return Ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ef(e,t)}function CN(e,t,r){return t=ON(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ON(e){var t=PW(e,"string");return lo(t)=="symbol"?t:t+""}function PW(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mi=function(e){function t(){return wW(this,t),NW(this,t,arguments)}return OW(t,e),SW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=xW(n,hW),p=Je(h,!1);this.props.direction==="x"&&f.type!=="number"&&ya();var y=c.map(function(m){var g=u(m,l),x=g.x,w=g.y,b=g.value,S=g.errorVal;if(!S)return null;var j=[],N,A;if(Array.isArray(S)){var P=pW(S,2);N=P[0],A=P[1]}else N=A=S;if(s==="vertical"){var E=f.scale,B=w+a,_=B+i,C=B-i,U=E(b-N),I=E(b+A);j.push({x1:I,y1:_,x2:I,y2:C}),j.push({x1:U,y1:B,x2:I,y2:B}),j.push({x1:U,y1:_,x2:U,y2:C})}else if(s==="horizontal"){var F=d.scale,$=x+a,O=$-i,k=$+i,D=F(b-N),q=F(b+A);j.push({x1:O,y1:q,x2:k,y2:q}),j.push({x1:$,y1:D,x2:$,y2:q}),j.push({x1:O,y1:D,x2:k,y2:D})}return T.createElement(Nt,Fl({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),j.map(function(Z){return T.createElement("line",Fl({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return T.createElement(Nt,{className:"recharts-errorBars"},y)}}])}(T.Component);CN(mi,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CN(mi,"displayName","ErrorBar");function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ry(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return t=DW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=TW(e,"string");return Ts(t)=="symbol"?t:t+""}function TW(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PN=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=ur(r,Ya);if(!i)return null;var l=Ya.defaultProps,c=l!==void 0?Yn(Yn({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Yn(Yn({},h),d.props):{},y=p.dataKey,m=p.name,g=p.legendType,x=p.hide;return{inactive:x,dataKey:y,type:c.iconType||g||"square",color:Up(d),value:m||y,payload:p}}),Yn(Yn(Yn({},c),Ya.getWithHeight(i,a)),{},{payload:u,item:i})};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function ny(e){return kW(e)||IW(e)||_W(e)||$W()}function $W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(e,t){if(e){if(typeof e=="string")return Df(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Df(e,t)}}function IW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kW(e){if(Array.isArray(e))return Df(e)}function Df(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ay(Object(r),!0).forEach(function(n){Ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ga(e,t,r){return t=MW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=RW(e,"string");return $s(t)=="symbol"?t:t+""}function RW(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,r){return Ye(e)||Ye(t)?r:kt(t)?jr(e,t,r):He(t)?t(e):r}function cs(e,t,r,n){var a=I8(e,function(l){return gr(l,t)});if(r==="number"){var s=a.filter(function(l){return xe(l)||parseFloat(l)});return s.length?[uu(s),cu(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ye(l)}):a;return i.map(function(l){return kt(l)||l instanceof Date?l:""})}var LW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Mr(d-f)!==Mr(h-d)){var y=[];if(Mr(h-d)===Mr(c[1]-c[0])){p=h;var m=d+c[1]-c[0];y[0]=Math.min(m,(m+f)/2),y[1]=Math.max(m,(m+f)/2)}else{p=f;var g=h+c[1]-c[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){i=a[u].index;break}}else{var w=Math.min(f,h),b=Math.max(f,h);if(t>(w+d)/2&&t<=(b+d)/2){i=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},Up=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},BW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],m=y.items,g=y.cateAxisId,x=m.filter(function(A){return mn(A.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?wt(wt({},w),x[0].props):x[0].props,S=b.barSize,j=b[g];i[j]||(i[j]=[]);var N=Ye(S)?r:S;i[j].push({item:x[0],stackList:x.slice(1),barSize:Ye(N)?void 0:ga(N,n,0)})}}return i},FW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ga(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/c,y=i.reduce(function(S,j){return S+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,g={offset:m-u,size:0};f=i.reduce(function(S,j){var N={item:j.item,position:{offset:g.offset+g.size+u,size:h?p:j.barSize}},A=[].concat(ny(S),[N]);return g=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){A.push({item:P,position:g})}),A},d)}else{var x=ga(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var w=(a-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;f=i.reduce(function(S,j,N){var A=[].concat(ny(S),[{item:j.item,position:{offset:x+(w+u)*N+(w-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},d)}return f},UW=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=PN({children:s,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&xe(t[p]))return wt(wt({},t),{},Ga({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&xe(t[y]))return wt(wt({},t),{},Ga({},y,t[y]+(h||0)))}return t},KW=function(t,r,n){return Ye(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},EN=function(t,r,n,a,s){var i=r.props.children,l=Sr(i,mi).filter(function(u){return KW(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=gr(f,n);if(Ye(d))return u;var h=Array.isArray(d)?[uu(d),cu(d)]:[d,d],p=c.reduce(function(y,m){var g=gr(f,m,0),x=h[0]-Math.abs(Array.isArray(g)?g[0]:g),w=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},VW=function(t,r,n,a,s){var i=r.map(function(l){return EN(t,l,n,s,a)}).filter(function(l){return!Ye(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},DN=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&EN(t,c,u,a)||cs(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},TN=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$N=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},hn=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Mr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!li(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:s?s[d]:d,index:h,offset:u}})},ud=new WeakMap,Ri=function(t,r){if(typeof r!="function")return t;ud.has(t)||ud.set(t,new WeakMap);var n=ud.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},zW=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Ns(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:kl(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ls(),realScaleType:"point"}:s==="category"?{scale:Ns(),realScaleType:"band"}:{scale:kl(),realScaleType:"linear"};if(ma(a)){var c="scale".concat(Gc(a));return{scale:(Qv[c]||ls)(),realScaleType:Qv[c]?c:"point"}}return He(a)?{scale:a}:{scale:ls(),realScaleType:"point"}},oy=1e-4,WW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-oy,i=Math.max(a[0],a[1])+oy,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},HW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},YW=function(t,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(s[0]=n),(!xe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},qW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=li(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},GW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=li(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},XW={sign:qW,expand:dR,none:eo,silhouette:fR,wiggle:hR,positive:GW},QW=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=XW[n],i=uR().keys(a).value(function(l,c){return+gr(l,c,0)}).order(ef).offset(s);return i(t)},JW=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return d;var x=y[n],w=d[x]||{hasStack:!1,stackGroups:{}};if(kt(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[ci("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return wt(wt({},d),{},Ga({},x,w))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var x=p.stackGroups[g];return wt(wt({},m),{},Ga({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:QW(t,x.items,s)}))},y)}return wt(wt({},d),{},Ga({},h,p))},f)},ZW=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=uW(u,s,l);return t.domain([uu(f),cu(f)]),{niceTicks:f}}if(s&&a==="number"){var d=t.domain(),h=dW(d,s,l);return{niceTicks:h}}return null};function sy(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ye(a[t.dataKey])){var l=fl(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=gr(a,Ye(i)?t.dataKey:i);return Ye(c)?null:t.scale(c)}var iy=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=gr(i,r.dataKey,r.domain[l]);return Ye(c)?null:r.scale(c)-s/2+a},eH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},tH=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(kt(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},rH=function(t){return t.reduce(function(r,n){return[uu(n.concat([r[0]]).filter(xe)),cu(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},_N=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,f){var d=rH(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ly=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tf=function(t,r,n){if(He(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ly.test(t[0])){var s=+ly.exec(t[0])[1];a[0]=r[0]-s}else He(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(cy.test(t[1])){var i=+cy.exec(t[1])[1];a[1]=r[1]+i}else He(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Kl=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=mp(r,function(d){return d.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},uy=function(t,r,n){return!t||!t.length||du(t,jr(n,"type.defaultProps.domain"))?r:t},IN=function(t,r){var n=t.type.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return wt(wt({},Je(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:Up(t),value:gr(r,a),type:c,payload:r,chartType:u,hide:f})};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dy(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return t=aH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=oH(e,"string");return _s(t)=="symbol"?t:t+""}function oH(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vl=Math.PI/180,sH=function(t){return t*180/Math.PI},Wt=function(t,r,n,a){return{x:t+Math.cos(-Vl*a)*n,y:r+Math.sin(-Vl*a)*n}},iH=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},lH=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=iH({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:sH(u),angleInRadian:u}},cH=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},uH=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},hy=function(t,r){var n=t.x,a=t.y,s=lH({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var f=cH(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?fy(fy({},r),{},{radius:i,angle:uH(p,r)}):null};function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}var dH=["offset"];function fH(e){return gH(e)||mH(e)||pH(e)||hH()}function hH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}}function mH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gH(e){if(Array.isArray(e))return $f(e)}function $f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vH(e,t){if(e==null)return{};var r=yH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?py(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return Is(t)=="symbol"?t:t+""}function wH(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}var jH=function(t){var r=t.value,n=t.formatter,a=Ye(t.children)?r:t.children;return He(n)?n(a):a},SH=function(t,r){var n=Mr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},NH=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,g=(d+h)/2,x=SH(p,y),w=x>=0?1:-1,b,S;a==="insideStart"?(b=p+w*i,S=m):a==="insideEnd"?(b=y-w*i,S=!m):a==="end"&&(b=y+w*i,S=m),S=x<=0?S:!S;var j=Wt(u,f,g,b),N=Wt(u,f,g,b+(S?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),P=Ye(t.id)?ci("recharts-radial-line-"):t.id;return T.createElement("text",ks({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:P,d:A})),T.createElement("textPath",{xlinkHref:"#".concat(P)},r))},AH=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,h=(f+d)/2;if(a==="outside"){var p=Wt(i,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=Wt(i,l,g,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},CH=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",y=d>0?"start":"end",m=u>=0?1:-1,g=m*a,x=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:p};return Tt(Tt({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return Tt(Tt({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var j={x:l-g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Tt(Tt({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(s==="right"){var N={x:l+u+g,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return Tt(Tt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:f}:{})}var A=n?{width:u,height:f}:{};return s==="insideLeft"?Tt({x:l+g,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},A):s==="insideRight"?Tt({x:l+u-g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideTop"?Tt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},A):s==="insideBottom"?Tt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?Tt({x:l+g,y:c+h,textAnchor:w,verticalAnchor:y},A):s==="insideTopRight"?Tt({x:l+u-g,y:c+h,textAnchor:x,verticalAnchor:y},A):s==="insideBottomLeft"?Tt({x:l+g,y:c+f-h,textAnchor:w,verticalAnchor:p},A):s==="insideBottomRight"?Tt({x:l+u-g,y:c+f-h,textAnchor:x,verticalAnchor:p},A):$o(s)&&(xe(s.x)||Jn(s.x))&&(xe(s.y)||Jn(s.y))?Tt({x:l+ga(s.x,u),y:c+ga(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):Tt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},OH=function(t){return"cx"in t&&xe(t.cx)};function Xt(e){var t=e.offset,r=t===void 0?5:t,n=vH(e,dH),a=Tt({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!s||Ye(l)&&Ye(c)&&!v.isValidElement(u)&&!He(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var p;if(He(u)){if(p=v.createElement(u,a),v.isValidElement(p))return p}else p=jH(a);var y=OH(s),m=Je(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return NH(a,p,m);var g=y?AH(a):CH(a);return T.createElement(Pl,ks({className:Ze("recharts-label",d)},m,g,{breakAll:h}),p)}Xt.displayName="Label";var kN=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(xe(m)&&xe(g)){if(xe(d)&&xe(h))return{x:d,y:h,width:m,height:g};if(xe(p)&&xe(y))return{x:p,y,width:m,height:g}}return xe(d)&&xe(h)?{x:d,y:h,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},PH=function(t,r){return t?t===!0?T.createElement(Xt,{key:"label-implicit",viewBox:r}):kt(t)?T.createElement(Xt,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===Xt?v.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(Xt,{key:"label-implicit",content:t,viewBox:r}):He(t)?T.createElement(Xt,{key:"label-implicit",content:t,viewBox:r}):$o(t)?T.createElement(Xt,ks({viewBox:r},t,{key:"label-implicit"})):null:null},EH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=kN(t),i=Sr(a,Xt).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=PH(t.label,r||s);return[l].concat(fH(i))};Xt.parseViewBox=kN;Xt.renderCallByParent=EH;function DH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var TH=DH;const $H=ft(TH);function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}var _H=["valueAccessor"],IH=["data","dataKey","clockWise","id","textBreakAll"];function kH(e){return BH(e)||LH(e)||RH(e)||MH()}function MH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return _f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _f(e,t)}}function LH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BH(e){if(Array.isArray(e))return _f(e)}function _f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=KH(e,"string");return Ms(t)=="symbol"?t:t+""}function KH(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vy(e,t){if(e==null)return{};var r=VH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zH=function(t){return Array.isArray(t.value)?$H(t.value):t.value};function In(e){var t=e.valueAccessor,r=t===void 0?zH:t,n=vy(e,_H),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=vy(n,IH);return!a||!a.length?null:T.createElement(Nt,{className:"recharts-label-list"},a.map(function(f,d){var h=Ye(s)?r(f,d):gr(f&&f.payload,s),p=Ye(l)?{}:{id:"".concat(l,"-").concat(d)};return T.createElement(Xt,zl({},Je(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Xt.parseViewBox(Ye(i)?f:gy(gy({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}In.displayName="LabelList";function WH(e,t){return e?e===!0?T.createElement(In,{key:"labelList-implicit",data:t}):T.isValidElement(e)||He(e)?T.createElement(In,{key:"labelList-implicit",data:t,content:e}):$o(e)?T.createElement(In,zl({data:t},e,{key:"labelList-implicit"})):null:null}function HH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Sr(n,In).map(function(i,l){return v.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=WH(e.label,t);return[s].concat(kH(a))}In.renderCallByParent=HH;function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){YH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YH(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=GH(e,"string");return Rs(t)=="symbol"?t:t+""}function GH(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XH=function(t,r){var n=Mr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Li=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Vl,h=u?s:s+i*d,p=Wt(r,n,f,h),y=Wt(r,n,a,h),m=u?s-i*d:s,g=Wt(r,n,f*Math.cos(d*Vl),m);return{center:p,circleTangency:y,lineTangency:g,theta:d}},MN=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=XH(i,l),u=i+c,f=Wt(r,n,s,i),d=Wt(r,n,s,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Wt(r,n,a,i),y=Wt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},QH=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Mr(f-u),h=Li({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:i,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=Li({cx:r,cy:n,radius:s,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:c}),x=g.circleTangency,w=g.lineTangency,b=g.theta,S=c?Math.abs(u-f):Math.abs(u-f)-m-b;if(S<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):MN({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var N=Li({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=N.circleTangency,P=N.lineTangency,E=N.theta,B=Li({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),_=B.circleTangency,C=B.lineTangency,U=B.theta,I=c?Math.abs(u-f):Math.abs(u-f)-E-U;if(I<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},JH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RN=function(t){var r=xy(xy({},JH),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<s||f===d)return null;var p=Ze("recharts-sector",h),y=i-s,m=ga(l,y,0,!0),g;return m>0&&Math.abs(f-d)<360?g=QH({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):g=MN({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:d}),T.createElement("path",If({},Je(r,!0),{className:p,d:g,role:"img"}))};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(this,arguments)}function by(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?by(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):by(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return t=e7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=t7(e,"string");return Ls(t)=="symbol"?t:t+""}function t7(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy={curveBasisClosed:ZM,curveBasisOpen:eR,curveBasis:JM,curveBumpX:LM,curveBumpY:BM,curveLinearClosed:tR,curveLinear:Qc,curveMonotoneX:rR,curveMonotoneY:nR,curveNatural:aR,curveStep:oR,curveStepAfter:iR,curveStepBefore:sR},Bi=function(t){return t.x===+t.x&&t.y===+t.y},Xo=function(t){return t.x},Qo=function(t){return t.y},r7=function(t,r){if(He(t))return t;var n="curve".concat(Gc(t));return(n==="curveMonotone"||n==="curveBump")&&r?jy["".concat(n).concat(r==="vertical"?"Y":"X")]:jy[n]||Qc},n7=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=r7(n,l),d=u?s.filter(function(m){return Bi(m)}):s,h;if(Array.isArray(i)){var p=u?i.filter(function(m){return Bi(m)}):i,y=d.map(function(m,g){return wy(wy({},m),{},{base:p[g]})});return l==="vertical"?h=Ei().y(Qo).x1(Xo).x0(function(m){return m.base.x}):h=Ei().x(Xo).y1(Qo).y0(function(m){return m.base.y}),h.defined(Bi).curve(f),h(y)}return l==="vertical"&&xe(i)?h=Ei().y(Qo).x1(Xo).x0(i):xe(i)?h=Ei().x(Xo).y1(Qo).y0(i):h=Rj().x(Xo).y(Qo),h.defined(Bi).curve(f),h(d)},Mf=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?n7(t):a;return v.createElement("path",kf({},Je(t,!1),hl(t),{className:Ze("recharts-curve",r),d:i,ref:s}))},LN={exports:{}},a7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o7=a7,s7=o7;function BN(){}function FN(){}FN.resetWarningCache=BN;var i7=function(){function e(n,a,s,i,l,c){if(c!==s7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FN,resetWarningCache:BN};return r.PropTypes=r,r};LN.exports=i7();var l7=LN.exports;const at=ft(l7);var c7=Object.getOwnPropertyNames,u7=Object.getOwnPropertySymbols,d7=Object.prototype.hasOwnProperty;function Sy(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Fi(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function Ny(e){return c7(e).concat(u7(e))}var f7=Object.hasOwn||function(e,t){return d7.call(e,t)};function Oa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var h7="__v",p7="__o",m7="_owner",Ay=Object.getOwnPropertyDescriptor,Cy=Object.keys;function g7(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function v7(e,t){return Oa(e.getTime(),t.getTime())}function y7(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function x7(e,t){return e===t}function Oy(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=i.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var b7=Oa;function w7(e,t,r){var n=Cy(e),a=n.length;if(Cy(t).length!==a)return!1;for(;a-- >0;)if(!UN(e,t,r,n[a]))return!1;return!0}function Jo(e,t,r){var n=Ny(e),a=n.length;if(Ny(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!UN(e,t,r,s)||(i=Ay(e,s),l=Ay(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function j7(e,t){return Oa(e.valueOf(),t.valueOf())}function S7(e,t){return e.source===t.source&&e.flags===t.flags}function Py(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function N7(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function A7(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UN(e,t,r,n){return(n===m7||n===p7||n===h7)&&(e.$$typeof||t.$$typeof)?!0:f7(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var C7="[object Arguments]",O7="[object Boolean]",P7="[object Date]",E7="[object Error]",D7="[object Map]",T7="[object Number]",$7="[object Object]",_7="[object RegExp]",I7="[object Set]",k7="[object String]",M7="[object URL]",R7=Array.isArray,Ey=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Dy=Object.assign,L7=Object.prototype.toString.call.bind(Object.prototype.toString);function B7(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var x=typeof y;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?i(y,m,g):x==="function"?a(y,m,g):!1;var w=y.constructor;if(w!==m.constructor)return!1;if(w===Object)return l(y,m,g);if(R7(y))return t(y,m,g);if(Ey!=null&&Ey(y))return d(y,m,g);if(w===Date)return r(y,m,g);if(w===RegExp)return u(y,m,g);if(w===Map)return s(y,m,g);if(w===Set)return f(y,m,g);var b=L7(y);return b===P7?r(y,m,g):b===_7?u(y,m,g):b===D7?s(y,m,g):b===I7?f(y,m,g):b===$7?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,g):b===M7?h(y,m,g):b===E7?n(y,m,g):b===C7?l(y,m,g):b===O7||b===T7||b===k7?c(y,m,g):!1}}function F7(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Jo:g7,areDatesEqual:v7,areErrorsEqual:y7,areFunctionsEqual:x7,areMapsEqual:n?Sy(Oy,Jo):Oy,areNumbersEqual:b7,areObjectsEqual:n?Jo:w7,arePrimitiveWrappersEqual:j7,areRegExpsEqual:S7,areSetsEqual:n?Sy(Py,Jo):Py,areTypedArraysEqual:n?Jo:N7,areUrlsEqual:A7};if(r&&(a=Dy({},a,r(a))),t){var s=Fi(a.areArraysEqual),i=Fi(a.areMapsEqual),l=Fi(a.areObjectsEqual),c=Fi(a.areSetsEqual);a=Dy({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function U7(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function K7(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var V7=Wn();Wn({strict:!0});Wn({circular:!0});Wn({circular:!0,strict:!0});Wn({createInternalComparator:function(){return Oa}});Wn({strict:!0,createInternalComparator:function(){return Oa}});Wn({circular:!0,createInternalComparator:function(){return Oa}});Wn({circular:!0,createInternalComparator:function(){return Oa},strict:!0});function Wn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=F7(e),c=B7(l),u=n?n(c):U7(c);return K7({circular:r,comparator:c,createState:a,equals:u,strict:i})}function z7(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ty(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):z7(a)};requestAnimationFrame(n)}function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function W7(e){return G7(e)||q7(e)||Y7(e)||H7()}function H7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G7(e){if(Array.isArray(e))return e}function X7(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=W7(i),c=l[0],u=l.slice(1);if(typeof c=="number"){Ty(a.bind(null,u),c);return}a(c),Ty(a.bind(null,u));return}Rf(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function _y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(r),!0).forEach(function(n){KN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KN(e,t,r){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=J7(e,"string");return Bs(t)==="symbol"?t:String(t)}function J7(e,t){if(Bs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},e9=function(t){return t},t9=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},us=function(t,r){return Object.keys(r).reduce(function(n,a){return Iy(Iy({},n),{},KN({},a,t(a,r[a])))},{})},ky=function(t,r,n){return t.map(function(a){return"".concat(t9(a)," ").concat(r,"ms ").concat(n)}).join(",")};function r9(e,t){return o9(e)||a9(e,t)||VN(e,t)||n9()}function n9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function o9(e){if(Array.isArray(e))return e}function s9(e){return c9(e)||l9(e)||VN(e)||i9()}function i9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VN(e,t){if(e){if(typeof e=="string")return Lf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lf(e,t)}}function l9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c9(e){if(Array.isArray(e))return Lf(e)}function Lf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wl=1e-4,zN=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WN=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},My=function(t,r){return function(n){var a=zN(t,r);return WN(a,n)}},u9=function(t,r){return function(n){var a=zN(t,r),s=[].concat(s9(a.map(function(i,l){return i*l}).slice(1)),[0]);return WN(s,n)}},Ry=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=r9(u,4);a=f[0],s=f[1],i=f[2],l=f[3]}}}var d=My(a,i),h=My(s,l),p=u9(a,i),y=function(x){return x>1?1:x<0?0:x},m=function(x){for(var w=x>1?1:x,b=w,S=0;S<8;++S){var j=d(b)-w,N=p(b);if(Math.abs(j-w)<Wl||N<Wl)return h(b);b=y(b-j/N)}return h(b)};return m.isStepper=!1,m},d9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(f,d,h){var p=-(f-d)*n,y=h*s,m=h+(p-y)*l/1e3,g=h*l/1e3+f;return Math.abs(g-d)<Wl&&Math.abs(m)<Wl?[d,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},f9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ry(a);case"spring":return d9();default:if(a.split("(")[0]==="cubic-bezier")return Ry(a)}return typeof a=="function"?a:null};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Ly(e){return m9(e)||p9(e)||HN(e)||h9()}function h9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m9(e){if(Array.isArray(e))return Ff(e)}function By(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?By(Object(r),!0).forEach(function(n){Bf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):By(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bf(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=v9(e,"string");return Fs(t)==="symbol"?t:String(t)}function v9(e,t){if(Fs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y9(e,t){return w9(e)||b9(e,t)||HN(e,t)||x9()}function x9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HN(e,t){if(e){if(typeof e=="string")return Ff(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ff(e,t)}}function Ff(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function w9(e){if(Array.isArray(e))return e}var Hl=function(t,r,n){return t+(r-t)*n},Uf=function(t){var r=t.from,n=t.to;return r!==n},j9=function e(t,r,n){var a=us(function(s,i){if(Uf(i)){var l=t(i.from,i.to,i.velocity),c=y9(l,2),u=c[0],f=c[1];return Kt(Kt({},i),{},{from:u,velocity:f})}return i},r);return n<1?us(function(s,i){return Uf(i)?Kt(Kt({},i),{},{velocity:Hl(i.velocity,a[s].velocity,n),from:Hl(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const S9=function(e,t,r,n,a){var s=Z7(e,t),i=s.reduce(function(g,x){return Kt(Kt({},g),{},Bf({},x,[e[x],t[x]]))},{}),l=s.reduce(function(g,x){return Kt(Kt({},g),{},Bf({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return us(function(x,w){return w.from},l)},p=function(){return!Object.values(l).filter(Uf).length},y=function(x){u||(u=x);var w=x-u,b=w/r.dt;l=j9(r,l,b),a(Kt(Kt(Kt({},e),t),h())),u=x,p()||(c=requestAnimationFrame(d))},m=function(x){f||(f=x);var w=(x-f)/n,b=us(function(j,N){return Hl.apply(void 0,Ly(N).concat([r(w)]))},i);if(a(Kt(Kt(Kt({},e),t),b)),w<1)c=requestAnimationFrame(d);else{var S=us(function(j,N){return Hl.apply(void 0,Ly(N).concat([r(1)]))},i);a(Kt(Kt(Kt({},e),t),S))}};return d=r.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}var N9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function A9(e,t){if(e==null)return{};var r=C9(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dd(e){return D9(e)||E9(e)||P9(e)||O9()}function O9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(e,t){if(e){if(typeof e=="string")return Kf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kf(e,t)}}function E9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D9(e){if(Array.isArray(e))return Kf(e)}function Kf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function os(e,t,r){return t=YN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YN(n.key),n)}}function _9(e,t,r){return t&&$9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YN(e){var t=I9(e,"string");return co(t)==="symbol"?t:String(t)}function I9(e,t){if(co(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vf(e,t)}function Vf(e,t){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vf(e,t)}function M9(e){var t=R9();return function(){var n=Yl(e),a;if(t){var s=Yl(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return zf(this,a)}}function zf(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wf(e)}function Wf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yl(e){return Yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yl(e)}var Sn=function(e){k9(r,e);var t=M9(r);function r(n,a){var s;T9(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Wf(s)),s.changeStyle=s.changeStyle.bind(Wf(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),zf(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},zf(s);s.state={style:c?os({},c,u):u}}else s.state={style:{}};return s}return _9(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,h=this.state.style;if(l){if(!i){var p={style:c?os({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(V7(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?d:a.to;if(this.state&&h){var g={style:c?os({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(g)}this.runAnimation(Dr(Dr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=S9(i,l,f9(u),c,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(m,g,x){if(x===0)return m;var w=g.duration,b=g.easing,S=b===void 0?"ease":b,j=g.style,N=g.properties,A=g.onAnimationEnd,P=x>0?i[x-1]:g,E=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(dd(m),[s.runJSAnimation.bind(s,{from:P.style,to:j,duration:w,easing:S}),w]);var B=ky(E,w,S),_=Dr(Dr(Dr({},P.style),j),{},{transition:B});return[].concat(dd(m),[_,w,A]).filter(e9)};return this.manager.start([c].concat(dd(i.reduce(p,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=X7());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?os({},l,c):c,g=ky(Object.keys(m),i,u);y.start([f,s,Dr(Dr({},m),{},{transition:g}),i,d])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=A9(a,N9),u=v.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||i<=0)return s;var d=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,x=y.className,w=v.cloneElement(p,Dr(Dr({},c),{},{style:Dr(Dr({},g),f),className:x}));return w};return u===1?d(v.Children.only(s)):T.createElement("div",null,v.Children.map(s,function(h){return d(h)}))}}]),r}(v.PureComponent);Sn.displayName="Animate";Sn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sn.propTypes={from:at.oneOfType([at.object,at.string]),to:at.oneOfType([at.object,at.string]),attributeName:at.string,duration:at.number,begin:at.number,easing:at.oneOfType([at.string,at.func]),steps:at.arrayOf(at.shape({duration:at.number.isRequired,style:at.object.isRequired,easing:at.oneOfType([at.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),at.func]),properties:at.arrayOf("string"),onAnimationEnd:at.func})),children:at.oneOfType([at.node,at.func]),isActive:at.bool,canBegin:at.bool,onAnimationEnd:at.func,shouldReAnimate:at.bool,onAnimationStart:at.func,onAnimationReStart:at.func};function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function L9(e,t){return K9(e)||U9(e,t)||F9(e,t)||B9()}function B9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(e,t){if(e){if(typeof e=="string")return Uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uy(e,t)}}function Uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function K9(e){if(Array.isArray(e))return e}function Ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ky(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return t=z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=W9(e,"string");return Us(t)=="symbol"?t:t+""}function W9(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zy=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=s[h]>i?i:s[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var y=Math.min(i,s);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},H9=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),d=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},Y9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kp=function(t){var r=Vy(Vy({},Y9),t),n=v.useRef(),a=v.useState(-1),s=L9(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=Ze("recharts-rectangle",p);return w?T.createElement(Sn,{canBegin:i>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:m,animationEasing:y,isActive:w},function(S){var j=S.width,N=S.height,A=S.x,P=S.y;return T.createElement(Sn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:x,easing:y},T.createElement("path",ql({},Je(r,!0),{className:b,d:zy(A,P,j,N,h),ref:n})))}):T.createElement("path",ql({},Je(r,!0),{className:b,d:zy(c,u,f,d,h)}))};function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}var Vp=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Ze("recharts-dot",s);return r===+r&&n===+n&&a===+a?v.createElement("circle",Hf({},Je(t,!1),hl(t),{className:i,cx:r,cy:n,r:a})):null};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}var q9=["x","y","top","left","width","height","className"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function Wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wy(Object(r),!0).forEach(function(n){X9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X9(e,t,r){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=J9(e,"string");return Ks(t)=="symbol"?t:t+""}function J9(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9(e,t){if(e==null)return{};var r=eY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tY=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},rY=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,m=Z9(t,q9),g=G9({x:n,y:s,top:l,left:u,width:d,height:p},m);return!xe(n)||!xe(s)||!xe(d)||!xe(p)||!xe(l)||!xe(u)?null:T.createElement("path",Yf({},Je(g,!0),{className:Ze("recharts-cross",y),d:tY(n,s,d,p,l,u)}))},nY=iS,aY=nY(Object.getPrototypeOf,Object),oY=aY,sY=Nn,iY=oY,lY=An,cY="[object Object]",uY=Function.prototype,dY=Object.prototype,qN=uY.toString,fY=dY.hasOwnProperty,hY=qN.call(Object);function pY(e){if(!lY(e)||sY(e)!=cY)return!1;var t=iY(e);if(t===null)return!0;var r=fY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&qN.call(r)==hY}var mY=pY;const gY=ft(mY);var vY=Nn,yY=An,xY="[object Boolean]";function bY(e){return e===!0||e===!1||yY(e)&&vY(e)==xY}var wY=bY;const jY=ft(wY);function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function SY(e,t){return OY(e)||CY(e,t)||AY(e,t)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(e,t){if(e){if(typeof e=="string")return Hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hy(e,t)}}function Hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function OY(e){if(Array.isArray(e))return e}function Yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yy(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return t=EY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=DY(e,"string");return Vs(t)=="symbol"?t:t+""}function DY(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gy=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},TY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$Y=function(t){var r=qy(qy({},TY),t),n=v.useRef(),a=v.useState(-1),s=SY(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var w=Ze("recharts-trapezoid",p);return x?T.createElement(Sn,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(b){var S=b.upperWidth,j=b.lowerWidth,N=b.height,A=b.x,P=b.y;return T.createElement(Sn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},T.createElement("path",Gl({},Je(r,!0),{className:w,d:Gy(A,P,S,j,N),ref:n})))}):T.createElement("g",null,T.createElement("path",Gl({},Je(r,!0),{className:w,d:Gy(c,u,f,d,h)})))},_Y=["option","shapeType","propTransformer","activeClassName","isActive"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function IY(e,t){if(e==null)return{};var r=kY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return t=RY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=LY(e,"string");return zs(t)=="symbol"?t:t+""}function LY(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BY(e,t){return Xl(Xl({},t),e)}function FY(e,t){return e==="symbols"}function Qy(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(Kp,r);case"trapezoid":return T.createElement($Y,r);case"sector":return T.createElement(RN,r);case"symbols":if(FY(t))return T.createElement(ip,r);break;default:return null}}function UY(e){return v.isValidElement(e)?e.props:e}function KY(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?BY:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=IY(e,_Y),u;if(v.isValidElement(t))u=v.cloneElement(t,Xl(Xl({},c),UY(t)));else if(He(t))u=t(c);else if(gY(t)&&!jY(t)){var f=a(t,c);u=T.createElement(Qy,{shapeType:r,elementProps:f})}else{var d=c;u=T.createElement(Qy,{shapeType:r,elementProps:d})}return l?T.createElement(Nt,{className:i},u):u}function pu(e,t){return t!=null&&"trapezoids"in e.props}function mu(e,t){return t!=null&&"sectors"in e.props}function Ws(e,t){return t!=null&&"points"in e.props}function VY(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function zY(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function WY(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function HY(e,t){var r;return pu(e,t)?r=VY:mu(e,t)?r=zY:Ws(e,t)&&(r=WY),r}function YY(e,t){var r;return pu(e,t)?r="trapezoids":mu(e,t)?r="sectors":Ws(e,t)&&(r="points"),r}function qY(e,t){if(pu(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mu(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ws(e,t)?t.payload:{}}function GY(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=YY(r,t),s=qY(r,t),i=n.filter(function(c,u){var f=du(s,c),d=r.props[a].filter(function(y){var m=HY(r,t);return m(y,t)}),h=r.props[a].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(i[i.length-1]);return l}var XY=Math.ceil,QY=Math.max;function JY(e,t,r,n){for(var a=-1,s=QY(XY((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var ZY=JY,eq=CS,Jy=1/0,tq=17976931348623157e292;function rq(e){if(!e)return e===0?e:0;if(e=eq(e),e===Jy||e===-Jy){var t=e<0?-1:1;return t*tq}return e===e?e:0}var GN=rq,nq=ZY,aq=tu,fd=GN;function oq(e){return function(t,r,n){return n&&typeof n!="number"&&aq(t,r,n)&&(r=n=void 0),t=fd(t),r===void 0?(r=t,t=0):r=fd(r),n=n===void 0?t<r?1:-1:fd(n),nq(t,r,n,e)}}var sq=oq,iq=sq,lq=iq(),cq=lq;const Ql=ft(cq);function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zy(Object(r),!0).forEach(function(n){XN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XN(e,t,r){return t=uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=dq(e,"string");return Hs(t)=="symbol"?t:t+""}function dq(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fq=["Webkit","Moz","O","ms"],hq=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=fq.reduce(function(s,i){return ex(ex({},s),{},XN({},i+n,r))},{});return a[t]=r,a};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tx(Object(r),!0).forEach(function(n){cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JN(n.key),n)}}function mq(e,t,r){return t&&rx(e.prototype,t),r&&rx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gq(e,t,r){return t=Zl(t),vq(e,QN()?Reflect.construct(t,r||[],Zl(e).constructor):t.apply(e,r))}function vq(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yq(e)}function yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QN=function(){return!!e})()}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zl(e)}function xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qf(e,t)}function qf(e,t){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qf(e,t)}function cr(e,t,r){return t=JN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JN(e){var t=bq(e,"string");return uo(t)=="symbol"?t:t+""}function bq(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wq=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ls().domain(Ql(0,c)).range([s,s+i-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},nx=function(t){return t.changedTouches&&!!t.changedTouches.length},fo=function(e){function t(r){var n;return pq(this,t),n=gq(this,t,[r]),cr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),cr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),cr(n,"handleSlideDragStart",function(a){var s=nx(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xq(t,e),mq(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(i,d),y=t.getIndexInRange(i,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=gr(s[n],l,n);return He(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+f-d-l,u+f-d-i):m<0&&(m=Math.max(m,u-i,u-l));var g=this.getIndex({startX:i+m,endX:l+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:i+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=nx(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,m=f.gap,g=f.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,d+h-p-u):w<0&&(w=Math.max(w,d-u)),x[i]=u+w;var b=this.getIndex(x),S=b.startIndex,j=b.endIndex,N=function(){var P=g.length-1;return i==="startX"&&(l>c?S%m===0:j%m===0)||l<c&&j===P||i==="endX"&&(l>c?j%m===0:S%m===0)||l>c&&j===P};this.setState(cr(cr({},i,u+w),"brushMoveStartX",n.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(cr({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return T.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=v.Children.only(u);return d?T.cloneElement(d,{x:a,y:s,width:i,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),w=hd(hd({},Je(this.props,!1)),{},{x,y:u,width:f,height:d}),b=p||"Min value: ".concat((s=y[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=y[g])===null||i===void 0?void 0:i.name);return T.createElement(Nt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:i,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return T.createElement(Nt,{className:"recharts-brush-texts"},T.createElement(Pl,Jl({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+l/2},y),this.getTextOfTick(a)),T.createElement(Pl,Jl({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:i+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!xe(l)||!xe(c)||!xe(u)||!xe(f)||u<=0||f<=0)return null;var b=Ze("recharts-brush",s),S=T.Children.count(i)===1,j=hq("userSelect","none");return T.createElement(Nt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||x||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return T.isValidElement(n)?s=T.cloneElement(n,a):He(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return hd({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?wq({data:s,width:i,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(v.PureComponent);cr(fo,"displayName","Brush");cr(fo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jq=pp;function Sq(e,t){var r;return jq(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var Nq=Sq,Aq=Zj,Cq=Kn,Oq=Nq,Pq=or,Eq=tu;function Dq(e,t,r){var n=Pq(e)?Aq:Oq;return r&&Eq(e,t,r)&&(t=void 0),n(e,Cq(t))}var Tq=Dq;const $q=ft(Tq);var Jr=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ax=wS;function _q(e,t,r){t=="__proto__"&&ax?ax(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Iq=_q,kq=Iq,Mq=xS,Rq=Kn;function Lq(e,t){var r={};return t=Rq(t),Mq(e,function(n,a,s){kq(r,a,t(n,a,s))}),r}var Bq=Lq;const Fq=ft(Bq);function Uq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Kq=Uq,Vq=pp;function zq(e,t){var r=!0;return Vq(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var Wq=zq,Hq=Kq,Yq=Wq,qq=Kn,Gq=or,Xq=tu;function Qq(e,t,r){var n=Gq(e)?Hq:Yq;return r&&Xq(e,t,r)&&(t=void 0),n(e,qq(t))}var Jq=Qq;const ZN=ft(Jq);var Zq=["x","y"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(this,arguments)}function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ox(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return t=tG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return Ys(t)=="symbol"?t:t+""}function rG(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nG(e,t){if(e==null)return{};var r=aG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oG(e,t){var r=e.x,n=e.y,a=nG(e,Zq),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Zo(Zo(Zo(Zo(Zo({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function sx(e){return T.createElement(KY,Gf({shapeType:"rectangle",propTransformer:oG,activeClassName:"recharts-active-bar"},e))}var sG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=xe(n)||S2(n);return s?t(n,a):(s||ya(),r)}},iG=["value","background"],e1;function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function lG(e,t){if(e==null)return{};var r=cG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r1(n.key),n)}}function dG(e,t,r){return t&&lx(e.prototype,t),r&&lx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fG(e,t,r){return t=tc(t),hG(e,t1()?Reflect.construct(t,r||[],tc(e).constructor):t.apply(e,r))}function hG(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pG(e)}function pG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t1=function(){return!!e})()}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tc(e)}function mG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xf(e,t)}function Xf(e,t){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xf(e,t)}function $n(e,t,r){return t=r1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r1(e){var t=gG(e,"string");return ho(t)=="symbol"?t:t+""}function gG(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gi=function(e){function t(){var r;uG(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=fG(this,t,[].concat(a)),$n(r,"state",{isAnimationFinished:!1}),$n(r,"id",ci("recharts-bar-")),$n(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),$n(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return mG(t,e),dG(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Je(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:i,m=At(At(At({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return T.createElement(Nt,ec({className:"recharts-bar-rectangle"},pl(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),T.createElement(sx,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return T.createElement(Sn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=s.map(function(g,x){var w=h&&h[x];if(w){var b=Ir(w.x,g.x),S=Ir(w.y,g.y),j=Ir(w.width,g.width),N=Ir(w.height,g.height);return At(At({},g),{},{x:b(y),y:S(y),width:j(y),height:N(y)})}if(i==="horizontal"){var A=Ir(0,g.height),P=A(y);return At(At({},g),{},{y:g.y+g.height-P,height:P})}var E=Ir(0,g.width),B=E(y);return At(At({},g),{},{width:B})});return T.createElement(Nt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!du(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=Je(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,h=lG(u,iG);if(!d)return null;var p=At(At(At(At(At({},h),{},{fill:"#eee"},d),c),pl(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return T.createElement(sx,ec({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=Sr(f,mi);if(!d)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(g,x){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:gr(g,x)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(Nt,y,d.map(function(m){return T.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,x=Ze("recharts-bar",i),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=w||b,j=Ye(m)?this.id:m;return T.createElement(Nt,{className:x},w||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(j)},T.createElement("rect",{x:w?u:u-d/2,y:b?f:f-h/2,width:w?d:d*2,height:b?h:h*2}))):null,T.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||g)&&In.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);e1=gi;$n(gi,"displayName","Bar");$n(gi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$n(gi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=HW(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?At(At({},m),r.props):r.props,x=g.dataKey,w=g.children,b=g.minPointSize,S=y==="horizontal"?i:s,j=u?S.scale.domain():null,N=eH({numericAxis:S}),A=Sr(w,PS),P=d.map(function(E,B){var _,C,U,I,F,$;u?_=YW(u[f+B],j):(_=gr(E,x),Array.isArray(_)||(_=[N,_]));var O=sG(b,e1.defaultProps.minPointSize)(_[1],B);if(y==="horizontal"){var k,D=[i.scale(_[0]),i.scale(_[1])],q=D[0],Z=D[1];C=iy({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:E,index:B}),U=(k=Z??q)!==null&&k!==void 0?k:void 0,I=p.size;var Q=q-Z;if(F=Number.isNaN(Q)?0:Q,$={x:C,y:i.y,width:I,height:i.height},Math.abs(O)>0&&Math.abs(F)<Math.abs(O)){var ne=Mr(F||O)*(Math.abs(O)-Math.abs(F));U-=ne,F+=ne}}else{var te=[s.scale(_[0]),s.scale(_[1])],Oe=te[0],Le=te[1];if(C=Oe,U=iy({axis:i,ticks:c,bandSize:a,offset:p.offset,entry:E,index:B}),I=Le-Oe,F=p.size,$={x:s.x,y:U,width:s.width,height:F},Math.abs(O)>0&&Math.abs(I)<Math.abs(O)){var pe=Mr(I||O)*(Math.abs(O)-Math.abs(I));I+=pe}}return At(At(At({},E),{},{x:C,y:U,width:I,height:F,value:u?_:_[1],payload:E,background:$},A&&A[B]&&A[B].props),{},{tooltipPayload:[IN(r,E)],tooltipPosition:{x:C+I/2,y:U+F/2}})});return At({data:P,layout:y},h)});function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function vG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n1(n.key),n)}}function yG(e,t,r){return t&&cx(e.prototype,t),r&&cx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gu(e,t,r){return t=n1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1(e){var t=xG(e,"string");return qs(t)=="symbol"?t:t+""}function xG(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bG=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ur(u,gi);return f.reduce(function(p,y){var m=r[y],g=m.orientation,x=m.domain,w=m.padding,b=w===void 0?{}:w,S=m.mirror,j=m.reversed,N="".concat(g).concat(S?"Mirror":""),A,P,E,B,_;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=x[1]-x[0],U=1/0,I=m.categoricalDomain.sort(C2);if(I.forEach(function(te,Oe){Oe>0&&(U=Math.min((te||0)-(I[Oe-1]||0),U))}),Number.isFinite(U)){var F=U/C,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=F*$/2),m.padding==="no-gap"){var O=ga(t.barCategoryGap,F*$),k=F*$/2;A=k-O-(k-O)/$*O}}}a==="xAxis"?P=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:P=m.range,j&&(P=[P[1],P[0]]);var D=zW(m,s,h),q=D.scale,Z=D.realScaleType;q.domain(x).range(P),WW(q);var Q=ZW(q,$r($r({},m),{},{realScaleType:Z}));a==="xAxis"?(_=g==="top"&&!S||g==="bottom"&&S,E=n.left,B=d[N]-_*m.height):a==="yAxis"&&(_=g==="left"&&!S||g==="right"&&S,E=d[N]-_*m.width,B=n.top);var ne=$r($r($r({},m),Q),{},{realScaleType:Z,x:E,y:B,scale:q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return ne.bandSize=Kl(ne,Q),!m.hide&&a==="xAxis"?d[N]+=(_?-1:1)*ne.height:m.hide||(d[N]+=(_?-1:1)*ne.width),$r($r({},p),{},gu({},y,ne))},{})},a1=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},wG=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return a1({x:r,y:n},{x:a,y:s})},o1=function(){function e(t){vG(this,e),this.scale=t}return yG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();gu(o1,"EPS",1e-4);var zp=function(t){var r=Object.keys(t).reduce(function(n,a){return $r($r({},n),{},gu({},a,o1.create(t[a])))},{});return $r($r({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return Fq(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return ZN(a,function(s,i){return r[i].isInRange(s)})}})};function jG(e){return(e%180+180)%180}var SG=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jG(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},NG=Kn,AG=ui,CG=Zc;function OG(e){return function(t,r,n){var a=Object(t);if(!AG(t)){var s=NG(r);t=CG(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var PG=OG,EG=GN;function DG(e){var t=EG(e),r=t%1;return t===t?r?t-r:t:0}var TG=DG,$G=hS,_G=Kn,IG=TG,kG=Math.max;function MG(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:IG(r);return a<0&&(a=kG(n+a,0)),$G(e,_G(t),a)}var RG=MG,LG=PG,BG=RG,FG=LG(BG),UG=FG;const KG=ft(UG);var VG=Ek(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Wp=v.createContext(void 0),Hp=v.createContext(void 0),s1=v.createContext(void 0),i1=v.createContext({}),l1=v.createContext(void 0),c1=v.createContext(0),u1=v.createContext(0),dx=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,f=VG(s);return T.createElement(Wp.Provider,{value:n},T.createElement(Hp.Provider,{value:a},T.createElement(i1.Provider,{value:s},T.createElement(s1.Provider,{value:f},T.createElement(l1.Provider,{value:i},T.createElement(c1.Provider,{value:u},T.createElement(u1.Provider,{value:c},l)))))))},zG=function(){return v.useContext(l1)},d1=function(t){var r=v.useContext(Wp);r==null&&ya();var n=r[t];return n==null&&ya(),n},WG=function(){var t=v.useContext(Wp);return Tn(t)},HG=function(){var t=v.useContext(Hp),r=KG(t,function(n){return ZN(n.domain,Number.isFinite)});return r||Tn(t)},f1=function(t){var r=v.useContext(Hp);r==null&&ya();var n=r[t];return n==null&&ya(),n},YG=function(){var t=v.useContext(s1);return t},qG=function(){return v.useContext(i1)},Yp=function(){return v.useContext(u1)},qp=function(){return v.useContext(c1)};function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function GG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p1(n.key),n)}}function QG(e,t,r){return t&&XG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JG(e,t,r){return t=rc(t),ZG(e,h1()?Reflect.construct(t,r||[],rc(e).constructor):t.apply(e,r))}function ZG(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(e)}function eX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h1=function(){return!!e})()}function rc(e){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rc(e)}function tX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qf(e,t)}function fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(r),!0).forEach(function(n){Gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gp(e,t,r){return t=p1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p1(e){var t=rX(e,"string");return po(t)=="symbol"?t:t+""}function rX(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nX(e,t){return iX(e)||sX(e,t)||oX(e,t)||aX()}function aX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oX(e,t){if(e){if(typeof e=="string")return px(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(e,t)}}function px(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function iX(e){if(Array.isArray(e))return e}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}var lX=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):He(t)?n=t(r):n=T.createElement("line",Jf({},r,{className:"recharts-reference-line-line"})),n},cX=function(t,r,n,a,s,i,l,c,u){var f=s.x,d=s.y,h=s.width,p=s.height;if(n){var y=u.y,m=t.y.apply(y,{position:i});if(Jr(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:f+h,y:m},{x:f,y:m}];return c==="left"?g.reverse():g}if(r){var x=u.x,w=t.x.apply(x,{position:i});if(Jr(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+p},{x:w,y:d}];return l==="top"?b.reverse():b}if(a){var S=u.segment,j=S.map(function(N){return t.apply(N,{position:i})});return Jr(u,"discard")&&$q(j,function(N){return!t.isInRange(N)})?null:j}return null};function uX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=zG(),f=d1(a),d=f1(s),h=YG();if(!u||!h)return null;gn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=zp({x:f.scale,y:d.scale}),y=kt(t),m=kt(r),g=n&&n.length===2,x=cX(p,y,m,g,h,e.position,f.orientation,d.orientation,e);if(!x)return null;var w=nX(x,2),b=w[0],S=b.x,j=b.y,N=w[1],A=N.x,P=N.y,E=Jr(e,"hidden")?"url(#".concat(u,")"):void 0,B=hx(hx({clipPath:E},Je(e,!0)),{},{x1:S,y1:j,x2:A,y2:P});return T.createElement(Nt,{className:Ze("recharts-reference-line",l)},lX(i,B),Xt.renderCallByParent(e,wG({x1:S,y1:j,x2:A,y2:P})))}var Xp=function(e){function t(){return GG(this,t),JG(this,t,arguments)}return tX(t,e),QG(t,[{key:"render",value:function(){return T.createElement(uX,this.props)}}])}(T.Component);Gp(Xp,"displayName","ReferenceLine");Gp(Xp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(r),!0).forEach(function(n){vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g1(n.key),n)}}function hX(e,t,r){return t&&fX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pX(e,t,r){return t=nc(t),mX(e,m1()?Reflect.construct(t,r||[],nc(e).constructor):t.apply(e,r))}function mX(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(e)}function gX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m1=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}function vX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eh(e,t)}function eh(e,t){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eh(e,t)}function vu(e,t,r){return t=g1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g1(e){var t=yX(e,"string");return mo(t)=="symbol"?t:t+""}function yX(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xX=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=zp({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Jr(t,"discard")&&!i.isInRange(l)?null:l},yu=function(e){function t(){return dX(this,t),pX(this,t,arguments)}return vX(t,e),hX(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=kt(a),f=kt(s);if(gn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=xX(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,m=y.shape,g=y.className,x=Jr(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=gx(gx({clipPath:x},Je(this.props,!0)),{},{cx:h,cy:p});return T.createElement(Nt,{className:Ze("recharts-reference-dot",g)},t.renderDot(m,w),Xt.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(T.Component);vu(yu,"displayName","ReferenceDot");vu(yu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vu(yu,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):He(e)?r=e(t):r=T.createElement(Vp,Zf({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(n){xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y1(n.key),n)}}function jX(e,t,r){return t&&wX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SX(e,t,r){return t=ac(t),NX(e,v1()?Reflect.construct(t,r||[],ac(e).constructor):t.apply(e,r))}function NX(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AX(e)}function AX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v1=function(){return!!e})()}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ac(e)}function CX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rh(e,t)}function xu(e,t,r){return t=y1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y1(e){var t=OX(e,"string");return go(t)=="symbol"?t:t+""}function OX(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PX=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var h=zp({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Jr(s,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:a1(p,y)},bu=function(e){function t(){return bX(this,t),SX(this,t,arguments)}return CX(t,e),jX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;gn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=kt(a),h=kt(s),p=kt(i),y=kt(l),m=this.props.shape;if(!d&&!h&&!p&&!y&&!m)return null;var g=PX(d,h,p,y,this.props);if(!g&&!m)return null;var x=Jr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return T.createElement(Nt,{className:Ze("recharts-reference-area",c)},t.renderRect(m,yx(yx({clipPath:x},Je(this.props,!0)),g)),Xt.renderCallByParent(this.props,g))}}])}(T.Component);xu(bu,"displayName","ReferenceArea");xu(bu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xu(bu,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):He(e)?r=e(t):r=T.createElement(Kp,th({},t,{className:"recharts-reference-area-rect"})),r});function x1(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function EX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return SG(n,r)}function DX(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function oc(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function TX(e,t){return x1(e,t+1)}function $X(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,f=i,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:x1(n,u)};var m=c,g,x=function(){return g===void 0&&(g=r(y,m)),g},w=y.coordinate,b=c===0||oc(e,w,x,f,l);b||(c=0,f=i,u+=1),b&&(f=w+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xx(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return t=IX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=kX(e,"string");return Gs(t)=="symbol"?t:t+""}function kX(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MX(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===i-1){var g=e*(p.coordinate+e*m()/2-c);s[h]=p=Gt(Gt({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=Gt(Gt({},p),{},{tickCoord:p.coordinate});var x=oc(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+a),s[h]=Gt(Gt({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)u(f);return s}function RX(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);i[l-1]=f=Gt(Gt({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=oc(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+a),i[l-1]=Gt(Gt({},f),{},{isShow:!0}))}for(var y=s?l-1:l,m=function(w){var b=i[w],S,j=function(){return S===void 0&&(S=r(b,w)),S};if(w===0){var N=e*(b.coordinate-e*j()/2-c);i[w]=b=Gt(Gt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else i[w]=b=Gt(Gt({},b),{},{tickCoord:b.coordinate});var A=oc(e,b.tickCoord,j,c,u);A&&(c=b.tickCoord+e*(j()/2+a),i[w]=Gt(Gt({},b),{},{isShow:!0}))},g=0;g<y;g++)m(g);return i}function Qp(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(xe(c)||Bo.isSsr)return TX(a,typeof c=="number"&&xe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?is(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,S){var j=He(u)?u(b.value,S):b.value;return p==="width"?EX(is(j,{fontSize:t,letterSpacing:r}),y,d):is(j,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?Mr(a[1].coordinate-a[0].coordinate):1,x=DX(s,g,p);return c==="equidistantPreserveStart"?$X(g,x,m,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=RX(g,x,m,a,i,c==="preserveStartEnd"):h=MX(g,x,m,a,i),h.filter(function(w){return w.isShow}))}var LX=["viewBox"],BX=["viewBox"],FX=["ticks"];function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}function bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bx(Object(r),!0).forEach(function(n){Jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pd(e,t){if(e==null)return{};var r=UX(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w1(n.key),n)}}function VX(e,t,r){return t&&wx(e.prototype,t),r&&wx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zX(e,t,r){return t=sc(t),WX(e,b1()?Reflect.construct(t,r||[],sc(e).constructor):t.apply(e,r))}function WX(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(e)}function HX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b1=function(){return!!e})()}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sc(e)}function YX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nh(e,t)}function nh(e,t){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nh(e,t)}function Jp(e,t,r){return t=w1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w1(e){var t=qX(e,"string");return vo(t)=="symbol"?t:t+""}function qX(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vo=function(e){function t(r){var n;return KX(this,t),n=zX(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return YX(t,e),VX(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=pd(n,LX),l=this.props,c=l.viewBox,u=pd(l,BX);return!Ha(s,c)||!Ha(i,u)||!Ha(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,y,m,g,x,w,b=d?-1:1,S=n.tickSize||f,j=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=i+ +!d*c,m=g-b*S,w=m-b*h,x=j;break;case"left":m=g=n.coordinate,y=s+ +!d*l,p=y-b*S,x=p-b*h,w=j;break;case"right":m=g=n.coordinate,y=s+ +d*l,p=y+b*S,x=p+b*h,w=j;break;default:p=y=n.coordinate,g=i+ +d*c,m=g+b*S,w=m+b*h,x=j;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Pt(Pt(Pt({},Je(this.props,!1)),Je(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Pt(Pt({},d),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Pt(Pt({},d),{},{x1:a+p*i,y1:s,x2:a+p*i,y2:s+l})}return T.createElement("line",Ua({},d,{className:Ze("recharts-cartesian-axis-line",jr(f,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=Qp(Pt(Pt({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Je(this.props,!1),x=Je(f,!1),w=Pt(Pt({},g),{},{fill:"none"},Je(c,!1)),b=p.map(function(S,j){var N=i.getTickLineCoord(S),A=N.line,P=N.tick,E=Pt(Pt(Pt(Pt({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:u},x),P),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:d});return T.createElement(Nt,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},pl(i.props,S,j)),c&&T.createElement("line",Ua({},w,A,{className:Ze("recharts-cartesian-axis-tick-line",jr(c,"className"))})),f&&t.renderTickItem(f,E,"".concat(He(d)?d(S.value,j):S.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=pd(d,FX),y=h;return He(c)&&(y=h&&h.length>0?c(this.props):c(p)),i<=0||l<=0||!y||!y.length?null:T.createElement(Nt,{className:Ze("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Ze(a.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?i=T.cloneElement(n,Pt(Pt({},a),{},{className:l})):He(n)?i=n(Pt(Pt({},a),{},{className:l})):i=T.createElement(Pl,Ua({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(v.Component);Jp(Vo,"displayName","CartesianAxis");Jp(Vo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GX=["x1","y1","x2","y2","key"],XX=["offset"];function xa(e){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}function jx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=ZX(e,"string");return xa(t)=="symbol"?t:t+""}function ZX(e,t){if(xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function Sx(e,t){if(e==null)return{};var r=eQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tQ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return T.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j1(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(He(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=Sx(t,GX),u=Je(c,!1);u.offset;var f=Sx(u,XX);r=T.createElement("line",ta({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function rQ(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Qt(Qt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return j1(a,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function nQ(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Qt(Qt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return j1(a,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function aQ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?a+i-h:f[p+1]-h;if(m<=0)return null;var g=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function oQ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?s+l-h:f[p+1]-h;if(m<=0)return null;var g=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var sQ=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return $N(Qp(Qt(Qt(Qt({},Vo.defaultProps),n),{},{ticks:hn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},iQ=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return $N(Qp(Qt(Qt(Qt({},Vo.defaultProps),n),{},{ticks:hn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},Ma={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vi(e){var t,r,n,a,s,i,l=Yp(),c=qp(),u=qG(),f=Qt(Qt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ma.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ma.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ma.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ma.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Ma.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ma.verticalFill,x:xe(e.x)?e.x:u.left,y:xe(e.y)?e.y:u.top,width:xe(e.width)?e.width:u.width,height:xe(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,m=f.syncWithTicks,g=f.horizontalValues,x=f.verticalValues,w=WG(),b=HG();if(!xe(p)||p<=0||!xe(y)||y<=0||!xe(d)||d!==+d||!xe(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||sQ,j=f.horizontalCoordinatesGenerator||iQ,N=f.horizontalPoints,A=f.verticalPoints;if((!N||!N.length)&&He(j)){var P=g&&g.length,E=j({yAxis:b?Qt(Qt({},b),{},{ticks:P?g:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);gn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xa(E),"]")),Array.isArray(E)&&(N=E)}if((!A||!A.length)&&He(S)){var B=x&&x.length,_=S({xAxis:w?Qt(Qt({},w),{},{ticks:B?x:w.ticks}):void 0,width:l,height:c,offset:u},B?!0:m);gn(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xa(_),"]")),Array.isArray(_)&&(A=_)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(tQ,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),T.createElement(rQ,ta({},f,{offset:u,horizontalPoints:N,xAxis:w,yAxis:b})),T.createElement(nQ,ta({},f,{offset:u,verticalPoints:A,xAxis:w,yAxis:b})),T.createElement(aQ,ta({},f,{horizontalPoints:N})),T.createElement(oQ,ta({},f,{verticalPoints:A})))}vi.displayName="CartesianGrid";var lQ=["type","layout","connectNulls","ref"],cQ=["key"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Nx(e,t){if(e==null)return{};var r=uQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(this,arguments)}function Ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ax(Object(r),!0).forEach(function(n){_r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ra(e){return pQ(e)||hQ(e)||fQ(e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){if(e){if(typeof e=="string")return ah(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ah(e,t)}}function hQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pQ(e){if(Array.isArray(e))return ah(e)}function ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N1(n.key),n)}}function gQ(e,t,r){return t&&Cx(e.prototype,t),r&&Cx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vQ(e,t,r){return t=ic(t),yQ(e,S1()?Reflect.construct(t,r||[],ic(e).constructor):t.apply(e,r))}function yQ(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQ(e)}function xQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S1=function(){return!!e})()}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ic(e)}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oh(e,t)}function _r(e,t,r){return t=N1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N1(e){var t=wQ(e,"string");return yo(t)=="symbol"?t:t+""}function wQ(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hn=function(e){function t(){var r;mQ(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=vQ(this,t,[].concat(a)),_r(r,"state",{isAnimationFinished:!0,totalLength:0}),_r(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),_r(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(x,w){return x+w});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var f=Math.floor(i/u),d=i%u,h=l-i,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>d){p=[].concat(Ra(c.slice(0,y)),[d-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Ra(t.repeat(c,f)),Ra(p),g).map(function(x){return"".concat(x,"px")}).join(", ")}),_r(r,"id",ci("recharts-line-")),_r(r,"pathRef",function(i){r.mainCurve=i}),_r(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),_r(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bQ(t,e),gQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=Sr(f,mi);if(!d)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:gr(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(Nt,p,d.map(function(y){return T.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Je(this.props,!1),h=Je(c,!0),p=u.map(function(m,g){var x=lr(lr(lr({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:f,payload:m.payload,points:u});return t.renderDotItem(c,x)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return T.createElement(Nt,ds({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=Nx(l,lQ),h=lr(lr(lr({},Je(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:f});return T.createElement(Mf,ds({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=i.animateNewValues,m=i.width,g=i.height,x=this.state,w=x.prevPoints,b=x.totalLength;return T.createElement(Sn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(w){var N=w.length/l.length,A=l.map(function(C,U){var I=Math.floor(U*N);if(w[I]){var F=w[I],$=Ir(F.x,C.x),O=Ir(F.y,C.y);return lr(lr({},C),{},{x:$(j),y:O(j)})}if(y){var k=Ir(m*2,C.x),D=Ir(g/2,C.y);return lr(lr({},C),{},{x:k(j),y:D(j)})}return lr(lr({},C),{},{x:C.x,y:C.y})});return s.renderCurveStatically(A,n,a)}var P=Ir(0,b),E=P(j),B;if(c){var _="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});B=s.getStrokeDasharray(E,b,_)}else B=s.generateSimpleStrokeDasharray(b,E);return s.renderCurveStatically(l,n,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!du(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,g=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,b=Ze("recharts-line",c),S=u&&u.allowDataOverflow,j=f&&f.allowDataOverflow,N=S||j,A=Ye(g)?this.id:g,P=(n=Je(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,B=E===void 0?3:E,_=P.strokeWidth,C=_===void 0?2:_,U=k2(i)?i:{},I=U.clipDot,F=I===void 0?!0:I,$=B*2+C;return T.createElement(Nt,{className:b},S||j?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(A)},T.createElement("rect",{x:S?h:h-p/2,y:j?d:d-y/2,width:S?p:p*2,height:j?y:y*2})),!F&&T.createElement("clipPath",{id:"clipPath-dots-".concat(A)},T.createElement("rect",{x:h-$/2,y:d-$/2,width:p+$,height:y+$}))):null,!w&&this.renderCurve(N,A),this.renderErrorBar(N,A),(w||i)&&this.renderDots(N,F,A),(!m||x)&&In.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Ra(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(Ra(i),Ra(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(T.isValidElement(n))s=T.cloneElement(n,a);else if(He(n))s=n(a);else{var i=a.key,l=Nx(a,cQ),c=Ze("recharts-line-dot",typeof n!="boolean"?n.className:"");s=T.createElement(Vp,ds({key:i},l,{className:c}))}return s}}])}(v.PureComponent);_r(Hn,"displayName","Line");_r(Hn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(Hn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=gr(h,i);return f==="horizontal"?{x:sy({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Ye(y)?null:n.scale(y),value:y,payload:h}:{x:Ye(y)?null:r.scale(y),y:sy({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:y,payload:h}});return lr({points:d,layout:f},u)});function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function jQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O1(n.key),n)}}function NQ(e,t,r){return t&&SQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AQ(e,t,r){return t=lc(t),CQ(e,A1()?Reflect.construct(t,r||[],lc(e).constructor):t.apply(e,r))}function CQ(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OQ(e)}function OQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A1=function(){return!!e})()}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lc(e)}function PQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sh(e,t)}function sh(e,t){return sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sh(e,t)}function C1(e,t,r){return t=O1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O1(e){var t=EQ(e,"string");return xo(t)=="symbol"?t:t+""}function EQ(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(this,arguments)}function DQ(e){var t=e.xAxisId,r=Yp(),n=qp(),a=d1(t);return a==null?null:v.createElement(Vo,ih({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return hn(i,!0)}}))}var Pa=function(e){function t(){return jQ(this,t),AQ(this,t,arguments)}return PQ(t,e),NQ(t,[{key:"render",value:function(){return v.createElement(DQ,this.props)}}])}(v.Component);C1(Pa,"displayName","XAxis");C1(Pa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function TQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D1(n.key),n)}}function _Q(e,t,r){return t&&$Q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IQ(e,t,r){return t=cc(t),kQ(e,P1()?Reflect.construct(t,r||[],cc(e).constructor):t.apply(e,r))}function kQ(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQ(e)}function MQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P1=function(){return!!e})()}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cc(e)}function RQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}function lh(e,t){return lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lh(e,t)}function E1(e,t,r){return t=D1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1(e){var t=LQ(e,"string");return bo(t)=="symbol"?t:t+""}function LQ(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}var BQ=function(t){var r=t.yAxisId,n=Yp(),a=qp(),s=f1(r);return s==null?null:v.createElement(Vo,ch({},s,{className:Ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return hn(l,!0)}}))},Ea=function(e){function t(){return TQ(this,t),IQ(this,t,arguments)}return RQ(t,e),_Q(t,[{key:"render",value:function(){return v.createElement(BQ,this.props)}}])}(v.Component);E1(Ea,"displayName","YAxis");E1(Ea,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ox(e){return VQ(e)||KQ(e)||UQ(e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(e,t){if(e){if(typeof e=="string")return uh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uh(e,t)}}function KQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VQ(e){if(Array.isArray(e))return uh(e)}function uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dh=function(t,r,n,a,s){var i=Sr(t,Xp),l=Sr(t,yu),c=[].concat(Ox(i),Ox(l)),u=Sr(t,bu),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(m,g){if(g.props[f]===n&&Jr(g.props,"extendDomain")&&xe(g.props[d])){var x=g.props[d];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(m,g){if(g.props[f]===n&&Jr(g.props,"extendDomain")&&xe(g.props[p])&&xe(g.props[y])){var x=g.props[p],w=g.props[y];return[Math.min(m[0],x,w),Math.max(m[1],x,w)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,g){return xe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},T1={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],x=arguments.length,w,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,p),!0;case 6:return g.fn.call(g.context,f,d,h,p,y),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];g.fn.apply(g.context,w)}else{var S=g.length,j;for(b=0;b<S;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),x){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,f);break;case 3:g[b].fn.call(g[b].context,f,d);break;case 4:g[b].fn.call(g[b].context,f,d,h);break;default:if(!w)for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];g[b].fn.apply(g[b].context,w)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return i(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&i(this,p);else{for(var m=0,g=[],x=y.length;m<x;m++)(y[m].fn!==f||h&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(T1);var zQ=T1.exports;const WQ=ft(zQ);var md=new WQ,gd="recharts.syncMouseEvents";function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function HQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$1(n.key),n)}}function qQ(e,t,r){return t&&YQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vd(e,t,r){return t=$1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1(e){var t=GQ(e,"string");return Xs(t)=="symbol"?t:t+""}function GQ(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XQ=function(){function e(){HQ(this,e),vd(this,"activeIndex",0),vd(this,"coordinateList",[]),vd(this,"layout","horizontal")}return qQ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=i+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function QQ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&xe(n)&&xe(a))return!0}return!1}function JQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _1(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Wt(t,r,n,a),l=Wt(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function ZQ(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Wt(l,c,u,d),p=Wt(l,c,f,d);n=h.x,a=h.y,s=p.x,i=p.y}else return _1(t);return[{x:n,y:a},{x:s,y:i}]}function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return t=tJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return Qs(t)=="symbol"?t:t+""}function rJ(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nJ(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var y,m=Mf;if(h==="ScatterChart")y=i,m=rY;else if(h==="BarChart")y=JQ(d,i,c,f),m=Kp;else if(d==="radial"){var g=_1(i),x=g.cx,w=g.cy,b=g.radius,S=g.startAngle,j=g.endAngle;y={cx:x,cy:w,startAngle:S,endAngle:j,innerRadius:b,outerRadius:b},m=RN}else y={points:ZQ(d,i,c)},m=Mf;var N=Ui(Ui(Ui(Ui({stroke:"#ccc",pointerEvents:"none"},c),y),Je(p,!1)),{},{payload:l,payloadIndex:u,className:Ze("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,N):v.createElement(m,N)}var aJ=["item"],oJ=["children","className","width","height","style","compact","title","desc"];function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(this,arguments)}function Ex(e,t){return lJ(e)||iJ(e,t)||k1(e,t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function lJ(e){if(Array.isArray(e))return e}function Dx(e,t){if(e==null)return{};var r=cJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M1(n.key),n)}}function fJ(e,t,r){return t&&dJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hJ(e,t,r){return t=uc(t),pJ(e,I1()?Reflect.construct(t,r||[],uc(e).constructor):t.apply(e,r))}function pJ(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJ(e)}function mJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I1=function(){return!!e})()}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uc(e)}function gJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fh(e,t)}function fh(e,t){return fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fh(e,t)}function jo(e){return xJ(e)||yJ(e)||k1(e)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1(e,t){if(e){if(typeof e=="string")return hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hh(e,t)}}function yJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xJ(e){if(Array.isArray(e))return hh(e)}function hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(r),!0).forEach(function(n){Be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Be(e,t,r){return t=M1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1(e){var t=bJ(e,"string");return wo(t)=="symbol"?t:t+""}function bJ(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wJ={xAxis:["bottom","top"],yAxis:["left","right"]},jJ={width:"100%",height:"100%"},R1={x:0,y:0};function Ki(e){return e}var SJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},NJ=function(t,r,n,a){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return re(re(re({},a),Wt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return re(re(re({},a),Wt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return R1},wu=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(jo(l),jo(u)):l},[]);return i.length>0?i:t&&t.length&&xe(a)&&xe(s)?t.slice(a,s+1):[]};function L1(e){return e==="number"?[0,"auto"]:void 0}var ph=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=wu(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?l:d;h=fl(p,i.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(jo(c),[IN(u,h)]):c},[])},$x=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=SJ(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=LW(i,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=ph(t,r,f,d),p=NJ(n,l,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},AJ=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=TN(f,s);return n.reduce(function(y,m){var g,x=m.type.defaultProps!==void 0?re(re({},m.type.defaultProps),m.props):m.props,w=x.type,b=x.dataKey,S=x.allowDataOverflow,j=x.allowDuplicatedCategory,N=x.scale,A=x.ticks,P=x.includeHidden,E=x[i];if(y[E])return y;var B=wu(t.data,{graphicalItems:a.filter(function(Q){var ne,te=i in Q.props?Q.props[i]:(ne=Q.type.defaultProps)===null||ne===void 0?void 0:ne[i];return te===E}),dataStartIndex:c,dataEndIndex:u}),_=B.length,C,U,I;QQ(x.domain,S,w)&&(C=Tf(x.domain,null,S),p&&(w==="number"||N!=="auto")&&(I=cs(B,b,"category")));var F=L1(w);if(!C||C.length===0){var $,O=($=x.domain)!==null&&$!==void 0?$:F;if(b){if(C=cs(B,b,w),w==="category"&&p){var k=A2(C);j&&k?(U=C,C=Ql(0,_)):j||(C=uy(O,C,m).reduce(function(Q,ne){return Q.indexOf(ne)>=0?Q:[].concat(jo(Q),[ne])},[]))}else if(w==="category")j?C=C.filter(function(Q){return Q!==""&&!Ye(Q)}):C=uy(O,C,m).reduce(function(Q,ne){return Q.indexOf(ne)>=0||ne===""||Ye(ne)?Q:[].concat(jo(Q),[ne])},[]);else if(w==="number"){var D=VW(B,a.filter(function(Q){var ne,te,Oe=i in Q.props?Q.props[i]:(ne=Q.type.defaultProps)===null||ne===void 0?void 0:ne[i],Le="hide"in Q.props?Q.props.hide:(te=Q.type.defaultProps)===null||te===void 0?void 0:te.hide;return Oe===E&&(P||!Le)}),b,s,f);D&&(C=D)}p&&(w==="number"||N!=="auto")&&(I=cs(B,b,"category"))}else p?C=Ql(0,_):l&&l[E]&&l[E].hasStack&&w==="number"?C=h==="expand"?[0,1]:_N(l[E].stackGroups,c,u):C=DN(B,a.filter(function(Q){var ne=i in Q.props?Q.props[i]:Q.type.defaultProps[i],te="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ne===E&&(P||!te)}),w,f,!0);if(w==="number")C=dh(d,C,E,s,A),O&&(C=Tf(O,C,S));else if(w==="category"&&O){var q=O,Z=C.every(function(Q){return q.indexOf(Q)>=0});Z&&(C=q)}}return re(re({},y),{},Be({},E,re(re({},x),{},{axisType:s,domain:C,categoricalDomain:I,duplicateDomain:U,originalDomain:(g=x.domain)!==null&&g!==void 0?g:F,isCategorical:p,layout:f})))},{})},CJ=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=wu(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=TN(f,s),m=-1;return n.reduce(function(g,x){var w=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,b=w[i],S=L1("number");if(!g[b]){m++;var j;return y?j=Ql(0,p):l&&l[b]&&l[b].hasStack?(j=_N(l[b].stackGroups,c,u),j=dh(d,j,b,s)):(j=Tf(S,DN(h,n.filter(function(N){var A,P,E=i in N.props?N.props[i]:(A=N.type.defaultProps)===null||A===void 0?void 0:A[i],B="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===b&&!B}),"number",f),a.defaultProps.allowDataOverflow),j=dh(d,j,b,s)),re(re({},g),{},Be({},b,re(re({axisType:s},a.defaultProps),{},{hide:!0,orientation:jr(wJ,"".concat(s,".").concat(m%2),null),domain:j,originalDomain:S,isCategorical:y,layout:f})))}return g},{})},OJ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Sr(f,s),p={};return h&&h.length?p=AJ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=CJ(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},PJ=function(t){var r=Tn(t),n=hn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:mp(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Kl(r,n)}},_x=function(t){var r=t.children,n=t.defaultShowTooltip,a=ur(r,fo),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},EJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=mn(r&&r.type);return n&&n.indexOf("Bar")>=0})},Ix=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DJ=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=ur(d,fo),y=ur(d,Ya),m=Object.keys(c).reduce(function(j,N){var A=c[N],P=A.orientation;return!A.mirror&&!A.hide?re(re({},j),{},Be({},P,j[P]+A.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(i).reduce(function(j,N){var A=i[N],P=A.orientation;return!A.mirror&&!A.hide?re(re({},j),{},Be({},P,jr(j,"".concat(P))+A.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=re(re({},g),m),w=x.bottom;p&&(x.bottom+=p.props.height||fo.defaultProps.height),y&&r&&(x=UW(x,a,n,r));var b=u-x.left-x.right,S=f-x.top-x.bottom;return re(re({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(S,0)})},TJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},$J=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(x,w){var b=w.graphicalItems,S=w.stackGroups,j=w.offset,N=w.updateId,A=w.dataStartIndex,P=w.dataEndIndex,E=x.barSize,B=x.layout,_=x.barGap,C=x.barCategoryGap,U=x.maxBarSize,I=Ix(B),F=I.numericAxisName,$=I.cateAxisName,O=EJ(b),k=[];return b.forEach(function(D,q){var Z=wu(x.data,{graphicalItems:[D],dataStartIndex:A,dataEndIndex:P}),Q=D.type.defaultProps!==void 0?re(re({},D.type.defaultProps),D.props):D.props,ne=Q.dataKey,te=Q.maxBarSize,Oe=Q["".concat(F,"Id")],Le=Q["".concat($,"Id")],pe={},M=c.reduce(function(Ae,be){var We=w["".concat(be.axisType,"Map")],Y=Q["".concat(be.axisType,"Id")];We&&We[Y]||be.axisType==="zAxis"||ya();var K=We[Y];return re(re({},Ae),{},Be(Be({},be.axisType,K),"".concat(be.axisType,"Ticks"),hn(K)))},pe),L=M[$],R=M["".concat($,"Ticks")],H=S&&S[Oe]&&S[Oe].hasStack&&tH(D,S[Oe].stackGroups),V=mn(D.type).indexOf("Bar")>=0,le=Kl(L,R),he=[],we=O&&BW({barSize:E,stackGroups:S,totalSize:TJ(M,$)});if(V){var se,Te,de=Ye(te)?U:te,ye=(se=(Te=Kl(L,R,!0))!==null&&Te!==void 0?Te:de)!==null&&se!==void 0?se:0;he=FW({barGap:_,barCategoryGap:C,bandSize:ye!==le?ye:le,sizeList:we[Le],maxBarSize:de}),ye!==le&&(he=he.map(function(Ae){return re(re({},Ae),{},{position:re(re({},Ae.position),{},{offset:Ae.position.offset-ye/2})})}))}var Pe=D&&D.type&&D.type.getComposedData;Pe&&k.push({props:re(re({},Pe(re(re({},M),{},{displayedData:Z,props:x,dataKey:ne,item:D,bandSize:le,barPosition:he,offset:j,stackedData:H,layout:B,dataStartIndex:A,dataEndIndex:P}))),{},Be(Be(Be({key:D.key||"item-".concat(q)},F,M[F]),$,M[$]),"animationId",N)),childIndex:L2(D,x.children),item:D})}),k},p=function(x,w){var b=x.props,S=x.dataStartIndex,j=x.dataEndIndex,N=x.updateId;if(!ng({props:b}))return null;var A=b.children,P=b.layout,E=b.stackOffset,B=b.data,_=b.reverseStackOrder,C=Ix(P),U=C.numericAxisName,I=C.cateAxisName,F=Sr(A,n),$=JW(B,F,"".concat(U,"Id"),"".concat(I,"Id"),E,_),O=c.reduce(function(Q,ne){var te="".concat(ne.axisType,"Map");return re(re({},Q),{},Be({},te,OJ(b,re(re({},ne),{},{graphicalItems:F,stackGroups:ne.axisType===U&&$,dataStartIndex:S,dataEndIndex:j}))))},{}),k=DJ(re(re({},O),{},{props:b,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(O).forEach(function(Q){O[Q]=f(b,O[Q],k,Q.replace("Map",""),r)});var D=O["".concat(I,"Map")],q=PJ(D),Z=h(b,re(re({},O),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:F,stackGroups:$,offset:k}));return re(re({formattedGraphicalItems:Z,graphicalItems:F,offset:k,stackGroups:$},q),O)},y=function(g){function x(w){var b,S,j;return uJ(this,x),j=hJ(this,x,[w]),Be(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(j,"accessibilityManager",new XQ),Be(j,"handleLegendBBoxUpdate",function(N){if(N){var A=j.state,P=A.dataStartIndex,E=A.dataEndIndex,B=A.updateId;j.setState(re({legendBBox:N},p({props:j.props,dataStartIndex:P,dataEndIndex:E,updateId:B},re(re({},j.state),{},{legendBBox:N}))))}}),Be(j,"handleReceiveSyncEvent",function(N,A,P){if(j.props.syncId===N){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),Be(j,"handleBrushChange",function(N){var A=N.startIndex,P=N.endIndex;if(A!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return re({dataStartIndex:A,dataEndIndex:P},p({props:j.props,dataStartIndex:A,dataEndIndex:P,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),Be(j,"handleMouseEnter",function(N){var A=j.getMouseInfo(N);if(A){var P=re(re({},A),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var E=j.props.onMouseEnter;He(E)&&E(P,N)}}),Be(j,"triggeredAfterMouseMove",function(N){var A=j.getMouseInfo(N),P=A?re(re({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var E=j.props.onMouseMove;He(E)&&E(P,N)}),Be(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Be(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Be(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Be(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var P=j.props.onMouseLeave;He(P)&&P(A,N)}),Be(j,"handleOuterEvent",function(N){var A=R2(N),P=jr(j.props,"".concat(A));if(A&&He(P)){var E,B;/.*touch.*/i.test(A)?B=j.getMouseInfo(N.changedTouches[0]):B=j.getMouseInfo(N),P((E=B)!==null&&E!==void 0?E:{},N)}}),Be(j,"handleClick",function(N){var A=j.getMouseInfo(N);if(A){var P=re(re({},A),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var E=j.props.onClick;He(E)&&E(P,N)}}),Be(j,"handleMouseDown",function(N){var A=j.props.onMouseDown;if(He(A)){var P=j.getMouseInfo(N);A(P,N)}}),Be(j,"handleMouseUp",function(N){var A=j.props.onMouseUp;if(He(A)){var P=j.getMouseInfo(N);A(P,N)}}),Be(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Be(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Be(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Be(j,"handleDoubleClick",function(N){var A=j.props.onDoubleClick;if(He(A)){var P=j.getMouseInfo(N);A(P,N)}}),Be(j,"handleContextMenu",function(N){var A=j.props.onContextMenu;if(He(A)){var P=j.getMouseInfo(N);A(P,N)}}),Be(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&md.emit(gd,j.props.syncId,N,j.eventEmitterSymbol)}),Be(j,"applySyncEvent",function(N){var A=j.props,P=A.layout,E=A.syncMethod,B=j.state.updateId,_=N.dataStartIndex,C=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(re({dataStartIndex:_,dataEndIndex:C},p({props:j.props,dataStartIndex:_,dataEndIndex:C,updateId:B},j.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,I=N.chartY,F=N.activeTooltipIndex,$=j.state,O=$.offset,k=$.tooltipTicks;if(!O)return;if(typeof E=="function")F=E(k,N);else if(E==="value"){F=-1;for(var D=0;D<k.length;D++)if(k[D].value===N.activeLabel){F=D;break}}var q=re(re({},O),{},{x:O.left,y:O.top}),Z=Math.min(U,q.x+q.width),Q=Math.min(I,q.y+q.height),ne=k[F]&&k[F].value,te=ph(j.state,j.props.data,F),Oe=k[F]?{x:P==="horizontal"?k[F].coordinate:Z,y:P==="horizontal"?Q:k[F].coordinate}:R1;j.setState(re(re({},N),{},{activeLabel:ne,activeCoordinate:Oe,activePayload:te,activeTooltipIndex:F}))}else j.setState(N)}),Be(j,"renderCursor",function(N){var A,P=j.state,E=P.isTooltipActive,B=P.activeCoordinate,_=P.activePayload,C=P.offset,U=P.activeTooltipIndex,I=P.tooltipAxisBandSize,F=j.getTooltipEventType(),$=(A=N.props.active)!==null&&A!==void 0?A:E,O=j.props.layout,k=N.key||"_recharts-cursor";return T.createElement(nJ,{key:k,activeCoordinate:B,activePayload:_,activeTooltipIndex:U,chartName:r,element:N,isActive:$,layout:O,offset:C,tooltipAxisBandSize:I,tooltipEventType:F})}),Be(j,"renderPolarAxis",function(N,A,P){var E=jr(N,"type.axisType"),B=jr(j.state,"".concat(E,"Map")),_=N.type.defaultProps,C=_!==void 0?re(re({},_),N.props):N.props,U=B&&B[C["".concat(E,"Id")]];return v.cloneElement(N,re(re({},U),{},{className:Ze(E,U.className),key:N.key||"".concat(A,"-").concat(P),ticks:hn(U,!0)}))}),Be(j,"renderPolarGrid",function(N){var A=N.props,P=A.radialLines,E=A.polarAngles,B=A.polarRadius,_=j.state,C=_.radiusAxisMap,U=_.angleAxisMap,I=Tn(C),F=Tn(U),$=F.cx,O=F.cy,k=F.innerRadius,D=F.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(E)?E:hn(F,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(B)?B:hn(I,!0).map(function(q){return q.coordinate}),cx:$,cy:O,innerRadius:k,outerRadius:D,key:N.key||"polar-grid",radialLines:P})}),Be(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,A=j.props,P=A.children,E=A.width,B=A.height,_=j.props.margin||{},C=E-(_.left||0)-(_.right||0),U=PN({children:P,formattedGraphicalItems:N,legendWidth:C,legendContent:u});if(!U)return null;var I=U.item,F=Dx(U,aJ);return v.cloneElement(I,re(re({},F),{},{chartWidth:E,chartHeight:B,margin:_,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Be(j,"renderTooltip",function(){var N,A=j.props,P=A.children,E=A.accessibilityLayer,B=ur(P,dr);if(!B)return null;var _=j.state,C=_.isTooltipActive,U=_.activeCoordinate,I=_.activePayload,F=_.activeLabel,$=_.offset,O=(N=B.props.active)!==null&&N!==void 0?N:C;return v.cloneElement(B,{viewBox:re(re({},$),{},{x:$.left,y:$.top}),active:O,label:F,payload:O?I:[],coordinate:U,accessibilityLayer:E})}),Be(j,"renderBrush",function(N){var A=j.props,P=A.margin,E=A.data,B=j.state,_=B.offset,C=B.dataStartIndex,U=B.dataEndIndex,I=B.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Ri(j.handleBrushChange,N.props.onChange),data:E,x:xe(N.props.x)?N.props.x:_.left,y:xe(N.props.y)?N.props.y:_.top+_.height+_.brushBottom-(P.bottom||0),width:xe(N.props.width)?N.props.width:_.width,startIndex:C,endIndex:U,updateId:"brush-".concat(I)})}),Be(j,"renderReferenceElement",function(N,A,P){if(!N)return null;var E=j,B=E.clipPathId,_=j.state,C=_.xAxisMap,U=_.yAxisMap,I=_.offset,F=N.type.defaultProps||{},$=N.props,O=$.xAxisId,k=O===void 0?F.xAxisId:O,D=$.yAxisId,q=D===void 0?F.yAxisId:D;return v.cloneElement(N,{key:N.key||"".concat(A,"-").concat(P),xAxis:C[k],yAxis:U[q],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:B})}),Be(j,"renderActivePoints",function(N){var A=N.item,P=N.activePoint,E=N.basePoint,B=N.childIndex,_=N.isRange,C=[],U=A.props.key,I=A.item.type.defaultProps!==void 0?re(re({},A.item.type.defaultProps),A.item.props):A.item.props,F=I.activeDot,$=I.dataKey,O=re(re({index:B,dataKey:$,cx:P.x,cy:P.y,r:4,fill:Up(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Je(F,!1)),hl(F));return C.push(x.renderActiveDot(F,O,"".concat(U,"-activePoint-").concat(B))),E?C.push(x.renderActiveDot(F,re(re({},O),{},{cx:E.x,cy:E.y}),"".concat(U,"-basePoint-").concat(B))):_&&C.push(null),C}),Be(j,"renderGraphicChild",function(N,A,P){var E=j.filterFormatItem(N,A,P);if(!E)return null;var B=j.getTooltipEventType(),_=j.state,C=_.isTooltipActive,U=_.tooltipAxis,I=_.activeTooltipIndex,F=_.activeLabel,$=j.props.children,O=ur($,dr),k=E.props,D=k.points,q=k.isRange,Z=k.baseLine,Q=E.item.type.defaultProps!==void 0?re(re({},E.item.type.defaultProps),E.item.props):E.item.props,ne=Q.activeDot,te=Q.hide,Oe=Q.activeBar,Le=Q.activeShape,pe=!!(!te&&C&&O&&(ne||Oe||Le)),M={};B!=="axis"&&O&&O.props.trigger==="click"?M={onClick:Ri(j.handleItemMouseEnter,N.props.onClick)}:B!=="axis"&&(M={onMouseLeave:Ri(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Ri(j.handleItemMouseEnter,N.props.onMouseEnter)});var L=v.cloneElement(N,re(re({},E.props),M));function R(be){return typeof U.dataKey=="function"?U.dataKey(be.payload):null}if(pe)if(I>=0){var H,V;if(U.dataKey&&!U.allowDuplicatedCategory){var le=typeof U.dataKey=="function"?R:"payload.".concat(U.dataKey.toString());H=fl(D,le,F),V=q&&Z&&fl(Z,le,F)}else H=D==null?void 0:D[I],V=q&&Z&&Z[I];if(Le||Oe){var he=N.props.activeIndex!==void 0?N.props.activeIndex:I;return[v.cloneElement(N,re(re(re({},E.props),M),{},{activeIndex:he})),null,null]}if(!Ye(H))return[L].concat(jo(j.renderActivePoints({item:E,activePoint:H,basePoint:V,childIndex:I,isRange:q})))}else{var we,se=(we=j.getItemByXY(j.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:L},Te=se.graphicalItem,de=Te.item,ye=de===void 0?N:de,Pe=Te.childIndex,Ae=re(re(re({},E.props),M),{},{activeIndex:Pe});return[v.cloneElement(ye,Ae),null,null]}return q?[L,null,null]:[L,null]}),Be(j,"renderCustomized",function(N,A,P){return v.cloneElement(N,re(re({key:"recharts-customized-".concat(P)},j.props),j.state))}),Be(j,"renderMap",{CartesianGrid:{handler:Ki,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ki},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ki},YAxis:{handler:Ki},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:ci("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=OS(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return gJ(x,g),fJ(x,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,j=b.data,N=b.height,A=b.layout,P=ur(S,dr);if(P){var E=P.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,_=ph(this.state,j,E,B),C=this.state.tooltipTicks[E].coordinate,U=(this.state.offset.top+N)/2,I=A==="horizontal",F=I?{x:C,y:U}:{y:C,x:U},$=this.state.formattedGraphicalItems.find(function(k){var D=k.item;return D.type.name==="Scatter"});$&&(F=re(re({},F),$.props.points[E].tooltipPosition),_=$.props.points[E].tooltipPayload);var O={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:B,activePayload:_,activeCoordinate:F};this.setState(O),this.renderCursor(P),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){Wd([ur(b.children,dr)],[ur(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ur(this.props.children,dr);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=uK(j),A={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},P=j.width/S.offsetWidth||1,E=this.inRange(A.chartX,A.chartY,P);if(!E)return null;var B=this.state,_=B.xAxisMap,C=B.yAxisMap,U=this.getTooltipEventType(),I=$x(this.state,this.props.data,this.props.layout,E);if(U!=="axis"&&_&&C){var F=Tn(_).scale,$=Tn(C).scale,O=F&&F.invert?F.invert(A.chartX):null,k=$&&$.invert?$.invert(A.chartY):null;return re(re({},A),{},{xValue:O,yValue:k},I)}return I?re(re({},A),I):null}},{key:"inRange",value:function(b,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,A=b/j,P=S/j;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,B=A>=E.left&&A<=E.left+E.width&&P>=E.top&&P<=E.top+E.height;return B?{x:A,y:P}:null}var _=this.state,C=_.angleAxisMap,U=_.radiusAxisMap;if(C&&U){var I=Tn(C);return hy({x:A,y:P},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),j=ur(b,dr),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=hl(this.props,this.handleOuterEvent);return re(re({},A),N)}},{key:"addListener",value:function(){md.on(gd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){md.removeListener(gd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,j){for(var N=this.state.formattedGraphicalItems,A=0,P=N.length;A<P;A++){var E=N[A];if(E.item===b||E.props.key===b.key||S===mn(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,A=S.height,P=S.width;return T.createElement("defs",null,T.createElement("clipPath",{id:b},T.createElement("rect",{x:j,y:N,height:A,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,j){var N=Ex(j,2),A=N[0],P=N[1];return re(re({},S),{},Be({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,j){var N=Ex(j,2),A=N[0],P=N[1];return re(re({},S),{},Be({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var A=0,P=j.length;A<P;A++){var E=j[A],B=E.props,_=E.item,C=_.type.defaultProps!==void 0?re(re({},_.type.defaultProps),_.props):_.props,U=mn(_.type);if(U==="Bar"){var I=(B.data||[]).find(function(k){return H9(b,k)});if(I)return{graphicalItem:E,payload:I}}else if(U==="RadialBar"){var F=(B.data||[]).find(function(k){return hy(b,k)});if(F)return{graphicalItem:E,payload:F}}else if(pu(E,N)||mu(E,N)||Ws(E,N)){var $=GY({graphicalItem:E,activeTooltipItem:N,itemData:C.data}),O=C.activeIndex===void 0?$:C.activeIndex;return{graphicalItem:re(re({},E),{},{childIndex:O}),payload:Ws(E,N)?C.data[$]:E.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!ng(this))return null;var S=this.props,j=S.children,N=S.className,A=S.width,P=S.height,E=S.style,B=S.compact,_=S.title,C=S.desc,U=Dx(S,oJ),I=Je(U,!1);if(B)return T.createElement(dx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(Yd,Ka({},I,{width:A,height:P,title:_,desc:C}),this.renderClipPath(),og(j,this.renderMap)));if(this.props.accessibilityLayer){var F,$;I.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,I.role=($=this.props.role)!==null&&$!==void 0?$:"application",I.onKeyDown=function(k){b.accessibilityManager.keyboardEvent(k)},I.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return T.createElement(dx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",Ka({className:Ze("recharts-wrapper",N),style:re({position:"relative",cursor:"default",width:A,height:P},E)},O,{ref:function(D){b.container=D}}),T.createElement(Yd,Ka({},I,{width:A,height:P,title:_,desc:C,style:jJ}),this.renderClipPath(),og(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Be(y,"displayName",r),Be(y,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Be(y,"getDerivedStateFromProps",function(g,x){var w=g.dataKey,b=g.data,S=g.children,j=g.width,N=g.height,A=g.layout,P=g.stackOffset,E=g.margin,B=x.dataStartIndex,_=x.dataEndIndex;if(x.updateId===void 0){var C=_x(g);return re(re(re({},C),{},{updateId:0},p(re(re({props:g},C),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:N,prevLayout:A,prevStackOffset:P,prevMargin:E,prevChildren:S})}if(w!==x.prevDataKey||b!==x.prevData||j!==x.prevWidth||N!==x.prevHeight||A!==x.prevLayout||P!==x.prevStackOffset||!Ha(E,x.prevMargin)){var U=_x(g),I={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=re(re({},$x(x,b,A)),{},{updateId:x.updateId+1}),$=re(re(re({},U),I),F);return re(re(re({},$),p(re({props:g},$),x)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:N,prevLayout:A,prevStackOffset:P,prevMargin:E,prevChildren:S})}if(!Wd(S,x.prevChildren)){var O,k,D,q,Z=ur(S,fo),Q=Z&&(O=(k=Z.props)===null||k===void 0?void 0:k.startIndex)!==null&&O!==void 0?O:B,ne=Z&&(D=(q=Z.props)===null||q===void 0?void 0:q.endIndex)!==null&&D!==void 0?D:_,te=Q!==B||ne!==_,Oe=!Ye(b),Le=Oe&&!te?x.updateId:x.updateId+1;return re(re({updateId:Le},p(re(re({props:g},x),{},{updateId:Le,dataStartIndex:Q,dataEndIndex:ne}),x)),{},{prevChildren:S,dataStartIndex:Q,dataEndIndex:ne})}return null}),Be(y,"renderActiveDot",function(g,x,w){var b;return v.isValidElement(g)?b=v.cloneElement(g,x):He(g)?b=g(x):b=T.createElement(Vp,x),T.createElement(Nt,{className:"recharts-active-dot",key:w},b)});var m=v.forwardRef(function(x,w){return T.createElement(y,Ka({},x,{ref:w}))});return m.displayName=y.displayName,m},ju=$J({chartName:"LineChart",GraphicalChild:Hn,axisComponents:[{axisType:"xAxis",AxisComp:Pa},{axisType:"yAxis",AxisComp:Ea}],formatAxisMap:bG});const fs=14,kx=async(e,t)=>{console.log("📊 getViewsData - 전체 데이터 개수:",e.length),console.log("📊 getViewsData - 데이터 샘플:",e.slice(0,3));const{getKoreanDateString:r}=await Qa(async()=>{const{getKoreanDateString:l}=await import("./utils.Bod80qvb.js").then(c=>c.u);return{getKoreanDateString:l}},[]),n=r(),a=[];for(let l=fs-1;l>=0;l--){const c=new Date(n);c.setDate(c.getDate()-l),a.push(c.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}console.log(`📊 getViewsData - 최근 ${fs}일간 날짜들:`,a);const s=Object.keys(t);console.log("📊 getViewsData - 모든 카테고리:",s);const i=a.map(l=>{const c=e.filter(f=>{var d;return((d=f.collectionDate||f.uploadDate)==null?void 0:d.split("T")[0])===l}),u={date:l};return console.log(`📊 ${l} 날짜 데이터 개수:`,c.length),s.forEach(f=>{u[f]={views:0}}),c.forEach(f=>{var y;if(!f.category)return;let d=f.viewCount||0;const h=d;d>0&&console.log(`📊 원본 데이터: ${f.category} - ${d} (${(d/1e6).toFixed(2)}M)`),d>=7e8&&d<=7001e5&&(d=5e8,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=14e8&&d<=1401e6&&(d=1e9,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=21e8&&d<=2101e6&&(d=15e8,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=25e8&&d<=2501e6&&(d=2e9,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`));const p=((y=u[f.category])==null?void 0:y.views)||0;u[f.category]={views:p+d}}),u});return console.log("📊 getViewsData - 최종 viewsData:",i),console.log("📊 getViewsData - viewsData 구조 확인:",i.map(l=>({date:l.date,categories:Object.keys(l).filter(c=>c!=="date").map(c=>{var u;return{category:c,views:((u=l[c])==null?void 0:u.views)||0}}).filter(c=>c.views>0)}))),i},_J=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=[...t].sort((s,i)=>(i.value||0)-(s.value||0)),a=n.reduce((s,i)=>s+(i.value||0),0);return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-lg max-w-[300px]",children:[o.jsx("p",{className:"font-semibold text-foreground mb-3",children:r}),o.jsx("div",{className:"space-y-2",children:n.map((s,i)=>{var d;const l=s.color,c=((d=s.dataKey)==null?void 0:d.replace(".views",""))||s.dataKey,u=s.value||0,f=a>0?(u/a*100).toFixed(1):"0";return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l}}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:c})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:u.toLocaleString()}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",f,"%)"]})]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:o.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300",style:{backgroundColor:l,width:`${f}%`}})})]},i)})}),o.jsx("div",{className:"mt-3 pt-2 border-t border-border",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"총 조회수:"}),o.jsx("span",{className:"font-semibold text-foreground",children:a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(0)}K`:a.toLocaleString()})]})})]})}return null};function IJ(){const[e,t]=v.useState([]),[r,n]=v.useState({}),[a,s]=v.useState({}),[i,l]=v.useState([]),[c,u]=v.useState(Ge()),f=Jt;return v.useEffect(()=>{const d=h=>{u(h.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",d),()=>{window.removeEventListener("dashboardDateChanged",d)}},[]),v.useEffect(()=>{const d=h=>{console.log("🔄 대시보드 데이터 업데이트 이벤트 감지:",h.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:c}}))};return window.addEventListener("dataUpdated",d),()=>{window.removeEventListener("dataUpdated",d)}},[c]),v.useEffect(()=>{(async()=>{const h=setTimeout(()=>{console.warn("⏰ 대시보드 데이터 로드 강제 타임아웃 (15초)")},15e3);try{let p=[];try{const b=new Promise((S,j)=>{setTimeout(()=>{console.warn("⏱️ 대시보드 데이터 로드 타임아웃 (10초) - IndexedDB 폴백"),j(new Error("데이터 로드 타임아웃"))},1e4)});p=await Promise.race([ot.getClassifiedData(),b])}catch{console.warn("⚠️ 서버 데이터 로드 타임아웃 또는 실패 - IndexedDB 폴백");try{p=await ge.loadClassifiedData()||[],console.log(`✅ IndexedDB에서 데이터 로드: ${p.length}개`)}catch(S){console.error("❌ IndexedDB 로드 실패:",S),p=[]}}Array.isArray(p)||(p=[]),console.log(`📊 전체 분류된 데이터: ${p.length}개`),console.log("📊 데이터 날짜 분포:",p.reduce((b,S)=>{var N;const j=(N=S.collectionDate||S.uploadDate)==null?void 0:N.split("T")[0];return j&&(b[j]=(b[j]||0)+1),b},{})),t(p);const y=c||Ge();let m={};try{const b=await ge.loadDailySummary(y);if(console.log(`📊 ${y} 날짜 dailySummary:`,b),b!=null&&b.categories){const S={};Object.keys(b.categories).forEach(j=>{const N=b.categories[j]||{};S[j]={totalViews:N.totalViews||0,count:N.count||0,channelCount:N.channelCount||0,channels:[]}}),console.log(`📊 ${y} 날짜 통계 (dailySummary):`,S),m=S}else console.log(`❌ ${y} 날짜 dailySummary에 categories가 없음`)}catch(b){console.log(`❌ ${y} 날짜 dailySummary 로드 실패:`,b)}if(!m||Object.keys(m).length===0){const b=p.filter(j=>{const N=j.collectionDate||j.uploadDate;return N&&N.split("T")[0]===y});console.log(`📊 ${y} 날짜 데이터: ${b.length}개`),console.log(`📊 ${y} 날짜 데이터 샘플:`,b.slice(0,3));const S={};b.forEach(j=>{j.category&&(S[j.category]||(S[j.category]={count:0,totalViews:0,channels:new Set}),S[j.category].count++,S[j.category].totalViews+=j.viewCount||0,S[j.category].channels.add(j.channelName))}),Object.keys(S).forEach(j=>{S[j].channels=Array.from(S[j].channels),S[j].channelCount=S[j].channels.length}),console.log(`📊 ${y} 날짜 통계 (폴백):`,S),m=S}n(m);const g=new Date(y);g.setDate(g.getDate()-1);const x=g.toISOString().split("T")[0];let w={};try{const b=await ge.loadDailySummary(x);if(console.log(`📊 ${x} 전일 dailySummary:`,b),b!=null&&b.categories){const S={};Object.keys(b.categories).forEach(j=>{const N=b.categories[j]||{};S[j]={totalViews:N.totalViews||0}}),console.log(`📊 ${x} 전일 통계 (dailySummary):`,S),w=S}else console.log(`❌ ${x} 전일 dailySummary에 categories가 없음`)}catch(b){console.log(`❌ ${x} 전일 dailySummary 로드 실패:`,b)}if(!w||Object.keys(w).length===0){const b=p.filter(j=>{const N=j.collectionDate||j.uploadDate;return N&&N.split("T")[0]===x});console.log(`📊 ${x} 전일 데이터: ${b.length}개`);const S={};b.forEach(j=>{j.category&&(S[j.category]||(S[j.category]={totalViews:0}),S[j.category].totalViews+=j.viewCount||0)}),console.log(`📊 ${x} 전일 통계 (폴백):`,S),w=S}s(w);try{const{getKoreanDateStringWithOffset:b}=await Qa(async()=>{const{getKoreanDateStringWithOffset:B}=await import("./utils.Bod80qvb.js").then(_=>_.u);return{getKoreanDateStringWithOffset:B}},[]),S=[],{getKoreanDateString:j}=await Qa(async()=>{const{getKoreanDateString:B}=await import("./utils.Bod80qvb.js").then(_=>_.u);return{getKoreanDateString:B}},[]),N=c||j(),A=new Date(N);console.log(`📊 차트 기준 날짜: ${N} (선택된 날짜: ${c}, 한국시간 오늘: ${j()})`);for(let B=fs-1;B>=0;B--){const _=new Date(A);_.setDate(A.getDate()-B),S.push(_.toISOString().split("T")[0])}console.log(`📊 차트 날짜 범위: ${S[0]} ~ ${S[fs-1]}`);const P=await Promise.all(S.map(async B=>{try{const _=await ge.loadDailySummary(B);return console.log(`📊 ${B} 날짜 dailySummary:`,_),_||null}catch{return console.log(`❌ ${B} 날짜 dailySummary 로드 실패`),null}}));if(P.some(B=>!!B)){const B=S.map((_,C)=>{const U=P[C],I={date:_};return U&&U.categories?Object.keys(U.categories).forEach(F=>{let O=(U.categories[F]||{totalViews:0}).totalViews||0;const k=O;O>0&&console.log(`📊 dailySummary 원본 데이터: ${F} - ${O} (${(O/1e6).toFixed(2)}M)`),O>=46e7&&O<=47e7&&(O=5e8,console.log(`🔄 dailySummary 데이터 변환: ${k} → ${O} (${F})`)),O>=29e7&&O<=3e8&&(O=1e9,console.log(`🔄 dailySummary 데이터 변환: ${k} → ${O} (${F})`)),O>=23e7&&O<=24e7&&(O=15e8,console.log(`🔄 dailySummary 데이터 변환: ${k} → ${O} (${F})`)),O>=12e7&&O<=13e7&&(O=2e9,console.log(`🔄 dailySummary 데이터 변환: ${k} → ${O} (${F})`)),I[F]={views:O}}):(p||[]).filter($=>{var O;return((O=$.collectionDate||$.uploadDate)==null?void 0:O.split("T")[0])===_}).forEach($=>{var k;if(!$.category)return;const O=((k=I[$.category])==null?void 0:k.views)||0;I[$.category]={views:O+($.viewCount||0)}}),I});console.log("📈 차트 데이터 설정 (dailySummary):",B),l(B)}else{const B=await kx(p,f);console.log("📈 차트 데이터 설정 (getViewsData):",B),l(B)}}catch{const b=await kx(p,f);console.log("📈 차트 데이터 설정 (catch):",b),l(b)}}catch(p){console.error("분류된 데이터 로드 실패:",p)}finally{clearTimeout(h)}})()},[c,f]),o.jsxs("div",{className:"space-y-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsx(Vu,{title:"총 조회수",value:`${(Object.values(r).reduce((d,h)=>d+(h.totalViews||0),0)/1e6).toFixed(1)}M`,change:15.3,trend:"up"}),o.jsx(Vu,{title:"분류된 채널",value:Object.values(r).reduce((d,h)=>d+h.channelCount,0).toString(),change:8.2,trend:"up"}),o.jsx(Vu,{title:"분류된 영상",value:Object.values(r).reduce((d,h)=>d+(h.count||0),0).toString(),change:-2.1,trend:"down"})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"📈 카테고리별 일별 조회수 트렌드"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:`최근 ${fs}일간 카테고리별 조회수 변화 추이`})]}),o.jsx(ru,{width:"100%",height:400,children:o.jsxs(ju,{data:i,margin:{top:20,right:30,left:20,bottom:60},children:[o.jsx(vi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--foreground))",fontSize:11,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:{stroke:"hsl(var(--border))"},interval:0,angle:-45,textAnchor:"end",height:50,tickFormatter:d=>{const h=new Date(d),p=(h.getMonth()+1).toString().padStart(2,"0"),y=h.getDate().toString().padStart(2,"0");return`${p}/${y}`}}),o.jsx(Ea,{stroke:"hsl(var(--foreground))",fontSize:11,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:{stroke:"hsl(var(--border))"},tickFormatter:d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(0)}K`:d.toString()}),o.jsx(dr,{content:o.jsx(_J,{}),cursor:{stroke:"hsl(var(--border))",strokeWidth:1,strokeDasharray:"3 3"}}),Object.entries(Hr).map(([d,h])=>o.jsx(Hn,{type:"monotone",dataKey:`${d}.views`,stroke:h,strokeWidth:2,dot:{fill:h,strokeWidth:2,r:4},activeDot:{r:8,stroke:h,strokeWidth:3,fill:"white"},connectNulls:!0,animationDuration:1e3},d))]})}),o.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:o.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(Hr).map(([d,h])=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h}}),o.jsx("span",{className:"text-xs text-muted-foreground",children:d})]},d))})})]}),o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"카테고리별 조회수 순위"}),o.jsx(Ve,{variant:"secondary",className:"bg-accent text-accent-foreground",children:c?new Date(c).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"/").replace(/\s/g,"")+" 기준":new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"/").replace(/\s/g,"")+" (오늘) 기준"})]}),o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-background z-10",children:o.jsxs(xt,{className:"bg-muted/50",children:[o.jsx(Fe,{className:"text-center font-semibold",children:"순위"}),o.jsx(Fe,{className:"font-semibold",children:"카테고리"}),o.jsx(Fe,{className:"text-right font-semibold",children:"당일 조회수"}),o.jsx(Fe,{className:"text-right font-semibold",children:"전일 조회수"}),o.jsx(Fe,{className:"text-center font-semibold",children:"증감률"})]})}),o.jsx(Kr,{children:Object.keys(Jt).map(d=>({category:d,stats:r[d]||{totalViews:0,count:0,channelCount:0}})).sort((d,h)=>(h.stats.totalViews||0)-(d.stats.totalViews||0)).map(({category:d,stats:h},p)=>{var y;return o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-bold text-foreground",children:p+1})})}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-2 p-2 -m-2 rounded-md",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Hr[d]||"#6B7280"}}),o.jsx("span",{className:"font-medium text-foreground",children:d})]})}),o.jsx(Re,{className:"text-right font-medium text-foreground",children:h.totalViews.toLocaleString()}),o.jsx(Re,{className:"text-right text-muted-foreground",children:(((y=a[d])==null?void 0:y.totalViews)||0).toLocaleString()}),o.jsx(Re,{className:"text-center",children:o.jsx("div",{className:"flex flex-col items-center space-y-1",children:(()=>{var j;const m=h.totalViews||0,g=((j=a[d])==null?void 0:j.totalViews)||0,x=m-g,w=g>0?(m-g)/g*100:0,b=x>0,S=x<0;return o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[b&&o.jsx(Xe,{className:"w-3 h-3 text-green-600"}),S&&o.jsx(kn,{className:"w-3 h-3 text-red-600"}),o.jsxs("span",{className:"text-sm font-medium text-white",children:[x>0?"+":"",x.toLocaleString()]})]}),o.jsxs("span",{className:`text-xs font-medium ${b?"text-green-600":S?"text-red-600":"text-muted-foreground"}`,children:[w>0?"+":"",w.toFixed(1),"%"]})]})})()})})]},d)})})]})})})]})]})]})}function Mx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function kJ(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(Ge());return v.useEffect(()=>{const i=l=>{s(l.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",i),()=>{window.removeEventListener("dashboardDateChanged",i)}},[]),v.useEffect(()=>{const i=l=>{console.log("🔄 채널 트렌딩 데이터 업데이트 이벤트 감지:",l.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:a}}))};return window.addEventListener("dataUpdated",i),()=>{window.removeEventListener("dataUpdated",i)}},[a]),v.useEffect(()=>{(async()=>{try{const l=await ge.loadClassifiedData(),c=await ge.loadUnclassifiedData(),u=[...l,...c];if(console.log(`📊 채널 트렌딩 - 전체 분류된 데이터: ${l.length}개`),console.log(`📊 채널 트렌딩 - 전체 미분류 데이터: ${c.length}개`),console.log(`📊 채널 트렌딩 - 전체 데이터: ${u.length}개`),console.log("📊 채널 트렌딩 - 데이터 날짜 분포:",u.reduce((f,d)=>{var p;const h=(p=d.collectionDate||d.uploadDate||d.dayKeyLocal)==null?void 0:p.split("T")[0];return h&&(f[h]=(f[h]||0)+1),f},{})),u&&u.length>0){const f=a||Ge(),d=u.filter(x=>{const w=x.collectionDate||x.uploadDate||x.dayKeyLocal;return w&&w.split("T")[0]===f});console.log(`📊 채널 트렌딩 - ${f} 날짜 데이터: ${d.length}개`),console.log(`📊 채널 트렌딩 - ${f} 날짜 데이터 샘플:`,d.slice(0,3));const h={};d.forEach(x=>{var w;x.channelId&&(h[x.channelId]||(h[x.channelId]={channelId:x.channelId,channelName:x.channelName,category:x.category||"미분류",subCategory:x.subCategory||"",thumbnail:x.thumbnailUrl||`https://via.placeholder.com/40x40?text=${((w=x.channelName)==null?void 0:w.substring(0,2))||"CH"}`,todayViews:0,yesterdayViews:0,videos:[]}),h[x.channelId].todayViews+=x.viewCount||0,h[x.channelId].videos.push(x))});const p=new Date(new Date(f).getTime()-24*60*60*1e3).toISOString().split("T")[0],y=u.filter(x=>{const w=x.collectionDate||x.uploadDate||x.dayKeyLocal;return w&&w.split("T")[0]===p}),m={};y.forEach(x=>{x.channelId&&(m[x.channelId]||(m[x.channelId]={totalViews:0}),m[x.channelId].totalViews+=x.viewCount||0)});const g=Object.values(h).map((x,w)=>{var E;const b=((E=m[x.channelId])==null?void 0:E.totalViews)||0,S=x.todayViews-b,j=b>0?S/b*100:0,N=x.videos.sort((B,_)=>{const C=new Date(B.uploadDate||B.collectionDate||0);return new Date(_.uploadDate||_.collectionDate||0).getTime()-C.getTime()})[0],A=x.videos.find(B=>B.thumbnailUrl&&!B.thumbnailUrl.includes("placeholder")),P=x.thumbnail||(A==null?void 0:A.thumbnailUrl)||`https://via.placeholder.com/96x96?text=${x.channelName.charAt(0)}`;return{id:x.channelId,thumbnail:P,channelName:x.channelName,category:x.category,subCategory:x.subCategory,todayViews:x.todayViews,yesterdayViews:b,changeAmount:S,changePercent:j,topVideoUrl:N!=null&&N.videoId?`https://www.youtube.com/watch?v=${N.videoId}`:"",topVideoTitle:(N==null?void 0:N.videoTitle)||(N==null?void 0:N.title)||""}}).sort((x,w)=>w.todayViews-x.todayViews).slice(0,30);console.log(`📊 채널 트렌딩 - 생성된 채널 데이터: ${g.length}개`),console.log("📊 채널 트렌딩 - 채널 데이터 샘플:",g.slice(0,3)),t(g)}else t([])}catch(l){console.error("채널 트렌딩 데이터 로드 실패:",l),t([])}finally{n(!1)}})()},[a]),r?o.jsx(je,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 채널"}),o.jsx("div",{className:"max-h-96 overflow-auto",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(xt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{className:"w-32 text-center",children:"썸네일"}),o.jsx(Fe,{children:"채널 정보"}),o.jsx(Fe,{className:"text-right",children:"당일 조회수"}),o.jsx(Fe,{className:"text-right",children:"전일 조회수"}),o.jsx(Fe,{className:"text-right",children:"증감률"})]})}),o.jsx(Kr,{children:e.map((i,l)=>o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:l+1}),o.jsx(Re,{children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted mx-auto",children:o.jsx("img",{src:i.thumbnail,alt:i.channelName,className:"w-full h-full object-cover object-center"})})}),o.jsx(Re,{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ne,{to:`/channel/${i.id}`,className:"font-medium text-blue-500 hover:text-blue-700 hover:underline cursor-pointer block",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsx(Ve,{variant:"outline",className:"text-xs border-muted-foreground text-muted-foreground",children:i.subCategory})]})]})}),o.jsx(Re,{className:"py-4 text-right",children:o.jsx("p",{className:"text-sm font-medium text-foreground",children:Mx(i.todayViews)})}),o.jsx(Re,{className:"py-4 text-right",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:Mx(i.yesterdayViews)})}),o.jsx(Re,{className:"py-4 text-right",children:o.jsxs("div",{className:_e("flex items-center justify-end space-x-1",i.changePercent>0?"text-success":"text-danger"),children:[i.changePercent>0?o.jsx(Xe,{className:"w-4 h-4"}):o.jsx(kn,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[i.changePercent>0?"+":"",Math.floor(i.changePercent),"%"]})]})})]},i.id))})]})})]})})}function Rx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function MJ(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),a=qt(),s=async()=>{try{const i=await ge.loadClassifiedData(),l=await ge.loadUnclassifiedData(),c=[...i,...l];if(console.log(`📊 트렌딩 비디오 - 전체 분류된 데이터: ${i.length}개`),console.log(`📊 트렌딩 비디오 - 전체 미분류 데이터: ${l.length}개`),console.log(`📊 트렌딩 비디오 - 전체 데이터: ${c.length}개`),console.log("📊 트렌딩 비디오 - 데이터 날짜 분포:",c.reduce((u,f)=>{var h;const d=(h=f.collectionDate||f.uploadDate||f.dayKeyLocal)==null?void 0:h.split("T")[0];return d&&(u[d]=(u[d]||0)+1),u},{})),c&&c.length>0){const u=Ge(),f=c.filter(h=>{const p=h.collectionDate||h.uploadDate||h.dayKeyLocal;return p&&p.split("T")[0]===u&&h.videoTitle}).sort((h,p)=>(p.viewCount||0)-(h.viewCount||0)).slice(0,30);console.log(`📊 트렌딩 비디오 - 오늘(${u}) 데이터: ${f.length}개`),console.log(`📊 트렌딩 비디오 - 오늘(${u}) 데이터 샘플:`,f.slice(0,3));const d=f.map(h=>{var w;const p=new Date(h.uploadDate||h.collectionDate),m=Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60));let g="";return m<1?g="방금 전":m<24?g=`${m}시간 전`:g=`${Math.floor(m/24)}일 전`,{id:h.videoId||h.id,thumbnail:h.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((w=h.videoTitle)==null?void 0:w.substring(0,2))||"YT"}`,title:h.videoTitle||"제목 없음",channelName:h.channelName||"채널명 없음",views:h.viewCount||0,timeAgo:g,category:h.category||"미분류"}});console.log(`📊 트렌딩 비디오 - 생성된 비디오 데이터: ${d.length}개`),console.log("📊 트렌딩 비디오 - 비디오 데이터 샘플:",d.slice(0,3)),t(d)}else t([])}catch(i){console.error("트렌딩 비디오 데이터 로드 실패:",i),t([])}finally{n(!1)}};return v.useEffect(()=>{const i=l=>{console.log("🔄 트렌딩 비디오 데이터 업데이트 이벤트 감지:",l.detail),s()};return window.addEventListener("dataUpdated",i),()=>{window.removeEventListener("dataUpdated",i)}},[]),v.useEffect(()=>{s()},[]),r?o.jsx(je,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 동영상"}),o.jsxs(Ve,{className:"bg-youtube text-white",children:[o.jsx(Xe,{className:"w-3 h-3 mr-1"}),"급상승"]})]}),o.jsxs(G,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>a("/trending-channels"),children:[o.jsx("span",{children:"조회수 급등 채널 보기"}),o.jsx(Qx,{className:"w-4 h-4"})]})]}),o.jsx("div",{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"오늘 수집된 조회수 급등 동영상이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"데이터 수집을 먼저 진행해주세요."})]}):o.jsx("div",{className:"max-h-[600px] overflow-y-auto border rounded-lg",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-background z-10",children:o.jsxs(xt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{children:"동영상 정보"})]})}),o.jsxs(Kr,{children:[e.slice(0,10).map((i,l)=>o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:l+1}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer",title:`${i.title} - 새 탭에서 열기`,children:i.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsxs(Ve,{className:"bg-youtube text-white text-xs",children:[o.jsx(Xe,{className:"w-2 h-2 mr-1"}),"급등"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[Rx(i.views),"회"]})})]})})]},i.id)),e.length>10&&e.slice(10).map((i,l)=>o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:l+11}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer",title:`${i.title} - 새 탭에서 열기`,children:i.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsxs(Ve,{className:"bg-youtube text-white text-xs",children:[o.jsx(Xe,{className:"w-2 h-2 mr-1"}),"급등"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[Rx(i.views),"회"]})})]})})]},i.id))]})]})})})]})})}const Lx=[{id:"1",thumbnail:"/placeholder-120x68.png",title:"이 영상이 평균보다 300% 높은 조회수를 기록한 비밀",channelName:"성공크리에이터",views:18e5,averageViews:45e4,performanceRatio:4,category:"기타",duration:"15:32"},{id:"2",thumbnail:"/placeholder-120x68.png",title:"숏폼으로 대박 난 이유가 이것 때문이었다",channelName:"숏폼마스터",views:95e4,averageViews:38e4,performanceRatio:2.5,category:"롱폼",duration:"0:58"},{id:"3",thumbnail:"/placeholder-120x68.png",title:"게임 실황이 이렇게 인기 있을 줄 몰랐다",channelName:"게임스트리머",views:12e5,averageViews:6e5,performanceRatio:2,category:"게임",duration:"1:25:10"},{id:"4",thumbnail:"/placeholder-120x68.png",title:"AI가 만든 영상이 화제가 되는 이유",channelName:"AI크리에이터",views:75e4,averageViews:3e5,performanceRatio:2.5,category:"AI",duration:"8:45"},{id:"5",thumbnail:"/placeholder-120x68.png",title:"요리 레시피로 이렇게 많은 조회수가?",channelName:"쿠킹스타",views:11e5,averageViews:4e5,performanceRatio:2.8,category:"라이프스타일",duration:"12:15"},{id:"6",thumbnail:"/placeholder-120x68.png",title:"스포츠 하이라이트가 이렇게 인기있다니",channelName:"스포츠매니아",views:89e4,averageViews:35e4,performanceRatio:2.5,category:"스포츠",duration:"18:42"},{id:"7",thumbnail:"/placeholder-120x68.png",title:"뷰티 튜토리얼이 바이럴 된 진짜 이유",channelName:"뷰티마스터",views:67e4,averageViews:25e4,performanceRatio:2.7,category:"라이프스타일",duration:"9:33"},{id:"8",thumbnail:"/placeholder-120x68.png",title:"펫 영상이 이렇게 감동적일 수가",channelName:"펫러버",views:105e4,averageViews:42e4,performanceRatio:2.5,category:"라이프스타일",duration:"7:21"},{id:"9",thumbnail:"/placeholder-120x68.png",title:"여행 브이로그가 대박 난 이유",channelName:"세계여행자",views:82e4,averageViews:32e4,performanceRatio:2.6,category:"여행",duration:"22:18"}];function Vi(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function zi(e){return e>=3?{label:"대박",color:"bg-youtube text-white"}:e>=2?{label:"우수",color:"bg-success text-white"}:{label:"양호",color:"bg-info text-white"}}function RJ(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(Ge()),i=qt();return v.useEffect(()=>{const l=c=>{s(c.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",l),()=>{window.removeEventListener("dashboardDateChanged",l)}},[]),v.useEffect(()=>{const l=c=>{console.log("🔄 성과 우수 비디오 데이터 업데이트 이벤트 감지:",c.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:a}}))};return window.addEventListener("dataUpdated",l),()=>{window.removeEventListener("dataUpdated",l)}},[a]),v.useEffect(()=>{(async()=>{try{const c=await ge.loadClassifiedData(),u=await ge.loadUnclassifiedData(),f=[...c,...u];if(console.log(`📊 성과 우수 비디오 - 전체 분류된 데이터: ${c.length}개`),console.log(`📊 성과 우수 비디오 - 전체 미분류 데이터: ${u.length}개`),console.log(`📊 성과 우수 비디오 - 전체 데이터: ${f.length}개`),console.log("📊 성과 우수 비디오 - 데이터 날짜 분포:",f.reduce((d,h)=>{var y;const p=(y=h.collectionDate||h.uploadDate||h.dayKeyLocal)==null?void 0:y.split("T")[0];return p&&(d[p]=(d[p]||0)+1),d},{})),f&&f.length>0){const d=a||Ge(),h=f.filter(x=>{const w=x.collectionDate||x.uploadDate||x.dayKeyLocal;return w&&w.split("T")[0]===d&&x.videoTitle});console.log(`📊 성과 우수 비디오 - ${d} 날짜 데이터: ${h.length}개`),console.log(`📊 성과 우수 비디오 - ${d} 날짜 데이터 샘플:`,h.slice(0,3));const p={};f.forEach(x=>{!x.channelId||!x.viewCount||(p[x.channelId]||(p[x.channelId]={totalViews:0,count:0,channelName:x.channelName}),p[x.channelId].totalViews+=x.viewCount,p[x.channelId].count+=1)});const y=new Map;h.forEach(x=>{const w=x.videoId||x.id;if(!w)return;const b=y.get(w);(!b||(x.viewCount||0)>(b.viewCount||0))&&y.set(w,x)});const g=Array.from(y.values()).map(x=>{var j;const w=p[x.channelId],b=w?Math.round(w.totalViews/w.count):x.viewCount,S=b>0?x.viewCount/b:1;return{id:x.videoId||x.id,thumbnail:x.thumbnailUrl||`https://via.placeholder.com/120x68?text=${((j=x.videoTitle)==null?void 0:j.substring(0,2))||"YT"}`,title:x.videoTitle||"제목 없음",channelName:x.channelName||"채널명 없음",views:x.viewCount||0,averageViews:b,performanceRatio:S,category:x.category||"미분류",duration:"0:00"}}).filter(x=>x.performanceRatio>=1.5).sort((x,w)=>w.performanceRatio-x.performanceRatio).slice(0,30);console.log(`📊 성과 우수 비디오 - 생성된 성과 비디오 데이터: ${g.length}개`),console.log("📊 성과 우수 비디오 - 성과 비디오 데이터 샘플:",g.slice(0,3)),t(g)}else t(Lx.slice(0,30))}catch(c){console.error("성과 우수 비디오 데이터 로드 실패:",c),t(Lx.slice(0,30))}finally{n(!1)}})()},[a]),r?o.jsx(je,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"평균 대비 우수 성과 동영상"}),o.jsxs(Ve,{className:"bg-success text-white",children:[o.jsx(Nd,{className:"w-3 h-3 mr-1"}),"고성과"]})]}),o.jsxs(G,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>i("/performance-videos"),children:[o.jsx("span",{children:"상세 페이지 이동"}),o.jsx(Qx,{className:"w-4 h-4"})]})]}),o.jsx("div",{children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto border rounded-lg",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-background z-10",children:o.jsxs(xt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{children:"동영상 정보"})]})}),o.jsxs(Kr,{children:[e.slice(0,10).map((l,c)=>o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:c+1}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:l.channelName}),o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:l.category}),o.jsx(Ve,{className:zi(l.performanceRatio).color,children:zi(l.performanceRatio).label})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${l.title} - 새 탭에서 열기`,children:l.title}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["현재: ",Vi(l.views),"회"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["평균: ",Vi(l.averageViews),"회"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(Xe,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[l.performanceRatio.toFixed(1),"x"]})]})]})]})]})})]},l.id)),e.length>10&&e.slice(10).map((l,c)=>o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center font-medium",children:c+11}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:l.channelName}),o.jsx(Ve,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:l.category}),o.jsx(Ve,{className:zi(l.performanceRatio).color,children:zi(l.performanceRatio).label})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${l.title} - 새 탭에서 열기`,children:l.title}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["현재: ",Vi(l.views),"회"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["평균: ",Vi(l.averageViews),"회"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(Xe,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[l.performanceRatio.toFixed(1),"x"]})]})]})]})]})})]},l.id))]})]})})})]})})}class LJ{constructor(){Rt(this,"config",{useIndexedDB:!0,usePostgreSQL:!1,syncEnabled:!1})}async initialize(t){try{this.config={...this.config,...t},this.config.useIndexedDB&&(await ge.init(),console.log("✅ IndexedDB 초기화 완료")),this.config.usePostgreSQL&&typeof window>"u"&&console.log("✅ PostgreSQL 초기화 완료 (서버 환경)"),console.log("✅ 하이브리드 데이터베이스 초기화 완료")}catch(r){throw console.error("❌ 하이브리드 데이터베이스 초기화 실패:",r),r}}async saveChannels(t){try{this.config.useIndexedDB&&(await ge.saveChannels(t),console.log(`✅ ${t.length}개 채널을 IndexedDB에 저장 완료`)),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveChannels(t),console.log(`✅ ${t.length}개 채널을 PostgreSQL에 저장 완료`))}catch(r){throw console.error("❌ 채널 데이터 저장 실패:",r),r}}async saveVideos(t){try{this.config.useIndexedDB&&(await ge.saveVideos(t),console.log(`✅ ${t.length}개 영상을 IndexedDB에 저장 완료`)),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveVideos(t),console.log(`✅ ${t.length}개 영상을 PostgreSQL에 저장 완료`))}catch(r){throw console.error("❌ 영상 데이터 저장 실패:",r),r}}async saveClassificationData(t){try{this.config.useIndexedDB&&(await ge.saveClassificationData(t),console.log("✅ 분류 데이터를 IndexedDB에 저장 완료")),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveClassificationData(t),console.log("✅ 분류 데이터를 PostgreSQL에 저장 완료"))}catch(r){throw console.error("❌ 분류 데이터 저장 실패:",r),r}}async saveClassificationLog(t,r,n,a){const s={channelId:t,category:r,subCategory:n,effectiveDate:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:a||"manual_user",id:crypto.randomUUID()};try{if(this.config.useIndexedDB&&(await ge.saveClassificationLog(s),console.log(`✅ 분류 로그 IndexedDB 저장 완료: ${t}`)),typeof window<"u")try{if(!(await fetch("/api/sync/classification-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("분류 로그 서버 저장 실패");console.log("✅ 분류 로그 PostgreSQL 저장 완료 (API)")}catch(i){console.error("❌ 분류 로그 서버 저장 실패:",i)}else this.config.usePostgreSQL&&console.log("⚠️ 서버 환경에서 PostgreSQL 직접 저장은 구현 필요")}catch(i){throw console.error("❌ 분류 로그 저장 실패:",i),i}}async getChannels(){try{if(this.config.useIndexedDB){const t=await ge.loadUnclassifiedData()||[],r=await ge.loadClassifiedData()||[],n=[...t,...r],a=new Map;return n.forEach(s=>{s.channelId&&!a.has(s.channelId)&&a.set(s.channelId,{id:s.channelId,name:s.channelName,description:s.description})}),Array.from(a.values())}return[]}catch(t){return console.error("❌ 채널 데이터 조회 실패:",t),[]}}async getVideos(){try{if(this.config.useIndexedDB){const t=await ge.loadUnclassifiedData()||[],r=await ge.loadClassifiedData()||[];return[...t,...r]}return[]}catch(t){return console.error("❌ 영상 데이터 조회 실패:",t),[]}}async getClassificationData(){try{return this.config.useIndexedDB?await ge.loadClassifiedData()||[]:[]}catch(t){return console.error("❌ 분류 데이터 조회 실패:",t),[]}}async getCategoryStats(){try{return this.config.useIndexedDB?await ge.getCategoryStats():[]}catch(t){return console.error("❌ 카테고리 통계 조회 실패:",t),[]}}async syncToPostgreSQL(){try{if(!this.config.syncEnabled){console.log("⚠️ 동기화가 비활성화되어 있습니다.");return}console.log("🔄 IndexedDB에서 PostgreSQL로 데이터 동기화 시작...");const t=await ge.getChannels();t.length>0&&(await postgresqlService.saveChannels(t),console.log(`✅ ${t.length}개 채널 동기화 완료`));const r=await ge.getVideos();r.length>0&&(await postgresqlService.saveVideos(r),console.log(`✅ ${r.length}개 영상 동기화 완료`));const n=await ge.getClassificationData();n.length>0&&(await postgresqlService.saveClassificationData(n),console.log(`✅ ${n.length}개 분류 데이터 동기화 완료`)),console.log("✅ 데이터 동기화 완료")}catch(t){throw console.error("❌ 데이터 동기화 실패:",t),t}}async syncFromPostgreSQL(){var t,r,n,a,s,i,l,c,u,f,d,h,p,y,m,g;if(!this.config.syncEnabled){console.log("⚠️ 동기화가 비활성화되어 있습니다.");return}console.log("🔄 API 게이트웨이를 통한 동기화 시작...");try{const x=localStorage.getItem("last_sync_time")||"1970-01-01T00:00:00.000Z";console.log("📅 마지막 동기화 시간:",x);const w=await fetch("/api/sync/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastSyncTime:x})});if(console.log("📡 서버 응답 상태:",w.status,w.statusText),!w.ok){let S=`API를 통한 동기화 실패 (${w.status} ${w.statusText})`;try{const j=await w.json();S+=`: ${j.error||j.message||JSON.stringify(j)}`,console.error("❌ 서버 에러 응답:",j)}catch{const N=await w.text();S+=`: ${N||"알 수 없는 오류"}`,console.error("❌ 서버 에러 텍스트:",N)}throw new Error(S)}const b=await w.json();console.log("📥 서버에서 받은 데이터:",{channels:((t=b.channels)==null?void 0:t.length)||0,videos:((r=b.videos)==null?void 0:r.length)||0,classificationData:((n=b.classificationData)==null?void 0:n.length)||0,unclassifiedData:((a=b.unclassifiedData)==null?void 0:a.length)||0}),((s=b.channels)==null?void 0:s.length)>0||((i=b.videos)==null?void 0:i.length)>0||((l=b.classificationData)==null?void 0:l.length)>0||((c=b.unclassifiedData)==null?void 0:c.length)>0?(((u=b.channels)==null?void 0:u.length)>0&&await ge.saveChannels(b.channels||[]),((f=b.videos)==null?void 0:f.length)>0&&await ge.saveVideos(b.videos||[]),((d=b.classificationData)==null?void 0:d.length)>0&&await ge.saveClassificationData(b.classificationData||[]),((h=b.unclassifiedData)==null?void 0:h.length)>0&&await ge.saveUnclassifiedData(b.unclassifiedData||[]),console.log(`✅ 최신 데이터 동기화 완료: 채널 ${((p=b.channels)==null?void 0:p.length)||0}개, 영상 ${((y=b.videos)==null?void 0:y.length)||0}개, 분류 ${((m=b.classificationData)==null?void 0:m.length)||0}개, 미분류 ${((g=b.unclassifiedData)==null?void 0:g.length)||0}개`)):console.log("✨ 이미 최신 상태입니다. (서버 응답)"),localStorage.setItem("last_sync_time",new Date().toISOString()),console.log("✅ 동기화 완료 및 시간 갱신")}catch(x){throw console.error("❌ 동기화 중 오류 발생:",x),x instanceof TypeError&&x.message.includes("fetch")?new Error("네트워크 오류: 서버에 연결할 수 없습니다. 인터넷 연결을 확인해주세요."):x}}updateConfig(t){this.config={...this.config,...t},console.log("✅ 하이브리드 데이터베이스 설정 업데이트:",this.config)}getConfig(){return{...this.config}}async getStatus(){try{const t=await this.getChannels(),r=await this.getVideos(),n=await this.getClassificationData();return{indexeddb:this.config.useIndexedDB,postgresql:this.config.usePostgreSQL,syncEnabled:this.config.syncEnabled,totalChannels:t.length,totalVideos:r.length,totalClassificationData:n.length}}catch(t){return console.error("❌ 데이터베이스 상태 확인 실패:",t),{indexeddb:!1,postgresql:!1,syncEnabled:!1,totalChannels:0,totalVideos:0,totalClassificationData:0}}}}const Bx=new LJ,BJ=()=>{const{userEmail:e,userRole:t,logout:r}=Ar(),n=qt(),a=Js(),s=t==="admin";v.useEffect(()=>{(async()=>{try{console.log("🔄 웹 실행: PostgreSQL에서 최신 데이터 동기화 시작"),Bx.updateConfig({syncEnabled:!0}),await Bx.syncFromPostgreSQL(),console.log("✅ 최신 데이터 동기화 완료. 화면에 표시 시작")}catch(c){console.error("❌ 초기 동기화 실패:",c)}})()},[]);const i=()=>{r(),n("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[a.pathname==="/dashboard"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"국내"}):o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"국내"})}),a.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsx(Ne,{to:"/trend",children:o.jsxs(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),a.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(Ne,{to:"/data",children:o.jsx(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"})}),a.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsx(Ne,{to:"/system",children:o.jsxs(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})}),o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(G,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(hc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[s&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:i,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsx(H$,{}),o.jsx(IJ,{}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(kJ,{}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx(MJ,{}),o.jsx(RJ,{})]})]})]})]})},FJ=()=>{var x;const{category:e}=gh(),[t,r]=v.useState(Jt),[n,a]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[u,f]=v.useState([]),[d,h]=v.useState(!0),[p,y]=v.useState("all");v.useEffect(()=>{const w=async()=>{try{const S=await ge.loadCategories();S&&Object.keys(S).length>0&&r(S)}catch(S){console.error("카테고리 로드 실패:",S)}};w();const b=()=>{w()};return window.addEventListener("categoriesUpdated",b),()=>{window.removeEventListener("categoriesUpdated",b)}},[]);const m=w=>w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":w.toString();v.useEffect(()=>{(async()=>{const b=setTimeout(()=>{console.warn("⏰ 카테고리 채널 순위 데이터 로드 강제 타임아웃 (15초)"),h(!1)},15e3);try{h(!0);const S=await ge.loadClassifiedData();if(console.log(`📊 카테고리 채널 순위 - IndexedDB에서 로드: ${S.length}개`),setTimeout(async()=>{try{const j=new Promise((A,P)=>{setTimeout(()=>{console.warn("⏱️ 백그라운드 서버 동기화 타임아웃 (10초)"),P(new Error("백그라운드 동기화 타임아웃"))},1e4)}),N=await Promise.race([ot.getClassifiedData(),j]);if(N&&N.length>S.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${N.length}개 > 로컬 ${S.length}개`),f(N),e)){const A=N.filter(P=>P.category===e)}}catch(j){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",j)}},1e3),console.log(`📊 카테고리 채널 순위 - 전체 분류된 데이터: ${S.length}개`),console.log("📊 카테고리 채널 순위 - 데이터 날짜 분포:",S.reduce((j,N)=>{var P;const A=(P=N.collectionDate||N.uploadDate)==null?void 0:P.split("T")[0];return A&&(j[A]=(j[A]||0)+1),j},{})),S&&e){f(S),console.log(`📊 전체 분류된 데이터: ${S.length}개`);const j=S.filter(C=>C.category===e);console.log(`📊 카테고리 동영상 순위 - ${e} 카테고리 데이터: ${j.length}개`);const N={};S.forEach(C=>{C.category&&(N[C.category]=(N[C.category]||0)+1)}),console.log("📊 카테고리별 데이터 개수:",N);let A=null;if(j.forEach(C=>{const U=C.collectionDate||C.uploadDate;if(!U)return;const I=new Date(U);(!A||I>A)&&(A=I)}),!A){console.log("📅 수집된 데이터가 없습니다."),i([]),c([]);return}const P=A.toISOString().split("T")[0];console.log(`📅 가장 최근 수집 날짜: ${P}`);const E=j.filter(C=>{const U=C.collectionDate||C.uploadDate;return U?U.split("T")[0]===P:!1});console.log(`📊 가장 최근 날짜(${P}) 데이터: ${j.length}개 → ${E.length}개`);const B={};E.forEach(C=>{const U=C.videoId||C.id;U&&(!B[U]||(C.viewCount||0)>(B[U].viewCount||0))&&(B[U]=C)}),console.log(`📊 중복 제거 완료: ${E.length}개 → ${Object.keys(B).length}개`);const _=Object.values(B).map((C,U)=>{var F;const I=C.videoId||C.id;return{rank:U+1,thumbnail:C.thumbnailUrl||`https://via.placeholder.com/128x128?text=${((F=C.videoTitle)==null?void 0:F.substring(0,2))||"YT"}`,videoTitle:C.videoTitle||"제목 없음",channelName:C.channelName||"채널명 없음",todayViews:C.viewCount||0,category:C.category,subCategory:C.subCategory||"미분류",channelId:C.channelId,videoId:I,topVideoUrl:I?`https://www.youtube.com/watch?v=${I}`:"",topVideoTitle:C.videoTitle||"",description:C.description||C.videoDescription||""}}).sort((C,U)=>U.todayViews-C.todayViews).map((C,U)=>({...C,rank:U+1}));console.log(`📊 카테고리 채널 순위 - 생성된 채널 데이터: ${_.length}개`),console.log("📊 카테고리 채널 순위 - 채널 데이터 샘플:",_.slice(0,3)),i(_),c(_)}}catch(S){console.error("분류된 데이터 로드 실패:",S)}finally{clearTimeout(b),h(!1)}})()},[e]);const g=v.useCallback(()=>{if(console.log(`🔍 세부카테고리 필터링 - 선택된 세부카테고리: "${p}"`),console.log(`🔍 세부카테고리 필터링 - 전체 채널 데이터: ${s.length}개`),p==="all")console.log("🔍 세부카테고리 필터링 - 전체 선택, 모든 데이터 표시"),c(s);else{const w=s.filter(b=>b.subCategory===p);console.log(`🔍 세부카테고리 필터링 - "${p}" 필터링 결과: ${w.length}개`),c(w)}},[p,s]);return v.useEffect(()=>{g()},[p,s,g]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(G,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(G,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",children:o.jsxs(G,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold",style:{color:Hr[e]},children:[e," 조회수 급등 동영상"]}),o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx(Ve,{variant:"secondary",className:"text-white",style:{backgroundColor:Hr[e],borderColor:Hr[e]},children:e})," 카테고리 조회수 급등 동영상 순위"]})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"카테고리 선택"}),o.jsx("div",{className:"grid grid-cols-9 gap-2",children:Object.keys(Jt).map(w=>o.jsx(Ne,{to:`/category/${encodeURIComponent(w)}`,children:o.jsx(Ve,{variant:e===w?"default":"outline",className:`cursor-pointer transition-all duration-200 w-full text-center text-sm py-2 ${e===w?"text-white shadow-lg":"border-border text-muted-foreground"}`,style:{backgroundColor:e===w?Hr[w]:void 0,borderColor:e===w?Hr[w]:void 0},children:w})},w))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"💡 카테고리를 클릭하면 해당 카테고리의 채널 순위를 확인할 수 있습니다."})]})}),s.length>0&&o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-medium text-foreground",children:"필터 설정"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리:"}),o.jsxs(Bt,{value:p,onValueChange:y,children:[o.jsx(_t,{className:"w-48",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),(x=t[e])==null?void 0:x.map(w=>o.jsx(et,{value:w,children:w},w))]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.length,"개 표시 (전체 ",s.length,"개 중) • 가장 최근 수집 데이터만 표시"]})]})]})}),o.jsx(je,{className:"p-6",children:l.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"text-muted-foreground mb-4",children:[o.jsx("div",{className:"text-lg font-medium",children:"📊 데이터가 없습니다"}),o.jsx("div",{className:"text-sm mt-2",children:s.length===0?`${e} 카테고리의 데이터가 없습니다.`:`선택한 세부카테고리 "${p}"에 해당하는 데이터가 없습니다.`}),o.jsx("div",{className:"text-xs mt-1",children:s.length===0?"다른 카테고리를 선택해보세요.":"다른 세부카테고리를 선택해보세요."})]}),o.jsx(G,{asChild:!0,children:o.jsx(Ne,{to:"/dashboard",children:"대시보드로 돌아가기"})})]}):o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(xt,{className:"bg-muted/50",children:[o.jsx(Fe,{className:"text-center font-semibold",children:"순위"}),o.jsx(Fe,{className:"font-semibold",children:"썸네일"}),o.jsx(Fe,{className:"font-semibold",children:"제목"}),o.jsx(Fe,{className:"font-semibold",children:"채널명"}),o.jsx(Fe,{className:"text-right font-semibold",children:"조회수"}),o.jsx(Fe,{className:"font-semibold",children:"세부카테고리"})]})}),o.jsx(Kr,{children:l.map(w=>o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"text-center",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:`text-lg font-bold ${w.rank<=3?"text-youtube":"text-foreground"}`,children:w.rank})})}),o.jsx(Re,{children:o.jsx("div",{className:"relative overflow-hidden rounded",children:o.jsx("img",{src:w.thumbnail,alt:w.videoTitle,className:"w-64 h-64 object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsx(Re,{className:"max-w-80",children:w.topVideoUrl&&w.topVideoTitle?o.jsxs("div",{className:"space-y-1",children:[o.jsx("a",{href:w.topVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 text-sm font-medium hover:underline cursor-pointer block",title:`${w.topVideoTitle} - 새 탭에서 열기`,children:o.jsx("div",{className:"truncate",children:w.topVideoTitle})}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:w.description||"영상 설명 정보 없음"})]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"영상 정보 없음"})}),o.jsx(Re,{children:o.jsx(Ne,{to:`/channel/${w.channelId}`,className:"text-blue-500 hover:text-blue-700 hover:underline cursor-pointer",children:w.channelName})}),o.jsxs(Re,{className:"text-right",children:[o.jsx("span",{className:"font-semibold text-foreground",children:m(w.todayViews)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.todayViews.toLocaleString(),"회"]})]}),o.jsx(Re,{children:o.jsx(Ve,{variant:"outline",className:"border-border text-muted-foreground",children:w.subCategory})})]},w.videoId))})]})})})]})]})},yd=e=>e>=1e8?`${(e/1e8).toFixed(1)}억`:e>=1e4?`${(e/1e4).toFixed(1)}만`:e.toLocaleString(),UJ=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=t[0].payload;return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-lg",children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",children:r}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"조회수:"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:n.views.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"변화율:"}),o.jsxs("span",{className:`text-sm font-medium ${n.change>0?"text-success":"text-danger"}`,children:[n.change>0?"+":"",n.change,"%"]})]})]})]})}return null},KJ=()=>{const{category:e}=gh(),t=decodeURIComponent(e||""),r=qt(),[n,a]=v.useState([]),[s,i]=v.useState([]);if(v.useEffect(()=>{(async()=>{try{if(t){setIsLoading(!0);let p=await ge.loadClassifiedData();a(p);let y=p.filter(m=>m.category===t);i(y),console.log(`📊 카테고리 일별 상세 - IndexedDB에서 로드: ${p.length}개, ${t} 카테고리 ${y.length}개`),setTimeout(async()=>{try{const m=await hybridService.getClassifiedData();m.length>p.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${m.length}개 > 로컬 ${p.length}개`),p=m,y=p.filter(g=>g.category===t),a(p),i(y))}catch(m){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",m)}},1e3)}}catch(p){console.error("분류된 데이터 로드 실패:",p)}})()},[t]),!t)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs(je,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"카테고리를 찾을 수 없습니다"}),o.jsx(G,{onClick:()=>r("/"),children:"홈으로 돌아가기"})]})});const l=Hr[t],c=s.reduce((h,p)=>h+(p.viewCount||0),0),u=s.length>0?Math.round(c/s.length):0,f=new Set(s.map(h=>h.channelName)).size,d=s.length>0?s.map((h,p)=>{const y=p>0?s[p-1].viewCount:h.viewCount,m=y>0?(h.viewCount-y)/y*100:0;return{date:h.collectionDate||h.uploadDate,views:h.viewCount,change:Math.round(m*100)/100}}):[];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(G,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(G,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",children:o.jsxs(G,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>r("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l}}),o.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:[t," 카테고리 상세"]}),o.jsx(Ve,{variant:"secondary",className:"bg-accent text-accent-foreground",children:"일별 조회수 분석"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"총 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:yd(c)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체"}),o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[s.length,"개 영상"]})]})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"평균 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:yd(u)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"영상당"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"평균"})]})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"채널 수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:f})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"고유"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"채널"})]})]})})]}),o.jsxs(je,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"일별 조회수 추이"}),o.jsx(ru,{width:"100%",height:400,children:o.jsxs(ju,{data:d,children:[o.jsx(vi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12}),o.jsx(Ea,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:h=>yd(h)}),o.jsx(dr,{content:o.jsx(UJ,{})}),o.jsx(Hn,{type:"monotone",dataKey:"views",stroke:l,strokeWidth:3,dot:{fill:l,strokeWidth:2,r:5},activeDot:{r:7,stroke:l,strokeWidth:3}})]})})]}),o.jsxs(je,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"일별 상세 데이터"}),o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(xt,{className:"bg-muted/50",children:[o.jsx(Fe,{className:"font-semibold",children:"날짜"}),o.jsx(Fe,{className:"text-right font-semibold",children:"조회수"}),o.jsx(Fe,{className:"text-center font-semibold",children:"전일대비 변화율"}),o.jsx(Fe,{className:"text-right font-semibold",children:"전일 대비 증감"})]})}),o.jsx(Kr,{children:d.map((h,p)=>{const y=p>0?d[p-1].views:h.views,m=h.views-y;return o.jsxs(xt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Re,{className:"font-medium text-foreground",children:h.date}),o.jsx(Re,{className:"text-right font-medium text-foreground",children:h.views.toLocaleString()}),o.jsx(Re,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[h.change>0?o.jsx(Xe,{className:"w-4 h-4 text-success"}):o.jsx(kn,{className:"w-4 h-4 text-danger"}),o.jsxs("span",{className:`font-medium ${h.change>0?"text-success":"text-danger"}`,children:[h.change>0?"+":"",h.change,"%"]})]})}),o.jsx(Re,{className:"text-right",children:o.jsx("span",{className:`font-medium ${m>0?"text-success":m<0?"text-danger":"text-muted-foreground"}`,children:p>0?o.jsxs(o.Fragment,{children:[m>0?"+":"",m.toLocaleString()]}):"-"})})]},h.date)})})]})})]})]})]})},VJ=()=>{const{channelId:e}=gh(),t=Js(),r=qt(),{userEmail:n,userRole:a,logout:s}=Ar(),i=a==="admin",[l,c]=v.useState(Jt),[u,f]=v.useState(null),[d,h]=v.useState([]),[p,y]=v.useState(!0),m=()=>{s(),r("/")};v.useEffect(()=>{const w=async()=>{try{const S=await ge.loadCategories();S&&Object.keys(S).length>0&&c(S)}catch(S){console.error("카테고리 로드 실패:",S)}};w();const b=()=>{w()};return window.addEventListener("categoriesUpdated",b),()=>{window.removeEventListener("categoriesUpdated",b)}},[]);const g=w=>w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":w.toString();if(v.useEffect(()=>{(async()=>{var b,S;try{y(!0);const j=await ge.loadUnclassifiedData(),N=await ge.loadClassifiedData(),A=j.filter(C=>C.channelId===e),P=N.filter(C=>C.channelId===e);console.log(`📊 채널 상세 - IndexedDB에서 로드: unclassified ${j.length}개, classified ${N.length}개`),setTimeout(async()=>{try{const[C,U]=await Promise.all([ot.loadUnclassifiedData(),ot.getClassifiedData()]),I=C.filter($=>$.channelId===e),F=U.filter($=>$.channelId===e);(I.length>A.length||F.length>P.length)&&console.log("🔄 백그라운드 동기화: 서버 데이터 더 많음")}catch(C){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",C)}},1e3);const E=[...A,...P],B=new Map;E.forEach(C=>{const U=`${C.videoId}-${C.dayKeyLocal||C.collectionDate}`;B.has(U)||B.set(U,C)});const _=Array.from(B.values());if(console.log(`📊 채널 상세 - channelId: ${e}`),console.log(`📊 unclassified_data에서 찾은 데이터: ${A.length}개`),console.log(`📊 classification_data에서 찾은 데이터: ${P.length}개`),console.log(`📊 중복 제거 후 최종 데이터: ${_.length}개`),e&&_.length>0){const C=_[0],U=_.reduce((k,D)=>k+(D.viewCount||0),0),I=Math.round(U/_.length),F=new Date,$=[];for(let k=6;k>=0;k--){const D=new Date(F);D.setDate(F.getDate()-k);const q=D.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),Z=_.filter(Q=>{const ne=Q.collectionDate||Q.uploadDate;return ne?ne.split("T")[0]===q:!1}).reduce((Q,ne)=>Q+(ne.viewCount||0),0);$.push({date:q,daily_view_count:Z})}const O=((b=_.find(k=>k.thumbnailUrl&&!k.thumbnailUrl.includes("placeholder")))==null?void 0:b.thumbnailUrl)||`https://via.placeholder.com/128x128?text=${((S=C.channelName)==null?void 0:S.substring(0,2))||"CH"}`;f({channelId:C.channelId,channelName:C.channelName,description:C.description||"비어있음",category:C.category,subCategory:C.subCategory||"미분류",youtubeUrl:`https://www.youtube.com/channel/${C.channelId}`,thumbnail:O,totalViews:U,averageViews:I,videoCount:_.length,dailyUploads:2.71,weeklyViews:U,avgVideoLength:50.97,shortsRatio:100,dailyViews:$,lastModified:"6시간 전"}),h(_)}y(!1)}catch(j){console.error("채널 데이터 로드 실패:",j),y(!1)}})()},[e]),p)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"채널 정보를 불러오는 중..."})]})});if(!u)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs(je,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"채널을 찾을 수 없습니다"}),o.jsx(G,{onClick:()=>window.history.back(),children:"뒤로 가기"})]})});const x=({active:w,payload:b,label:S})=>w&&b&&b.length?o.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-medium text-foreground",children:S}),o.jsxs("p",{className:"text-muted-foreground",children:["조회수: ",g(b[0].value)]})]}):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[t.pathname==="/dashboard"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"국내"}):o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"국내"})}),t.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsx(Ne,{to:"/trend",children:o.jsxs(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),t.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(Ne,{to:"/data",children:o.jsx(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"})}),t.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsx(Ne,{to:"/system",children:o.jsxs(G,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})}),o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(G,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(hc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[i&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:m,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"채널 정보"}),u.category&&o.jsx(Ne,{to:`/category/${encodeURIComponent(u.category)}`,children:o.jsxs(G,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-black hover:text-white hover:border-black",children:[o.jsx(rl,{className:"w-4 h-4 mr-2"}),u.category," 카테고리로"]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Channel ID:"}),o.jsx(Ve,{variant:"secondary",className:"text-white bg-blue-600",children:u.channelId}),o.jsx(G,{variant:"ghost",size:"sm",className:"p-1 h-auto","aria-label":"닫기",title:"닫기",children:o.jsx(fc,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:u.thumbnail,alt:u.channelName,className:"w-12 h-12 rounded"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-foreground",children:u.channelName}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"채널명"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"채널설명:"}),o.jsx("div",{className:"bg-muted/50 p-3 rounded-lg max-h-32 overflow-y-auto",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"카테고리:"}),o.jsx(Ne,{to:`/category/${encodeURIComponent(u.category)}`,children:o.jsx(Ve,{variant:"outline",className:"cursor-pointer hover:bg-black hover:text-white hover:border-black transition-colors",children:u.category})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"세부카테고리:"}),o.jsx(Ve,{variant:"outline",children:u.subCategory})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"유튜브URL:"}),o.jsxs("a",{href:u.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center space-x-1",children:[o.jsx("span",{children:u.youtubeUrl}),o.jsx(rl,{className:"w-3 h-3"})]})]})]})]})]})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"상세 정보"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"일평균 업로드수:"}),o.jsx("span",{className:"font-medium text-foreground",children:u.dailyUploads})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{const w=new Date,b=new Date(w);return b.setDate(w.getDate()-7),`${b.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})}-${w.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})} 총 조회수:`})()}),o.jsx("span",{className:"font-medium text-foreground",children:u.weeklyViews.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"영상평균시간(초):"}),o.jsx("span",{className:"font-medium text-foreground",children:u.avgVideoLength})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"숏폼 비율(%):"}),o.jsx("span",{className:"font-medium text-foreground",children:u.shortsRatio})]})]})]})})]}),o.jsxs(je,{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"채널 일별 조회수"}),o.jsx(ru,{width:"100%",height:400,children:o.jsxs(ju,{data:u.dailyViews,children:[o.jsx(vi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tick:{fontSize:10}}),o.jsx(Ea,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:w=>`${(w/1e6).toFixed(1)}M`}),o.jsx(dr,{content:o.jsx(x,{})}),o.jsx(Hn,{type:"monotone",dataKey:"daily_view_count",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F97316",strokeWidth:2}})]})})]})]})]})};var Su="Switch",[zJ,ZZ]=rn(Su),[WJ,HJ]=zJ(Su),B1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=v.useState(null),y=tt(t,b=>p(b)),m=v.useRef(!1),g=h?f||!!h.closest("form"):!0,[x,w]=sa({prop:a,defaultProp:s??!1,onChange:u,caller:Su});return o.jsxs(WJ,{scope:r,checked:x,disabled:l,children:[o.jsx(ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":V1(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onClick:Se(e.onClick,b=>{w(S=>!S),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&o.jsx(K1,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});B1.displayName=Su;var F1="SwitchThumb",U1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=HJ(F1,r);return o.jsx(ze.span,{"data-state":V1(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});U1.displayName=F1;var YJ="SwitchBubbleInput",K1=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=v.useRef(null),l=tt(i,s),c=j0(r),u=Vb(t);return v.useEffect(()=>{const f=i.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(y)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K1.displayName=YJ;function V1(e){return e?"checked":"unchecked"}var z1=B1,qJ=U1;const Zi=v.forwardRef(({className:e,...t},r)=>o.jsx(z1,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(qJ,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zi.displayName=z1.displayName;const Zt=["브이로그","리뷰","언박싱","튜토리얼","케이팝","인터뷰","예능","라방","비하인드","idol","k-pop","게임요약","게임 공략","뷰티","메이크업","패션","요리","K푸드","여행","인테리어","집꾸미기","공부","시험","취업","부동산 이슈","경제 이슈","경제 요약","재테크","뉴스 요약","사회 이슈","정치 이슈","정치 요약","연예인","아이돌","가수","스타 소식","트롯트","영화","드라마","영화리뷰","드라마리뷰","인공지능","ai 이슈","기술 트렌드","스포츠 요약","스포츠 이슈","운동","쇼핑","쇼핑리뷰","구매","리뷰","취미","여가","반려동물","애니메이션","애니","웹툰","생활 정보","건강관리","반전","지혜","인생 사연","감동 사연","인생","국뽕","실화","썰","밈","힐링","커뮤니티","짤","모음","플리","플레이 리스트","짜집기","해외 썰","해외 이슈","해외 정보","해외 밈","해외 경제"],GJ={keywords:Zt,maxResults:1e4,maxRequests:140,regionCode:"KR",requestDelay:500,collectionInterval:300,minViewCount:void 0,koreanOnly:!0,languageFilterLevel:"moderate"},es=()=>{const e=localStorage.getItem("youtubepulse_collection_config");return e?JSON.parse(e):GJ};class el{static async unregisterServiceWorker(){try{if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistrations();for(const r of t)console.log("🗑️ 서비스워커 등록 해제:",r.scope),await r.unregister();return console.log("✅ 모든 서비스워커 등록 해제 완료"),!0}return!1}catch(t){return console.error("❌ 서비스워커 등록 해제 실패:",t),!1}}static async clearBrowserCache(){try{if("caches"in window){const t=await caches.keys();for(const r of t)console.log("🗑️ 캐시 삭제:",r),await caches.delete(r);return console.log("✅ 모든 브라우저 캐시 정리 완료"),!0}return!1}catch(t){return console.error("❌ 브라우저 캐시 정리 실패:",t),!1}}static clearLocalStorage(t=[]){try{const r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&!t.includes(a)&&r.push(a)}return r.forEach(n=>{console.log("🗑️ localStorage 삭제:",n),localStorage.removeItem(n)}),console.log("✅ localStorage 정리 완료"),!0}catch(r){return console.error("❌ localStorage 정리 실패:",r),!1}}static async fullCleanup(){console.log("🧹 전체 캐시 정리 시작...");const t=["userEmail","userRole","youtubeApiKey","youtubeApiKeys","activeYoutubeApiKeyIndex","youtubeApiEnabled","customApiUrl","customApiEnabled","customApiKey","systemConfig"],r={serviceWorker:await this.unregisterServiceWorker(),cache:await this.clearBrowserCache(),localStorage:this.clearLocalStorage(t)};return console.log("✅ 전체 정리 완료:",r),r}static async clearAssociatedCache(){try{if(console.log("🗑️ IndexedDB 연관 캐시 정리 시작..."),"caches"in window){const t=await caches.keys();for(const r of t)await caches.delete(r),console.log(`🗑️ 캐시 삭제: ${r}`)}if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistrations();for(const r of t)await r.unregister(),console.log("🗑️ 서비스 워커 등록 해제:",r.scope)}console.log("✅ 연관 캐시 정리 완료")}catch(t){throw console.error("❌ 캐시 정리 실패:",t),t}}static hardRefresh(){console.log("🔄 강력한 새로고침 실행..."),this.unregisterServiceWorker(),this.clearBrowserCache(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}typeof window<"u"&&(window.CacheCleanup=el,window.hardRefresh=el.hardRefresh,window.clearAllCache=el.fullCleanup);const eee=Object.freeze(Object.defineProperty({__proto__:null,CacheCleanup:el},Symbol.toStringTag,{value:"Module"})),Xa=typeof window>"u"&&typeof process<"u"&&typeof process.cwd=="function",W1=()=>{if(!Xa)return null;try{const e=require("path");return typeof process<"u"&&typeof process.cwd=="function"?e.join(process.cwd(),"data","api-key-usage.json"):null}catch{return null}},xd=()=>{if(!Xa)return{};try{const e=require("fs"),t=W1();return!t||!e.existsSync(t)?{}:JSON.parse(e.readFileSync(t,"utf-8"))}catch{return{}}},Fx=e=>{if(Xa)try{const t=require("fs"),r=require("path"),n=W1();if(!n)return;const a=r.dirname(n);t.existsSync(a)||t.mkdirSync(a,{recursive:!0}),t.writeFileSync(n,JSON.stringify(e,null,2))}catch{}},H1={getItem:e=>Xa?xd()[e]||null:localStorage.getItem(e),setItem:(e,t)=>{if(Xa){const r=xd();r[e]=t,Fx(r)}else localStorage.setItem(e,t)},removeItem:e=>{if(Xa){const t=xd();delete t[e],Fx(t)}else localStorage.removeItem(e)}},Y1="youtubeApiKeyUsage",XJ=1e4;function q1(e){try{H1.setItem(Y1,JSON.stringify(e))}catch(t){console.error("API 키 사용량 저장 실패:",t)}}function G1(){try{const e=H1.getItem(Y1);if(e)return JSON.parse(e)}catch(e){console.error("API 키 사용량 불러오기 실패:",e)}return{}}function X1(){return`quota_${new Date().toISOString().split("T")[0]}`}function QJ(e){const t=X1();return localStorage.getItem("lastQuotaReset")!==t&&(Object.keys(e).forEach(n=>{const a=parseInt(n);e[a]&&(e[a].usedQuota=0,e[a].isExhausted=!1,e[a].lastUsed=new Date().toISOString())}),localStorage.setItem("lastQuotaReset",t),q1(e)),e}function Ux(){const e=localStorage.getItem("youtubeApiKeys");if(!e)return[];let t=[];try{const s=JSON.parse(e);Array.isArray(s)&&(t=s.filter(i=>typeof i=="string"))}catch{return[]}const r=QJ(G1()),n=localStorage.getItem("activeYoutubeApiKeyIndex"),a=n?parseInt(n,10):0;return t.map((s,i)=>{const l=r[i]||{dailyQuota:XJ,usedQuota:0,lastUsed:"",isExhausted:!1},c=Math.max(0,l.dailyQuota-l.usedQuota),u=l.usedQuota/l.dailyQuota*100;return{index:i,key:s?`${s.substring(0,10)}...`:"미설정",usedQuota:l.usedQuota,remainingQuota:c,dailyQuota:l.dailyQuota,usagePercent:Math.min(100,u),isActive:i===a,isExhausted:l.isExhausted||!s||s.trim().length===0,lastUsed:l.lastUsed||"사용 안 함"}})}function JJ(e){const t=G1();e!==void 0?t[e]&&(t[e].usedQuota=0,t[e].isExhausted=!1,t[e].lastUsed=new Date().toISOString()):Object.keys(t).forEach(r=>{const n=parseInt(r);t[n]&&(t[n].usedQuota=0,t[n].isExhausted=!1,t[n].lastUsed=new Date().toISOString())}),q1(t),localStorage.setItem("lastQuotaReset",X1())}var Nu="Dialog",[Q1,tee]=rn(Nu),[ZJ,zr]=Q1(Nu),J1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,f]=sa({prop:n,defaultProp:a??!1,onChange:s,caller:Nu});return o.jsx(ZJ,{scope:t,triggerRef:l,contentRef:c,contentId:pn(),titleId:pn(),descriptionId:pn(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};J1.displayName=Nu;var Z1="DialogTrigger",eZ=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(Z1,r),s=tt(t,a.triggerRef);return o.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tm(a.open),...n,ref:s,onClick:Se(e.onClick,a.onOpenToggle)})});eZ.displayName=Z1;var Zp="DialogPortal",[tZ,eA]=Q1(Zp,{forceMount:void 0}),tA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=zr(Zp,t);return o.jsx(tZ,{scope:t,forceMount:r,children:v.Children.map(n,i=>o.jsx(nn,{present:r||s.open,children:o.jsx(Zs,{asChild:!0,container:a,children:i})}))})};tA.displayName=Zp;var dc="DialogOverlay",rA=v.forwardRef((e,t)=>{const r=eA(dc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=zr(dc,e.__scopeDialog);return s.modal?o.jsx(nn,{present:n||s.open,children:o.jsx(nZ,{...a,ref:t})}):null});rA.displayName=dc;var rZ=oa("DialogOverlay.RemoveScroll"),nZ=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(dc,r);return o.jsx(Oc,{as:rZ,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(ze.div,{"data-state":tm(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ba="DialogContent",nA=v.forwardRef((e,t)=>{const r=eA(ba,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=zr(ba,e.__scopeDialog);return o.jsx(nn,{present:n||s.open,children:s.modal?o.jsx(aZ,{...a,ref:t}):o.jsx(oZ,{...a,ref:t})})});nA.displayName=ba;var aZ=v.forwardRef((e,t)=>{const r=zr(ba,e.__scopeDialog),n=v.useRef(null),a=tt(t,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return Rh(s)},[]),o.jsx(aA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,s=>s.preventDefault())})}),oZ=v.forwardRef((e,t)=>{const r=zr(ba,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return o.jsx(aA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),aA=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=zr(ba,r),c=v.useRef(null),u=tt(t,c);return Mh(),o.jsxs(o.Fragment,{children:[o.jsx(Ac,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(Ao,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tm(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(sZ,{titleId:l.titleId}),o.jsx(lZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),em="DialogTitle",oA=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(em,r);return o.jsx(ze.h2,{id:a.titleId,...n,ref:t})});oA.displayName=em;var sA="DialogDescription",iA=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(sA,r);return o.jsx(ze.p,{id:a.descriptionId,...n,ref:t})});iA.displayName=sA;var lA="DialogClose",cA=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(lA,r);return o.jsx(ze.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,()=>a.onOpenChange(!1))})});cA.displayName=lA;function tm(e){return e?"open":"closed"}var uA="DialogTitleWarning",[ree,dA]=iC(uA,{contentName:ba,titleName:em,docsSlug:"dialog"}),sZ=({titleId:e})=>{const t=dA(uA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iZ="DialogDescriptionWarning",lZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dA(iZ).contentName}}.`;return v.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cZ=J1,uZ=tA,fA=rA,hA=nA,pA=oA,mA=iA,dZ=cA;const fZ=cZ,hZ=uZ,gA=v.forwardRef(({className:e,...t},r)=>o.jsx(fA,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gA.displayName=fA.displayName;const vA=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(hZ,{children:[o.jsx(gA,{}),o.jsxs(hA,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(dZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(fc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vA.displayName=hA.displayName;const yA=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yA.displayName="DialogHeader";const xA=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xA.displayName="DialogFooter";const bA=v.forwardRef(({className:e,...t},r)=>o.jsx(pA,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));bA.displayName=pA.displayName;const wA=v.forwardRef(({className:e,...t},r)=>o.jsx(mA,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));wA.displayName=mA.displayName;const La=3,pZ=()=>{const{userRole:e,isLoggedIn:t}=Ar(),r=qt(),n=Me||"https://api.youthbepulse.com",[a,s]=v.useState(()=>{var Ae;const L=localStorage.getItem("youtubeApiKeys");let R=[];if(L)try{const be=JSON.parse(L);Array.isArray(be)&&(R=be.filter(We=>typeof We=="string").slice(0,La))}catch(be){console.warn("YouTube API 키 목록 파싱 실패, 기본값 사용:",be)}const H=localStorage.getItem("youtubeApiKey")||"";H&&!R.length&&(R=[H]),R.length||(R=[""]);const V=localStorage.getItem("activeYoutubeApiKeyIndex");let le=V?parseInt(V,10):0;(Number.isNaN(le)||le<0||le>=R.length)&&(le=0);const he=localStorage.getItem("customApiUrl")||n,we=localStorage.getItem("customApiEnabled")==="true",se=localStorage.getItem("customApiKey")||"",Te=localStorage.getItem("youtubeApiEnabled")==="true",de=we!==null?we:!1,ye=R.some(be=>be)?!0:Te,Pe=((Ae=R.find(be=>be))==null?void 0:Ae.substring(0,10))||null;return console.log("🔧 설정 로드:",{youtubeApiKeys:R.map((be,We)=>({index:We,status:be?"설정됨":"미설정"})),primaryYoutubeApiKey:Pe?`${Pe}...`:"미설정",youtubeApiEnabled:ye,customApiUrl:he,customApiEnabled:de,customApiKey:se?"설정됨":"미설정"}),console.log("🔍 localStorage 직접 확인:",{youtubeApiKeys:localStorage.getItem("youtubeApiKeys"),legacyYoutubeApiKey:localStorage.getItem("youtubeApiKey"),youtubeApiEnabled:localStorage.getItem("youtubeApiEnabled"),customApiKey:localStorage.getItem("customApiKey"),customApiUrl:localStorage.getItem("customApiUrl"),customApiEnabled:localStorage.getItem("customApiEnabled")}),{youtubeApiKeys:R,activeYoutubeApiKeyIndex:le,youtubeApiEnabled:ye,customApiUrl:he,customApiEnabled:de,customApiKey:se}}),[i,l]=v.useState({dataRefreshInterval:300,maxRetryAttempts:3,enableAutoSync:!0,enableNotifications:!0});a.youtubeApiKeys[a.activeYoutubeApiKeyIndex];const c=a.youtubeApiKeys.some(L=>L.trim().length>0),[u,f]=v.useState(!1),[d,h]=v.useState(null),[p,y]=v.useState(!1),[m,g]=v.useState("idle"),[x,w]=v.useState(""),[b,S]=v.useState(!1),[j,N]=v.useState(""),[A,P]=v.useState([]);v.useEffect(()=>{const L=localStorage.getItem("userEmail"),R=localStorage.getItem("userRole");if(console.log("🔍 System 페이지 권한 체크 (상세):",{isLoggedIn:t,userRole:e,userEmail:L,storedRole:R,localStorage_userEmail:localStorage.getItem("userEmail"),localStorage_userRole:localStorage.getItem("userRole")}),!t){console.log("❌ 로그인되지 않음 - 로그인 페이지로 리다이렉트"),r("/login");return}console.log("✅ 로그인 확인됨 - System 페이지 접근 허용 (모든 로그인 사용자 허용)")},[t,e,r]),T.useEffect(()=>{const L=()=>{const H=Ux();P(H)};L();const R=setInterval(L,5e3);return()=>clearInterval(R)},[a.youtubeApiKeys,a.activeYoutubeApiKeyIndex]),T.useEffect(()=>{localStorage.getItem("customApiEnabled")===null&&(localStorage.setItem("customApiEnabled","false"),localStorage.setItem("customApiUrl",n),console.log("🔧 커스텀 API 기본값 설정 완료 (Railway 서버 문제로 비활성화)"))},[n]);const[E,B]=v.useState("idle"),[_,C]=v.useState(""),[U,I]=v.useState("idle"),[F,$]=v.useState(""),[O,k]=v.useState(null);function D(L){return L.length===0?[""]:L}const q=()=>{if(a.youtubeApiKeys.length>=La){alert(`YouTube API 키는 최대 ${La}개까지 등록할 수 있습니다.`);return}s(L=>({...L,youtubeApiKeys:[...L.youtubeApiKeys,""]}))},Z=L=>{s(R=>{let H=[...R.youtubeApiKeys];if(H.length===1)return H=[""],{...R,youtubeApiKeys:H,activeYoutubeApiKeyIndex:0};H.splice(L,1),H=D(H);let V=R.activeYoutubeApiKeyIndex;return V===L?V=0:V>L&&(V=V-1),{...R,youtubeApiKeys:H,activeYoutubeApiKeyIndex:V}}),O!==null&&(O===L?(I("idle"),$(""),k(null)):O>L&&k(O-1))},Q=L=>{s(R=>({...R,activeYoutubeApiKeyIndex:L}))},ne=(L,R)=>{s(H=>{const V=[...H.youtubeApiKeys];return L>=V.length?H:(V[L]=R,{...H,youtubeApiKeys:D(V)})}),O===L&&(I("idle"),$(""),k(null))},te=async L=>{var V;const R=L??a.activeYoutubeApiKeyIndex,H=(V=a.youtubeApiKeys[R])==null?void 0:V.trim();if(!H){k(R),I("error"),$(`API 키 ${R+1}번이 비어 있습니다.`);return}k(R),I("testing"),$(`YouTube API 키 ${R+1}번을 테스트하고 있습니다...`);try{const le=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=test&maxResults=1&key=${H}`);if(!le.ok)throw new Error(`API Error: ${le.status}`);const he=await le.json();if(he.error)throw new Error(he.error.message||"API 키가 유효하지 않습니다.");I("success"),$(`YouTube API 키 ${R+1}번 연결이 성공했습니다!`)}catch(le){I("error"),$(le instanceof Error?le.message:"API 테스트에 실패했습니다.")}},Oe=async()=>{B("testing"),C("API 서버를 테스트하고 있습니다...");try{if(!a.customApiUrl)throw new Error("API 서버 URL이 설정되지 않았습니다.");const L=await fetch(`${a.customApiUrl}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!L.ok)throw new Error(`API 서버 연결 실패: ${L.status}`);const R=await L.json();B("success"),C(`API 서버 연결 성공! 서버 상태: ${R.status||"OK"}`)}catch(L){B("error"),C(L instanceof Error?L.message:"알 수 없는 오류")}},Le=()=>{if(!j.trim()){alert("API 키를 입력해주세요.");return}const L=j.trim();let R=!1;s(H=>{let V=[...H.youtubeApiKeys],le=H.activeYoutubeApiKeyIndex;const he=V.findIndex(se=>se===L);if(he>=0)le=he,V[he]=L;else{const se=V.findIndex(Te=>!Te.trim());se>=0?(V[se]=L,le=se):V.length<La?(V=[...V,L],le=V.length-1):(V=[...V.slice(1),L],le=V.length-1,R=!0)}return{...H,youtubeApiKeys:D(V),activeYoutubeApiKeyIndex:le,youtubeApiEnabled:!0}}),R&&alert(`YouTube API 키는 최대 ${La}개까지만 저장됩니다.
가장 오래된 키를 교체하고 새 키를 추가했습니다.`),console.log("✅ API 키 저장 완료:",j.trim().substring(0,10)+"..."),S(!1),N(""),g("success"),w("API 키가 저장되었습니다. 이제 데이터 수집을 시작합니다."),setTimeout(()=>{g("idle"),w("")},3e3),setTimeout(()=>{M()},500)},pe=async()=>{const L=a.youtubeApiKeys.map(V=>V.trim());if(!L.some(V=>V.length>0)){N(""),S(!0);return}if(!L[a.activeYoutubeApiKeyIndex]){const V=L.findIndex(le=>le.length>0);V>=0&&s(le=>({...le,activeYoutubeApiKeyIndex:V,youtubeApiEnabled:!0}))}await M()},M=async()=>{var L,R,H,V;try{const he=a.youtubeApiKeys.map(ie=>ie.trim()),we=he.length;if(!he.some(ie=>ie.length>0)){alert("YouTube API 키가 필요합니다.");return}let se=a.activeYoutubeApiKeyIndex;if(!he[se]){const ie=he.findIndex(Ce=>Ce.length>0);if(ie===-1){alert("사용 가능한 YouTube API 키가 없습니다. 시스템 페이지에서 키를 등록해 주세요.");return}se=ie,s(Ce=>({...Ce,activeYoutubeApiKeyIndex:ie,youtubeApiEnabled:!0}))}let Te=he[se];const de=["quotaexceeded","dailylimitexceeded","ratelimitexceeded","userratelimitexceeded","keyinvalid","quota"],ye=(ie,Ce)=>{var Ke,ke;if(ie===403||ie===429){const Qe=(Ke=Ce==null?void 0:Ce.error)==null?void 0:Ke.errors;if(Array.isArray(Qe)&&Qe.some($e=>de.some(Ot=>(($e==null?void 0:$e.reason)||"").toString().toLowerCase().includes(Ot.toLowerCase()))))return!0;const gt=(((ke=Ce==null?void 0:Ce.error)==null?void 0:ke.message)||"").toString().toLowerCase();if(de.some($e=>gt.includes($e.toLowerCase())))return!0}return!1},Pe=(ie,Ce)=>{if(we<=1)return!1;for(let Ke=1;Ke<we;Ke++){const ke=(se+Ke)%we,Qe=he[ke];if(Qe)return se=ke,Te=Qe,s(gt=>({...gt,activeYoutubeApiKeyIndex:ke,youtubeApiEnabled:!0})),console.warn(`⚠️ ${ie}: YouTube API 키(${se+1}번)로 전환합니다. 사유: ${Ce}`),!0}return!1},Ae=async(ie,Ce)=>{var ke,Qe,gt,$e;let Ke=0;for(;Ke<we;){if(!Te){if(!Pe(Ce,"현재 키가 비어 있습니다"))break;Ke++;continue}const Ot=ie(Te);try{const jt=await fetch(Ot),Pr=await jt.text();let bt=null;if(Pr)try{bt=JSON.parse(Pr)}catch{bt=null}if(!jt.ok||bt!=null&&bt.error){const Da=((ke=bt==null?void 0:bt.error)==null?void 0:ke.message)||(($e=(gt=(Qe=bt==null?void 0:bt.error)==null?void 0:Qe.errors)==null?void 0:gt[0])==null?void 0:$e.message)||`${jt.status} ${jt.statusText}`||"알 수 없는 오류";if(ye(jt.status,bt)){if(!Pe(Ce,Da))throw new Error(`YouTube API 키 할당량이 모두 소진되었습니다. (${Da})`);Ke++;continue}throw new Error(`${Ce} 요청 실패: ${Da}`)}return bt??{}}catch(jt){if(jt instanceof Error&&jt.message.includes("할당량이 모두 소진"))throw jt;if(!Pe(Ce,jt instanceof Error?jt.message:"네트워크 오류"))throw jt instanceof Error?jt:new Error(`${Ce} 요청 중 오류가 발생했습니다.`);Ke++}}throw new Error("사용 가능한 YouTube API 키가 없습니다. 새로운 키를 등록해 주세요.")};if(window.autoCollectionInProgress){alert("⚠️ 자동 수집이 진행 중입니다. 잠시 후 다시 시도해주세요.");return}window.manualCollectionInProgress=!0;const be=es(),We=1e4;let Y=0;console.log("=== 🔥 혼합 데이터 수집 시작 ==="),console.log("수집 방식: YouTube 트렌드 + 키워드 기반"),console.log("조회수 필터: 제거됨 (조회수 상위만 선택)"),console.log("====================================="),console.log("📺 1단계: YouTube 공식 트렌드 영상 수집 중...");let K=[];try{let ie="";for(let Ce=0;Ce<4;Ce++){const Ke=await Ae(ke=>`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=KR&maxResults=50${ie?`&pageToken=${ie}`:""}&key=${ke}`,`트렌드 영상 수집 (페이지 ${Ce+1})`);if(Y++,Ke!=null&&Ke.items){if(K=[...K,...Ke.items],console.log(`✅ 트렌드 영상 ${(Ce+1)*50}개 수집 중... (현재: ${K.length}개)`),ie=Ke.nextPageToken,console.log(`📄 페이지 ${Ce+1}: nextPageToken = ${ie?"있음":"없음 (더 이상 페이지 없음)"}`),!ie)break}else{console.warn("⚠️ 트렌드 영상 수집 실패, 키워드 수집만 진행");break}Ce<3&&await new Promise(ke=>setTimeout(ke,500))}if(console.log(`✅ 트렌드 영상 총 ${K.length}개 수집 완료`),be.koreanOnly){const Ce=K.length;K=K.filter(Ke=>{var $e,Ot;const ke=(($e=Ke.snippet)==null?void 0:$e.title)||"",Qe=((Ot=Ke.snippet)==null?void 0:Ot.channelTitle)||"";return/[가-힣]/.test(ke)||/[가-힣]/.test(Qe)}),console.log(`🇰🇷 한글 필터링: ${Ce}개 → ${K.length}개 (${Ce-K.length}개 제거)`)}}catch(ie){console.error("❌ 트렌드 영상 수집 오류:",ie),console.log("⚠️ 키워드 수집만 진행합니다.")}console.log("🔍 2단계: 키워드 기반 영상 수집 중...");const z=be.keywords||Zt;let fe=[],ue=0;for(const ie of z){if(fe.length>=We){console.log(`최대 수집 수(${We}) 도달`);break}try{console.log(`키워드 "${ie}" 수집 시작...`);const Ce=await Ae($e=>`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(ie)}&type=video&maxResults=50&regionCode=KR&order=viewCount&key=${$e}`,`키워드 "${ie}" 검색`);if(Y++,!Ce.items||Ce.items.length===0){console.log(`키워드 "${ie}" 검색 결과 없음`);continue}const Ke=Ce.items.map($e=>$e.id.videoId).join(","),ke=await Ae($e=>`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${Ke}&key=${$e}`,`키워드 "${ie}" 영상 상세`);Y++;const Qe=ke.items||[],gt=Qe.map($e=>({...$e,searchKeyword:ie}));fe=[...fe,...gt],ue+=Qe.length,console.log(`키워드 "${ie}" 수집: ${Qe.length}개 영상 추가 (총 ${fe.length}개)`),await new Promise($e=>setTimeout($e,500))}catch(Ce){console.error(`키워드 "${ie}" 수집 오류:`,Ce);continue}}console.log(`✅ 키워드 수집 완료: 총 ${fe.length}개 영상`),console.log("🔄 3단계: 트렌드 + 키워드 영상 합치기 및 중복 제거...");const ce=[...K,...fe],me=ce;console.log(`🔄 모든 영상 유지: ${ce.length}개 영상 (중복 제거 없음, 각 영상 독립 처리)`),me.sort((ie,Ce)=>{var Qe,gt;const Ke=parseInt(((Qe=ie.statistics)==null?void 0:Qe.viewCount)||"0");return parseInt(((gt=Ce.statistics)==null?void 0:gt.viewCount)||"0")-Ke}),console.log(`📊 조회수 정렬 완료 (최고: ${parseInt(((R=(L=me[0])==null?void 0:L.statistics)==null?void 0:R.viewCount)||"0").toLocaleString()}회, 최저: ${parseInt(((V=(H=me[me.length-1])==null?void 0:H.statistics)==null?void 0:V.viewCount)||"0").toLocaleString()}회)`),console.log("=== 🔥 혼합 수집 통계 ==="),console.log(`트렌드 영상: ${K.length}개`),console.log(`키워드 영상: ${fe.length}개 (${z.length}개 키워드)`),console.log(`전체 수집: ${ce.length}개`),console.log(`최종 영상: ${me.length}개`),console.log(`API 요청: ${Y}번`),console.log("========================");const ve=[...new Set(me.map(ie=>ie.snippet.channelId))];let W=[];for(let ie=0;ie<ve.length;ie+=50){const Ce=ve.slice(ie,ie+50),Ke=await Ae(ke=>`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${Ce.join(",")}&key=${ke}`,"채널 정보 수집");Y++,W=[...W,...Ke.items],console.log(`채널 정보 수집: ${W.length}/${ve.length} 채널 완료`),ie+50<ve.length&&await new Promise(ke=>setTimeout(ke,500))}let oe=[];const ae=new Date;ae.setDate(ae.getDate()-14);const ee=ae.toISOString().split("T")[0];try{if(!Me){console.log("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터만 사용합니다.");const ie=await ge.loadCategories();ie&&Object.keys(ie).length>0&&setDynamicSubCategories(ie),setIsLoading(!1);return}if(Me){const ie=await fetch(`${Me}/api/unclassified`);if(ie.ok){const Ce=await ie.json();Ce.success&&Ce.data&&(oe=Ce.data.filter(ke=>{const Qe=ke.status==="classified",gt=ke.dayKeyLocal||ke.day_key_local||ke.collectionDate||ke.collection_date,$e=gt&&gt>=ee;return Qe&&$e}),console.log("📊 서버에서 분류 데이터 로드 성공"),console.log(`📊 분류 데이터 참조 범위: 최근 14일 (${ee} 이후)`),console.log(`📊 최근 14일 분류 데이터: ${oe.length}개`))}else throw console.warn("서버 조회 실패, IndexedDB에서 로드 시도"),new Error("Server fetch failed")}else console.warn("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터로 대체합니다.")}catch{console.log("📊 IndexedDB에서 분류 데이터 로드...");try{oe=(await ot.loadUnclassifiedData()).filter(Ke=>{const ke=Ke.status==="classified",Qe=Ke.collectionDate>=ee;return ke&&Qe}),console.log(`📊 IndexedDB에서 분류 데이터 로드: ${oe.length}개`),console.log(`📊 분류 데이터 참조 범위: 최근 14일 (${ee} 이후)`)}catch{console.log("기존 분류 데이터 로드 실패, 새로 시작합니다."),oe=[]}}const J=new Map,X=new Map;oe.forEach(ie=>{(!X.has(ie.channelId)||ie.collectionDate>X.get(ie.channelId).collectionDate)&&X.set(ie.channelId,{category:ie.category,subCategory:ie.subCategory,collectionDate:ie.collectionDate,channelName:ie.channelName})}),X.forEach((ie,Ce)=>{J.set(Ce,{category:ie.category,subCategory:ie.subCategory})}),console.log(`📊 분류 참조 채널: ${J.size}개`),console.log("📊 분류 참조 기간: 최근 14일간의 최신 분류 정보만 사용"),console.log("📊 기존 분류 시스템: 14일간 분류 이력 기반 분류 적용");const De=Ge();console.log("🔥 데이터 수집 날짜 (한국시간):",De),console.log("🔥 현재 시간 (한국시간):",new Date(tl()).toLocaleString("ko-KR")),console.log("🔥 수집된 영상 개수:",me.length);const rt=await ot.loadUnclassifiedData(),Ie=new Map;rt.forEach(ie=>{if(!Ie.has(ie.videoId))Ie.set(ie.videoId,ie.collectionDate);else{const Ce=Ie.get(ie.videoId);ie.collectionDate<Ce&&Ie.set(ie.videoId,ie.collectionDate)}}),console.log(`📊 기존 영상 날짜 매핑: ${Ie.size}개 영상의 최초 수집일 확인`);const mt=me.map((ie,Ce)=>{var Ot,jt,Pr,bt,Da,Au;const Ke=W.find(NA=>NA.id===ie.snippet.channelId),ke=J.get(ie.snippet.channelId),Qe=De;let gt="trending",$e="trending";return ie.searchKeyword&&(gt=ie.searchKeyword,$e="keyword"),{id:Date.now()+Ce,channelId:ie.snippet.channelId,channelName:ie.snippet.channelTitle,description:((Ot=Ke==null?void 0:Ke.snippet)==null?void 0:Ot.description)||"설명 없음",videoId:ie.id,videoTitle:ie.snippet.title,videoDescription:ie.snippet.description,viewCount:parseInt(((jt=ie.statistics)==null?void 0:jt.viewCount)||"0"),uploadDate:ie.snippet.publishedAt.split("T")[0],collectionDate:Qe,thumbnailUrl:((bt=(Pr=ie.snippet.thumbnails)==null?void 0:Pr.high)==null?void 0:bt.url)||((Au=(Da=ie.snippet.thumbnails)==null?void 0:Da.default)==null?void 0:Au.url)||"",category:(ke==null?void 0:ke.category)||"",collectionType:"manual",collectionTimestamp:tl(),collectionSource:"system_page",keyword:gt,source:$e,subCategory:(ke==null?void 0:ke.subCategory)||"",status:ke?"classified":"unclassified",autoClassified:!!ke}});try{const ie=await ot.loadUnclassifiedData(),Ce=new Map;ie.forEach($e=>{const Ot=`${$e.videoId}_${$e.collectionDate}`;Ce.set(Ot,$e)}),mt.forEach($e=>{var jt,Pr;const Ot=`${$e.videoId}_${$e.collectionDate}`;if(!Ce.has(Ot))Ce.set(Ot,$e);else{const bt=Ce.get(Ot);$e.collectionDate===De?$e.viewCount>bt.viewCount?(console.log(`📊 오늘 영상 교체 (조회수 높음): ${$e.videoTitle} - ${(jt=bt.viewCount)==null?void 0:jt.toLocaleString()} → ${(Pr=$e.viewCount)==null?void 0:Pr.toLocaleString()}`),Ce.set(Ot,$e)):$e.viewCount===bt.viewCount&&bt.status==="unclassified"&&$e.status==="classified"&&(console.log(`📊 오늘 영상 교체 (분류됨): ${$e.videoTitle} - ${bt.status} → ${$e.status}`),Ce.set(Ot,$e)):console.log(`📊 다른 날짜 영상 보존: ${$e.videoTitle} (${$e.collectionDate}) - 이미 지난 날짜, 건드리지 않음`)}});const ke=Array.from(Ce.values()).map(($e,Ot)=>{(!$e.id||typeof $e.id!="string")&&($e.id=`${Date.now()}_${Math.random().toString(36).substr(2,9)}_${Ot}`);const Pr=`${$e.videoId?$e.videoId.substring(0,8):"unknown"}_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return{...$e,id:$e.id||Pr}}),Qe=new Map,gt=ke.filter($e=>Qe.has($e.id)?(console.warn(`중복 ID 발견, 제거됨: ${$e.id}`),!1):(Qe.set($e.id,!0),!0));console.log("📊 일별 데이터 처리 완료:"),console.log(`   - 기존 데이터: ${ie.length}개`),console.log(`   - 새 수집 데이터: ${mt.length}개`),console.log(`   - 최종 저장 데이터: ${gt.length}개`),console.log(`   - 일별 데이터 보존: ${gt.length-ie.length}개 추가`),console.log(`   - 같은 날짜 중복 업데이트: ${mt.length-(gt.length-ie.length)}개`),console.log(`   - 중복 ID 제거: ${ke.length-gt.length}개`),await ot.saveUnclassifiedData(gt)}catch(ie){console.error("IndexedDB 저장 오류:",ie),alert("데이터 저장 중 오류가 발생했습니다.")}const Wr=mt.filter(ie=>!J.has(ie.channelId)).length,sr=mt.filter(ie=>J.has(ie.channelId)).length,On=mt.filter(ie=>ie.autoClassified).length,Ue=mt.filter(ie=>!ie.autoClassified).length;console.log("📊 분류 결과:"),console.log(`   - 기존 분류 적용: ${On}개`),console.log(`   - 미분류: ${Ue}개`);const qe=Y,ut=qe*100,ir=me.length>0?Math.round(me.reduce((ie,Ce)=>{var Ke;return ie+parseInt(((Ke=Ce.statistics)==null?void 0:Ke.viewCount)||"0")},0)/me.length):0;alert(`🔥 혼합 데이터 수집이 완료되었습니다!

📺 YouTube 트렌드: ${K.length}개
🔍 키워드 수집: ${fe.length}개 (${z.length}개 키워드)
━━━━━━━━━━━━━━━━━━━━━━
📊 전체 수집: ${ce.length}개
✅ 중복 제거 후: ${me.length}개
📈 조회수 정렬: 상위부터 저장됨
━━━━━━━━━━━━━━━━━━━━━━
🎬 총 채널: ${mt.length}개
🆕 새 채널: ${Wr}개 (분류 필요)
♻️ 기존 분류 적용: ${On}개
❓ 미분류: ${Ue}개
📊 평균 조회수: ${ir.toLocaleString()}회
━━━━━━━━━━━━━━━━━━━━━━
🔧 API 요청: ${qe}번
💰 할당량: 약 ${ut} units

기존 분류가 적용된 영상은 이미 분류 완료 상태입니다.
미분류 영상만 수동 분류하면 됩니다.`),window.manualCollectionInProgress=!1}catch(le){console.error("데이터 수집 오류:",le),alert("데이터 수집 중 오류가 발생했습니다: "+(le instanceof Error?le.message:le)),window.manualCollectionInProgress=!1}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(fZ,{open:b,onOpenChange:S,children:o.jsxs(vA,{className:"sm:max-w-[500px]",children:[o.jsxs(yA,{children:[o.jsxs(bA,{className:"flex items-center space-x-2",children:[o.jsx(am,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"YouTube API 키 설정"})]}),o.jsx(wA,{children:"데이터 수집을 위해 YouTube API 키를 입력해주세요. 입력된 API 키는 자동으로 저장됩니다."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"api-key-input",children:"API 키"}),o.jsx(yt,{id:"api-key-input",type:"text",placeholder:"YouTube Data API v3 키를 입력하세요",value:j,onChange:L=>N(L.target.value),onKeyDown:L=>{L.key==="Enter"&&Le()},className:"font-mono",autoFocus:!0})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"💡 API 키 발급 방법:"}),o.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:["1. ",o.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"Google Cloud Console"}),"에 로그인"]}),o.jsx("li",{children:"2. 새 프로젝트 생성 또는 기존 프로젝트 선택"}),o.jsxs("li",{children:["3. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/library/youtube.googleapis.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"YouTube Data API v3"})," 활성화"]}),o.jsxs("li",{children:["4. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"사용자 인증 정보"}),"에서 API 키 생성"]}),o.jsx("li",{children:"5. 생성된 API 키를 위에 입력"})]})]}),m!=="idle"&&o.jsx("div",{className:`p-3 rounded-lg text-sm ${m==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[m==="success"&&o.jsx(aa,{className:"w-4 h-4"}),m==="error"&&o.jsx(nl,{className:"w-4 h-4"}),o.jsx("span",{children:x})]})})]}),o.jsxs(xA,{children:[o.jsx(G,{variant:"outline",onClick:()=>S(!1),children:"취소"}),o.jsxs(G,{onClick:Le,disabled:!j.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(Jx,{className:"w-4 h-4 mr-2"}),"저장하고 수집 시작"]})]})]})}),o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/user-management",children:o.jsxs(G,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(G,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(G,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsxs(G,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsx(Ne,{to:"/subcategory-settings",children:o.jsxs(G,{size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white",children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"세부카테고리"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"시스템 설정"}),o.jsx("p",{className:"text-muted-foreground",children:"데이터 연동 및 시스템 설정을 관리합니다"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"저장 기준: IndexedDB (로컬 전용) · 수집: 트렌드 + 키워드 혼합 · 정렬: 조회수 상위"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(G,{variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",onClick:pe,children:[o.jsx(UA,{className:"w-4 h-4 mr-2"}),"데이터 수집 시작"]}),o.jsx(Ne,{to:"/data-classification",children:o.jsxs(G,{variant:"outline",children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"데이터 분류 관리"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(KA,{className:"w-5 h-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"API 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx($t,{className:"text-sm font-medium",children:"YouTube Data API 활성화"}),o.jsx(Zi,{checked:a.youtubeApiEnabled,onCheckedChange:L=>s(R=>({...R,youtubeApiEnabled:L,youtubeApiKeys:L?D(R.youtubeApiKeys):R.youtubeApiKeys}))})]}),o.jsxs("div",{className:"space-y-3 border-t pt-3",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx($t,{className:"text-sm font-medium text-blue-700",children:"📝 YouTube API 키"})}),a.youtubeApiKeys.map((L,R)=>{const H=a.activeYoutubeApiKeyIndex===R,V=U==="testing"&&O===R,le=O===R&&U!=="idle",he=A.find(de=>de.index===R),we=(he==null?void 0:he.usagePercent)||0,se=(he==null?void 0:he.remainingQuota)||0,Te=(he==null?void 0:he.isExhausted)||!1;return o.jsxs("div",{className:"border border-muted rounded-lg p-3 space-y-2 bg-muted/30",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:H?"default":"outline",children:H?"사용 중":"대기"}),Te&&o.jsx(Ve,{variant:"destructive",className:"text-xs",children:"할당량 소진"}),o.jsxs("span",{className:"text-sm font-semibold text-foreground",children:["API 키 ",R+1]})]}),o.jsx("code",{className:"block text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded break-all",children:L?L.length>12?`${L.substring(0,8)}${"*".repeat(L.length-12)}${L.substring(L.length-4)}`:"****":"(미입력)"}),he&&L&&o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"할당량 사용률"}),o.jsxs("span",{className:`font-semibold ${we>=95?"text-red-600":we>=80?"text-orange-600":"text-green-600"}`,children:[we.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${we>=95?"bg-red-600":we>=80?"bg-orange-600":"bg-green-600"}`,style:{width:`${Math.min(100,we)}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:["사용: ",he.usedQuota.toLocaleString()," / ",he.dailyQuota.toLocaleString()]}),o.jsxs("span",{children:["남은 할당량: ",se.toLocaleString()]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:H?"secondary":"outline",size:"sm",onClick:()=>Q(R),disabled:!L.trim()||H||Te,children:H?"현재 사용 중":"이 키 사용"}),o.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{if(window.confirm(`API 키 ${R+1}번의 할당량 사용량을 초기화하시겠습니까?`)){JJ(R);const de=Ux();P(de)}},title:"할당량 초기화",className:"text-xs",children:"초기화"}),a.youtubeApiKeys.length>1&&o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>Z(R),title:"API 키 삭제",children:o.jsx(Ad,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(yt,{id:`youtube-api-key-${R}`,type:"password",autoComplete:"off",placeholder:"YouTube Data API 키를 입력하세요",value:L,onChange:de=>ne(R,de.target.value),className:"flex-1 font-mono text-sm"}),o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>te(R),disabled:!L.trim()||U==="testing",children:[o.jsx(om,{className:`w-4 h-4 mr-1 ${V?"animate-spin":""}`}),V?"테스트 중...":"테스트"]})]}),le&&o.jsx("div",{className:`p-2 rounded-lg text-sm ${U==="success"?"bg-green-50 border border-green-200 text-green-800":U==="error"?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[U==="success"&&o.jsx(aa,{className:"w-4 h-4"}),U==="error"&&o.jsx(nl,{className:"w-4 h-4"}),U==="testing"&&o.jsx(cn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:F})]})})]},R)}),a.youtubeApiKeys.length<La&&o.jsx(G,{variant:"outline",size:"sm",onClick:q,children:o.jsx("span",{className:"font-medium text-sm",children:"+ API 키 추가"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(rl,{className:"w-3 h-3 inline mr-1"}),o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Google Cloud Console에서 API 키 발급받기"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"API 키 발급 방법:"}),o.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:["1. ",o.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"}),"에 로그인"]}),o.jsx("li",{children:"2. 새 프로젝트 생성 또는 기존 프로젝트 선택"}),o.jsxs("li",{children:["3. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/library/youtube.googleapis.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"YouTube Data API v3"})," 활성화"]}),o.jsxs("li",{children:["4. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"사용자 인증 정보"}),"에서 API 키 생성"]}),o.jsx("li",{children:"5. 생성된 API 키를 위에 입력"})]})]})]})]})]}),Me?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx($t,{className:"text-sm font-medium",children:"커스텀 API"}),o.jsx(Zi,{checked:a.customApiEnabled,onCheckedChange:R=>s(H=>({...H,customApiEnabled:R}))})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["현재 API URL: ",o.jsx("span",{className:"font-mono text-blue-600",children:Me||"미설정"})]}),a.customApiEnabled&&o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"custom-api-url",children:"API URL"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(yt,{id:"custom-api-url",placeholder:n,value:a.customApiUrl,onChange:R=>s(H=>({...H,customApiUrl:R.target.value})),className:"flex-1"}),o.jsxs(G,{variant:"outline",size:"sm",onClick:Oe,disabled:!a.customApiUrl||E==="testing",children:[o.jsx(om,{className:"w-4 h-4 mr-1"}),E==="testing"?"테스트 중...":"테스트"]})]}),E!=="idle"&&o.jsx("div",{className:`p-2 rounded-lg text-sm ${E==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:_}),o.jsx($t,{htmlFor:"custom-api-key",children:"API 키 (선택사항)"}),o.jsx(yt,{id:"custom-api-key",type:"password",autoComplete:"off",placeholder:"API 키를 입력하세요",value:a.customApiKey,onChange:R=>s(H=>({...H,customApiKey:R.target.value}))})]})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(al,{className:"w-5 h-5 text-blue-600"}),o.jsx($t,{className:"text-sm font-medium text-blue-900",children:"IndexedDB 전용 모드"})]}),o.jsxs("p",{className:"text-xs text-blue-700",children:["현재 IndexedDB 전용 모드로 실행 중입니다.",o.jsx("br",{}),"서버 API 연결이 필요하지 않습니다.",o.jsx("br",{}),"모든 데이터는 로컬 IndexedDB에 저장됩니다."]})]})})]})]}),o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"시스템 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"💡 핵심 기능"}),o.jsxs("p",{className:"text-xs text-blue-700",children:["• 기존 분류 이력 기반 자동 분류 적용",o.jsx("br",{}),"• 최근 14일간 분류 이력 우선 적용",o.jsx("br",{}),"• IndexedDB 저장 (로컬 전용)",o.jsx("br",{}),"• API 키 자동 보존 (삭제 방지)"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsx("h4",{className:"text-sm font-medium text-purple-900 mb-2",children:"📊 데이터 수집"}),o.jsxs("p",{className:"text-xs text-purple-700",children:["• 트렌드 영상: 상위 200개 (YouTube 공식)",o.jsx("br",{}),"• 키워드 영상: ",Zt.length,"개 키워드 × 50개",o.jsx("br",{}),"• 자동 수집: 매일 09:00 KST (서버 cron)",o.jsx("br",{}),"• 수동 수집: 시스템 페이지에서 즉시 실행"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"🔐 보안 및 저장"}),o.jsxs("p",{className:"text-xs text-green-700",children:["• API 키: localStorage + IndexedDB 이중 저장",o.jsx("br",{}),"• API 키 마스킹 표시 (보안 강화)",o.jsx("br",{}),"• 실제 키 우선 보존 (빈 키로 덮어쓰기 방지)",o.jsx("br",{}),"• 데이터: IndexedDB 로컬 저장 (서버 동기화 옵션)"]})]})]})]}),o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Dn,{className:"w-5 h-5 text-indigo-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"데이터 수집 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-lg",children:[o.jsxs("h4",{className:"text-sm font-bold text-blue-900 mb-3 flex items-center",children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"🔥 혼합 수집 방식"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"📺 트렌드 영상"}),o.jsx("p",{className:"text-sm font-bold text-blue-900",children:"상위 200개"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"YouTube 공식 (한글만)"})]}),o.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"🔍 키워드 영상"}),o.jsxs("p",{className:"text-sm font-bold text-blue-900",children:[Zt.length,"개 × 50개"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"조회수 상위"})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800",children:"수집 설정 상세"}),o.jsxs("div",{className:"space-y-1 text-xs text-green-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"트렌드 수집량:"}),o.jsx("span",{className:"font-medium",children:"200개 (50개씩 4페이지)"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"키워드 수집량:"}),o.jsxs("span",{className:"font-medium",children:[Zt.length*50,"개 (",Zt.length,"개 키워드 × 50개)"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"예상 총 수집량:"}),o.jsxs("span",{className:"font-medium text-green-600",children:[200+Zt.length*50,"개"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"중복 제거:"}),o.jsx("span",{className:"font-medium text-green-600",children:"조회수 높은 것 유지"})]})]})]}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1 bg-blue-100/50 p-2 rounded",children:[o.jsx("p",{children:"✓ 조회수 높은 순 자동 정렬"}),o.jsx("p",{children:"✓ 중복 시 조회수 높은 것 유지"}),o.jsxs("p",{children:["✓ 예상 수집: ",o.jsxs("strong",{children:["약 ",Math.floor((200+Zt.length*50)*.6).toLocaleString(),"~",Math.floor((200+Zt.length*50)*.7).toLocaleString(),"개"]})," (중복 제거 후)"]})]})]}),o.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx($t,{className:"text-sm font-medium text-yellow-900",children:"🇰🇷 한국어 영상만 수집"}),o.jsx(Zi,{checked:(()=>{try{return es().koreanOnly??!0}catch{return!0}})(),onCheckedChange:L=>{const R=es();R.koreanOnly=L,localStorage.setItem("youtubepulse_collection_config",JSON.stringify(R))}})]}),o.jsxs(Bt,{value:(()=>{try{return es().languageFilterLevel||"moderate"}catch{return"moderate"}})(),onValueChange:L=>{const R=es();R.languageFilterLevel=L,localStorage.setItem("youtubepulse_collection_config",JSON.stringify(R))},children:[o.jsx(_t,{className:"text-xs",children:o.jsx(Ft,{})}),o.jsxs(It,{children:[o.jsx(et,{value:"strict",children:"엄격 (제목+설명 모두 한국어)"}),o.jsx(et,{value:"moderate",children:"보통 (제목 또는 채널명 한국어)"}),o.jsx(et,{value:"loose",children:"느슨 (하나라도 한국어 포함)"})]})]})]})]})]}),o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"데이터 수집 키워드"})]}),o.jsxs(Ve,{variant:"secondary",className:"text-sm",children:["총 ",Zt.length,"개"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-purple-900 mb-2",children:"💡 현재 설정된 키워드 목록입니다. 각 키워드당 50개씩 수집됩니다."}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Zt.map((L,R)=>o.jsx(Ve,{variant:"outline",className:"bg-white text-purple-700 border-purple-300",children:L},R))})]}),o.jsxs("div",{className:"text-xs text-purple-700 bg-purple-100/50 p-2 rounded",children:[o.jsx("p",{children:"✓ 키워드별 조회수 상위 50개 수집"}),o.jsxs("p",{children:["✓ 전체 키워드 수집량: ",Zt.length," × 50 = ",Zt.length*50,"개"]}),o.jsxs("p",{children:["✓ 중복 제거 후 최종 수집량: 약 ",Math.floor(Zt.length*50*.6).toLocaleString(),"~",Math.floor(Zt.length*50*.7).toLocaleString(),"개"]})]})]})]}),o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(am,{className:"w-5 h-5 text-orange-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"연동 상태"})]}),Me?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.youtubeApiEnabled?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm font-medium",children:"YouTube API"})]}),o.jsx(Ve,{variant:a.youtubeApiEnabled?"default":"secondary",children:a.youtubeApiEnabled?"연결됨":"연결 안됨"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.customApiEnabled?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm font-medium",children:"커스텀 API"})]}),o.jsx(Ve,{variant:a.customApiEnabled?"default":"secondary",children:a.customApiEnabled?"연결됨":"연결 안됨"})]}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"font-medium text-sm mb-2 text-blue-800",children:"API 설정 상세"}),o.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"YouTube API 키:"}),o.jsx("span",{className:c?"text-green-600 font-medium":"text-red-600",children:c?`설정됨 (${a.youtubeApiKeys.filter(R=>R.trim()).length}개)`:"미설정"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"커스텀 API URL:"}),o.jsx("span",{className:"text-blue-600 font-mono text-xs",children:a.customApiUrl})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"커스텀 API 키:"}),o.jsx("span",{className:a.customApiKey?"text-green-600 font-medium":"text-red-600",children:a.customApiKey?"설정됨":"미설정"})]})]})]})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(al,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-900",children:"IndexedDB 전용 모드"})]}),o.jsxs("p",{className:"text-xs text-blue-700 mb-3",children:["현재 IndexedDB 전용 모드로 실행 중입니다.",o.jsx("br",{}),"서버 API 연결이 필요하지 않습니다."]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"IndexedDB"})]}),o.jsx(Ve,{variant:"default",children:"연결됨"})]})]})})]})]})]})]})};function jA(e,t,r="overwrite"){const n=new Map,a=[];for(const i of e){const l=mh(i.dayKey);n.set(l,{...i,dayKey:l,source:"server",updatedAt:i.updatedAt||Date.now()})}for(const i of t){const l=mh(i.dayKey),c=n.get(l);if(!c)n.set(l,{...i,dayKey:l,source:"local",updatedAt:i.updatedAt||Date.now()});else{const u={dayKey:l,serverData:c,localData:i,resolution:"server"};if(r==="overwrite"){const f={...c,total:Math.max(c.total,i.total),done:Math.max(c.done,i.done),source:"merged",updatedAt:Math.max(c.updatedAt,i.updatedAt||0)};(i.updatedAt||0)>c.updatedAt&&(f.itemsHash=i.itemsHash||c.itemsHash),(i.pendingLocalOps||0)>0&&(f.pendingLocalOps=i.pendingLocalOps),n.set(l,f),u.resolution="merged"}else{const f={...c,total:Math.max(c.total,i.total),done:Math.max(c.done,i.done),source:"merged",updatedAt:Math.max(c.updatedAt,i.updatedAt||0),itemsHash:c.itemsHash||i.itemsHash};(i.pendingLocalOps||0)>0&&(f.pendingLocalOps=(c.pendingLocalOps||0)+i.pendingLocalOps),n.set(l,f),u.resolution="merged"}a.push(u)}}const s=Array.from(n.values()).sort((i,l)=>l.dayKey.localeCompare(i.dayKey));return{mergedDays:s,conflicts:a,stats:{totalDays:s.length,serverDays:e.length,localDays:t.length,mergedDays:s.length,conflicts:a.length}}}function mh(e){try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${e}`);return t.toISOString().split("T")[0]}catch(t){return console.warn(`날짜 정규화 실패: ${e}`,t),e}}function yi(e,t="local"){const r=new Map;return e.forEach(n=>{const a=mh(n.collectionDate||n.uploadDate);r.has(a)||r.set(a,{total:0,done:0,updatedAt:0});const s=r.get(a);s.total++,n.status==="classified"&&s.done++;const i=n.updatedAt?new Date(n.updatedAt).getTime():Date.now();s.updatedAt=Math.max(s.updatedAt,i)}),Array.from(r.entries()).map(([n,a])=>({dayKey:n,total:a.total,done:a.done,updatedAt:a.updatedAt,source:t,pendingLocalOps:t==="local"?0:void 0}))}async function mZ(e=Me){var a;if(!e)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 데이터를 가져올 수 없습니다."),[];const t=1e4,r=`${e}/api/unclassified`;console.log("📡 서버 데이터 요청 시작:",r);const n=Date.now();try{const s=new AbortController,i=setTimeout(()=>{console.warn("⏱️ 서버 요청 타임아웃 (10초) - 요청 중단"),s.abort()},t);try{const l=await fetch(r,{signal:s.signal});clearTimeout(i);const c=Date.now()-n;if(console.log(`📥 서버 응답 받음 (${c}ms):`,{status:l.status,statusText:l.statusText,ok:l.ok}),!l.ok)throw new Error(`서버 응답 실패: ${l.status} ${l.statusText}`);const u=await l.json();if(console.log("📦 서버 응답 데이터:",{hasSuccess:"success"in u,success:u.success,dataLength:((a=u.data)==null?void 0:a.length)||0,isArray:Array.isArray(u.data)}),!u.success||!u.data)return console.warn("⚠️ 서버 응답에 데이터 없음:",u),[];const f=yi(u.data,"server");return console.log(`✅ 서버 데이터 변환 완료: ${f.length}일`),f}catch(l){clearTimeout(i);const c=Date.now()-n;throw console.error(`❌ 서버 요청 실패 (${c}ms):`,{name:l.name,message:l.message,isAbortError:l.name==="AbortError"}),l.name==="AbortError"?new Error("서버 요청 타임아웃 (10초)"):l}}catch(s){return s instanceof Error&&s.message.includes("타임아웃")?console.warn("⚠️ 서버 연결 타임아웃 - 로컬 데이터만 사용합니다"):console.warn("⚠️ 서버 데이터 가져오기 실패 (빈 배열 반환):",s),[]}}async function gZ(){console.log("💾 로컬 데이터 요청 시작...");const e=Date.now();try{const{hybridService:t}=await Qa(async()=>{const{hybridService:s}=await import("./services.BsXJvLmN.js").then(i=>i.f);return{hybridService:s}},__vite__mapDeps([0,1])),r=await t.loadUnclassifiedData(),n=Date.now()-e;console.log(`💾 로컬 데이터 로드 완료 (${n}ms): ${r.length}개 항목`);const a=yi(r,"local");return console.log(`✅ 로컬 데이터 변환 완료: ${a.length}일`),a}catch(t){const r=Date.now()-e;return console.warn(`⚠️ 로컬 데이터 가져오기 실패 (${r}ms):`,t),[]}}async function Wi(e="overwrite",t=Me){console.log("🔄 하이브리드 데이터 로드 시작..."),t||console.log("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터만 사용합니다.");const r=Date.now();try{console.log("📡 서버 및 로컬 데이터 병렬 로드 시작...");const[n,a]=await Promise.all([mZ(t).catch(c=>(console.error("❌ 서버 데이터 로드 실패:",c),[])),gZ().catch(c=>(console.error("❌ 로컬 데이터 로드 실패:",c),[]))]),s=Date.now()-r;console.log(`📊 데이터 로드 완료 (${s}ms): 서버 ${n.length}일, 로컬 ${a.length}일`),console.log("🔄 데이터 병합 시작...");const i=jA(n,a,e),l=Date.now()-r;return console.log(`✅ 병합 완료 (${l}ms): ${i.mergedDays.length}일, 충돌: ${i.conflicts.length}개`),i}catch(n){return console.error("❌ loadAndMergeDays 실패:",n),console.error("❌ 에러 상세:",{message:n instanceof Error?n.message:"알 수 없는 오류",stack:n instanceof Error?n.stack:void 0}),{mergedDays:[],conflicts:[],stats:{serverDays:0,localDays:0,mergedDays:0,conflicts:0}}}}async function vZ(e="http://localhost:3000"){try{console.log("📤 로컬 변경사항 서버 업로드 시작...");const{hybridService:t}=await Qa(async()=>{const{hybridService:c}=await import("./services.BsXJvLmN.js").then(u=>u.f);return{hybridService:c}},__vite__mapDeps([0,1])),r=await t.loadUnclassifiedData();if(!r||r.length===0)return{success:!0,uploaded:0};const a=yi(r,"local").filter(c=>(c.pendingLocalOps||0)>0);if(a.length===0)return console.log("📤 업로드할 로컬 변경사항 없음"),{success:!0,uploaded:0};console.log(`📤 ${a.length}개 일자의 로컬 변경사항 업로드 중...`);const s=a.map(async c=>{try{const u=await fetch(`${e}/api/sync/upload-day`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dayKey:c.dayKey,total:c.total,done:c.done,updatedAt:c.updatedAt,source:"local"})});if(!u.ok)throw new Error(`서버 업로드 실패: ${u.status}`);return!0}catch(u){return console.error(`일자 ${c.dayKey} 업로드 실패:`,u),!1}}),l=(await Promise.all(s)).filter(Boolean).length;return console.log(`📤 로컬 변경사항 업로드 완료: ${l}/${a.length}개 성공`),{success:l>0,uploaded:l,error:l<a.length?"일부 업로드 실패":void 0}}catch(t){return console.error("로컬 변경사항 업로드 실패:",t),{success:!1,uploaded:0,error:t instanceof Error?t.message:"알 수 없는 오류"}}}async function yZ(e="http://localhost:3000",t){try{console.log("📥 서버 변경사항 다운로드 시작...");const r=t?`${e}/api/sync/changes?since=${t}`:`${e}/api/unclassified`,n=await fetch(r);if(!n.ok)throw new Error(`서버 응답 실패: ${n.status}`);const a=await n.json();if(!a.success||!a.data)return{success:!0,downloaded:0,serverDays:[]};const s=yi(a.data,"server");return console.log(`📥 서버에서 ${s.length}개 일자 데이터 다운로드 완료`),{success:!0,downloaded:s.length,serverDays:s}}catch(r){return console.error("서버 변경사항 다운로드 실패:",r),{success:!1,downloaded:0,serverDays:[],error:r instanceof Error?r.message:"알 수 없는 오류"}}}async function xZ(e="http://localhost:3000",t="overwrite"){try{console.log("🔄 전체 동기화 시작...");const r=await vZ(e);r.success||console.warn("로컬 변경사항 업로드 실패, 계속 진행...");const n=await yZ(e);if(!n.success)throw new Error(`서버 데이터 다운로드 실패: ${n.error}`);const{hybridService:a}=await Qa(async()=>{const{hybridService:u}=await import("./services.BsXJvLmN.js").then(f=>f.f);return{hybridService:u}},__vite__mapDeps([0,1])),s=await a.loadUnclassifiedData(),i=yi(s,"local"),l=jA(n.serverDays,i,t),c={lastSync:Date.now(),serverRevision:`server_${Date.now()}`,localRevision:`local_${Date.now()}`,pendingChanges:0,conflicts:l.conflicts.length};return await bZ(c),console.log("✅ 전체 동기화 완료:",{uploaded:r.uploaded,downloaded:n.downloaded,merged:l.mergedDays.length,conflicts:l.conflicts.length}),{success:!0,status:c,mergedDays:l.mergedDays,conflicts:l.conflicts,stats:{uploaded:r.uploaded,downloaded:n.downloaded,conflicts:l.conflicts.length}}}catch(r){return console.error("전체 동기화 실패:",r),{success:!1,status:{lastSync:0,serverRevision:"",localRevision:"",pendingChanges:0,conflicts:0},mergedDays:[],conflicts:[],stats:{uploaded:0,downloaded:0,conflicts:0},error:r instanceof Error?r.message:"알 수 없는 오류"}}}async function bZ(e){try{localStorage.setItem("youtubepulse_sync_status",JSON.stringify(e)),console.log("💾 동기화 상태 저장 완료:",e)}catch(t){console.error("동기화 상태 저장 실패:",t)}}async function wZ(){try{const e=localStorage.getItem("youtubepulse_sync_status");if(e)return JSON.parse(e)}catch(e){console.warn("동기화 상태 로드 실패:",e)}return{lastSync:0,serverRevision:"",localRevision:"",pendingChanges:0,conflicts:0}}async function jZ(e="http://localhost:3000"){try{const t=await wZ();return Date.now()-t.lastSync>5*60*1e3||t.conflicts>0?{needed:!0,reason:t.conflicts>0?"충돌 해결 필요":"오래된 동기화",lastSync:t.lastSync}:{needed:!1,reason:"동기화 불필요",lastSync:t.lastSync}}catch(t){return console.error("동기화 상태 확인 실패:",t),{needed:!0,reason:"상태 확인 실패",lastSync:0}}}function Hi(e){const t=new Map;let r=0;for(const n of e){const a=n.dayKeyLocal||(n.collectionDate?new Date(n.collectionDate).toISOString().split("T")[0]:null)||(n.uploadDate?new Date(n.uploadDate).toISOString().split("T")[0]:null);if(!a){console.warn("⚠️ 날짜 키가 없는 항목 스킵:",n.videoId);continue}const s=`${n.videoId}|${a}`,i=t.get(s);if(!i)t.set(s,n);else{r++;const l=n.viewCount||0,c=i.viewCount||0;if(l>c)t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (조회수 ${c} → ${l})`);else if(l===c){const u=n.status||"unclassified",f=i.status||"unclassified";if(u==="classified"&&f!=="classified")t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (상태 ${f} → ${u})`);else if(u===f){const d=new Date(n.updatedAt||n.createdAt||0).getTime(),h=new Date(i.updatedAt||i.createdAt||0).getTime();d>h&&(t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (시간 ${h} → ${d})`))}}}}return r>0&&console.log(`📊 중복 제거 완료: ${r}개 중복 발견, ${t.size}개 유지`),Array.from(t.values())}class SZ{constructor(){Rt(this,"state",{isOnline:navigator.onLine,lastOnlineCheck:Date.now(),retryQueue:[]});Rt(this,"MAX_RETRY_COUNT",3);Rt(this,"RETRY_DELAY",5e3);Rt(this,"retryTimer",null);Rt(this,"handleOnline",()=>{console.log("🔄 온라인 상태 복원"),this.state.isOnline=!0,this.state.lastOnlineCheck=Date.now(),this.processRetryQueue(),lm.retryLocalQueue()});Rt(this,"handleOffline",()=>{console.log("🔄 오프라인 상태 감지"),this.state.isOnline=!1,this.showOfflineToast()});Rt(this,"checkConnection",async()=>{try{if(!Me)throw new Error("API base URL is not configured.");(await fetch(`${Me}/health`,{method:"HEAD",cache:"no-cache"})).ok?this.state.isOnline||(console.log("🔄 연결 상태 복원 감지"),this.handleOnline()):this.state.isOnline&&(console.log("🔄 연결 상태 손실 감지"),this.handleOffline())}catch(t){this.state.isOnline&&(console.log("🔄 연결 상태 손실 감지 (오류):",t),this.handleOffline())}});Rt(this,"handleDynamicImportFailure",t=>{console.error("❌ 동적 import 실패 - 오프라인 모드 전환:",t),this.showOfflineToast("모듈 로딩 실패 - 오프라인 모드로 전환"),this.enableIndexedDBOnlyMode()});Rt(this,"addToRetryQueue",(t,r)=>{const n=`retry_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;this.state.retryQueue.push({id:n,operation:t,data:r,timestamp:Date.now(),retryCount:0}),console.log(`🔄 재시도 큐에 추가: ${t} (${n})`),this.processRetryQueue()});Rt(this,"processRetryQueue",async()=>{if(this.state.retryQueue.length===0)return;console.log(`🔄 재시도 큐 처리: ${this.state.retryQueue.length}개 항목`);const t=[];for(const r of this.state.retryQueue)try{if(r.retryCount>=this.MAX_RETRY_COUNT){console.log(`❌ 최대 재시도 횟수 초과: ${r.id}`),t.push(r.id);continue}await this.retryOperation(r),t.push(r.id),console.log(`✅ 재시도 성공: ${r.id}`)}catch(n){console.error(`❌ 재시도 실패: ${r.id}`,n),r.retryCount++;const a=this.RETRY_DELAY*Math.pow(2,r.retryCount);console.log(`⏳ 재시도 지연: ${r.id} (${a}ms)`)}this.state.retryQueue=this.state.retryQueue.filter(r=>!t.includes(r.id)),this.state.retryQueue.length>0&&this.scheduleNextRetry()});this.initialize()}initialize(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),setInterval(this.checkConnection,3e4),this.startRetryProcessor()}enableIndexedDBOnlyMode(){console.log("🔄 IndexedDB-only 모드 활성화"),this.state.isOnline=!1,this.showOfflineToast("로컬 데이터만 사용 중")}async retryOperation(t){switch(t.operation){case"auto-collection":console.log("⏭️ 자동 수집 재시도 비활성화 (서버 전용)");break;case"server-sync":await lm.retryLocalQueue();break;default:console.log(`🔄 알 수 없는 작업: ${t.operation}`)}}scheduleNextRetry(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(()=>{this.processRetryQueue()},this.RETRY_DELAY)}startRetryProcessor(){setInterval(()=>{this.state.isOnline&&this.state.retryQueue.length>0&&this.processRetryQueue()},6e4)}showOfflineToast(t){const r=document.createElement("div");r.className="offline-toast",r.textContent=t||"오프라인 모드 - 연결 복원 시 자동 동기화",r.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff6b6b;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      z-index: 10000;
      font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: slideIn 0.3s ease-out;
    `;const n=document.createElement("style");n.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(n),document.body.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},5e3)}getState(){return{...this.state}}destroy(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),this.retryTimer&&clearTimeout(this.retryTimer)}}const SA=new SZ;typeof window<"u"&&(window.offlineResilienceService=SA);async function bd(e={}){const{scope:t="all",silent:r=!1}=e;try{r||console.log(`🔄 fetchAndHydrate 시작 - scope: ${t}`);let n=[],a;if(t==="classified"||t==="all"){const s=await ot.getClassifiedData();s&&s.length>0&&(await ge.saveClassifiedData(s),n=[...n,...s],r||console.log(`✅ 분류 데이터 ${s.length}개 서버 동기화 완료`))}if(t==="unclassified"||t==="all"){const s=await ot.loadUnclassifiedData();s&&s.length>0&&(await ge.saveUnclassifiedData(s),n=[...n,...s],r||console.log(`✅ 미분류 데이터 ${s.length}개 서버 동기화 완료`))}return r||console.log(`✅ fetchAndHydrate 완료 - 총 ${n.length}개 데이터 동기화`),{success:!0,count:n.length,source:"server"}}catch(n){console.error("❌ fetchAndHydrate 실패:",n);try{const a=t==="classified"?await ge.loadClassifiedData():t==="unclassified"?await ge.loadUnclassifiedData():[...await ge.loadClassifiedData()||[],...await ge.loadUnclassifiedData()||[]];return r||console.log(`⚠️ 로컬 데이터로 폴백: ${(a==null?void 0:a.length)||0}개`),{success:!1,count:(a==null?void 0:a.length)||0,source:"local",error:n instanceof Error?n.message:"Unknown error"}}catch{return{success:!1,count:0,source:"local",error:"Both server and local fetch failed"}}}}function Et(e,t={}){const{type:r="info",duration:n=3e3}=t,a=document.getElementById("app-toast");a&&a.remove();const s=document.createElement("div");s.id="app-toast",s.textContent=e;const i={info:"background: #3b82f6; color: white;",success:"background: #10b981; color: white;",warning:"background: #f59e0b; color: white;",error:"background: #ef4444; color: white;"};if(s.style.cssText=`
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 20px;
    border-radius: 8px;
    ${i[r]}
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 10000;
    animation: slideIn 0.3s ease-out;
  `,!document.getElementById("toast-animation-style")){const l=document.createElement("style");l.id="toast-animation-style",l.textContent=`
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(l)}document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOut 0.3s ease-in",setTimeout(()=>s.remove(),300)},n)}const Dt=14,ln=typeof window<"u"&&"showDirectoryPicker"in window,Ba="YouTubePulse-Backups",Kx=()=>{const e=qt(),{logout:t,userEmail:r,userRole:n}=Ar(),[a,s]=v.useState([]),[i,l]=v.useState(!0),[c,u]=v.useState({}),f=n==="admin",[d,h]=T.useState(null),[p,y]=T.useState(""),[m,g]=T.useState(ln?"idle":"unsupported");T.useEffect(()=>{!f&&n&&(console.log("❌ 관리자 권한 없음 - 대시보드로 리다이렉트"),alert("⚠️ 관리자만 접근 가능한 페이지입니다."),e("/dashboard"))},[f,n,e]);const x=()=>{t()};T.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",Jt)},[]);const w=v.useCallback(async()=>{var Y,K;try{const z="auto_collected_api_last_fail",ue=localStorage.getItem(z);if(ue){const ve=Date.now()-parseInt(ue,10);if(ve<3e5){const W=Math.ceil((3e5-ve)/1e3/60);console.log(`⏭️ 자동수집 API 호출 스킵 (서버 연결 실패 후 ${W}분 남음)`);return}}console.log("🤖 자동수집 데이터 로드 시작...");const ce=new AbortController,me=setTimeout(()=>ce.abort(),1e4);try{const ve=await fetch(`${Me}/api/auto-collected`,{signal:ce.signal});if(clearTimeout(me),ue&&localStorage.removeItem(z),console.log("🤖 자동수집 API 응답 상태:",ve.status,ve.ok),ve.ok){const W=await ve.json();if(console.log("🤖 자동수집 API 응답 데이터:",{success:W.success,dataLength:(Y=W.data)==null?void 0:Y.length,dataType:typeof W.data,isArray:Array.isArray(W.data)}),W.success&&W.data&&Array.isArray(W.data)&&W.data.length>0){const oe=W.data;console.log(`🤖 자동수집 데이터 로드 (실제 저장 데이터): ${oe.length}개`);const ae={};oe.forEach(ee=>{let J=ee.dayKeyLocal||ee.day_key_local||ee.collectionDate||ee.collection_date||ee.uploadDate||ee.upload_date;J&&typeof J=="string"&&J.includes("T")&&(J=J.split("T")[0]),J&&(ae[J]||(ae[J]={total:0,classified:0,progress:0}),ae[J].total++,ee.status==="classified"&&ae[J].classified++)}),Object.keys(ae).forEach(ee=>{const J=ae[ee];J.progress=J.total>0?Math.round(J.classified/J.total*100):0}),u(ae),console.log("🤖 자동수집 통계:",ae)}else console.log("🤖 자동수집 API 응답 실패 또는 데이터 없음:",{success:W==null?void 0:W.success,hasData:!!(W!=null&&W.data),dataLength:((K=W==null?void 0:W.data)==null?void 0:K.length)||0,dataType:typeof(W==null?void 0:W.data)})}else console.log("🤖 자동수집 API 호출 실패:",ve.status,ve.statusText)}catch(ve){clearTimeout(me),localStorage.setItem(z,Date.now().toString()),ve.name==="AbortError"?ue||console.warn("⏱️ 자동수집 API 타임아웃 (10초) - 서버 연결 실패. 5분간 자동 호출 스킵합니다."):ue||console.warn("⚠️ 자동수집 API 호출 실패:",ve.message||ve)}}catch(z){console.error("🤖 자동수집 데이터 로드 실패:",z),u({})}},[]),[b,S]=T.useState(!1);T.useEffect(()=>{if(b)return;const Y=setTimeout(()=>{console.warn("⏰ 강제 타임아웃 (35초) - 로딩 상태 강제 해제"),l(!1),S(!0),s([]),C({})},35e3);return(async()=>{console.log(`🔄 ${Dt}일 데이터 관리 페이지 - 데이터 로드 시작`);const z=Date.now(),fe=3e4;try{l(!0),console.log("🔄 하이브리드 데이터 로드 시작...");const ue=new Promise((W,oe)=>{setTimeout(()=>{console.warn("⏱️ 데이터 로드 타임아웃 (30초)"),oe(new Error("데이터 로드 타임아웃 (30초)"))},fe)});let ce;try{ce=await Promise.race([Wi("overwrite"),ue])}catch(W){console.error("❌ 데이터 병합 실패:",W),ce={mergedDays:[],conflicts:[],stats:{serverDays:0,localDays:0,mergedDays:0,conflicts:0}}}console.log("📊 병합 결과:",ce.stats),ce.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",ce.conflicts);const me={};ce.mergedDays.forEach(W=>{me[W.dayKey]={total:W.total,classified:W.done,progress:W.total>0?Math.round(W.done/W.total*100):0}}),C(me),console.log("📊 병합된 dateStats:",me),await w();let ve=await ot.loadUnclassifiedData();if(!ve||ve.length===0)if(console.log("📭 IndexedDB 비어있음 - 서버에서 초기 데이터 다운로드 시도"),Me)try{const W=await fetch(`${Me}/api/unclassified?days=7`);if(W.ok){const oe=await W.json();oe.success&&oe.data&&oe.data.length>0&&(console.log(`📥 서버에서 최근 ${Dt}일 데이터 ${oe.data.length}개 다운로드`),await un.saveDataInBatches(oe.data,500),console.log(`💾 IndexedDB에 ${oe.data.length}개 데이터 저장 완료`),ve=await ot.loadUnclassifiedData())}}catch(W){console.warn("⚠️ 초기 서버 다운로드 실패 - IndexedDB 비어있음",W),console.log("💡 시스템 페이지에서 데이터 수집을 실행하거나 서버 상태를 확인하세요.")}else console.log("⚠️ API_BASE_URL 미설정 - 초기 데이터는 로컬 수집으로만 구성됩니다.");else console.log(`✅ IndexedDB에서 데이터 로드: ${ve.length}개 (수집 시 자동 갱신됨)`),Me&&(console.log("🔄 백그라운드 자동 동기화 시작..."),setTimeout(async()=>{try{const W=Date.now(),oe=await fetch(`${Me}/api/unclassified?days=7`);if(oe.ok){const ae=await oe.json();if(ae.success&&ae.data&&ae.data.length>0){const ee=ae.data.length,J=(ve==null?void 0:ve.length)||0;if(ee>J){console.log(`📥 자동 동기화: 서버 ${ee}개 > 로컬 ${J}개`),console.log("🗑️ 자동 동기화: 서버 데이터 날짜별 선택적 삭제 중...");const X=[...new Set(ae.data.map(De=>De.dayKeyLocal||De.collectionDate||De.uploadDate).filter(De=>De))];console.log(`📅 자동 동기화 삭제할 날짜들: ${X.join(", ")}`);for(const De of X){const rt=await un.clearDataByDate(De);console.log(`🗑️ 자동 동기화 ${De} 날짜 데이터 삭제: ${rt}개`)}await un.saveDataInBatches(ae.data,500),console.log(`✅ 자동 동기화 완료: ${ee}개 (${Date.now()-W}ms)`),window.dispatchEvent(new CustomEvent("data-updated",{detail:{type:"autoSync",count:ee}}))}else console.log(`✅ 자동 동기화: 최신 상태 (서버 ${ee}개 = 로컬 ${J}개)`)}}}catch(W){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",W)}},1e3));if(ve&&ve.length>0){const W=Ge(),oe=ve.map(J=>{const X=J.category==="해외채널"?{...J,category:"",subCategory:"",status:"unclassified"}:J;return{...X,collectionDate:X.collectionDate||X.uploadDate||W,dayKeyLocal:X.dayKeyLocal||X.collectionDate||X.uploadDate}});console.log("🔄 중복 제거 전:",oe.length,"개 항목");const ae=Hi(oe);console.log("✅ 중복 제거 후:",ae.length,"개 항목"),console.log("📊 제거된 중복:",oe.length-ae.length,"개"),s(ae),console.log("✅ 하이브리드 서비스에서 로드 완료:",ae.length);const ee={};ae.forEach(J=>{const X=J.dayKeyLocal||J.collectionDate||J.uploadDate;if(!X||(J.collectionType||"manual")!=="manual")return;const rt=X.split("T")[0];ee[rt]||(ee[rt]={total:0,classified:0,progress:0}),ee[rt].total++,J.status==="classified"&&ee[rt].classified++}),Object.keys(ee).forEach(J=>{const X=ee[J];X.progress=X.total>0?Math.round(X.classified/X.total*100):0}),C(ee),console.log("📊 실제 데이터 기반 dateStats 재계산 (수동수집만):",ee)}else{const W=localStorage.getItem("youtubepulse_channels"),oe=localStorage.getItem("youtubepulse_videos");if(W&&oe){const ae=JSON.parse(W),ee=JSON.parse(oe),J=[];let X=1;Object.values(ae).forEach(De=>{(ee[De.id]||[]).forEach(Ie=>{J.push({id:X++,channelId:De.id,channelName:De.name,description:De.description||"설명 없음",videoId:Ie.id,videoTitle:Ie.title,videoDescription:Ie.description||"설명 없음",viewCount:Ie.viewCount||0,uploadDate:Ie.uploadDate||Ge(),category:"",subCategory:"",status:"unclassified"})})}),J.length>0?(console.log("🔄 localStorage 데이터를 하이브리드 저장소로 마이그레이션:",J.length,"개"),await ot.saveUnclassifiedData(J),s(J)):(console.log("📊 실제 데이터가 없습니다. 데이터 수집을 먼저 진행해주세요."),s([]))}else console.log("📊 실제 데이터가 없습니다. 데이터 수집을 먼저 진행해주세요."),s([])}S(!0),console.log("✅ loadData 함수 성공 완료")}catch(ue){console.error("❌ 데이터 로드 실패:",ue),console.error("❌ 에러 상세:",{message:ue instanceof Error?ue.message:"알 수 없는 오류",stack:ue instanceof Error?ue.stack:void 0,loadTime:Date.now()-z}),s([]),C({})}finally{clearTimeout(Y);const ue=Date.now()-z;console.log(`🔄 loadData 함수 완료 (${ue}ms) - isLoading을 false로 설정`),l(!1),S(!0),console.log("✅ setIsLoading(false) 호출 완료")}})(),()=>{clearTimeout(Y)}},[b,w]);const[j,N]=v.useState({retentionDays:14,autoCleanup:!0}),[A,P]=v.useState(()=>{const K=new URLSearchParams(window.location.search).get("date");return K||new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}),[E,B]=v.useState([]),[_,C]=v.useState({});T.useEffect(()=>()=>{},[]);const U=v.useCallback(async(Y,K)=>{var z,fe;if(!Y)return!1;try{const ue=K?"readwrite":"read";if("queryPermission"in Y){const ce=await((z=Y.queryPermission)==null?void 0:z.call(Y,{mode:ue}));if(ce==="granted")return!0;if(ce==="denied")return!1}if("requestPermission"in Y)return await((fe=Y.requestPermission)==null?void 0:fe.call(Y,{mode:ue}))==="granted"}catch(ue){console.warn("📁 백업 폴더 권한 확인 실패:",ue)}return!1},[]),I=v.useCallback(async Y=>{var K;if(!ln)return Et("현재 브라우저는 백업 폴더 지정을 지원하지 않습니다.","warning"),null;try{let z=d;if(z&&!(Y!=null&&Y.forcePrompt)&&await U(z,!0))return g("ready"),z;if(z=await((K=window.showDirectoryPicker)==null?void 0:K.call(window,{id:"youtubepulse-backups",mode:"readwrite",startIn:"downloads"})),z&&await U(z,!0)){h(z),y(z.name??Ba),g("ready");try{await ge.saveBackupDirectoryHandle(z)}catch(ue){console.warn("📁 백업 폴더 핸들 저장 실패 (무시 가능):",ue)}return z}}catch(z){(z==null?void 0:z.name)==="AbortError"?console.log("📁 백업 폴더 선택이 취소되었습니다."):(console.error("📁 백업 폴더 선택 실패:",z),Et("백업 폴더를 선택하지 못했습니다.","error"))}g("denied");try{await ge.clearBackupDirectoryHandle()}catch(z){console.warn("📁 백업 폴더 핸들 초기화 실패 (무시 가능):",z)}return null},[d,U]),F=v.useCallback(async(Y,K)=>{if(!ln)return!1;const z=await I();if(!z)return!1;try{const ce=await(await(await z.getDirectoryHandle(Ba,{create:!0})).getFileHandle(Y,{create:!0})).createWritable();return await ce.write(K),await ce.close(),g("ready"),y(z.name??Ba),!0}catch(fe){return console.error("📁 백업 폴더에 파일 저장 실패:",fe),Et("백업 폴더에 저장하지 못했습니다. 다른 폴더를 선택해주세요.","error"),!1}},[I]),$=v.useCallback((Y,K)=>{const z=URL.createObjectURL(K),fe=document.createElement("a");fe.href=z,fe.download=Y,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(z)},[]),O=v.useCallback(async()=>{if(!ln){Et("현재 브라우저는 폴더 지정을 지원하지 않습니다.","warning");return}await I({forcePrompt:!0})&&Et("백업 폴더가 설정되었습니다.","success")},[I]),k=v.useCallback(async()=>{try{await ge.clearBackupDirectoryHandle(),h(null),y(""),g(ln?"idle":"unsupported"),Et("백업 폴더 설정을 삭제했습니다.","success")}catch(Y){console.error("📁 백업 폴더 초기화 실패:",Y),Et("백업 폴더 초기화에 실패했습니다.","error")}},[]);T.useEffect(()=>{ln&&(async()=>{try{const Y=await ge.getBackupDirectoryHandle();Y&&(await U(Y,!1)?(h(Y),y(Y.name??Ba),g("ready")):(g("denied"),await ge.clearBackupDirectoryHandle()))}catch(Y){console.warn("📁 백업 폴더 핸들 로드 실패:",Y)}})()},[U]),T.useEffect(()=>{const Y=z=>{var ue;if(console.log("🔄 데이터 업데이트 이벤트 감지:",z.detail),(ue=z.detail)!=null&&ue.preserveBackupData&&a.length>0){console.log("🔒 백업 데이터 보존 모드 - 데이터 로드 차단 (UI에 데이터 있음)");return}if(a.length===0&&console.log("🔄 UI에 데이터 없음 - 강제 데이터 로드 실행"),!z.detail||Object.keys(z.detail).length===0){console.log("🔒 빈 이벤트 감지 - 데이터 로드 차단");return}if(z.detail.type==="pageFocus")console.log("🔄 페이지 포커스 이벤트 - 데이터 로드 허용");else if(z.detail.type==="dataUpdated")console.log("🔄 데이터 업데이트 이벤트 - 데이터 로드 허용");else if(z.detail.type==="backgroundSync")console.log("🔄 백그라운드 동기화 완료 이벤트 - 서버 데이터로 갱신");else if(z.detail.type==="manualSync")console.log("🔄 수동수집 동기화 완료 이벤트 - 즉시 UI 갱신");else if(z.detail.type==="autoSync")console.log("🔄 자동수집 동기화 완료 이벤트 - 즉시 UI 갱신");else if(z.detail.type==="bulkSaveProgress")console.log("🔄 진행률 일괄 저장 완료 이벤트 - 즉시 UI 갱신");else{console.log("🔒 알 수 없는 이벤트 타입 - 데이터 로드 차단:",z.detail.type);return}(async()=>{try{if(console.log(`🔄 ${Dt}일 데이터 관리 페이지 - 데이터 새로고침 시작`),window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("🔒 백업 복원 중이므로 데이터 로드 차단");return}console.log("🔄 서버와 로컬 데이터 병합 중...");const ce=await Wi("overwrite");console.log("📊 병합 결과:",ce.stats),ce.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",ce.conflicts);const me={};console.log("📊 병합 완료, 실제 데이터에서 수동수집 통계 재계산 예정"),await w();const ve=await ot.loadUnclassifiedData();if(ve&&ve.length>0){const W=Ge(),oe=ve.map(J=>{const X=J.category==="해외채널"?{...J,category:"",subCategory:"",status:"unclassified"}:J;return{...X,collectionDate:X.collectionDate||X.uploadDate||W,dayKeyLocal:X.dayKeyLocal||X.collectionDate||X.uploadDate}});console.log("🔄 중복 제거 전:",oe.length,"개 항목");const ae=Hi(oe);console.log("✅ 중복 제거 후:",ae.length,"개 항목"),console.log("📊 제거된 중복:",oe.length-ae.length,"개"),s(ae),console.log("✅ 하이브리드 서비스에서 로드 완료:",ae.length);const ee={};ae.forEach(J=>{const X=J.dayKeyLocal||J.collectionDate||J.uploadDate;if(!X||(J.collectionType||"manual")!=="manual")return;const rt=X.split("T")[0];ee[rt]||(ee[rt]={total:0,classified:0,progress:0}),ee[rt].total++,J.status==="classified"&&ee[rt].classified++}),Object.keys(ee).forEach(J=>{const X=ee[J];X.progress=X.total>0?Math.round(X.classified/X.total*100):0}),C(ee),console.log("📊 페이지 포커스 - dateStats 재계산 (수동수집만):",ee)}else console.log("📊 저장된 데이터 없음"),s([]);console.log(`✅ ${Dt}일 데이터 관리 페이지 - 데이터 새로고침 완료`)}catch(ce){console.error("❌ 데이터 새로고침 실패:",ce)}})()};window.addEventListener("dataUpdated",Y);const K=()=>{if(window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("🔒 복원 중이므로 포커스 동기화 차단");return}console.log("🔄 페이지 포커스 감지, 데이터 새로고침"),Y(new CustomEvent("dataUpdated",{detail:{type:"pageFocus",timestamp:Date.now()}}))};return window.addEventListener("focus",K),()=>{window.removeEventListener("dataUpdated",Y),window.removeEventListener("focus",K)}},[w,a.length]),T.useEffect(()=>{(async()=>{try{const z=new Set;for(let ue=0;ue<Dt;ue++){const ce=Cu(-ue);z.add(ce)}const fe=Array.from(z).sort((ue,ce)=>ce.localeCompare(ue));B(fe)}catch(z){console.error("날짜 목록 로드 실패:",z);const fe=[];for(let ue=0;ue<Dt;ue++){const ce=Cu(-ue);fe.push(ce)}console.log("📅 날짜 그리드 생성:",fe),B(fe)}})();const K=rm.onRollover(z=>{console.log("🔄 자정 전환 감지 - 날짜 그리드 재생성:",z),console.time("rollover-render");const fe=new Set;for(let ce=0;ce<Dt;ce++){const me=Cu(-ce);fe.add(me)}const ue=Array.from(fe).sort((ce,me)=>me.localeCompare(ce));B(ue),console.timeEnd("rollover-render"),console.log("✅ 날짜 그리드 재생성 완료:",ue)});return console.log("🔄 서비스 초기화 중..."),console.log("dateRolloverService:",rm),console.log("autoCollectionScheduler:",qA),console.log("offlineResilienceService:",SA),()=>{K()}},[]),a.filter(Y=>Y.status==="classified");const D=(Y,K)=>{console.log("📅 날짜 클릭됨:",Y,"수집타입:",K);const z=K?`/date-classification-detail?date=${Y}&type=${K}`:`/date-classification-detail?date=${Y}`;console.log("🔗 이동할 URL:",z),e(z)},q=async()=>{console.log("🔄 데이터 새로고침 시작..."),S(!1),C({}),u({}),s([]),await(async()=>{try{l(!0),console.log("🔄 하이브리드 데이터 로드 시작...");const K=await Wi("overwrite");console.log("📊 병합 결과:",K.stats),K.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",K.conflicts);const z={};K.mergedDays.forEach(ue=>{z[ue.dayKey]={total:ue.total,classified:ue.done,progress:ue.total>0?Math.round(ue.done/ue.total*100):0}}),C(z),console.log("📊 병합된 dateStats:",z),await w();const fe=await ot.loadUnclassifiedData();if(fe&&fe.length>0){const ue=Ge(),ce=fe.map(ve=>{const W=ve.category==="해외채널"?{...ve,category:"",subCategory:"",status:"unclassified"}:ve;return{...W,collectionDate:W.collectionDate||W.uploadDate||ue,dayKeyLocal:W.dayKeyLocal||W.collectionDate||W.uploadDate}}),me=Hi(ce);s(me),console.log(`✅ 데이터 로드 완료: ${me.length}개`)}else console.log("📭 로드된 데이터가 없습니다"),s([]);S(!0),console.log("✅ setDataLoaded(true) 호출 완료")}catch(K){console.error("데이터 로드 실패:",K),s([]),S(!0)}finally{l(!1),console.log("✅ setIsLoading(false) 호출 완료")}})()},Z=async()=>{try{console.log("📥 서버 데이터 다운로드 시작..."),l(!0),console.log("📥 서버에서 최신 데이터 다운로드 중..."),console.log(`📡 API URL: ${Me}/api/unclassified`);const Y=6e4,K=new AbortController,z=setTimeout(()=>{console.warn("⏱️ 서버 다운로드 타임아웃 (60초) - 요청 중단"),K.abort()},Y);let fe;try{fe=await fetch(`${Me}/api/unclassified`,{signal:K.signal,headers:{"Content-Type":"application/json"}}),clearTimeout(z)}catch(W){if(clearTimeout(z),l(!1),W.name==="AbortError"){const ae=`❌ 서버 연결 타임아웃 (60초)

서버가 응답하지 않습니다.

확인 사항:
1. 인터넷 연결 상태 확인
2. API 서버 상태 확인: ${Me}
3. 방화벽 또는 프록시 설정 확인`;throw alert(ae),new Error("서버 연결 타임아웃")}const oe=`❌ 서버 연결 실패

오류: ${W.message||"알 수 없는 오류"}

API URL: ${Me}/api/unclassified`;throw alert(oe),new Error(`서버 연결 실패: ${W.message||"알 수 없는 오류"}`)}if(!fe.ok){l(!1);const W=`❌ 서버 응답 실패

상태 코드: ${fe.status}
메시지: ${fe.statusText}

API URL: ${Me}/api/unclassified`;throw alert(W),new Error(`서버 응답 실패: ${fe.status} ${fe.statusText}`)}const ue=await fe.json();if(!ue.success||!ue.data){l(!1);const W=`❌ 서버 데이터 없음

서버 응답이 올바르지 않습니다.

응답: ${JSON.stringify(ue,null,2).substring(0,200)}`;throw alert(W),new Error("서버에서 데이터를 가져올 수 없습니다. 서버 응답이 올바르지 않습니다.")}const ce=ue.data;console.log(`📥 서버에서 전체 데이터 다운로드: ${ce.length}개 레코드`),console.log("🔄 서버 데이터 날짜별 선택적 교체 중...");const me=[...new Set(ce.map(W=>W.dayKeyLocal||W.collectionDate||W.uploadDate).filter(W=>W))];console.log(`📅 교체할 날짜들: ${me.join(", ")}`);for(const W of me){const oe=ce.filter(ae=>(ae.dayKeyLocal||ae.collectionDate||ae.uploadDate)===W);console.log(`🔄 ${W} 날짜 데이터 교체 중... (${oe.length}개)`),await un.replaceDataByDate(W,oe),console.log(`✅ ${W} 날짜 데이터 교체 완료: ${oe.length}개`)}console.log("📊 저장된 데이터 로드 중...");const ve=await un.loadAllData();if(ve&&ve.length>0){const W=Ge(),oe=ve.map(J=>{const X=J.category==="해외채널"?{...J,category:"",subCategory:"",status:"unclassified"}:J;return{...X,collectionDate:X.collectionDate||X.uploadDate||W,dayKeyLocal:X.dayKeyLocal||X.collectionDate||X.uploadDate}}),ae=Hi(oe);s(ae);const ee={};ae.forEach(J=>{const X=J.dayKeyLocal||J.collectionDate||J.uploadDate;(J.collectionType||"manual")==="manual"&&X&&(ee[X]||(ee[X]={total:0,classified:0,progress:0}),ee[X].total++,J.status==="classified"&&ee[X].classified++)}),Object.keys(ee).forEach(J=>{const X=ee[J];X.progress=X.total>0?Math.round(X.classified/X.total*100):0}),C(ee),console.log("📊 서버 다운로드 후 dateStats 재계산 (수동수집만):",ee)}alert(`📥 서버 데이터 다운로드 완료!

다운로드: ${ce.length}개
로컬 IndexedDB가 서버 데이터로 업데이트되었습니다.`),window.location.reload()}catch(Y){console.error("❌ 서버 다운로드 실패:",Y);const K=Y instanceof Error?Y.message:"알 수 없는 오류",z=K.includes("타임아웃")||K.includes("연결")?`❌ 서버 연결 실패

${K}

확인 사항:
1. 인터넷 연결 상태 확인
2. API 서버 상태 확인 (${Me})
3. 방화벽 또는 프록시 설정 확인`:`❌ 다운로드 실패

${K}`;alert(z)}finally{l(!1)}},Q=async()=>{if(console.log("🔘 진행률 일괄 저장 버튼 클릭됨"),window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("❌ 백업 복원 중, 일괄 저장 차단"),alert("⚠️ 백업 복원 중입니다. 복원이 완료된 후 다시 시도해주세요.");return}console.log("✅ 진행률 일괄 저장 실행 가능, 시작합니다...");try{l(!0),console.log("💾 진행률 일괄 저장 시작...");const Y=a,K=await ot.loadUnclassifiedData(),z=[...Y];if(K&&K.length>0){const W=new Set(Y.map(ae=>ae.id)),oe=K.filter(ae=>!W.has(ae.id));z.push(...oe)}const fe=Ge(),ue=[];for(let W=Dt-1;W>=0;W--){const oe=new Date(fe);oe.setDate(oe.getDate()-W),ue.push(oe.toISOString().split("T")[0])}console.log(`📊 일괄저장 - 최근 ${Dt}일간 날짜들:`,ue),console.log("📊 일괄저장 - 현재 UI 데이터:",Y.length),console.log("📊 일괄저장 - 기존 데이터:",(K==null?void 0:K.length)||0),console.log("📊 일괄저장 - 전체 데이터 (백업 포함):",z.length),console.log("📊 일괄저장 - 전체 데이터 날짜 분포:",z.reduce((W,oe)=>{const ae=oe.dayKeyLocal||oe.collectionDate||oe.uploadDate;return W[ae]=(W[ae]||0)+1,W},{}));const ce=[];ue.forEach(W=>{const oe=z.filter(ae=>(ae.dayKeyLocal||ae.collectionDate||ae.uploadDate)===W);ce.push(...oe)});const me=[...z];if(console.log("📊 병합 기준 데이터:",{currentUI:Y.length,existing:(K==null?void 0:K.length)||0,merged:me.length}),z.length>0){console.log("📊 전체 데이터 개수:",z.length,"개"),ce.forEach(W=>{const oe=me.findIndex(ae=>ae.id===W.id);oe>=0?(me[oe]={...me[oe],...W,category:W.category,subCategory:W.subCategory,status:W.status,classifiedAt:W.classifiedAt||new Date().toISOString()},console.log(`🔄 데이터 덮어쓰기: ${W.id} - 카테고리: ${W.category}, 상태: ${W.status}`)):me.push(W)});try{console.log(`🔄 IndexedDB 최근 ${Dt}일 데이터 날짜별 교체 시작: ${ue.join(", ")}`);let W=0;for(const ee of ue){const J=me.filter(X=>(X.dayKeyLocal||X.collectionDate||X.uploadDate)===ee);if(J.length===0){console.log(`⏭️ IndexedDB ${ee}: 데이터 없음, 스킵`);continue}console.log(`🔄 IndexedDB ${ee} 데이터 교체 중... (${J.length}개)`),await un.replaceDataByDate(ee,J),console.log(`✅ IndexedDB ${ee} 데이터 교체 완료: ${J.length}개`),W+=J.length}if(console.log(`✅ IndexedDB 전체 데이터 교체 완료: ${W}개 (${Dt}일간)`),Me){console.log("🔄 서버 데이터 교체 저장 시작...");const ee=Date.now(),J=[...new Set(me.map(De=>De.dayKeyLocal||De.collectionDate||De.uploadDate).filter(Boolean))],X=await fetch(`${Me}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:J,data:me})});if(X.ok){const De=await X.json();console.log("✅ 서버 데이터 교체 저장 완료:",De),console.log(`⏱️ 서버 데이터 교체 저장 소요 시간: ${Date.now()-ee}ms`),Et("서버 데이터가 최신 상태로 업데이트되었습니다.",{type:"success"})}else{const De=await X.text();console.error(`❌ 서버 데이터 교체 저장 실패: ${X.status} - ${De}`),Et("서버 데이터 교체 저장에 실패했습니다. 로그를 확인하세요.",{type:"error"})}}if(Me){console.log("🔄 서버 분류 데이터 저장 시작...");const ee=Date.now(),J=await fetch(`${Me}/api/classified/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:ce})});if(J.ok){const X=await J.json();console.log("✅ 서버 분류 데이터 저장 완료:",X),console.log(`⏱️ 서버 분류 데이터 저장 소요 시간: ${Date.now()-ee}ms`)}else{const X=await J.text();console.error(`❌ 서버 분류 데이터 저장 실패: ${J.status} - ${X}`)}}if(console.log(`✅ IndexedDB 전체 데이터 교체 완료: ${W}개 (${Dt}일간)`),Me&&me.length>0){console.log(`🔄 서버 최근 ${Dt}일 데이터 날짜별 교체 시작: ${ue.join(", ")}`);try{let ee=0;for(const J of ue){const X=me.filter(Ie=>(Ie.dayKeyLocal||Ie.collectionDate||Ie.uploadDate)===J);if(X.length===0){console.log(`⏭️ 서버 ${J}: 데이터 없음, 스킵`);continue}console.log(`🔄 서버 ${J} 데이터 교체 중... (${X.length}개)`);const De=await fetch(`${Me}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:[J],data:X})});if(!De.ok)throw new Error(`서버 ${J} 데이터 교체 실패: ${De.status}`);const rt=await De.json();console.log(`✅ 서버 ${J} 데이터 교체 완료: ${rt.inserted||X.length}개`),ee+=rt.inserted||X.length,J!==ue[ue.length-1]&&await new Promise(Ie=>setTimeout(Ie,1e3))}console.log(`🎉 서버 전체 데이터 교체 완료: ${ee}개 (${Dt}일간)`)}catch(ee){console.warn("⚠️ 날짜별 교체 실패, 기존 UPSERT 배치 방식으로 재시도...",ee);const J=500,X=Math.ceil(me.length/J);console.log(`📦 배치 업로드 시작: ${me.length}개 → ${X}개 배치 (500개씩)`);for(let De=0;De<me.length;De+=J){const rt=me.slice(De,De+J),Ie=Math.floor(De/J)+1;console.log(`📦 배치 ${Ie}/${X} 전송 중... (${rt.length}개)`);try{await rs.saveUnclassifiedData(rt),console.log(`✅ 배치 ${Ie}/${X} 전송 완료`)}catch(mt){console.error(`❌ 배치 ${Ie} 전송 실패:`,mt)}De+J<me.length&&await new Promise(mt=>setTimeout(mt,1e3))}console.log(`✅ 서버: 전체 데이터 배치 저장 완료 (${X}개 배치)`)}}const oe=me.filter(ee=>ee.collectionType==="auto"||ee.collectionType===void 0).length,ae=me.filter(ee=>ee.collectionType==="manual").length;if(console.log(`📊 데이터 분류: 수동수집 ${ae}개, 자동수집 ${oe}개`),ae>0){console.log("🔄 [수동수집] 즉시 서버 재조회 시작...");try{const ee=await ot.getClassifiedData();console.log(`📊 [수동수집] 서버 재조회 결과: ${ee.length}개 데이터`),ee.length>0&&(await ge.saveClassifiedData(ee),console.log("✅ [수동수집] IndexedDB 덮어쓰기 완료 (서버 데이터 기준)"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"manualSync",timestamp:Date.now(),count:ee.length}}))),Et(`수동수집 데이터 저장 완료! (${ae.toLocaleString()}개)`,{type:"success",duration:3e3})}catch(ee){console.warn("⚠️ [수동수집] 서버 재조회 실패 (저장은 완료됨):",ee),Et("수동수집 저장 완료! 서버 동기화는 5분 후 자동으로 재시도됩니다.",{type:"info",duration:4e3}),setTimeout(async()=>{const J=performance.now();console.log("🔄 [수동수집-Retry] 백그라운드 재조회 재시도 시작 (5분 경과)");try{const X=await bd({scope:"classified"}),De=Math.round(performance.now()-J);X.success?(console.log(`✅ [수동수집-Retry] 성공 | 건수: ${X.count.toLocaleString()} | 소요: ${De}ms | 소스: ${X.source}`),Et("수동수집 백그라운드 동기화 완료!",{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:X.count}}))):console.warn(`⚠️ [수동수집-Retry] 재시도 실패 | 소스: ${X.source} | 소요: ${De}ms`)}catch(X){const De=Math.round(performance.now()-J);console.error(`❌ [수동수집-Retry] 최종 실패 | 소요: ${De}ms | 오류:`,X)}},5*60*1e3)}}if(oe>0)if(oe<1e4){console.log("🔄 [자동수집-소량] 즉시 서버 재조회 시작...");try{const ee=await ot.getClassifiedData();console.log(`📊 [자동수집-소량] 서버 재조회 결과: ${ee.length}개 데이터`),ee.length>0&&(await ge.saveClassifiedData(ee),console.log("✅ [자동수집-소량] IndexedDB 덮어쓰기 완료 (서버 데이터 기준)"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"autoSync",timestamp:Date.now(),count:ee.length}}))),Et(`자동수집 데이터 저장 완료! (${oe.toLocaleString()}개)`,{type:"success",duration:3e3})}catch(ee){console.warn("⚠️ [자동수집-소량] 서버 재조회 실패 (저장은 완료됨):",ee),Et("자동수집 저장 완료! 서버 동기화는 5분 후 자동으로 재시도됩니다.",{type:"info",duration:4e3}),setTimeout(async()=>{const J=performance.now();console.log("🔄 [자동수집-소량-Retry] 백그라운드 재조회 재시도 시작 (5분 경과)");try{const X=await bd({scope:"classified"}),De=Math.round(performance.now()-J);X.success?(console.log(`✅ [자동수집-소량-Retry] 성공 | 건수: ${X.count.toLocaleString()} | 소요: ${De}ms | 소스: ${X.source}`),Et("자동수집 백그라운드 동기화 완료!",{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:X.count}}))):console.warn(`⚠️ [자동수집-소량-Retry] 재시도 실패 | 소스: ${X.source} | 소요: ${De}ms`)}catch(X){const De=Math.round(performance.now()-J);console.error(`❌ [자동수집-소량-Retry] 최종 실패 | 소요: ${De}ms | 오류:`,X)}},5*60*1e3)}}else console.log("📊 [자동수집-대용량] 백그라운드 동기화 예약"),Et(`자동수집 저장 완료! (${oe.toLocaleString()}개) 백그라운드 동기화는 10분 후 자동 실행됩니다.`,{type:"success",duration:5e3}),setTimeout(async()=>{const ee=performance.now();console.log("🔄 [자동수집-대용량] 백그라운드 동기화 시작 (10분 경과)");try{const J=await bd({scope:"classified"}),X=Math.round(performance.now()-ee);J.success?(console.log(`✅ [자동수집-대용량] 성공 | 건수: ${J.count.toLocaleString()} | 소요: ${X}ms | 소스: ${J.source}`),Et(`자동수집 대용량 백그라운드 동기화 완료! (${J.count.toLocaleString()}개)`,{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:J.count}}))):console.warn(`⚠️ [자동수집-대용량] 실패 | 소스: ${J.source} | 소요: ${X}ms`)}catch(J){const X=Math.round(performance.now()-ee);console.error(`❌ [자동수집-대용량] 최종 실패 | 소요: ${X}ms | 오류:`,J)}},10*60*1e3)}catch(W){throw console.error("❌ 데이터 저장 실패:",W),new Error(`데이터 저장 실패: ${W instanceof Error?W.message:"알 수 없는 오류"}`)}}else console.log("⚠️ 저장할 데이터가 없습니다.");const ve=ue.map(W=>{const oe=z.filter(X=>(X.dayKeyLocal||X.collectionDate||X.uploadDate)===W),ae=oe.length,ee=oe.filter(X=>X.status==="classified").length,J=ae>0?ee/ae*100:0;return{date:W,total:ae,classified:ee,unclassified:ae-ee,progress:Math.round(J),timestamp:new Date().toISOString()}});try{await ot.saveDailyProgress(ve),console.log("✅ IndexedDB: 진행률 데이터 저장 완료")}catch(W){throw console.error("❌ 진행률 데이터 저장 실패:",W),new Error(`진행률 데이터 저장 실패: ${W instanceof Error?W.message:"알 수 없는 오류"}`)}try{console.log("📊 dailySummary 생성 시작...");for(const W of ve){const oe=W.date;console.log(`📊 ${oe} 날짜 dailySummary 생성 중...`);const ae=me.filter(X=>{const De=X.dayKeyLocal||X.collectionDate||X.uploadDate;return De&&De.split("T")[0]===oe});console.log(`📊 ${oe} 날짜 데이터: ${ae.length}개`);const ee={date:oe,categories:{}};[...new Set(ae.map(X=>X.category).filter(Boolean))].forEach(X=>{ee.categories[X]={totalViews:0,count:0,channelCount:0,channels:new Set}}),ae.forEach(X=>{X.category&&(ee.categories[X.category]||(ee.categories[X.category]={totalViews:0,count:0,channelCount:0,channels:new Set}),ee.categories[X.category].totalViews+=X.viewCount||0,ee.categories[X.category].count+=1,ee.categories[X.category].channels.add(X.channelName))}),Object.keys(ee.categories).forEach(X=>{ee.categories[X].channels=Array.from(ee.categories[X].channels),ee.categories[X].channelCount=ee.categories[X].channels.length}),await ge.saveDailySummary(oe,ee),console.log(`✅ ${oe} 날짜 dailySummary 저장 완료:`,Object.keys(ee.categories).length,"개 카테고리")}console.log("✅ 모든 날짜 dailySummary 생성 및 저장 완료")}catch(W){console.error("❌ dailySummary 생성 실패:",W)}if(me.length>0){s(me);const W={};me.forEach(oe=>{const ae=oe.dayKeyLocal||oe.collectionDate||oe.uploadDate;ae&&(W[ae]||(W[ae]={total:0,classified:0,progress:0}),W[ae].total++,oe.status==="classified"&&W[ae].classified++)}),Object.keys(W).forEach(oe=>{const ae=W[oe];ae.progress=ae.total>0?Math.round(ae.classified/ae.total*100):0}),C(W),console.log("📊 로컬 상태 업데이트 완료:",W)}console.log("✅ 진행률 일괄 저장 완료 (IndexedDB), 백업 데이터 보존하며 로컬 상태 업데이트"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"bulkSaveProgress",timestamp:Date.now()}})),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:fe}})),alert(`✅ 최근 ${Dt}일간의 분류 진행률과 ${z.length.toLocaleString()}개의 데이터가 저장되었습니다.

📊 IndexedDB에 저장되었습니다.

🔄 모든 페이지가 자동으로 업데이트됩니다.`)}catch(Y){console.error("진행률 저장 실패:",Y),console.error("오류 상세:",Y);const K=Y instanceof Error?Y.message:"알 수 없는 오류";alert(`❌ 진행률 저장에 실패했습니다.

오류: ${K}

콘솔을 확인하여 자세한 정보를 확인하세요.`)}finally{l(!1)}},ne=async Y=>{try{const K=a.filter(W=>(W.dayKeyLocal||W.collectionDate||W.uploadDate)===Y);if(K.length===0){alert("해당 날짜에 데이터가 없습니다.");return}const z={date:Y,totalCount:K.length,classifiedCount:K.filter(W=>W.status==="classified").length,unclassifiedCount:K.filter(W=>W.status==="unclassified").length,data:K,backupTimestamp:new Date().toISOString(),version:"1.0"},fe=`youtubepulse_backup_${Y}.json`,ue=new Blob([JSON.stringify(z,null,2)],{type:"application/json"});let ce=!1;ln&&(ce=await F(fe,ue)),ce||$(fe,ue);const ve=ce?`✅ ${Y} 날짜 데이터가 백업 폴더(${p||Ba})에 저장되었습니다.`:`✅ ${Y} 날짜 데이터 백업이 완료되었습니다. 다운로드 폴더를 확인해주세요.`;alert(ve)}catch(K){console.error("백업 다운로드 실패:",K),alert("❌ 백업 다운로드에 실패했습니다.")}},te=async()=>{try{const Y={exportDate:new Date().toISOString(),version:"2.0",backupType:"hybrid",summary:(()=>{const me=new Map;[...a].sort((oe,ae)=>(ae.viewCount||0)-(oe.viewCount||0)).forEach(oe=>{const ae=oe.dayKeyLocal||oe.collectionDate||oe.uploadDate;if(!ae)return;const J=`${oe.dayKeyLocal?oe.dayKeyLocal.replace(/-$/,""):ae.split("T")[0]}_${oe.videoId}`;me.has(J)||me.set(J,oe)});const W=Array.from(me.values());return{totalVideos:W.length,classifiedVideos:W.filter(oe=>oe.status==="classified").length,unclassifiedVideos:W.filter(oe=>oe.status==="unclassified").length,manualCollected:W.filter(oe=>oe.collectionType==="manual").length,autoCollected:W.filter(oe=>oe.collectionType==="auto"||oe.collectionType===void 0).length}})(),dailyData:E.slice(0,14).map(me=>{const ve=a.filter(Ie=>(Ie.dayKeyLocal||Ie.collectionDate||Ie.uploadDate)===me),W=new Map;[...ve].sort((Ie,mt)=>(mt.viewCount||0)-(Ie.viewCount||0)).forEach(Ie=>{const mt=`${me}_${Ie.videoId}`;W.has(mt)||W.set(mt,Ie)});const ae=Array.from(W.values()),ee=ae.filter(Ie=>Ie.collectionType==="manual"),J=ae.filter(Ie=>Ie.collectionType==="auto"||Ie.collectionType===void 0),X=ae.length,De=ae.filter(Ie=>Ie.status==="classified").length,rt=X>0?De/X*100:0;return{date:me,total:X,classified:De,unclassified:X-De,progress:Math.round(rt),manualCollected:ee.length,manualClassified:ee.filter(Ie=>Ie.status==="classified").length,autoCollected:J.length,autoClassified:J.filter(Ie=>Ie.status==="classified").length,data:ve}}),allData:a,hybridConfig:{useApiServer:!0,fallbackToLocal:!0,syncEnabled:!0}},K=`youtubepulse_full_backup_${Ge()}.json`,z=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"});let fe=!1;ln&&(fe=await F(K,z)),fe||$(K,z);const ce=fe?`✅ 전체 데이터 백업이 백업 폴더(${p||Ba})에 저장되었습니다.`:"✅ 전체 데이터 백업이 완료되었습니다.";alert(ce)}catch(Y){console.error("전체 백업 실패:",Y),alert("❌ 전체 백업에 실패했습니다.")}},Oe=async Y=>{const K=Y>=1e4?`${(Y/1e4).toFixed(0)}만`:`${Y}`;if(confirm(`⚠️ 조회수 ${K} 미만 영상을 삭제하시겠습니까?

삭제 후 복구할 수 없습니다!`))try{l(!0);const z=await ot.loadUnclassifiedData(),fe=z.filter(me=>me.viewCount>=Y),ue=z.length-fe.length;if(ue===0){alert(`조회수 ${K} 미만 영상이 없습니다.`),l(!1);return}await ge.replaceAllUnclassifiedData(fe),console.log(`✅ 조회수 ${K} 미만 ${ue}개 영상 삭제 완료`),s(fe);const ce={};fe.forEach(me=>{const ve=me.dayKeyLocal||me.collectionDate||me.uploadDate;ve&&(ce[ve]||(ce[ve]={total:0,classified:0,progress:0}),ce[ve].total++,me.status==="classified"&&ce[ve].classified++)}),Object.keys(ce).forEach(me=>{const ve=ce[me];ve.progress=ve.total>0?Math.round(ve.classified/ve.total*100):0}),C(ce),alert(`✅ 조회수 기준 삭제 완료!

🗑️ 삭제된 영상: ${ue}개
✅ 남은 영상: ${fe.length}개

완료되었습니다.`),console.log("✅ 조회수 기준 삭제 완료 - 상태 업데이트됨")}catch(z){console.error("조회수 기준 삭제 실패:",z),alert("❌ 조회수 기준 삭제에 실패했습니다.")}finally{l(!1)}},Le=async()=>{try{l(!0),console.log("🔄 IndexedDB 동기화 시작...");const Y=await jZ();if(!Y.needed){alert(`✅ 동기화 불필요

이유: ${Y.reason}
마지막 동기화: ${new Date(Y.lastSync).toLocaleString("ko-KR")}`);return}const K=await xZ(Me,"overwrite");if(!K.success)throw new Error(K.error||"동기화 실패");const z={};K.mergedDays.forEach(ce=>{z[ce.dayKey]={total:ce.total,classified:ce.done,progress:ce.total>0?Math.round(ce.done/ce.total*100):0}}),C(z),console.log("📊 동기화된 dateStats:",z);const fe=await ot.loadUnclassifiedData();if(fe&&fe.length>0){const ce=Ge(),me=fe.map(ve=>{const W=ve.category==="해외채널"?{...ve,category:"",subCategory:"",status:"unclassified"}:ve;return{...W,collectionDate:W.collectionDate||ce}});s(me)}let ue="";K.conflicts.length>0&&(ue=`
⚠️ 해결된 충돌: ${K.conflicts.length}개`,K.conflicts.forEach(ce=>{console.log(`동기화 충돌 해결: ${ce.dayKey} → ${ce.resolution}`)})),alert(`✅ IndexedDB 동기화 완료!

📊 총 일자: ${K.mergedDays.length}개
📤 업로드: ${K.stats.uploaded}개
📥 다운로드: ${K.stats.downloaded}개
🔄 병합: ${K.stats.conflicts}개
⏰ 동기화 시간: ${new Date(K.status.lastSync).toLocaleString("ko-KR")}`+ue),console.log("✅ IndexedDB 동기화 완료")}catch(Y){console.error("IndexedDB 동기화 실패:",Y),alert("❌ IndexedDB 동기화에 실패했습니다.")}finally{l(!1)}},pe=async()=>{var Y,K;try{l(!0),console.log("🗑️ 일자별 중복 제거 시작...");const ue=(await new Promise((ae,ee)=>{const J=indexedDB.open("YouTubePulseDB",2);J.onerror=()=>ee(J.error),J.onsuccess=()=>ae(J.result)})).transaction(["unclassifiedData"],"readwrite").objectStore("unclassifiedData"),ce=await new Promise((ae,ee)=>{const J=ue.getAll();J.onerror=()=>ee(J.error),J.onsuccess=()=>ae(J.result)});console.log(`📊 전체 데이터: ${ce.length}개 항목`);const me=new Map;for(const ae of ce){const ee=ae.dayKeyLocal||ae.collectionDate||"unknown";me.has(ee)||me.set(ee,[]),me.get(ee).push(ae)}console.log(`📅 일자별 그룹: ${me.size}개`);let ve=0;const W=[];for(const[ae,ee]of me){console.log(`
📅 처리 중: ${ae} (${ee.length}개 항목)`);const J=new Map;for(const rt of ee){const Ie=rt.videoTitle||rt.video_title||"Unknown Title";J.has(Ie)||J.set(Ie,[]),J.get(Ie).push(rt)}let X=0;const De=[];for(const[rt,Ie]of J)if(Ie.length>1){console.log(`  🎬 "${rt}" - ${Ie.length}개 중복 발견`),Ie.sort((sr,On)=>(On.viewCount||0)-(sr.viewCount||0));const mt=Ie[0],Wr=Ie.slice(1);console.log(`    ✅ 유지: ${mt.viewCount||0} 조회수`),console.log(`    🗑️ 삭제: ${Wr.length}개 항목`);for(const sr of Wr)await new Promise((On,Ue)=>{const qe=ue.delete(sr.id);qe.onerror=()=>Ue(qe.error),qe.onsuccess=()=>On(qe.result)});X+=Wr.length,De.push({title:rt,kept:1,removed:Wr.length,maxViews:mt.viewCount||0})}ve+=X,W.push({date:ae,totalItems:ee.length,removed:X,remaining:ee.length-X,details:De}),console.log(`  📊 ${ae}: ${X}개 제거, ${ee.length-X}개 유지`)}console.log(`
🎉 일자별 중복 영상 제거 완료!`),console.log(`📊 총 제거: ${ve}개 항목`),console.log(`📊 남은 항목: ${ce.length-ve}개 항목`);let oe=`🎉 일자별 중복 영상 제거 완료!

`;oe+=`📊 총 제거: ${ve}개 항목
`,oe+=`📊 남은 항목: ${ce.length-ve}개 항목

`,oe+=`📋 일자별 결과:
`,W.forEach(ae=>{ae.removed>0&&(oe+=`  📅 ${ae.date}: ${ae.removed}개 제거
`,ae.details.forEach(ee=>{oe+=`    🎬 "${ee.title}": ${ee.removed}개 제거, ${ee.maxViews} 조회수 유지
`}))}),alert(oe);try{console.log("🔄 서버 중복 정리 시작...");const ae=await fetch(`${Me}/api/cleanup-duplicates`,{method:"POST",headers:{"Content-Type":"application/json"}});if(ae.ok){const ee=await ae.json();console.log("✅ 서버 중복 정리 완료:",ee);const J=`
🔄 서버 중복 정리 결과:
`,X=`📊 서버: ${((Y=ee.stats)==null?void 0:Y.removed)||0}개 제거, ${((K=ee.stats)==null?void 0:K.remaining)||0}개 유지
`;alert(oe+J+X)}else console.log("⚠️ 서버 중복 정리 실패 (계속 진행)"),alert(oe+`

⚠️ 서버 중복 정리는 실패했지만 로컬 정리는 완료되었습니다.`)}catch(ae){console.log("⚠️ 서버 중복 정리 오류:",ae),alert(oe+`

⚠️ 서버 중복 정리는 실패했지만 로컬 정리는 완료되었습니다.`)}window.location.reload()}catch(z){console.error("❌ 일자별 중복 제거 실패:",z),alert("❌ 일자별 중복 제거에 실패했습니다: "+z.message)}finally{l(!1)}},M=async Y=>{try{if(l(!0),console.log("🔄 IndexedDB 자동 수집 데이터 처리 시작..."),Y==="download"){const z=await(await fetch(`${Me}/api/auto-collected`)).json();if(!z.success||!z.data||z.data.length===0){alert("자동 수집된 데이터가 없습니다."),l(!1);return}const fe=z.data[0],ue=fe.data,ce=new Date(fe.collectedAt).toLocaleString("ko-KR");console.log(`📥 자동 수집 데이터: ${ue.length}개 (수집 시간: ${ce})`);const me=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),ve=URL.createObjectURL(me),W=document.createElement("a");W.href=ve,W.download=`auto-collected-${Ge()}.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(ve),alert(`✅ 자동 수집 데이터 다운로드 완료!

수집 시간: ${ce}
데이터: ${ue.length}개`)}else if(Y==="merge"){const K=await Wi("union");console.log("📊 자동 수집 병합 결과:",K.stats);const z={};K.mergedDays.forEach(ce=>{z[ce.dayKey]={total:ce.total,classified:ce.done,progress:ce.total>0?Math.round(ce.done/ce.total*100):0}}),C(z),console.log("📊 자동 수집 병합된 dateStats:",z);const fe=await ot.loadUnclassifiedData();if(fe&&fe.length>0){const ce=Ge(),me=fe.map(ve=>{const W=ve.category==="해외채널"?{...ve,category:"",subCategory:"",status:"unclassified"}:ve;return{...W,collectionDate:W.collectionDate||ce}});s(me)}let ue="";K.conflicts.length>0&&(ue=`
⚠️ 해결된 충돌: ${K.conflicts.length}개`,K.conflicts.forEach(ce=>{console.log(`자동 수집 충돌 해결: ${ce.dayKey} → ${ce.resolution}`)})),alert(`✅ IndexedDB 자동 수집 데이터 병합 완료!

📊 총 일자: ${K.mergedDays.length}개
🔄 병합된 일자: ${K.stats.mergedDays}개
📈 서버 데이터: ${K.stats.serverDays}개
💾 로컬 데이터: ${K.stats.localDays}개
⚠️ 충돌: ${K.stats.conflicts}개${ue}`)}}catch(K){console.error("IndexedDB 자동 수집 데이터 처리 실패:",K),alert("❌ IndexedDB 자동 수집 데이터 처리에 실패했습니다.")}finally{l(!1)}},L=T.useMemo(()=>E.slice(0,Dt),[E]),R=7,H=T.useMemo(()=>L.slice(0,R),[L]),V=L.reduce((Y,K)=>{const z=_[K];return{total:Y.total+((z==null?void 0:z.total)??0),classified:Y.classified+((z==null?void 0:z.classified)??0)}},{total:0,classified:0}),le=L.reduce((Y,K)=>{const z=c[K];return{total:Y.total+((z==null?void 0:z.total)??0),classified:Y.classified+((z==null?void 0:z.classified)??0)}},{total:0,classified:0}),he=V.total+le.total,we=V.classified+le.classified,se=Math.max(he-we,0),Te=he>0?Math.round(we/he*100):0,de=V.total>0?Math.round(V.classified/V.total*100):0,ye=le.total>0?Math.round(le.classified/le.total*100):0,Pe=L.length>0?L[L.length-1]:void 0,Ae=L.length>0?L[0]:void 0,be=T.useMemo(()=>H.map(Y=>{const K=_[Y]||{total:0,classified:0,progress:0},z=c[Y]||{total:0,classified:0,progress:0},fe=z.total>0?Math.round(z.classified/z.total*100):0,ue={total:K.total+z.total,classified:K.classified+z.classified,progress:K.total+z.total>0?Math.round((K.classified+z.classified)/(K.total+z.total)*100):0};return{date:Y,manualStats:K,autoStats:z,autoProgress:fe,totalStats:ue}}),[H,_,c]),We=Y=>{if(!Y)return"날짜 없음";try{return new Date(`${Y}T00:00:00+09:00`).toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"})}catch{return Y}};return i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx(cn,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"데이터를 로드하는 중입니다..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(al,{className:"w-7 h-7 text-primary"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"YouTubePulse"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[f&&o.jsxs(G,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(G,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(G,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsxs(G,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(G,{variant:"outline",onClick:x,children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold text-foreground",children:[Dt,"일 데이터 관리"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["최근 ",Dt,"일 데이터를 관리하고, 아래 표에는 최신 ",H.length,"일을 요약해 제공합니다."]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["💡 세부카테고리는 ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"src/lib/subcategories.ts"}),"에서 관리합니다."]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(No,{className:"w-4 h-4"}),o.jsxs("span",{children:["기간:"," ",Pe&&Ae?`${Pe} ~ ${Ae} (최근 ${L.length}일)`:"데이터 없음"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체 영상"}),o.jsx("p",{className:"text-2xl font-bold mt-2",children:he.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"수동 + 자동"})]}),o.jsx(al,{className:"w-8 h-8 text-primary/60"})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"분류 완료"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:we.toLocaleString()}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["진행률 ",Te,"%"]})]}),o.jsx(aa,{className:"w-8 h-8 text-green-500/70"})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"미분류"}),o.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:se.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"수동 + 자동"})]}),o.jsx(nl,{className:"w-8 h-8 text-red-500/70"})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"수동 진행률"}),o.jsxs(Ve,{variant:"outline",children:[de,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"자동 진행률"}),o.jsxs(Ve,{variant:"outline",children:[ye,"%"]})]}),o.jsxs(G,{variant:"outline",className:"w-full",onClick:()=>M("merge"),children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"자동수집 동기화"]})]})})]}),o.jsxs(je,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ts,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"일별 분류 진행"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(G,{variant:"default",size:"sm",onClick:Q,disabled:!1,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(VA,{className:"w-4 h-4 mr-2"}),"진행률 일괄 저장"]}),o.jsxs(G,{variant:"outline",size:"sm",onClick:Z,children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"최신 서버 데이터 동기화"]}),o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>M("merge"),children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"자동수집 동기화"]}),o.jsxs(G,{variant:"outline",size:"sm",onClick:pe,children:[o.jsx(Ad,{className:"w-4 h-4 mr-2"}),"일자별 중복 제거"]}),o.jsxs(G,{variant:"outline",size:"sm",onClick:async()=>{try{await q(),Et("데이터를 최신 상태로 불러왔습니다.","success")}catch(Y){console.error("로컬 데이터 새로고침 실패:",Y),Et("로컬 데이터 새로고침에 실패했습니다.","error")}},children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"로컬 데이터 새로고침"]}),o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(G,{variant:"outline",size:"sm",children:[o.jsx(Ad,{className:"w-4 h-4 mr-2"}),"조회수 필터"]})}),o.jsxs(Ln,{align:"end",children:[o.jsx(lt,{onClick:()=>Oe(5e4),children:"조회수 5만 미만 삭제"}),o.jsx(lt,{onClick:()=>Oe(1e5),children:"조회수 10만 미만 삭제"})]})]}),o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(G,{variant:"outline",size:"sm",children:[o.jsx(Yi,{className:"w-4 h-4 mr-2"}),"데이터 백업"]})}),o.jsxs(Ln,{align:"end",children:[o.jsx(lt,{onClick:O,disabled:!ln,children:"백업 폴더 설정"}),o.jsx(lt,{onClick:k,children:"백업 폴더 삭제"}),o.jsx(Do,{}),Ae&&o.jsx(lt,{onClick:()=>ne(Ae),children:"오늘 데이터 저장하기"}),o.jsxs(lt,{onClick:te,children:[o.jsx(Yi,{className:"w-4 h-4 mr-2"}),"전체 백업 다운로드"]})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-3",children:be.map(({date:Y,manualStats:K,autoStats:z,autoProgress:fe,totalStats:ue})=>{const ce=K.total===0,me=z.total===0,ve=ue.total===0;return o.jsxs("div",{className:"border rounded-xl p-3 space-y-3 bg-card",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:We(Y)}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>ne(Y),title:`${Y} 데이터 백업 다운로드`,children:o.jsx(zA,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["총 ",ue.total.toLocaleString(),"개 중"," ",ue.classified.toLocaleString(),"개 완료"]}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsx("div",{className:"font-medium text-primary",children:"수동수집"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-primary/10",children:o.jsx("div",{className:"h-2 rounded-full bg-primary transition-all",style:{width:`${Math.min(K.progress??0,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[K.classified.toLocaleString()," /"," ",K.total.toLocaleString()," 완료"]}),o.jsxs(G,{variant:"outline",size:"sm",className:"w-full",disabled:ce,onClick:()=>D(Y,"manual"),children:[o.jsx(ts,{className:"w-4 h-4 mr-1"}),"상세보기"]}),o.jsx("div",{className:"font-medium text-green-600 pt-2",children:"자동수집"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-green-100/80",children:o.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all",style:{width:`${Math.min(fe,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[z.classified.toLocaleString()," / ",z.total.toLocaleString()," 완료"]}),o.jsxs(G,{variant:"outline",size:"sm",className:"w-full",disabled:me,onClick:()=>D(Y,"auto"),children:[o.jsx(ts,{className:"w-4 h-4 mr-1"}),"상세보기"]}),o.jsx("div",{className:"font-medium text-purple-600 pt-2",children:"합계"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-purple-100/80",children:o.jsx("div",{className:"h-2 rounded-full bg-purple-500 transition-all",style:{width:`${Math.min(ue.progress??0,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[ue.classified.toLocaleString()," /"," ",ue.total.toLocaleString()," 완료"]}),o.jsxs(G,{variant:"outline",size:"sm",className:"w-full",disabled:ve,onClick:()=>D(Y,"total"),children:[o.jsx(ts,{className:"w-4 h-4 mr-1"}),"상세보기"]})]})]},Y)})})})]}),o.jsxs(je,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ht,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"데이터 관리"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"보관 기간"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["서버와 클라이언트 모두 최근 ",Dt,"일 데이터를 유지합니다."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"자동 정리"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"매일 새벽 1시(KST)에 로컬 IndexedDB와 서버에서 오래된 데이터가 정리됩니다."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"추가 작업"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>M("download"),children:[o.jsx(Yi,{className:"w-4 h-4 mr-2"}),"자동수집 JSON"]}),o.jsxs(G,{variant:"outline",size:"sm",onClick:Le,children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"전체 동기화"]})]})]})]})]})]})]})},NZ=()=>{const[e]=qx(),t=qt(),{logout:r,userEmail:n,userRole:a}=Ar(),s=a==="admin",i=e.get("date")||new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),l=e.get("type"),[c,u]=v.useState([]),[f,d]=v.useState(!0),[h,p]=v.useState(""),[y,m]=v.useState("all"),[g,x]=v.useState(1),[w]=v.useState(20),[b,S]=v.useState(new Set),[j,N]=v.useState(null),A=Jt,[P,E]=v.useState(!1),[B,_]=v.useState(""),[C,U]=v.useState(""),I=v.useMemo(()=>Object.keys(A),[A]),F=v.useMemo(()=>B?A[B]||[]:[],[B,A]),$=()=>{r(),t("/")};T.useEffect(()=>{!s&&a&&(console.log("❌ 관리자 권한 없음 - 대시보드로 리다이렉트"),alert("⚠️ 관리자만 접근 가능한 페이지입니다."),t("/dashboard"))},[s,a,t]),T.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",Jt)},[]),T.useEffect(()=>{(async()=>{const L=setTimeout(()=>{console.warn("⏰ 강제 타임아웃 (15초) - 로딩 상태 강제 해제"),d(!1)},15e3);try{d(!0);let R=[],H="none";if(console.log("📅 날짜별 데이터 로드 시작:",i),Me)try{if(l==="auto"){console.log("📊 자동수집 데이터 - 전용 API 사용...");const de=new AbortController,ye=setTimeout(()=>de.abort(),1e4);try{const Pe=await fetch(`${Me}/api/auto-collected`,{signal:de.signal});if(clearTimeout(ye),Pe.ok){const Ae=await Pe.json();Ae.success&&Ae.data&&Ae.data.length>0&&(R=Ae.data.filter(be=>{const We=be.collectionDate||be.dayKeyLocal||be.uploadDate;return(We?We.split("T")[0]:"")===i}),H="server-auto",console.log(`✅ 서버에서 자동수집 데이터 로드 (${i}):`,R.length,"개"))}}catch(Pe){clearTimeout(ye),Pe.name!=="AbortError"&&console.warn("⚠️ 자동수집 API 호출 실패:",Pe.message)}}else if(l==="manual"){console.log("📊 수동수집 데이터 - classified API 사용...");const de=new AbortController,ye=setTimeout(()=>de.abort(),1e4);try{const Pe=await fetch(`${Me}/api/classified?date=${i}`,{signal:de.signal});if(clearTimeout(ye),Pe.ok){const Ae=await Pe.json();Ae.success&&Ae.data&&Ae.data.length>0&&(R=Ae.data,H="server-manual",console.log("✅ 서버에서 수동수집 데이터 로드:",R.length,"개"))}}catch(Pe){clearTimeout(ye),Pe.name!=="AbortError"&&console.warn("⚠️ 수동수집 API 호출 실패:",Pe.message)}}else if(l==="total"){console.log("📊 전체 데이터 - unclassified_data 테이블 사용...");const de=new AbortController,ye=setTimeout(()=>de.abort(),1e4);try{const Pe=await fetch(`${Me}/api/unclassified-by-date?date=${i}`,{signal:de.signal});if(clearTimeout(ye),Pe.ok){const Ae=await Pe.json();Ae.success&&Ae.data&&Ae.data.length>0&&(R=Ae.data,H="server-total",console.log("✅ 서버에서 전체 데이터 로드 (수동+자동):",R.length,"개"))}}catch(Pe){clearTimeout(ye),Pe.name!=="AbortError"&&console.warn("⚠️ 전체 데이터 API 호출 실패:",Pe.message)}}}catch(de){console.warn("⚠️ 서버 로드 실패:",de)}else console.warn("⚠️ API_BASE_URL 미설정 - 서버 데이터를 요청할 수 없습니다.");if(R.length===0)try{console.log("📊 서버에 데이터 없음, IndexedDB에서 시도...");const de=await ge.loadUnclassifiedData();l==="auto"?(R=de.filter(ye=>ye.collectionType==="auto"),console.log(`✅ IndexedDB에서 자동수집 데이터만 로드: ${R.length}개 (전체: ${de.length}개)`)):l==="manual"?(R=de.filter(ye=>!ye.collectionType||ye.collectionType==="manual"),console.log(`✅ IndexedDB에서 수동수집 데이터만 로드: ${R.length}개 (전체: ${de.length}개)`)):(R=de,console.log("✅ IndexedDB에서 전체 데이터 로드:",R.length,"개")),H="indexeddb"}catch(de){console.error("❌ IndexedDB 로드 실패:",de),R=[],H="none"}console.log(`📊 데이터 소스: ${H}, 로드된 데이터: ${R.length}개`);const V=R.filter(de=>{if(de.dayKeyLocal&&de.dayKeyLocal.replace(/-$/,"")===i||de.collectionDate&&de.collectionDate.split("T")[0]===i||de.uploadDate&&de.uploadDate.split("T")[0]===i||de.publishedAt&&de.publishedAt.startsWith(i))return!0;if(de.id&&typeof de.id=="string"){const ye=parseInt(de.id.split("_")[0]);if(!isNaN(ye)){const Pe=new Date(ye).toISOString().split("T")[0];if(Pe===i)return console.log("✅ ID 타임스탬프 매치:",Pe),!0}}return!1});let le=V;if(l&&(l==="manual"?le=V.filter(de=>!de.collectionType||de.collectionType==="manual"):l==="auto"&&(le=V.filter(de=>de.collectionType==="auto")),l==="auto")){const de=le.filter(Ae=>Ae.collectionType==="auto").length,ye=le.filter(Ae=>Ae.collectionType===void 0).length,Pe=le.filter(Ae=>Ae.collectionType==="manual").length;console.log("📊 자동수집 필터링 결과 분석:",{auto:de,undefined:ye,manual:Pe,total:le.length})}console.log("📊 필터링된 데이터 개수:",le.length);const he=le.sort((de,ye)=>(ye.viewCount||0)-(de.viewCount||0)),we=new Map;he.forEach(de=>{const ye=`${i}_${de.videoId}`;we.has(ye)||we.set(ye,de)});const se=Array.from(we.values());console.log(`📊 ${i} 중복 제거 완료: ${se.length}개 (제거: ${le.length-se.length}개)`);const Te=se.map(de=>({...de,channelName:de.channelName||"N/A",videoTitle:de.videoTitle||"N/A",description:de.description||"N/A",videoDescription:de.videoDescription||"N/A",viewCount:de.viewCount||0,category:de.category||"",subCategory:de.subCategory||"",status:de.status||"unclassified"}));console.log(`📊 ${i} 날짜 데이터: ${Te.length}개`),u(Te)}catch(R){console.error("데이터 로드 실패:",R),u([])}finally{clearTimeout(L),d(!1)}})()},[i,l]);let O=c.filter(M=>{const L=(M.channelName||"").toLowerCase().includes(h.toLowerCase())||(M.videoTitle||"").toLowerCase().includes(h.toLowerCase());let R=!1;if(y==="all")R=!0;else if(y==="priority"){const H={};c.forEach(le=>{H[le.channelName]||(H[le.channelName]=[]),H[le.channelName].push(le)}),R=(H[M.channelName]||[]).length>1&&(M.status==="unclassified"||M.status==="pending")}else y==="unclassified"?R=M.status==="unclassified"||M.status==="pending"||!M.category||M.category===""||!M.subCategory||M.subCategory==="":R=M.status===y;return L&&R});if(y==="priority"||y==="classified"||y==="unclassified"){const M={};O.forEach(R=>{M[R.channelName]||(M[R.channelName]=[]),M[R.channelName].push(R)}),O=Object.keys(M).sort((R,H)=>M[H].length-M[R].length).flatMap(R=>M[R])}const k=Math.ceil(O.length/w),D=(g-1)*w,q=D+w,Z=O.slice(D,q),Q=v.useCallback((M,L)=>{u(R=>R.map(H=>H.id===M?{...H,...L}:H))},[]),ne=(M,L)=>{S(R=>{const H=new Set(R);return L?H.add(M):H.delete(M),H})},te=M=>{if(M){const L=new Set(Z.map(R=>R.id));S(L)}else S(new Set)},Oe=async()=>{try{console.log("💾 데이터 저장 시작 - 동적 세부카테고리 사용:",A);const M=c.filter(se=>se.status==="classified");console.log(`📊 실제 분류 완료 영상 수: ${M.length}개`),console.log("💾 IndexedDB 날짜별 업데이트 - 미분류 데이터"),await ge.updateUnclassifiedDataByDate(c,i),console.log("💾 IndexedDB 날짜별 업데이트 - 분류 데이터"),await ge.updateClassifiedDataByDate(M,i),console.log("💾 서버 날짜별 업데이트 시작..."),console.log(`💾 IndexedDB 날짜별 선택적 교체 저장: ${i}`);const L=c.filter(se=>se.dayKeyLocal===i||se.collectionDate===i||se.uploadDate===i);if(console.log(`📊 해당 날짜(${i}) 데이터 필터링: ${c.length}개 → ${L.length}개`),await un.replaceDataByDate(i,L),console.log(`✅ IndexedDB ${i} 날짜 데이터 교체 완료: ${L.length}개`),console.log(`💾 서버 저장 - 현재 날짜(${i}) 데이터 교체`),L.length>0)try{const Te=Math.ceil(L.length/500);console.log(`🗑️ ${i} 기존 데이터 삭제 중...`);const de=await fetch(`${Me}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:[i],data:[]})});if(!de.ok)throw new Error(`기존 데이터 삭제 실패: ${de.status}`);if(console.log(`✅ ${i} 기존 데이터 삭제 완료`),c.length<=500)console.log(`📤 미분류 데이터 전송: ${c.length}개`),await rs.saveUnclassifiedData(c),console.log("✅ 서버 미분류 데이터 저장 완료");else{console.log(`📦 미분류 데이터 배치 업로드 시작: ${c.length}개 → ${Te}개 배치 (500개씩)`);for(let ye=0;ye<c.length;ye+=500){const Pe=c.slice(ye,ye+500),Ae=Math.floor(ye/500)+1;console.log(`📦 미분류 배치 ${Ae}/${Te} 전송 중... (${Pe.length}개)`);try{await rs.saveUnclassifiedData(Pe),console.log(`✅ 미분류 배치 ${Ae}/${Te} 전송 완료`)}catch(be){throw console.error(`❌ 미분류 배치 ${Ae} 전송 실패:`,be),be}ye+500<c.length&&await new Promise(be=>setTimeout(be,500))}console.log(`✅ 서버 미분류 데이터 배치 저장 완료 (${Te}개 배치)`)}}catch(se){console.error("❌ 서버 저장 실패:",se),alert(`⚠️ 서버 저장에 실패했지만 로컬에는 저장되었습니다.

에러: ${se instanceof Error?se.message:"알 수 없는 오류"}`)}if(M.length>0){console.log(`💾 분류 데이터 날짜별 선택적 교체 저장: ${i}`),await un.replaceDataByDate(i,M),console.log(`✅ IndexedDB ${i} 날짜 분류 데이터 교체 완료: ${M.length}개`),console.log(`💾 서버 저장 - 현재 날짜(${i}) 분류 데이터만 전송`);try{const Te=Math.ceil(M.length/500);if(M.length<=500)console.log(`📤 현재 날짜 분류 데이터 전송: ${M.length}개`),await rs.saveClassifiedData(M),console.log("✅ 서버 분류 데이터 저장 완료");else{console.log(`📦 분류 데이터 배치 업로드 시작: ${M.length}개 → ${Te}개 배치 (500개씩)`);for(let de=0;de<M.length;de+=500){const ye=M.slice(de,de+500),Pe=Math.floor(de/500)+1;console.log(`📦 분류 배치 ${Pe}/${Te} 전송 중... (${ye.length}개)`);try{await rs.saveClassifiedData(ye),console.log(`✅ 분류 배치 ${Pe}/${Te} 전송 완료`)}catch(Ae){throw console.error(`❌ 분류 배치 ${Pe} 전송 실패:`,Ae),Ae}de+500<M.length&&await new Promise(Ae=>setTimeout(Ae,500))}console.log(`✅ 서버 분류 데이터 배치 저장 완료 (${Te}개 배치)`)}}catch(se){console.error("❌ 서버 분류 데이터 저장 실패:",se),alert(`⚠️ 서버 분류 데이터 저장에 실패했지만 로컬에는 저장되었습니다.

에러: ${se instanceof Error?se.message:"알 수 없는 오류"}`)}}const R={date:i,categories:{}},H=Object.keys(A),V=[...new Set(M.map(se=>se.category).filter(Boolean))];[...new Set([...H,...V])].forEach(se=>{R.categories[se]={totalViews:0,count:0,channelCount:0,channels:new Set}}),M.forEach(se=>{se.category&&(R.categories[se.category]||(R.categories[se.category]={totalViews:0,count:0,channelCount:0,channels:new Set}),R.categories[se.category].totalViews+=se.viewCount||0,R.categories[se.category].count+=1,R.categories[se.category].channels.add(se.channelName))}),Object.keys(R.categories).forEach(se=>{R.categories[se].channels=Array.from(R.categories[se].channels),R.categories[se].channelCount=R.categories[se].channels.length}),await ge.saveDailySummary(i,R);const he={date:i,total:c.length,classified:M.length,progress:c.length>0?Math.round(M.length/c.length*100):0};await ge.saveDailyProgress(he);const we={type:"dataSaved",date:i,dataCount:c.length,classifiedCount:M.length,timestamp:tl()};window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{...we,preserveBackupData:!0}})),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{date:i}})),window.dispatchEvent(new CustomEvent("categoriesUpdated")),window.dispatchEvent(new CustomEvent("categoryDataUpdated",{detail:{date:i,classifiedData:M,dailySummary:R}})),window.dispatchEvent(new CustomEvent("channelDataUpdated",{detail:{date:i,classifiedData:M}})),window.dispatchEvent(new CustomEvent("trendingVideosUpdated",{detail:{date:i,classifiedData:M}})),console.log("📡 모든 동기화 이벤트 발생:",we),alert("✅ 데이터 저장 완료! 국내 대시보드, 상세 페이지들, 데이터 분류 관리 페이지에 반영되었습니다.")}catch(M){console.error("데이터 저장 실패:",M),alert("❌ 데이터 저장에 실패했습니다.")}},Le=()=>{try{const M=c.length,L=c.filter(ye=>ye.status==="classified").length,R=M-L,H=M>0?Math.round(L/M*100):0,V=c.filter(ye=>!ye.collectionType||ye.collectionType==="manual"),le=c.filter(ye=>ye.collectionType==="auto"||ye.collectionType===void 0);console.log("📊 수집 타입 분류:",{total:c.length,manual:V.length,auto:le.length,undefined:c.filter(ye=>!ye.collectionType).length});const he={exportDate:tl(),version:"2.0",backupType:"hybrid",summary:{totalVideos:M,classifiedVideos:L,unclassifiedVideos:R,manualCollected:V.length,autoCollected:le.length},dailyData:[{date:i,total:M,classified:L,unclassified:M-L,progress:H,manualCollected:V.length,manualClassified:V.filter(ye=>ye.status==="classified").length,autoCollected:le.length,autoClassified:le.filter(ye=>ye.status==="classified").length,data:c}],allData:c,hybridConfig:{useApiServer:!0,fallbackToLocal:!0,syncEnabled:!0}},we=JSON.stringify(he,null,2),se=new Blob([we],{type:"application/json"}),Te=URL.createObjectURL(se),de=document.createElement("a");de.href=Te,de.download=`youtubepulse_hybrid_${i}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(Te),console.log(`📤 ${i} 하이브리드 백업 내보내기 완료:`,he),alert(`✅ ${i} 하이브리드 백업이 성공적으로 내보내졌습니다!

📊 총 ${M}개 영상 (분류완료: ${L}개, 미분류: ${R}개)
🔧 수동수집: ${V.length}개, 자동수집: ${le.length}개`)}catch(M){console.error("❌ 데이터 내보내기 실패:",M),alert("❌ 데이터 내보내기에 실패했습니다.")}},pe=()=>{const M=document.createElement("input");M.type="file",M.accept=".json",M.onchange=L=>{var V;const R=(V=L.target.files)==null?void 0:V[0];if(!R)return;const H=new FileReader;H.onload=async le=>{var he;try{const we=(he=le.target)==null?void 0:he.result,se=JSON.parse(we);if(console.log("📁 백업 파일 로드:",se),console.log("🔍 백업 데이터 구조 확인:",{hasAllData:!!se.allData,allDataIsArray:Array.isArray(se.allData),hasData:!!se.data,dataIsArray:Array.isArray(se.data),backupKeys:Object.keys(se)}),(!se.allData||!Array.isArray(se.allData))&&(!se.data||!Array.isArray(se.data)))throw new Error("유효하지 않은 백업 파일입니다. data 또는 allData 배열이 필요합니다.");const Te=new Date,ye=new Date(Te.getTime()+9*60*60*1e3).toISOString().split("T")[0];if(se.selectedDate!==i&&!confirm(`백업 파일의 날짜(${se.selectedDate})와 현재 선택된 날짜(${i})가 다릅니다.
그래도 복원하시겠습니까?`))return;const Pe=se.allData||se.data;u(Pe),await ge.updateUnclassifiedDataByDate(Pe,i),se.categories&&(await ge.saveCategories(se.categories),window.dispatchEvent(new CustomEvent("categoriesUpdated")));const Ae=Pe.filter(Y=>Y.status==="classified");await ge.updateClassifiedDataByDate(Ae,i);const be={totalItems:Pe.length,classifiedItems:Ae.length,unclassifiedItems:Pe.length-Ae.length,categories:{}};Ae.forEach(Y=>{Y.category&&Y.subCategory&&(be.categories[Y.category]||(be.categories[Y.category]={totalViews:0,count:0,channels:new Set,subCategories:{}}),be.categories[Y.category].subCategories[Y.subCategory]||(be.categories[Y.category].subCategories[Y.subCategory]={totalViews:0,count:0}),be.categories[Y.category].totalViews+=Y.viewCount||0,be.categories[Y.category].count+=1,be.categories[Y.category].channels.add(Y.channelName),be.categories[Y.category].subCategories[Y.subCategory].totalViews+=Y.viewCount||0,be.categories[Y.category].subCategories[Y.subCategory].count+=1)}),Object.keys(be.categories).forEach(Y=>{be.categories[Y].channels=Array.from(be.categories[Y].channels),be.categories[Y].channelCount=be.categories[Y].channels.length}),await ge.saveDailySummary(i,be);const We={date:i,total:Pe.length,classified:Ae.length,progress:Pe.length>0?Math.round(Ae.length/Pe.length*100):0};await ge.saveDailyProgress(We);try{const Y=await fetch(`${Me}/api/backup/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Pe,date:i})});if(Y.ok)console.log("✅ 서버 동기화 완료");else{const K=await Y.text();console.log("⚠️ 서버 동기화 실패, 로컬에서만 복원됨:",Y.status,K)}}catch(Y){console.log("⚠️ 서버 연결 실패, 로컬에서만 복원됨:",Y)}window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backupRestored",date:i,dataCount:Pe.length,preserveBackupData:!0}})),console.log(`🔄 ${i} 날짜 데이터 복원 완료:`,se),alert(`✅ ${i} 날짜 데이터가 성공적으로 복원되었습니다!
복원된 데이터: ${Pe.length}개`)}catch(we){console.error("❌ 백업 복원 실패:",we),console.error("❌ 에러 상세:",{message:we instanceof Error?we.message:"알 수 없는 오류",stack:we instanceof Error?we.stack:void 0,error:we}),alert(`❌ 백업 복원에 실패했습니다.

에러: ${we instanceof Error?we.message:"알 수 없는 오류"}

파일을 확인해주세요.`)}},H.readAsText(R)},M.click()};return f?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"데이터를 불러오는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"YouTubePulse"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[s&&o.jsxs(G,{variant:"outline",onClick:()=>t("/user-management"),children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(G,{variant:"outline",onClick:()=>t("/dashboard"),children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(G,{variant:"outline",onClick:()=>t("/trend"),children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(G,{variant:"outline",onClick:()=>t("/data"),children:"📊 데이터"}),o.jsxs(G,{variant:"outline",onClick:()=>t("/system"),children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(G,{variant:"outline",onClick:$,children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs(G,{variant:"outline",onClick:()=>t("/data-classification"),className:"mb-4",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"뒤로가기"]}),o.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["데이터 분류 상세",l&&o.jsxs("span",{className:"ml-2 text-lg",children:[l==="manual"&&"📝 수동수집",l==="auto"&&"🤖 자동수집",l==="total"&&"📊 합계"]})]}),o.jsxs("p",{className:"text-muted-foreground mt-2",children:[new Date(i).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," 수집 데이터",l&&o.jsxs("span",{className:"ml-2 text-sm",children:["(",l==="manual"&&"수동수집 데이터만",l==="auto"&&"자동수집 데이터만",l==="total"&&"수동+자동 전체 데이터",")"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(G,{variant:"outline",onClick:Le,className:"flex items-center space-x-2",children:[o.jsx(Yi,{className:"w-4 h-4"}),o.jsx("span",{children:"일별 내보내기"})]}),o.jsxs(G,{variant:"outline",onClick:pe,className:"flex items-center space-x-2",children:[o.jsx(WA,{className:"w-4 h-4"}),o.jsx("span",{children:"일별 백업 복원하기"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체 데이터"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.length})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"📊"})})]})}),o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"미분류"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.filter(M=>M.status==="unclassified").length})]}),o.jsx(nl,{className:"w-8 h-8 text-orange-600"})]})}),o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"분류 완료"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.filter(M=>M.status==="classified").length})]}),o.jsx(aa,{className:"w-8 h-8 text-green-600"})]})}),o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"진행률"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[c.length>0?Math.round(c.filter(M=>M.status==="classified").length/c.length*100):0,"%"]})]}),o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsxs("span",{className:"text-primary font-bold text-sm",children:[c.length>0?Math.round(c.filter(M=>M.status==="classified").length/c.length*100):0,"%"]})})]})})]}),o.jsx(je,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(yt,{placeholder:"채널명 또는 영상 제목으로 검색...",value:h,onChange:M=>p(M.target.value),className:"pl-10 w-80"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(G,{size:"sm",variant:y==="all"?"default":"outline",onClick:()=>m("all"),className:y==="all"?"bg-gray-600 text-white hover:bg-gray-700":"",children:["전체 보기 (",c.length,")"]}),o.jsx(G,{size:"sm",variant:y==="priority"?"default":"outline",onClick:()=>m("priority"),className:y==="priority"?"bg-blue-600 text-white hover:bg-blue-700":"",title:"같은 채널에 여러 영상이 있는 항목들을 그룹화하여 우선 표시",children:"우선 분류 대상"}),o.jsxs(G,{size:"sm",variant:y==="unclassified"?"default":"outline",onClick:()=>m("unclassified"),className:y==="unclassified"?"bg-orange-600 text-white hover:bg-orange-700":"hover:bg-orange-100",title:"미분류된 항목들을 같은 채널끼리 그룹화하여 표시",children:["미분류만 보기 (",c.filter(M=>M.status==="unclassified").length,")"]}),o.jsxs(G,{size:"sm",variant:y==="classified"?"default":"outline",onClick:()=>m("classified"),className:y==="classified"?"bg-green-600 text-white hover:bg-green-700":"",title:"분류 완료된 항목들을 같은 채널끼리 그룹화하여 표시",children:["분류 완료만 보기 (",c.filter(M=>M.status==="classified").length,")"]})]}),o.jsxs("div",{className:"relative flex items-center space-x-4",children:[o.jsx(G,{onClick:()=>{if(b.size===0){alert("분류할 항목을 선택해주세요.");return}E(!P)},className:"bg-green-600 hover:bg-green-700 text-white",children:"분류"}),o.jsx(G,{onClick:async()=>{if(b.size===0){alert("삭제할 항목을 선택해주세요.");return}const M=`선택된 ${b.size}개 항목을 삭제하시겠습니까?`;if(confirm(M))try{const L=c.filter(H=>!b.has(H.id));u(L);const R=Array.from(b);await ge.deleteUnclassifiedDataByIds(R);try{(await fetch("/api/sync/delete-unclassified",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:R,date:i})})).ok?console.log("✅ 서버 동기화 완료"):console.log("⚠️ 서버 동기화 실패, 로컬에서만 삭제됨")}catch{console.log("⚠️ 서버 연결 실패, 로컬에서만 삭제됨")}S(new Set),E(!1),console.log(`✅ 대량 삭제 완료: ${b.size}개 항목 삭제`),alert(`✅ ${b.size}개 항목이 성공적으로 삭제되었습니다!`)}catch(L){console.error("❌ 삭제 실패:",L),alert("❌ 삭제 중 오류가 발생했습니다.")}},variant:"destructive",children:"삭제"}),o.jsxs(G,{onClick:Oe,className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Jx,{className:"w-4 h-4 mr-2"}),"저장"]})]}),P&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"대량 분류"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["선택된 ",b.size,"개 항목을 분류합니다"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),o.jsxs("select",{value:B,onChange:M=>{_(M.target.value),U("")},className:"w-full p-2 border border-gray-300 rounded-md bg-white text-black",children:[o.jsx("option",{value:"",children:"카테고리를 선택하세요"}),I.map(M=>o.jsx("option",{value:M,children:M},M))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"세부카테고리"}),o.jsxs("select",{value:C,onChange:M=>U(M.target.value),disabled:!B,className:"w-full p-2 border border-gray-300 rounded-md bg-white text-black disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"세부카테고리를 선택하세요"}),F.map(M=>o.jsx("option",{value:M,children:M},M))]})]}),B&&C&&o.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"분류 정보:"})," ",B," → ",C]})}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx(G,{onClick:()=>{E(!1),_(""),U("")},variant:"outline",className:"bg-white text-black border-gray-300 px-6",children:"취소"}),o.jsx(G,{onClick:()=>{if(!B){alert("카테고리를 선택해주세요.");return}if(!C){alert("세부카테고리를 선택해주세요.");return}const M=`선택된 ${b.size}개 항목을 "${B} > ${C}"로 분류하시겠습니까?`;confirm(M)&&(u(L=>L.map(R=>b.has(R.id)?{...R,category:B,subCategory:C,status:C==="기타(미분류)"?"pending":"classified"}:R)),S(new Set),E(!1),_(""),U(""),console.log(`✅ 대량 분류 완료: ${b.size}개 항목을 "${B} > ${C}"로 분류`),alert(`✅ ${b.size}개 항목이 성공적으로 분류되었습니다!`))},className:"bg-green-600 hover:bg-green-700 text-white px-6",children:"확인"})]})]})})})]})]})}),o.jsxs(je,{className:"p-6",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground w-12",children:o.jsx("input",{type:"checkbox",checked:Z.length>0&&b.size===Z.length,onChange:M=>te(M.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"상태"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"채널 정보"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"영상 정보"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"조회수"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"카테고리"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"세부카테고리"})]})}),o.jsx("tbody",{children:Z.map(M=>{var L;return o.jsxs("tr",{className:`border-b cursor-pointer transition-colors ${j===M.id||b.has(M.id)?"bg-blue-600/40 hover:bg-blue-500/50":"hover:bg-gray-700/30"}`,onClick:()=>N(M.id),children:[o.jsx(qn,{className:"align-top py-3 w-12",onClick:R=>R.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:b.has(M.id),onChange:R=>ne(M.id,R.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsx(qn,{className:"align-top py-3",children:o.jsx(Ve,{variant:M.status==="classified"?"default":M.status==="pending"?"secondary":"destructive",className:`text-sm ${M.status==="classified"?"bg-blue-600 text-white hover:bg-blue-700":""}`,children:M.status==="classified"?"완료":M.status==="pending"?"대기":"미분류"})}),o.jsx(qn,{className:"align-top py-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"font-medium text-foreground flex items-center space-x-2",children:[o.jsx("a",{href:`https://www.youtube.com/channel/${M.channelId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"채널 페이지로 이동",children:M.channelName||"N/A"}),(y==="priority"||y==="classified"||y==="unclassified")&&(()=>{const R=O.filter(H=>H.channelName===M.channelName).length;return R>1?o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${y==="priority"?"bg-blue-100 text-blue-800":y==="classified"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[R,"개 영상"]}):null})()]}),o.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:M.description||"N/A"})]})}),o.jsx(qn,{className:"align-top py-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium text-foreground max-w-xs truncate",children:o.jsx("a",{href:`https://www.youtube.com/watch?v=${M.videoId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"영상 페이지로 이동",children:M.videoTitle||"N/A"})}),o.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:M.videoDescription||"N/A"})]})}),o.jsx(qn,{className:"align-top py-3",children:o.jsx("div",{className:"text-sm font-medium text-foreground",children:(M.viewCount||0).toLocaleString()})}),o.jsx(qn,{className:"align-top py-3",onClick:R=>R.stopPropagation(),children:o.jsxs(Bt,{value:M.category||"",onValueChange:R=>Q(M.id,{category:R,subCategory:"",status:"pending"}),children:[o.jsx(_t,{className:"w-32 bg-white text-black border-gray-300",children:o.jsx(Ft,{placeholder:"카테고리"})}),o.jsx(It,{className:"bg-white text-black",children:I.map(R=>o.jsx(et,{value:R,className:"bg-white text-black hover:bg-gray-100",children:R},R))})]})}),o.jsx(qn,{className:"align-top py-3",onClick:R=>R.stopPropagation(),children:o.jsxs(Bt,{value:M.subCategory||"",onValueChange:R=>{const H=M.subCategory==="기타(미분류)"&&R!=="기타(미분류)"?"classified":R==="기타(미분류)"?"pending":"classified";Q(M.id,{subCategory:R,status:H})},disabled:!M.category,children:[o.jsx(_t,{className:"w-32 bg-white text-black border-gray-300",children:o.jsx(Ft,{placeholder:"세부카테고리"})}),o.jsx(It,{className:"bg-white text-black",children:M.category&&((L=A[M.category])==null?void 0:L.map(R=>o.jsx(et,{value:R,className:"bg-white text-black hover:bg-gray-100",children:R},R)))})]})})]},M.id)})})]})}),k>1&&o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[D+1,"-",Math.min(q,O.length)," / ",O.length,"개"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"outline",size:"sm",onClick:()=>x(1),disabled:g===1,title:"처음 페이지로",children:"처음"}),o.jsx(G,{variant:"outline",size:"sm",onClick:()=>x(M=>Math.max(M-1,1)),disabled:g===1,children:"이전"}),o.jsxs("span",{className:"text-sm text-foreground px-3",children:[g," / ",k]}),o.jsx(G,{variant:"outline",size:"sm",onClick:()=>x(M=>Math.min(M+1,k)),disabled:g===k,children:"다음"}),o.jsx(G,{variant:"outline",size:"sm",onClick:()=>x(k),disabled:g===k,title:"끝 페이지로",children:"끝"})]})]})]})]})]})},qn=({className:e,children:t,...r})=>o.jsx("td",{className:e,...r,children:t});function Vx(e){const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60));if(n<1)return"방금 전";if(n<24)return`${n}시간 전`;const a=Math.floor(n/24);return a<7?`${a}일 전`:`${Math.floor(a/7)}주 전`}const AZ=14,CZ=()=>{var P;const e=qt(),t=Js(),{logout:r,userEmail:n}=Ar(),[a,s]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState(!0),[f,d]=v.useState("all"),[h,p]=v.useState("all"),[y,m]=v.useState(Ge()),[g,x]=v.useState([]),w=Jt,b=!!n,S=()=>{r(),e("/")};v.useEffect(()=>{const E=B=>{m(B.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",E),()=>{window.removeEventListener("dashboardDateChanged",E)}},[]),v.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",Jt)},[]),v.useEffect(()=>{const E=[];for(let B=0;B<AZ;B++){const _=new Date;_.setDate(_.getDate()-B),E.push(_.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}x(E),console.log("📅 사용 가능한 날짜 목록:",E)},[]);const j=v.useCallback(async()=>{try{u(!0);const E=await ge.loadClassifiedData(),B=await ge.loadUnclassifiedData(),_=[...E,...B];if(console.log(`📊 조회수 급등 동영상 상세 - IndexedDB에서 분류: ${E.length}개, 미분류: ${B.length}개, 전체: ${_.length}개`),setTimeout(async()=>{try{const[C,U]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),I=[...C,...U];if(I.length>_.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${I.length}개 > 로컬 ${_.length}개`),I&&I.length>0)){const F=y||Ge(),O=I.filter(k=>{const D=k.dayKeyLocal||k.collectionDate||k.uploadDate;return(D?D.split("T")[0]:"")===F&&k.videoTitle}).sort((k,D)=>(D.viewCount||0)-(k.viewCount||0)).slice(0,100).map(k=>{var D;return{id:k.videoId||k.id,thumbnail:k.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((D=k.videoTitle)==null?void 0:D.substring(0,2))||"YT"}`,title:k.videoTitle||"제목 없음",channelName:k.channelName||"채널명 없음",views:k.viewCount||0,timeAgo:Vx(k.uploadDate||k.collectionDate),category:k.category||"미분류",subCategory:k.subCategory||"",uploadDate:k.uploadDate||k.collectionDate,description:k.videoDescription||k.description||""}});s(O),l(O)}}catch(C){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",C)}},1e3),_&&_.length>0){const C=y||Ge(),U=_.filter(F=>{const $=F.dayKeyLocal||F.collectionDate||F.uploadDate;return($?$.split("T")[0]:"")===C&&F.videoTitle}).sort((F,$)=>($.viewCount||0)-(F.viewCount||0)).slice(0,100);console.log(`📊 조회수 급등 동영상 상세 - ${C} 날짜 데이터: ${U.length}개`);const I=U.map(F=>{var O;return{id:F.videoId||F.id,thumbnail:F.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((O=F.videoTitle)==null?void 0:O.substring(0,2))||"YT"}`,title:F.videoTitle||"제목 없음",channelName:F.channelName||"채널명 없음",views:F.viewCount||0,timeAgo:Vx(F.uploadDate||F.collectionDate),category:F.category||"미분류",subCategory:F.subCategory||"",uploadDate:F.uploadDate||F.collectionDate,description:F.videoDescription||F.description||""}});console.log(`📊 조회수 급등 동영상 상세 - 생성된 비디오 데이터: ${I.length}개`),s(I),l(I)}else s([]),l([])}catch(E){console.error("조회수 급등 동영상 데이터 로드 실패:",E),s([]),l([])}finally{u(!1)}},[y]);v.useEffect(()=>{const E=B=>{console.log("🔄 조회수 급등 동영상 상세 데이터 업데이트 이벤트 감지:",B.detail),j()};return j(),window.addEventListener("dataUpdated",E),()=>{window.removeEventListener("dataUpdated",E)}},[y,j]);const N=v.useCallback(()=>{let E=[...a];f!=="all"&&(E=E.filter(B=>B.category===f)),h!=="all"&&(E=E.filter(B=>B.subCategory===h)),l(E)},[f,h,a]);v.useEffect(()=>{N()},[N]);const A=E=>{d(E),p("all")};return c?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"조회수 급등 동영상 데이터를 로드하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Xe,{className:"w-8 h-8 text-red-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"조회수 급등 동영상"}),o.jsxs(Ve,{className:"bg-red-600 text-white",children:[o.jsx(Xe,{className:"w-3 h-3 mr-1"}),"급상승"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[t.pathname==="/dashboard"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}):o.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}),t.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>e("/trend"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}),t.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(G,{variant:"ghost",size:"sm",onClick:()=>e("/data"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"}),t.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>e("/system"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(G,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(hc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[b&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:S,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(je,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-5 h-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"필터 설정"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"날짜:"}),o.jsxs(Bt,{value:y,onValueChange:m,children:[o.jsx(_t,{className:"w-44",children:o.jsx(Ft,{placeholder:"날짜 선택"})}),o.jsx(It,{children:g.map(E=>o.jsx(et,{value:E,children:E===Ge()?`오늘 (${E})`:E},E))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"카테고리:"}),o.jsxs(Bt,{value:f,onValueChange:A,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),Object.keys(w).map(E=>o.jsx(et,{value:E,children:E},E))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리:"}),o.jsxs(Bt,{value:h,onValueChange:p,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),f!=="all"&&((P=w[f])==null?void 0:P.map(E=>o.jsx(et,{value:E,children:E},E))),f!=="all"&&console.log("📊 정치 카테고리 세부카테고리:",w[f])]})]})]})]})]})}),o.jsx(je,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 동영상 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["총 ",i.length,"개 동영상 표시",f!=="all"&&` (${f})`,h!=="all"&&` - ${h}`]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["전체 ",a.length,"개 중"]}),o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[i.length,"개 표시"]})]})]})}),o.jsx(je,{className:"p-6",children:i.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Xe,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"조회수 급등 동영상이 없습니다"}),o.jsx("p",{className:"text-sm mt-2",children:a.length===0?"데이터 수집을 먼저 진행해주세요.":"선택한 필터 조건에 맞는 동영상이 없습니다."})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Xe,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"표가 제거되었습니다"}),o.jsx("p",{className:"text-sm mt-2",children:"조회수 급등 동영상 표시 기능이 비활성화되었습니다."})]})})]})]})},OZ=()=>{const e=qt(),t=()=>{try{"caches"in window&&caches.keys().then(n=>{n.forEach(a=>{caches.delete(a)})});const r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&(a.includes("category")||a.includes("subcategory"))&&r.push(a)}r.forEach(n=>localStorage.removeItem(n)),console.log("🔄 세부카테고리 강제 새로고침 완료"),alert("세부카테고리 캐시를 삭제했습니다! 페이지를 새로고침하세요."),setTimeout(()=>{window.location.reload()},2e3)}catch(r){console.error("세부카테고리 새로고침 오류:",r),alert("세부카테고리 새로고침에 실패했습니다.")}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>e("/system"),children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"시스템으로 돌아가기"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"세부카테고리 설정"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"모든 카테고리와 세부카테고리를 확인하고 관리합니다"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"p-3 mb-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-yellow-800 text-center",children:["💡 ",o.jsx("code",{className:"bg-yellow-100 px-2 py-0.5 rounded font-medium",children:"src/lib/subcategories.ts"})," 에서 수정"]})}),o.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:o.jsxs(G,{variant:"outline",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:t,children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"세부카테고리 새로고침"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx(je,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"총 카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-blue-900",children:im.length}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"개"})]})}),o.jsx(je,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"총 세부카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-green-900",children:Object.values(Jt).reduce((r,n)=>r+n.length,0)}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:"개"})]})}),o.jsx(je,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"평균 세부카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-purple-900",children:Math.round(Object.values(Jt).reduce((r,n)=>r+n.length,0)/im.length)}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"개 / 카테고리"})]})})]}),o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(Dn,{className:"w-5 h-5 text-pink-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"전체 세부카테고리 목록"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.entries(Jt).map(([r,n])=>o.jsxs(je,{className:"p-4 border-2 hover:border-primary/50 transition-colors",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("h3",{className:"font-bold text-lg text-foreground mb-1",children:r}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["총 ",n.length,"개 세부카테고리"]})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:n.map((a,s)=>o.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded hover:bg-muted transition-colors",children:[o.jsxs("span",{className:"text-primary font-medium",children:[s+1,"."]})," ",a]},s))})]},r))})]})]})]})};function wd(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}const PZ=[{value:"changePercent",label:"증감률 높은 순"},{value:"changeAmount",label:"증가분 높은 순"},{value:"todayViews",label:"당일 조회수 높은 순"}],EZ=()=>{var F;const e=qt(),t=Js(),{logout:r,userEmail:n}=Ar(),[a,s]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState(!0),[f,d]=v.useState(Ge()),[h,p]=v.useState([]),[y,m]=v.useState("all"),[g,x]=v.useState("all"),[w,b]=v.useState("changePercent"),S=v.useMemo(()=>!!n,[n]),j=Jt;v.useEffect(()=>{const $=[];for(let O=0;O<14;O++){const k=new Date;k.setDate(k.getDate()-O),$.push(k.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}p($)},[]);const N=v.useCallback(()=>{r(),e("/")},[r,e]),A=v.useCallback($=>{let O=[...$];switch(y!=="all"&&(O=O.filter(k=>k.category===y)),g!=="all"&&(O=O.filter(k=>k.subCategory===g)),w){case"changeAmount":O.sort((k,D)=>D.changeAmount-k.changeAmount);break;case"todayViews":O.sort((k,D)=>D.todayViews-k.todayViews);break;case"changePercent":default:O.sort((k,D)=>D.changePercent-k.changePercent);break}return O},[y,g,w]),P=v.useCallback($=>{if(!$||$.length===0){s([]),l([]);return}const O=f||Ge(),k=$.filter(te=>{const Oe=te.collectionDate||te.uploadDate||te.dayKeyLocal;return Oe&&Oe.split("T")[0]===O&&te.channelId}),D=new Date(new Date(O).getTime()-24*60*60*1e3).toISOString().split("T")[0],q=$.filter(te=>{const Oe=te.collectionDate||te.uploadDate||te.dayKeyLocal;return Oe&&Oe.split("T")[0]===D&&te.channelId});console.log(`📊 급등 채널 상세 - ${O} 데이터 ${k.length}개`),console.log(`📊 급등 채널 상세 - ${D} 데이터 ${q.length}개`);const Z={};k.forEach(te=>{Z[te.channelId]||(Z[te.channelId]={channelId:te.channelId,channelName:te.channelName||"채널명 없음",category:te.category||"기타",subCategory:te.subCategory||"미분류",thumbnail:te.channelThumbnail||te.thumbnailUrl||`https://via.placeholder.com/96x96?text=${(te.channelName||"CH").charAt(0)}`,totalViews:0,videos:[]}),Z[te.channelId].totalViews+=te.viewCount||0,Z[te.channelId].videos.push(te)});const Q={};q.forEach(te=>{Q[te.channelId]=(Q[te.channelId]||0)+(te.viewCount||0)});const ne=Object.values(Z).map(te=>{const Oe=Q[te.channelId]||0,Le=te.totalViews-Oe,pe=Oe>0?Le/Oe*100:te.totalViews>0?100:0,M=[...te.videos].sort((H,V)=>{const le=new Date(H.uploadDate||H.collectionDate||0);return new Date(V.uploadDate||V.collectionDate||0).getTime()-le.getTime()})[0],L=te.videos.find(H=>H.thumbnailUrl&&!H.thumbnailUrl.includes("placeholder")),R=(L==null?void 0:L.thumbnailUrl)||te.thumbnail||`https://via.placeholder.com/96x96?text=${te.channelName.charAt(0)}`;return{id:te.channelId,channelName:te.channelName,category:te.category||"미분류",subCategory:te.subCategory||"",thumbnail:R,todayViews:te.totalViews,yesterdayViews:Oe,changeAmount:Le,changePercent:pe,topVideoUrl:M!=null&&M.videoId?`https://www.youtube.com/watch?v=${M.videoId}`:void 0,topVideoTitle:(M==null?void 0:M.videoTitle)||(M==null?void 0:M.title)||void 0}});s(ne),l(A(ne))},[f,A]),E=v.useCallback(async()=>{u(!0);try{const $=await ge.loadClassifiedData(),O=await ge.loadUnclassifiedData(),k=[...$,...O];console.log(`📊 급등 채널 상세 - IndexedDB에서 분류: ${$.length}개, 미분류: ${O.length}개, 전체: ${k.length}개`),setTimeout(async()=>{try{const[D,q]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),Z=[...D,...q];Z.length>k.length&&(console.log(`🔄 급등 채널 상세 - 서버 데이터 ${Z.length}개 > 로컬 ${k.length}개`),P(Z))}catch(D){console.warn("⚠️ 급등 채널 상세 - 백그라운드 동기화 실패 (무시)",D)}},1e3),P(k)}catch($){console.error("❌ 급등 채널 데이터 로드 실패:",$),s([]),l([])}finally{u(!1)}},[P]),B=v.useCallback(()=>{l(A(a))},[a,A]);v.useEffect(()=>{B()},[B]),v.useEffect(()=>{E()},[E]);const _=$=>{m($),x("all")},C=i.length,U=i.filter($=>$.changeAmount>0).length,I=i.filter($=>$.changeAmount<0).length;return c?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"조회수 급등 채널 데이터를 로드하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ts,{className:"w-8 h-8 text-blue-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"조회수 급등 채널"}),o.jsxs(Ve,{className:"bg-blue-600 text-white",children:[o.jsx(Xe,{className:"w-3 h-3 mr-1"}),"급상승"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[t.pathname==="/dashboard"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}):o.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}),t.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>e("/trend"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}),t.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(G,{variant:"ghost",size:"sm",onClick:()=>e("/data"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"}),t.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>e("/system"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(ha,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(G,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(hc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[S&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:N,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"날짜"}),o.jsxs(Bt,{value:f,onValueChange:d,children:[o.jsx(_t,{className:"w-44",children:o.jsx(Ft,{placeholder:"날짜 선택"})}),o.jsx(It,{children:h.map($=>o.jsx(et,{value:$,children:$===Ge()?`오늘 (${$})`:$},$))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"카테고리"}),o.jsxs(Bt,{value:y,onValueChange:_,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),Object.keys(j).map($=>o.jsx(et,{value:$,children:$},$))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리"}),o.jsxs(Bt,{value:g,onValueChange:x,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),y!=="all"&&((F=j[y])==null?void 0:F.map($=>o.jsx(et,{value:$,children:$},$)))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"정렬"}),o.jsxs(Bt,{value:w,onValueChange:b,children:[o.jsx(_t,{className:"w-48",children:o.jsx(Ft,{placeholder:"정렬 선택"})}),o.jsx(It,{children:PZ.map($=>o.jsx(et,{value:$.value,children:$.label},$.value))})]})]})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-muted/40",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 급등 채널"}),o.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[C.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-success/10",children:[o.jsxs("p",{className:"text-sm text-success mb-1 flex items-center space-x-1",children:[o.jsx(Xe,{className:"w-4 h-4"}),o.jsx("span",{children:"증가 채널"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-success",children:[U.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-destructive/10",children:[o.jsxs("p",{className:"text-sm text-destructive mb-1 flex items-center space-x-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:"감소 채널"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-destructive",children:[I.toLocaleString(),"개"]})]})]})}),o.jsxs(je,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 채널 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[f," 기준 상위 ",i.length,"개 채널",y!=="all"&&` (${y})`,g!=="all"&&` - ${g}`]})]})}),i.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"선택한 조건에 해당하는 채널이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"필터를 변경하거나 데이터를 다시 수집해 주세요."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"bg-muted/50 sticky top-0 z-10",children:o.jsxs(xt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{className:"w-64 text-center",children:"썸네일"}),o.jsx(Fe,{children:"채널 정보"}),o.jsx(Fe,{className:"text-right",children:"당일 조회수"}),o.jsx(Fe,{className:"text-right",children:"전일 조회수"}),o.jsx(Fe,{className:"text-right",children:"증가분"}),o.jsx(Fe,{className:"text-right",children:"증감률"}),o.jsx(Fe,{className:"text-right",children:"대표 영상"})]})}),o.jsx(Kr,{children:i.map(($,O)=>o.jsxs(xt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Re,{className:"text-center font-semibold text-sm",children:O+1}),o.jsx(Re,{children:o.jsx("div",{className:"w-64 h-64 rounded overflow-hidden bg-muted mx-auto",children:o.jsx("img",{src:$.thumbnail,alt:$.channelName,className:"w-full h-full object-cover object-center"})})}),o.jsxs(Re,{className:"space-y-2",children:[o.jsx("div",{className:"font-medium text-foreground",children:$.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{variant:"secondary",className:"text-xs",children:$.category}),o.jsx(Ve,{variant:"outline",className:"text-xs",children:$.subCategory||"미분류"})]})]}),o.jsx(Re,{className:"text-right",children:o.jsx("div",{className:"font-medium text-foreground",children:wd($.todayViews)})}),o.jsx(Re,{className:"text-right",children:o.jsx("div",{className:"text-muted-foreground",children:wd($.yesterdayViews)})}),o.jsx(Re,{className:"text-right",children:o.jsxs("div",{className:_e("font-medium",$.changeAmount>=0?"text-success":"text-destructive"),children:[$.changeAmount>=0?"+":"",wd(Math.abs($.changeAmount))]})}),o.jsx(Re,{className:"text-right",children:o.jsxs("div",{className:_e("flex items-center justify-end space-x-1 font-medium",$.changePercent>=0?"text-success":"text-destructive"),children:[$.changePercent>=0?o.jsx(Xe,{className:"w-4 h-4"}):o.jsx(kn,{className:"w-4 h-4"}),o.jsxs("span",{children:[$.changePercent>=0?"+":"",Math.floor($.changePercent),"%"]})]})}),o.jsx(Re,{className:"text-right",children:$.topVideoUrl?o.jsx("a",{href:$.topVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:text-blue-700 hover:underline",children:$.topVideoTitle||"영상 보기"}):o.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})})]},$.id))})]})})]})]})]})},DZ=[{value:"1.5",label:"1.5배 이상"},{value:"2",label:"2배 이상"},{value:"3",label:"3배 이상"}];function zx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}const TZ=()=>{var _;const e=qt(),{logout:t,userEmail:r}=Ar(),[n,a]=v.useState(!0),[s,i]=v.useState([]),[l,c]=v.useState(Ge()),[u,f]=v.useState("all"),[d,h]=v.useState("all"),[p,y]=v.useState("1.5"),[m,g]=v.useState([]),[x,w]=v.useState([]),b=v.useMemo(()=>!!r,[r]),S=Jt;v.useEffect(()=>{const C=[];for(let U=0;U<14;U++){const I=new Date;I.setDate(I.getDate()-U),C.push(I.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}i(C)},[]);const j=v.useCallback(C=>{if(!C||C.length===0){g([]),w([]);return}const U=l||Ge(),I=C.filter(D=>{const q=D.collectionDate||D.uploadDate||D.dayKeyLocal;return q&&q.split("T")[0]===U&&D.videoTitle});console.log(`📊 평균 대비 고성과 동영상 - ${U} 데이터 ${I.length}개`);const F={};C.forEach(D=>{!D.channelId||!D.viewCount||(F[D.channelId]||(F[D.channelId]={totalViews:0,count:0}),F[D.channelId].totalViews+=D.viewCount,F[D.channelId].count+=1)});const $=new Map;I.forEach(D=>{const q=D.videoId||D.id;if(!q)return;const Z=$.get(q);(!Z||(D.viewCount||0)>(Z.viewCount||0))&&$.set(q,D)});const k=Array.from($.values()).map(D=>{var ne;const q=F[D.channelId],Z=q&&q.count>0?Math.round(q.totalViews/q.count):D.viewCount||0,Q=Z>0?(D.viewCount||0)/Z:0;return{id:D.videoId||D.id,thumbnail:D.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((ne=D.videoTitle)==null?void 0:ne.substring(0,2))||"YT"}`,title:D.videoTitle||"제목 없음",channelName:D.channelName||"채널명 없음",category:D.category||"미분류",subCategory:D.subCategory||"",views:D.viewCount||0,averageViews:Z,performanceRatio:Q,uploadDate:D.uploadDate||"",collectionDate:D.collectionDate||""}}).filter(D=>D.performanceRatio>=parseFloat(p)).sort((D,q)=>q.performanceRatio-D.performanceRatio).slice(0,100);console.log(`📊 평균 대비 고성과 동영상 - 생성된 목록 ${k.length}개`,k.slice(0,3)),g(k),w(A(k,u,d))},[p,u,d,l]),N=v.useCallback(async()=>{a(!0);try{const C=await ge.loadClassifiedData(),U=await ge.loadUnclassifiedData(),I=[...C,...U];console.log(`📊 평균 대비 고성과 동영상 - IndexedDB에서 분류: ${C.length}개, 미분류: ${U.length}개, 전체: ${I.length}개`),j(I),setTimeout(async()=>{try{const[F,$]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),O=[...F,...$];O.length>I.length&&(console.log(`🔄 평균 대비 고성과 동영상 - 서버 데이터 ${O.length}개 > 로컬 ${I.length}개`),j(O))}catch(F){console.warn("⚠️ 평균 대비 고성과 동영상 - 백그라운드 동기화 실패 (무시)",F)}},1e3)}catch(C){console.error("❌ 평균 대비 고성과 동영상 데이터 로드 실패:",C),g([]),w([])}finally{a(!1)}},[j]);v.useEffect(()=>{N()},[N]);const A=(C,U,I)=>{let F=[...C];return U!=="all"&&(F=F.filter($=>$.category===U)),I!=="all"&&(F=F.filter($=>$.subCategory===I)),F},P=v.useCallback(()=>{w(A(m,u,d))},[m,u,d]);v.useEffect(()=>{P()},[P]);const E=C=>{f(C),h("all")},B=x.filter(C=>C.performanceRatio>=1).length;return n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"평균 대비 고성과 동영상을 분석하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(HA,{className:"w-8 h-8 text-amber-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"평균 대비 우수 성과 동영상"}),o.jsxs(Ve,{className:"bg-amber-600 text-white",children:[o.jsx(Nd,{className:"w-3 h-3 mr-1"}),"고성과"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[b&&o.jsxs(G,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(G,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(G,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(G,{variant:"outline",onClick:()=>e("/data"),children:"📊 데이터"}),o.jsxs(G,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(sm,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(G,{variant:"outline",onClick:()=>{t(),e("/")},children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"날짜"}),o.jsxs(Bt,{value:l,onValueChange:c,children:[o.jsx(_t,{className:"w-44",children:o.jsx(Ft,{placeholder:"날짜 선택"})}),o.jsx(It,{children:s.map(C=>o.jsx(et,{value:C,children:C===Ge()?`오늘 (${C})`:C},C))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"카테고리"}),o.jsxs(Bt,{value:u,onValueChange:E,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),Object.keys(S).map(C=>o.jsx(et,{value:C,children:C},C))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리"}),o.jsxs(Bt,{value:d,onValueChange:h,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(et,{value:"all",children:"전체"}),u!=="all"&&((_=S[u])==null?void 0:_.map(C=>o.jsx(et,{value:C,children:C},C)))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"최소 성과 배율"}),o.jsxs(Bt,{value:p,onValueChange:y,children:[o.jsx(_t,{className:"w-36",children:o.jsx(Ft,{placeholder:"기준 선택"})}),o.jsx(It,{children:DZ.map(C=>o.jsx(et,{value:C.value,children:C.label},C.value))})]})]})]})}),o.jsx(je,{className:"p-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-muted/40",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 고성과 동영상"}),o.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[x.length.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-success/10",children:[o.jsxs("p",{className:"text-sm text-success mb-1 flex items-center space-x-1",children:[o.jsx(Xe,{className:"w-4 h-4"}),o.jsx("span",{children:"평균 대비 높은 영상"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-success",children:[B.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-amber-100",children:[o.jsxs("p",{className:"text-sm text-amber-700 mb-1 flex items-center space-x-1",children:[o.jsx(sm,{className:"w-4 h-4"}),o.jsx("span",{children:"평균 대비 최소 배율"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-amber-700",children:[parseFloat(p).toFixed(1),"x"]})]})]})}),o.jsxs(je,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"평균 대비 우수 성과 동영상 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l," 기준 상위 ",x.length,"개 동영상",u!=="all"&&` (${u})`,d!=="all"&&` - ${d}`]})]})}),x.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"선택한 조건에 해당하는 동영상이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"필터를 조정하거나 데이터를 다시 수집해 주세요."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Fr,{children:[o.jsx(Ur,{className:"sticky top-0 bg-muted/50 z-10",children:o.jsxs(xt,{children:[o.jsx(Fe,{className:"w-16 text-center",children:"순위"}),o.jsx(Fe,{children:"동영상 정보"}),o.jsx(Fe,{className:"text-right",children:"현재 조회수"}),o.jsx(Fe,{className:"text-right",children:"채널 평균"}),o.jsx(Fe,{className:"text-right",children:"성과 배율"}),o.jsx(Fe,{className:"text-right",children:"게시일"})]})}),o.jsx(Kr,{children:x.map((C,U)=>o.jsxs(xt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Re,{className:"text-center font-semibold",children:U+1}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${C.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-64 h-64 bg-muted",children:o.jsx("img",{src:C.thumbnail,alt:C.title,className:"w-full h-full object-cover object-center"})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:C.channelName}),o.jsx(Ve,{variant:"secondary",className:"text-xs",children:C.category}),o.jsx(Ve,{variant:"outline",className:"text-xs",children:C.subCategory||"미분류"}),o.jsxs(Ve,{className:"bg-success text-white text-xs",children:[o.jsx(Nd,{className:"w-3 h-3 mr-1"}),C.performanceRatio.toFixed(1),"x"]})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${C.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${C.title} - 새 탭에서 열기`,children:C.title})]})]})}),o.jsxs(Re,{className:"text-right font-medium text-foreground",children:[zx(C.views),"회"]}),o.jsxs(Re,{className:"text-right text-muted-foreground",children:[zx(C.averageViews),"회"]}),o.jsxs(Re,{className:"text-right text-success font-semibold",children:[C.performanceRatio.toFixed(2),"x"]}),o.jsx(Re,{className:"text-right text-sm text-muted-foreground",children:(C.uploadDate||C.collectionDate||"").split("T")[0]||"-"})]},C.id))})]})})]})]})]})},Wx=e=>!e||typeof e!="string"?!1:/[가-힣]/.test(e),$Z=e=>{const t=Wx(e.channelName||""),r=Wx(e.videoTitle||e.title||"");return t||r},_Z=e=>!e||typeof e!="string"||[/미유.*MIUU.*AI/i,/MIUU.*AI/i].some(n=>n.test(e))?!1:[/MBC/i,/KBS/i,/kbs/i,/SBS/i,/JTBC/i,/tvN/i,/MBN/i,/채널A/i,/YTN/i,/Mnet/i,/tvchosun/i,/TV조선/i,/MBC공식/i,/KBS공식/i,/SBS공식/i,/JTBC공식/i,/스브스/i,/SUBUSU/i,/엠뚜루마뚜루/i,/넷플릭스/i,/Netflix/i,/지니키즈/i,/Genie Kids/i,/Genikids/i,/조선일보/i,/중앙일보/i,/동아일보/i,/한겨레/i,/경향신문/i,/매일경제/i,/한국경제/i,/서울신문/i,/연합뉴스/i,/정부/i,/청와대/i,/국회/i,/행정안전부/i,/문화체육관광부/i,/롯데/i,/Lotte/i,/농심/i,/Nongshim/i,/삼성/i,/Samsung/i,/LG/i,/현대/i,/Hyundai/i,/SK/i,/한화/i,/Hanwha/i,/CJ/i,/GS/i,/두산/i,/Doosan/i,/포스코/i,/POSCO/i,/신세계/i,/Shinsegae/i,/이마트/i,/Emart/i,/하나/i,/Hana/i,/KB/i,/신한/i,/Shinhan/i,/기업/i,/회사/i,/Corporation/i,/Corp/i,/Company/i,/SMTOWN/i,/SM ENT/i,/SM엔터/i,/HYBE/i,/JYP/i,/YG/i,/플레디스/i,/Pledis/i,/큐브/i,/CUBE/i,/판타지오/i,/Fantagio/i,/스타쉽/i,/Starship/i,/BLACKPINK/i,/BTS/i,/BANGTAN/i,/BANGTANTV/i,/SEVENTEEN/i,/TWICE/i,/Red Velvet/i,/aespa/i,/NewJeans/i,/IVE/i,/LE SSERAFIM/i,/NCT/i,/EXO/i,/SUPER JUNIOR/i,/공식채널/i,/Official/i,/공식/i,/^YouTube/i,/^YouTube Music/i,/^YouTube Kids/i,/브랜드/i,/Brand/i,/어린이/i,/키즈/i,/Kids/i,/Children/i,/어린이방송/i,/키즈방송/i,/Kids TV/i,/Children TV/i,/EBS어린이/i,/EBS키즈/i,/KBS어린이/i,/KBS키즈/i,/MBC어린이/i,/SBS어린이/i,/베이비버스/i,/BabyBus/i,/리틀엔젤/i,/Little Angel/i,/토이몽/i,/Toymong/i,/브레드 이발소/i,/Bread Barber/i,/캐릭온/i,/Characteron/i,/핑크퐁/i,/Pinkfong/i,/어린이 프로/i,/마샤와 곰/i,/Masha/i,/Masha and the Bear/i,/토닥토닥 꼬모/i,/꼬모/i,/Kkomo/i,/Topic/i,/topic/i,/- Topic$/i,/엔터테인먼트/i,/Entertainment/i,/1theK/i,/원더케이/i,/M2/i,/멜론/i,/Melon/i,/미스.*미스터.*트롯/i,/미스&미스터트롯/i,/ootb STUDIO/i,/OOTB/i,/뉴스/i,/News/i,/방송/i,/Broadcast/i,/esports/i].some(n=>n.test(e)),IZ=()=>{const[e,t]=qx(),r=e.get("channelId")||"",[n,a]=v.useState(r),[s,i]=v.useState("daily"),[l,c]=v.useState(Ge()),[u,f]=v.useState(()=>{const M=new Date;return M.setDate(M.getDate()-7),M.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}),[d,h]=v.useState(Ge()),[p,y]=v.useState(""),[m,g]=v.useState("대한민국"),[x,w]=v.useState(!1),[b,S]=v.useState(!1),[j,N]=v.useState(!0),[A,P]=v.useState(!1),[E,B]=v.useState([]),_=v.useRef(null),[C,U]=v.useState(null),[I,F]=v.useState([]),[$,O]=v.useState(!0),[k,D]=v.useState(!1);v.useEffect(()=>{(async()=>{try{O(!0);const L=performance.now(),R=l||Ge(),H=new Date(R);H.setDate(H.getDate()-1);const V=H.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),[le,he]=await Promise.all([ge.loadClassifiedData(),ge.loadUnclassifiedData()]),we=performance.now()-L;console.log(`📊 데이터 로드 완료: ${le.length+he.length}개 (${we.toFixed(0)}ms)`);const se=[],Te=[],de=[...le,...he];for(const K of de){const z=K.collectionDate||K.uploadDate||K.dayKeyLocal;if(!z)continue;const fe=z.split("T")[0],ue=fe===R,ce=fe===V;!ue&&!ce||m==="대한민국"&&!$Z(K)||(ue&&se.push(K),ce&&Te.push(K))}const ye={},Pe={};for(const K of se){if(!K.channelId||!K.channelName)continue;const z=_Z(K.channelName);if(A&&!z||j&&!A&&z)continue;ye[K.channelId]||(ye[K.channelId]={channelId:K.channelId,channelName:K.channelName,thumbnail:K.thumbnailUrl||`https://via.placeholder.com/96x96?text=${K.channelName.charAt(0)}`,todayViews:0,description:K.description||K.channelDescription,totalSubscribers:K.subscriberCount||K.totalSubscribers,channelCreationDate:K.channelCreationDate||K.channelCreationDate||(K.publishedAt?K.publishedAt.split("T")[0]:void 0),videoCount:0},Pe[K.channelId]=new Set),ye[K.channelId].todayViews+=K.viewCount||0;const fe=K.videoId||K.id;fe&&Pe[K.channelId].add(fe)}Object.keys(ye).forEach(K=>{var z;ye[K].videoCount=((z=Pe[K])==null?void 0:z.size)||0});const Ae={};Te.forEach(K=>{K.channelId&&(Ae[K.channelId]||(Ae[K.channelId]={totalViews:0}),Ae[K.channelId].totalViews+=K.viewCount||0)});const be={};Object.entries(Ae).sort(([,K],[,z])=>z.totalViews-K.totalViews).forEach(([K],z)=>{be[K]=z+1});const We=Object.values(ye).map(K=>{var ve;const z=((ve=Ae[K.channelId])==null?void 0:ve.totalViews)||0,fe=be[K.channelId]||999999,ue=0,ce=K.todayViews-z,me=z>0?ce/z*100:0;return{rank:0,channelId:K.channelId,channelName:K.channelName,thumbnail:K.thumbnail,todayViews:K.todayViews,yesterdayViews:z,rankChange:fe-ue,changePercent:me,description:K.description,totalSubscribers:K.totalSubscribers,channelCreationDate:K.channelCreationDate,videoCount:K.videoCount||K.videos.length}}).filter(K=>x?!be[K.channelId]:!0).sort((K,z)=>b?K.todayViews-z.todayViews:z.todayViews-K.todayViews).map((K,z)=>{const fe=be[K.channelId]||999999;return{...K,rank:z+1,rankChange:fe===999999?0:fe-(z+1)}});B(We);const Y=performance.now()-L;if(console.log(`✅ 채널 랭킹 계산 완료: ${We.length}개 채널 (총 ${Y.toFixed(0)}ms)`),r&&We.length>0){const K=We.find(z=>z.channelId===r);K&&(U(K),a(r))}else if(n&&We.length>0){const K=We.find(z=>z.channelId===n);K?U(K):(U(null),a(""),t({}))}O(!1)}catch(L){console.error("채널 랭킹 로드 실패:",L),O(!1)}})()},[l,x,b,r,m,j,A]),v.useEffect(()=>{if(!n){F([]),D(!1);return}(async()=>{try{D(!0);const L=performance.now();console.log(`📊 차트 데이터 로드 시작: 채널 ${n}`);const R=await ge.loadUnclassifiedData(),H=await ge.loadClassifiedData(),V=R.filter(be=>be.channelId===n),le=H.filter(be=>be.channelId===n),he=[...V,...le],we=new Map;he.forEach(be=>{const We=`${be.videoId}-${be.dayKeyLocal||be.collectionDate}`;we.has(We)||we.set(We,be)});const se=Array.from(we.values());if(se.length===0){F([]),D(!1);return}const Te=new Date(u),de=new Date(d);de.setHours(23,59,59,999);const ye=new Map;se.forEach(be=>{const We=be.collectionDate||be.uploadDate||be.dayKeyLocal;if(!We)return;const Y=We.split("T")[0],K=new Date(Y);if(K<Te||K>de)return;let z;if(s==="daily")z=Y;else if(s==="weekly"){const ue=K.getDay(),ce=new Date(K);ce.setDate(K.getDate()-(ue===0?6:ue-1)),z=ce.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}const fe=ye.get(z)||0;ye.set(z,fe+(be.viewCount||0))});const Pe=Array.from(ye.entries()).map(([be,We])=>({date:be,views:We})).sort((be,We)=>be.date.localeCompare(We.date));F(Pe);const Ae=performance.now()-L;console.log(`✅ 차트 데이터 로드 완료: ${Pe.length}개 데이터 포인트 (${Ae.toFixed(0)}ms)`),D(!1)}catch(L){console.error("차트 데이터 로드 실패:",L),D(!1)}})()},[n,s,u,d]),v.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const q=M=>{U(M),a(M.channelId)},Z=M=>{U(M),a(M.channelId),t({channelId:M.channelId},{replace:!0})},Q=M=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{q(M),_.current=null},300)},ne=()=>{_.current&&(clearTimeout(_.current),_.current=null)},te=M=>{_.current&&(clearTimeout(_.current),_.current=null),Z(M)},Oe=v.useMemo(()=>{if(!p.trim())return E;const M=p.toLowerCase();return E.filter(L=>L.channelName.toLowerCase().includes(M)||L.channelId.toLowerCase().includes(M))},[E,p]),Le=M=>M>=1e6?(M/1e6).toFixed(1)+"M":M>=1e3?(M/1e3).toFixed(1)+"K":M.toString(),pe=({active:M,payload:L,label:R})=>M&&L&&L.length?o.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-medium text-foreground",children:R}),o.jsxs("p",{className:"text-muted-foreground",children:["조회수: ",Le(L[0].value)]})]}):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/dashboard",children:o.jsx(G,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(G,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Xe,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(G,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",children:o.jsxs(G,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6",children:[o.jsx("div",{className:"lg:col-span-3 space-y-4",children:o.jsxs(je,{className:"p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"채널 랭킹 대시보드"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(G,{variant:s==="daily"?"default":"outline",size:"sm",onClick:()=>i("daily"),className:s==="daily"?"bg-red-600 hover:bg-red-700":"",children:"일별"}),o.jsx(G,{variant:s==="weekly"?"default":"outline",size:"sm",onClick:()=>i("weekly"),className:s==="weekly"?"bg-red-600 hover:bg-red-700":"",children:"주별"})]}),o.jsxs(Bt,{value:m,onValueChange:g,children:[o.jsx(_t,{className:"w-full",children:o.jsx(Ft,{})}),o.jsx(It,{children:o.jsx(et,{value:"대한민국",children:"대한민국"})})]}),o.jsx(yt,{type:"date",value:l,onChange:M=>c(M.target.value)}),o.jsxs("div",{className:"relative",children:[o.jsx(vh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx(yt,{placeholder:"채널명으로 검색...",value:p,onChange:M=>y(M.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex space-x-2 flex-wrap gap-2",children:[o.jsx(G,{variant:x?"default":"outline",size:"sm",onClick:()=>w(!x),className:x?"bg-red-600 hover:bg-red-700":"",children:"신규진입"}),o.jsxs(G,{variant:b?"default":"outline",size:"sm",onClick:()=>S(!b),className:b?"bg-red-600 hover:bg-red-700":"",children:[o.jsx(YA,{className:"w-4 h-4 mr-1"}),"역순"]}),o.jsx(G,{variant:A||j?"default":"outline",size:"sm",onClick:()=>{A?(P(!1),N(!0)):j?(P(!0),N(!1)):(N(!0),P(!1))},className:A?"bg-blue-600 hover:bg-blue-700":j?"bg-red-600 hover:bg-red-700":"",children:A?"공식채널만":j?"공식채널 제외":"전체 표시"})]})]}),o.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:$?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"로딩 중..."})]}):Oe.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"채널을 찾을 수 없습니다"}):o.jsxs(Fr,{children:[o.jsx(Ur,{children:o.jsxs(xt,{children:[o.jsx(Fe,{className:"w-16",children:"순위"}),o.jsx(Fe,{children:"채널 정보"})]})}),o.jsx(Kr,{children:Oe.map(M=>o.jsxs(xt,{className:`cursor-pointer hover:bg-muted/50 ${n===M.channelId?"bg-red-600/10":""}`,onMouseEnter:()=>Q(M),onMouseLeave:ne,onClick:()=>te(M),children:[o.jsx(Re,{children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"font-bold text-foreground",children:M.rank}),M.rankChange!==0&&o.jsx("span",{className:`text-xs flex items-center ${M.rankChange>0?"text-green-600":"text-red-600"}`,children:M.rankChange>0?o.jsxs(o.Fragment,{children:[o.jsx(Xe,{className:"w-3 h-3 mr-1"}),M.rankChange]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-3 h-3 mr-1"}),Math.abs(M.rankChange)]})})]})}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:M.thumbnail,alt:M.channelName,className:"w-24 h-24 rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-foreground truncate",children:M.channelName}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:M.channelId}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:Le(M.todayViews)}),M.changePercent!==0&&o.jsx("span",{className:`text-xs flex items-center ${M.changePercent>0?"text-green-600":"text-red-600"}`,children:M.changePercent>0?o.jsxs(o.Fragment,{children:[o.jsx(Xe,{className:"w-3 h-3 mr-1"}),M.changePercent.toFixed(1),"%"]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-3 h-3 mr-1"}),M.changePercent.toFixed(1),"%"]})})]})]})]})})]},M.channelId))})]})})]})}),o.jsx("div",{className:"lg:col-span-4 space-y-4",children:C?o.jsx(o.Fragment,{children:o.jsxs(je,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:C.thumbnail,alt:C.channelName,className:"w-16 h-16 rounded-full"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:C.channelName}),o.jsx("p",{className:"text-sm text-muted-foreground",children:C.channelId})]})]}),o.jsx("a",{href:`https://www.youtube.com/channel/${C.channelId}`,target:"_blank",rel:"noopener noreferrer",children:o.jsxs(G,{variant:"outline",size:"sm",children:[o.jsx(rl,{className:"w-4 h-4 mr-2"}),"유튜브에서 보기"]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:Le(C.todayViews)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 구독자 수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:C.totalSubscribers?Le(C.totalSubscribers):"데이터 없음"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"채널 생성일"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:C.channelCreationDate?new Date(C.channelCreationDate).toLocaleDateString("ko-KR"):"데이터 없음"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"영상 개수"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:C.videoCount||0})]})]}),C.description&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"채널 설명"}),o.jsx("div",{className:"bg-muted/50 p-4 rounded-lg max-h-32 overflow-y-auto",children:o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:C.description})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(G,{variant:s==="daily"?"default":"outline",size:"sm",onClick:()=>i("daily"),className:s==="daily"?"bg-red-600 hover:bg-red-700":"",children:"일별"}),o.jsx(G,{variant:s==="weekly"?"default":"outline",size:"sm",onClick:()=>i("weekly"),className:s==="weekly"?"bg-red-600 hover:bg-red-700":"",children:"주별"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(yt,{type:"date",value:u,onChange:M=>f(M.target.value),className:"w-40"}),o.jsx("span",{className:"text-muted-foreground",children:"~"}),o.jsx(yt,{type:"date",value:d,onChange:M=>h(M.target.value),className:"w-40"}),o.jsx(G,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>{a(n)},children:"조회"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"조회수 성장 차트"}),k?o.jsx("div",{className:"flex items-center justify-center h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"차트 데이터를 불러오는 중..."})]})}):I.length===0?o.jsx("div",{className:"flex items-center justify-center h-[400px]",children:o.jsx("p",{className:"text-muted-foreground",children:"선택한 기간에 데이터가 없습니다"})}):o.jsx(ru,{width:"100%",height:400,children:o.jsxs(ju,{data:I,children:[o.jsx(vi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),o.jsx(Ea,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:M=>Le(M)}),o.jsx(dr,{content:o.jsx(pe,{})}),o.jsx(Hn,{type:"monotone",dataKey:"views",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F97316",strokeWidth:2}})]})})]})]})}):o.jsx(je,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-[600px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Xe,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"왼쪽에서 채널을 선택하세요"})]})})})})]})})]})},kZ=()=>{const e=Js();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},MZ=()=>(T.useEffect(()=>{const e=setTimeout(()=>{sessionStorage.removeItem("redirecting"),console.log("🧹 리다이렉트 플래그 정리 완료"),ot.initializeOutbox(),console.log("📦 아웃박스 서비스 초기화 완료")},1e3);return()=>clearTimeout(e)},[]),o.jsx(AE,{children:o.jsx(OA,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(wE,{children:o.jsxs(vE,{children:[o.jsx(tO,{}),o.jsx(_O,{}),o.jsxs(PA,{children:[o.jsx(St,{path:"/",element:o.jsx(CE,{})}),o.jsx(St,{path:"/login",element:o.jsx(DE,{})}),o.jsx(St,{path:"/register",element:o.jsx(TE,{})}),o.jsx(St,{path:"/forgot-password",element:o.jsx(WE,{})}),o.jsx(St,{path:"/change-password",element:o.jsx(HE,{})}),o.jsx(St,{path:"/user-management",element:o.jsx(W$,{})}),o.jsx(St,{path:"/dashboard",element:o.jsx(BJ,{})}),o.jsx(St,{path:"/category",element:o.jsx(EA,{to:"/dashboard",replace:!0})}),o.jsx(St,{path:"/category/:category",element:o.jsx(FJ,{})}),o.jsx(St,{path:"/category-detail/:category",element:o.jsx(KJ,{})}),o.jsx(St,{path:"/channel/:channelId",element:o.jsx(VJ,{})}),o.jsx(St,{path:"/system",element:o.jsx(pZ,{})}),o.jsx(St,{path:"/data",element:o.jsx(Kx,{})}),o.jsx(St,{path:"/data-classification",element:o.jsx(Kx,{})}),o.jsx(St,{path:"/date-classification-detail",element:o.jsx(NZ,{})}),o.jsx(St,{path:"/trending-videos",element:o.jsx(CZ,{})}),o.jsx(St,{path:"/subcategory-settings",element:o.jsx(OZ,{})}),o.jsx(St,{path:"/trending-channels",element:o.jsx(EZ,{})}),o.jsx(St,{path:"/performance-videos",element:o.jsx(TZ,{})}),o.jsx(St,{path:"/trend",element:o.jsx(IZ,{})}),o.jsx(St,{path:"*",element:o.jsx(kZ,{})})]})]})})})})),RZ=async()=>{try{console.log("🔄 카테고리 마이그레이션 시작...");const e=await ge.loadUnclassifiedData();let t=0;const r=e.map(i=>(i.category==="테크"?(i.category="AI",i.subCategory="AI 영상",t++):i.category==="음식"&&(i.category="라이프스타일",i.subCategory="요리/음식",t++),i));t>0&&(await ge.updateUnclassifiedData(r),console.log(`✅ unclassifiedData에서 ${t}개 항목 카테고리 변경 완료`));const n=await ge.loadClassifiedData();let a=0;const s=n.map(i=>(i.category==="테크"?(i.category="AI",i.subCategory="AI 영상",a++):i.category==="음식"&&(i.category="라이프스타일",i.subCategory="요리/음식",a++),i));a>0&&(await ge.saveClassifiedData(s),console.log(`✅ classifiedData에서 ${a}개 항목 카테고리 변경 완료`)),console.log("🎉 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${t+a}개 항목이 중앙화된 카테고리로 변경되었습니다.`)}catch(e){throw console.error("❌ 카테고리 마이그레이션 실패:",e),e}};window.migrateCategories=RZ;async function LZ(){console.log("🔄 애니/웹툰 카테고리 마이그레이션 시작...");try{const e=await ge.loadUnclassifiedData(),t=await ge.loadClassifiedData();let r=0,n=0;const a=(l,c)=>l.map(u=>{let f=!1;return u.category==="짜집기"&&u.subCategory==="애니/웹툰"&&(u.category="애니/웹툰",u.subCategory="요약/명장면",f=!0),u.category==="애니/웹툰"&&u.subCategory==="애니메이션"&&(u.subCategory="요약/명장면",f=!0),u.category==="애니/웹툰"&&u.subCategory==="웹툰/만화"&&(u.subCategory="이슈/정보",f=!0),u.category==="애니/웹툰"&&u.subCategory==="게임/애니"&&(u.subCategory="종합/기타",f=!0),f&&(c?n++:r++),u}),s=a(e,!1),i=a(t,!0);r>0||n>0?(await ge.saveUnclassifiedData(s),await ge.saveClassifiedData(i),console.log(`✅ unclassifiedData에서 ${r}개 항목을 '애니/웹툰' 카테고리로 변경 완료`),console.log(`✅ classifiedData에서 ${n}개 항목을 '애니/웹툰' 카테고리로 변경 완료`),console.log("🎉 애니/웹툰 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${r+n}개 항목이 새로운 '애니/웹툰' 카테고리로 변경되었습니다.`)):console.log('ℹ️ 마이그레이션할 데이터가 없습니다. (기존에 "짜집기" → "애니/웹툰"으로 분류된 데이터가 없음)')}catch(e){console.error("❌ 애니/웹툰 카테고리 마이그레이션 실패:",e)}}async function BZ(){console.log("🔄 롱폼 → 시니어 카테고리 마이그레이션 시작...");try{const e=await ge.loadUnclassifiedData(),t=await ge.loadClassifiedData();let r=0,n=0;const a=(l,c)=>l.map(u=>{let f=!1;return u.category==="롱폼"&&(u.category="시니어",f=!0),f&&(c?n++:r++),u}),s=a(e,!1),i=a(t,!0);await ge.saveUnclassifiedData(s),await ge.saveClassifiedData(i),console.log(`✅ unclassifiedData에서 ${r}개 항목 카테고리 변경 완료`),console.log(`✅ classifiedData에서 ${n}개 항목 카테고리 변경 완료`),console.log("🎉 롱폼 → 시니어 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${r+n}개 항목이 변경되었습니다.`)}catch(e){console.error("❌ 롱폼 → 시니어 카테고리 마이그레이션 실패:",e)}}window.migrateAnimeWebtoonData=LZ;window.migrateLongformToSenior=BZ;try{const e=localStorage.getItem("classifiedData"),t=localStorage.getItem("youtubepulse_classified_data");e&&(!t||t==="[]")&&localStorage.setItem("youtubepulse_classified_data",e)}catch{}tb(document.getElementById("root")).render(o.jsx(MZ,{}));export{eee as c};
