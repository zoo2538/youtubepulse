const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/services.CFZxR6Ym.js","assets/utils.Cc143Zw7.js"])))=>i.map(i=>d[i]);
var UA=Object.defineProperty;var KA=(e,t,r)=>t in e?UA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rt=(e,t,r)=>KA(e,typeof t!="symbol"?t+"":t,r);import{r as g,a as So,R as D,b as ob,c as Ah,u as Gt,L as Ne,d as wi,g as ft,e as Zs,f as Ch,h as sb,B as VA,i as zA,j as St,N as WA}from"./vendor.DsNdnymT.js";import{c as Je,a as ke,g as qe,_ as Qa,b as nl,d as mp,e as _u}from"./utils.Cc143Zw7.js";import{X as bc,T as Dd,R as cn,L as HA,a as He,S as Ht,H as YA,A as Kr,E as Va,b as ar,C as aa,M as Td,c as GA,d as ib,e as qA,f as lb,g as XA,h as QA,i as ji,U as Zr,j as Iu,k as No,l as JA,m as Oh,n as ZA,o as eC,p as pp,q as tC,P as rC,r as kn,s as cb,t as $d,u as wc,v as wa,F as Dn,w as al,K as ss,x as ol,y as ub,z as nC,G as aC,B as _d,D as gp,I as sl,J as ts,N as oC,O as qi,Q as sC,V as iC,W as lC,Y as cC,Z as ku,_ as uC,$ as vp,a0 as dC}from"./ui.CxZ6r7GM.js";import{A as Be,h as un,i as xe,c as Hr,s as Jt,a as ot,b as rs,d as yp}from"./services.CFZxR6Ym.js";import{s as xp,a as fC}from"./scheduler.BInQdtCZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var db={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC=g,mC=Symbol.for("react.element"),pC=Symbol.for("react.fragment"),gC=Object.prototype.hasOwnProperty,vC=hC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yC={key:!0,ref:!0,__self:!0,__source:!0};function fb(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)gC.call(t,n)&&!yC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:mC,type:e,key:s,ref:i,props:a,_owner:vC.current}}jc.Fragment=pC;jc.jsx=fb;jc.jsxs=fb;db.exports=jc;var o=db.exports,hb,bp=So;hb=bp.createRoot,bp.hydrateRoot;const xC=1,bC=1e6;let Mu=0;function wC(){return Mu=(Mu+1)%Number.MAX_SAFE_INTEGER,Mu.toString()}const Ru=new Map,wp=e=>{if(Ru.has(e))return;const t=setTimeout(()=>{Ru.delete(e),is({type:"REMOVE_TOAST",toastId:e})},bC);Ru.set(e,t)},jC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?wp(r):e.toasts.forEach(n=>{wp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Xi=[];let Qi={toasts:[]};function is(e){Qi=jC(Qi,e),Xi.forEach(t=>{t(Qi)})}function SC({...e}){const t=wC(),r=a=>is({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>is({type:"DISMISS_TOAST",toastId:t});return is({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function NC(){const[e,t]=g.useState(Qi);return g.useEffect(()=>(Xi.push(t),()=>{const r=Xi.indexOf(t);r>-1&&Xi.splice(r,1)}),[e]),{...e,toast:SC,dismiss:r=>is({type:"DISMISS_TOAST",toastId:r})}}function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ei(...e){return t=>{let r=!1;const n=e.map(a=>{const s=jp(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():jp(e[a],null)}}}}function et(...e){return g.useCallback(ei(...e),e)}function AC(e,t){const r=g.createContext(t),n=s=>{const{children:i,...l}=s,c=g.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=g.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function rn(e,t=[]){let r=[];function n(s,i){const l=g.createContext(i),c=r.length;r=[...r,i];const u=d=>{var x;const{scope:h,children:m,...y}=d,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=g.useMemo(()=>y,Object.values(y));return o.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function f(d,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const a=()=>{const s=r.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,CC(a,...t)]}function CC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function oa(e){const t=PC(e),r=g.forwardRef((n,a)=>{const{children:s,...i}=n,l=g.Children.toArray(s),c=l.find(DC);if(c){const u=c.props.children,f=l.map(d=>d===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:d);return o.jsx(t,{...i,ref:a,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var OC=oa("Slot");function PC(e){const t=g.forwardRef((r,n)=>{const{children:a,...s}=r;if(g.isValidElement(a)){const i=$C(a),l=TC(s,a.props);return a.type!==g.Fragment&&(l.ref=n?ei(n,i):i),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mb=Symbol("radix.slottable");function EC(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mb,t}function DC(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mb}function TC(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function $C(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sc(e){const t=e+"CollectionProvider",[r,n]=rn(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:x}=p,w=D.useRef(null),b=D.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:b,collectionRef:w,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=oa(l),u=D.forwardRef((p,v)=>{const{scope:x,children:w}=p,b=s(l,x),N=et(v,b.collectionRef);return o.jsx(c,{ref:N,children:w})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=oa(f),m=D.forwardRef((p,v)=>{const{scope:x,children:w,...b}=p,N=D.useRef(null),j=et(v,N),S=s(f,x);return D.useEffect(()=>(S.itemMap.set(N,{ref:N,...b}),()=>void S.itemMap.delete(N))),o.jsx(h,{[d]:"",ref:j,children:w})});m.displayName=f;function y(p){const v=s(e+"CollectionConsumer",p);return D.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((S,A)=>b.indexOf(S.ref.current)-b.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},y,n]}var _C=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=_C.reduce((e,t)=>{const r=oa(`Primitive.${t}`),n=g.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ph(e,t){e&&So.flushSync(()=>e.dispatchEvent(t))}function or(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function IC(e,t=globalThis==null?void 0:globalThis.document){const r=or(e);g.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var kC="DismissableLayer",Id="dismissableLayer.update",MC="dismissableLayer.pointerDownOutside",RC="dismissableLayer.focusOutside",Sp,pb=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ao=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=g.useContext(pb),[f,d]=g.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=et(t,A=>d(A)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),w=f?p.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,j=BC(A=>{const O=A.target,$=[...u.branches].some(F=>F.contains(O));!N||$||(a==null||a(A),i==null||i(A),A.defaultPrevented||l==null||l())},h),S=FC(A=>{const O=A.target;[...u.branches].some(F=>F.contains(O))||(s==null||s(A),i==null||i(A),A.defaultPrevented||l==null||l())},h);return IC(A=>{w===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},h),g.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Sp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Np(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Sp)}},[f,h,r,u]),g.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Np())},[f,u]),g.useEffect(()=>{const A=()=>m({});return document.addEventListener(Id,A),()=>document.removeEventListener(Id,A)},[]),o.jsx(ze.div,{...c,ref:y,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,j.onPointerDownCapture)})});Ao.displayName=kC;var LC="DismissableLayerBranch",gb=g.forwardRef((e,t)=>{const r=g.useContext(pb),n=g.useRef(null),a=et(t,n);return g.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(ze.div,{...e,ref:a})});gb.displayName=LC;function BC(e,t=globalThis==null?void 0:globalThis.document){const r=or(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){vb(MC,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FC(e,t=globalThis==null?void 0:globalThis.document){const r=or(e),n=g.useRef(!1);return g.useEffect(()=>{const a=s=>{s.target&&!n.current&&vb(RC,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Np(){const e=new CustomEvent(Id);document.dispatchEvent(e)}function vb(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ph(a,s):a.dispatchEvent(s)}var UC=Ao,KC=gb,Yt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},VC="Portal",ti=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=g.useState(!1);Yt(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?ob.createPortal(o.jsx(ze.div,{...n,ref:t}),i):null});ti.displayName=VC;function zC(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var nn=e=>{const{present:t,children:r}=e,n=WC(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),s=et(n.ref,HC(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:s}):null};nn.displayName="Presence";function WC(e){const[t,r]=g.useState(),n=g.useRef(null),a=g.useRef(e),s=g.useRef("none"),i=e?"mounted":"unmounted",[l,c]=zC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Si(n.current);s.current=l==="mounted"?u:"none"},[l]),Yt(()=>{const u=n.current,f=a.current;if(f!==e){const h=s.current,m=Si(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Yt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=m=>{const p=Si(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=Si(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Si(e){return(e==null?void 0:e.animationName)||"none"}function HC(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var YC=Ah[" useInsertionEffect ".trim().toString()]||Yt;function sa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=GC({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=g.useRef(e!==void 0);g.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=g.useCallback(f=>{var d;if(l){const h=qC(f)?f(e):f;h!==e&&((d=i.current)==null||d.call(i,h))}else s(f)},[l,e,s,i]);return[c,u]}function GC({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),a=g.useRef(r),s=g.useRef(t);return YC(()=>{s.current=t},[t]),g.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function qC(e){return typeof e=="function"}var yb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XC="VisuallyHidden",Nc=g.forwardRef((e,t)=>o.jsx(ze.span,{...e,ref:t,style:{...yb,...e.style}}));Nc.displayName=XC;var QC=Nc,Eh="ToastProvider",[Dh,JC,ZC]=Sc("Toast"),[xb,Pee]=rn("Toast",[ZC]),[eO,Ac]=xb(Eh),bb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[l,c]=g.useState(null),[u,f]=g.useState(0),d=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Eh}\`. Expected non-empty \`string\`.`),o.jsx(Dh.Provider,{scope:t,children:o.jsx(eO,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>f(m=>m+1),[]),onToastRemove:g.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};bb.displayName=Eh;var wb="ToastViewport",tO=["F8"],kd="toast.viewportPause",Md="toast.viewportResume",jb=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=tO,label:a="Notifications ({hotkey})",...s}=e,i=Ac(wb,r),l=JC(r),c=g.useRef(null),u=g.useRef(null),f=g.useRef(null),d=g.useRef(null),h=et(t,d,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;g.useEffect(()=>{const v=x=>{var b;n.length!==0&&n.every(N=>x[N]||x.code===N)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),g.useEffect(()=>{const v=c.current,x=d.current;if(y&&v&&x){const w=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(kd);x.dispatchEvent(S),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Md);x.dispatchEvent(S),i.isClosePausedRef.current=!1}},N=S=>{!v.contains(S.relatedTarget)&&b()},j=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",N),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:v})=>{const w=l().map(b=>{const N=b.ref.current,j=[N,...mO(N)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return g.useEffect(()=>{const v=d.current;if(v){const x=w=>{var j,S,A;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const O=document.activeElement,$=w.shiftKey;if(w.target===v&&$){(j=u.current)==null||j.focus();return}const C=p({tabbingDirection:$?"backwards":"forwards"}),U=C.findIndex(M=>M===O);Lu(C.slice(U+1))?w.preventDefault():$?(S=u.current)==null||S.focus():(A=f.current)==null||A.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,p]),o.jsxs(KC,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Rd,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});Lu(v)}}),o.jsx(Dh.Slot,{scope:r,children:o.jsx(ze.ol,{tabIndex:-1,...s,ref:h})}),y&&o.jsx(Rd,{ref:f,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});Lu(v)}})]})});jb.displayName=wb;var Sb="ToastFocusProxy",Rd=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=Ac(Sb,r);return o.jsx(Nc,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});Rd.displayName=Sb;var ri="Toast",rO="toast.swipeStart",nO="toast.swipeMove",aO="toast.swipeCancel",oO="toast.swipeEnd",Nb=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[l,c]=sa({prop:n,defaultProp:a??!0,onChange:s,caller:ri});return o.jsx(nn,{present:r||l,children:o.jsx(lO,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:or(e.onPause),onResume:or(e.onResume),onSwipeStart:Se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});Nb.displayName=ri;var[sO,iO]=xb(ri,{onClose(){}}),lO=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...y}=e,p=Ac(ri,r),[v,x]=g.useState(null),w=et(t,M=>x(M)),b=g.useRef(null),N=g.useRef(null),j=a||p.duration,S=g.useRef(0),A=g.useRef(j),O=g.useRef(0),{onToastAdd:$,onToastRemove:F}=p,_=or(()=>{var K;(v==null?void 0:v.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),i()}),C=g.useCallback(M=>{!M||M===1/0||(window.clearTimeout(O.current),S.current=new Date().getTime(),O.current=window.setTimeout(_,M))},[_]);g.useEffect(()=>{const M=p.viewport;if(M){const K=()=>{C(A.current),u==null||u()},T=()=>{const P=new Date().getTime()-S.current;A.current=A.current-P,window.clearTimeout(O.current),c==null||c()};return M.addEventListener(kd,T),M.addEventListener(Md,K),()=>{M.removeEventListener(kd,T),M.removeEventListener(Md,K)}}},[p.viewport,j,c,u,C]),g.useEffect(()=>{s&&!p.isClosePausedRef.current&&C(j)},[s,j,p.isClosePausedRef,C]),g.useEffect(()=>($(),()=>F()),[$,F]);const U=g.useMemo(()=>v?Tb(v):null,[v]);return p.viewport?o.jsxs(o.Fragment,{children:[U&&o.jsx(cO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:U}),o.jsx(sO,{scope:r,onClose:_,children:So.createPortal(o.jsx(Dh.ItemSlot,{scope:r,children:o.jsx(UC,{asChild:!0,onEscapeKeyDown:Se(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||_(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ze.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:Se(e.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:Se(e.onPointerMove,M=>{if(!b.current)return;const K=M.clientX-b.current.x,T=M.clientY-b.current.y,P=!!N.current,L=["left","right"].includes(p.swipeDirection),E=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,G=L?E(0,K):0,ee=L?0:E(0,T),Q=M.pointerType==="touch"?10:2,ie={x:G,y:ee},re={originalEvent:M,delta:ie};P?(N.current=ie,Ni(nO,d,re,{discrete:!1})):Ap(ie,p.swipeDirection,Q)?(N.current=ie,Ni(rO,f,re,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(K)>Q||Math.abs(T)>Q)&&(b.current=null)}),onPointerUp:Se(e.onPointerUp,M=>{const K=N.current,T=M.target;if(T.hasPointerCapture(M.pointerId)&&T.releasePointerCapture(M.pointerId),N.current=null,b.current=null,K){const P=M.currentTarget,L={originalEvent:M,delta:K};Ap(K,p.swipeDirection,p.swipeThreshold)?Ni(oO,m,L,{discrete:!0}):Ni(aO,h,L,{discrete:!0}),P.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),cO=e=>{const{__scopeToast:t,children:r,...n}=e,a=Ac(ri,t),[s,i]=g.useState(!1),[l,c]=g.useState(!1);return fO(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(ti,{asChild:!0,children:o.jsx(Nc,{...n,children:s&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},uO="ToastTitle",Ab=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});Ab.displayName=uO;var dO="ToastDescription",Cb=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});Cb.displayName=dO;var Ob="ToastAction",Pb=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(Db,{altText:r,asChild:!0,children:o.jsx(Th,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ob}\`. Expected non-empty \`string\`.`),null)});Pb.displayName=Ob;var Eb="ToastClose",Th=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=iO(Eb,r);return o.jsx(Db,{asChild:!0,children:o.jsx(ze.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,a.onClose)})})});Th.displayName=Eb;var Db=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Tb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),hO(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Tb(n))}}),t}function Ni(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ph(a,s):a.dispatchEvent(s)}var Ap=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function fO(e=()=>{}){const t=or(e);Yt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function hO(e){return e.nodeType===e.ELEMENT_NODE}function mO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Lu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var pO=bb,$b=jb,_b=Nb,Ib=Ab,kb=Cb,Mb=Pb,Rb=Th;const Cp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Op=Je,ni=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Op(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=s==null?void 0:s[u];if(f===null)return null;const h=Cp(f)||Cp(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...m}=f;return Object.entries(m).every(y=>{let[p,v]=y;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,d,h]:u},[]);return Op(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},gO=pO,Lb=g.forwardRef(({className:e,...t},r)=>o.jsx($b,{ref:r,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lb.displayName=$b.displayName;const vO=ni("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bb=g.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(_b,{ref:n,className:ke(vO({variant:t}),e),...r}));Bb.displayName=_b.displayName;const yO=g.forwardRef(({className:e,...t},r)=>o.jsx(Mb,{ref:r,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yO.displayName=Mb.displayName;const Fb=g.forwardRef(({className:e,...t},r)=>o.jsx(Rb,{ref:r,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"","aria-label":"닫기",title:"닫기",...t,children:o.jsx(bc,{className:"h-4 w-4"})}));Fb.displayName=Rb.displayName;const Ub=g.forwardRef(({className:e,...t},r)=>o.jsx(Ib,{ref:r,className:ke("text-sm font-semibold",e),...t}));Ub.displayName=Ib.displayName;const Kb=g.forwardRef(({className:e,...t},r)=>o.jsx(kb,{ref:r,className:ke("text-sm opacity-90",e),...t}));Kb.displayName=kb.displayName;function xO(){const{toasts:e}=NC();return o.jsxs(gO,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return o.jsxs(Bb,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Ub,{children:r}),n&&o.jsx(Kb,{children:n})]}),a,o.jsx(Fb,{})]},t)}),o.jsx(Lb,{})]})}var bO=(e,t,r,n,a,s,i,l)=>{let c=document.documentElement,u=["light","dark"];function f(m){(Array.isArray(e)?e:[e]).forEach(y=>{let p=y==="class",v=p&&s?a.map(x=>s[x]||x):a;p?(c.classList.remove(...v),c.classList.add(s&&s[m]?s[m]:m)):c.setAttribute(y,m)}),d(m)}function d(m){l&&u.includes(m)&&(c.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let m=localStorage.getItem(t)||r,y=i&&m==="system"?h():m;f(y)}catch{}},wO=g.createContext(void 0),jO={setTheme:e=>{},themes:[]},SO=()=>{var e;return(e=g.useContext(wO))!=null?e:jO};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([r,t,s,e,l,i,n,a]).slice(1,-1);return g.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${bO.toString()})(${f})`}})});var NO=e=>{switch(e){case"success":return OO;case"info":return EO;case"warning":return PO;case"error":return DO;default:return null}},AO=Array(12).fill(0),CO=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},AO.map((r,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OO=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PO=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EO=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DO=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TO=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$O=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ld=1,_O=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ld++,s=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,i=n.then(async c=>{if(s=["resolve",c],D.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(kO(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ld++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rr=new _O,IO=(e,t)=>{let r=(t==null?void 0:t.id)||Ld++;return rr.addToast({title:e,...t,id:r}),r},kO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",MO=IO,RO=()=>rr.toasts,LO=()=>rr.getActiveToasts();Object.assign(MO,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:RO,getToasts:LO});function BO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}BO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ai(e){return e.label!==void 0}var FO=3,UO="32px",KO="16px",Pp=4e3,VO=356,zO=14,WO=20,HO=200;function $r(...e){return e.filter(Boolean).join(" ")}function YO(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var GO=e=>{var t,r,n,a,s,i,l,c,u,f,d;let{invert:h,toast:m,unstyled:y,interacting:p,setHeights:v,visibleToasts:x,heights:w,index:b,toasts:N,expanded:j,removeToast:S,defaultRichColors:A,closeButton:O,style:$,cancelButtonStyle:F,actionButtonStyle:_,className:C="",descriptionClassName:U="",duration:M,position:K,gap:T,loadingIcon:P,expandByDefault:L,classNames:E,icons:G,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:Q}=e,[ie,re]=D.useState(null),[Ae,ae]=D.useState(null),[de,V]=D.useState(!1),[k,I]=D.useState(!1),[B,R]=D.useState(!1),[ce,he]=D.useState(!1),[ge,le]=D.useState(!1),[$e,me]=D.useState(0),[je,Ee]=D.useState(0),Oe=D.useRef(m.duration||M||Pp),Te=D.useRef(null),tt=D.useRef(null),H=b===0,q=b+1<=x,Y=m.type,ve=m.dismissible!==!1,W=m.className||"",ne=m.descriptionClassName||"",pe=D.useMemo(()=>w.findIndex(Ke=>Ke.toastId===m.id)||0,[w,m.id]),ye=D.useMemo(()=>{var Ke;return(Ke=m.closeButton)!=null?Ke:O},[m.closeButton,O]),z=D.useMemo(()=>m.duration||M||Pp,[m.duration,M]),ue=D.useRef(0),se=D.useRef(0),te=D.useRef(0),Z=D.useRef(null),[J,De]=K.split("-"),rt=D.useMemo(()=>w.reduce((Ke,Ge,ut)=>ut>=pe?Ke:Ke+Ge.height,0),[w,pe]),Me=$O(),gt=m.invert||h,Wr=Y==="loading";se.current=D.useMemo(()=>pe*T+rt,[pe,rt]),D.useEffect(()=>{Oe.current=z},[z]),D.useEffect(()=>{V(!0)},[]),D.useEffect(()=>{let Ke=tt.current;if(Ke){let Ge=Ke.getBoundingClientRect().height;return Ee(Ge),v(ut=>[{toastId:m.id,height:Ge,position:m.position},...ut]),()=>v(ut=>ut.filter(lr=>lr.toastId!==m.id))}},[v,m.id]),D.useLayoutEffect(()=>{if(!de)return;let Ke=tt.current,Ge=Ke.style.height;Ke.style.height="auto";let ut=Ke.getBoundingClientRect().height;Ke.style.height=Ge,Ee(ut),v(lr=>lr.find(fe=>fe.toastId===m.id)?lr.map(fe=>fe.toastId===m.id?{...fe,height:ut}:fe):[{toastId:m.id,height:ut,position:m.position},...lr])},[de,m.title,m.description,v,m.id]);let ir=D.useCallback(()=>{I(!0),me(se.current),v(Ke=>Ke.filter(Ge=>Ge.toastId!==m.id)),setTimeout(()=>{S(m)},HO)},[m,S,v,se]);D.useEffect(()=>{if(m.promise&&Y==="loading"||m.duration===1/0||m.type==="loading")return;let Ke;return j||p||Q&&Me?(()=>{if(te.current<ue.current){let Ge=new Date().getTime()-ue.current;Oe.current=Oe.current-Ge}te.current=new Date().getTime()})():Oe.current!==1/0&&(ue.current=new Date().getTime(),Ke=setTimeout(()=>{var Ge;(Ge=m.onAutoClose)==null||Ge.call(m,m),ir()},Oe.current)),()=>clearTimeout(Ke)},[j,p,m,Y,Q,Me,ir]),D.useEffect(()=>{m.delete&&ir()},[ir,m.delete]);function On(){var Ke,Ge,ut;return G!=null&&G.loading?D.createElement("div",{className:$r(E==null?void 0:E.loader,(Ke=m==null?void 0:m.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":Y==="loading"},G.loading):P?D.createElement("div",{className:$r(E==null?void 0:E.loader,(Ge=m==null?void 0:m.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":Y==="loading"},P):D.createElement(CO,{className:$r(E==null?void 0:E.loader,(ut=m==null?void 0:m.classNames)==null?void 0:ut.loader),visible:Y==="loading"})}return D.createElement("li",{tabIndex:0,ref:tt,className:$r(C,W,E==null?void 0:E.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[Y],(r=m==null?void 0:m.classNames)==null?void 0:r[Y]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:A,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":de,"data-promise":!!m.promise,"data-swiped":ge,"data-removed":k,"data-visible":q,"data-y-position":J,"data-x-position":De,"data-index":b,"data-front":H,"data-swiping":B,"data-dismissible":ve,"data-type":Y,"data-invert":gt,"data-swipe-out":ce,"data-swipe-direction":Ae,"data-expanded":!!(j||L&&de),style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${k?$e:se.current}px`,"--initial-height":L?"auto":`${je}px`,...$,...m.style},onDragEnd:()=>{R(!1),re(null),Z.current=null},onPointerDown:Ke=>{Wr||!ve||(Te.current=new Date,me(se.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(R(!0),Z.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,Ge,ut,lr;if(ce||!ve)return;Z.current=null;let fe=Number(((Ke=tt.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ce=Number(((Ge=tt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ve=new Date().getTime()-((ut=Te.current)==null?void 0:ut.getTime()),Re=ie==="x"?fe:Ce,Xe=Math.abs(Re)/Ve;if(Math.abs(Re)>=WO||Xe>.11){me(se.current),(lr=m.onDismiss)==null||lr.call(m,m),ae(ie==="x"?fe>0?"right":"left":Ce>0?"down":"up"),ir(),he(!0),le(!1);return}R(!1),re(null)},onPointerMove:Ke=>{var Ge,ut,lr,fe;if(!Z.current||!ve||((Ge=window.getSelection())==null?void 0:Ge.toString().length)>0)return;let Ce=Ke.clientY-Z.current.y,Ve=Ke.clientX-Z.current.x,Re=(ut=e.swipeDirections)!=null?ut:YO(K);!ie&&(Math.abs(Ve)>1||Math.abs(Ce)>1)&&re(Math.abs(Ve)>Math.abs(Ce)?"x":"y");let Xe={x:0,y:0};ie==="y"?(Re.includes("top")||Re.includes("bottom"))&&(Re.includes("top")&&Ce<0||Re.includes("bottom")&&Ce>0)&&(Xe.y=Ce):ie==="x"&&(Re.includes("left")||Re.includes("right"))&&(Re.includes("left")&&Ve<0||Re.includes("right")&&Ve>0)&&(Xe.x=Ve),(Math.abs(Xe.x)>0||Math.abs(Xe.y)>0)&&le(!0),(lr=tt.current)==null||lr.style.setProperty("--swipe-amount-x",`${Xe.x}px`),(fe=tt.current)==null||fe.style.setProperty("--swipe-amount-y",`${Xe.y}px`)}},ye&&!m.jsx?D.createElement("button",{"aria-label":ee,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!ve?()=>{}:()=>{var Ke;ir(),(Ke=m.onDismiss)==null||Ke.call(m,m)},className:$r(E==null?void 0:E.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=G==null?void 0:G.close)!=null?s:TO):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:D.createElement(D.Fragment,null,Y||m.icon||m.promise?D.createElement("div",{"data-icon":"",className:$r(E==null?void 0:E.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||On():null,m.type!=="loading"?m.icon||(G==null?void 0:G[Y])||NO(Y):null):null,D.createElement("div",{"data-content":"",className:$r(E==null?void 0:E.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},D.createElement("div",{"data-title":"",className:$r(E==null?void 0:E.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?D.createElement("div",{"data-description":"",className:$r(U,ne,E==null?void 0:E.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&Ai(m.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||F,onClick:Ke=>{var Ge,ut;Ai(m.cancel)&&ve&&((ut=(Ge=m.cancel).onClick)==null||ut.call(Ge,Ke),ir())},className:$r(E==null?void 0:E.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&Ai(m.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||_,onClick:Ke=>{var Ge,ut;Ai(m.action)&&((ut=(Ge=m.action).onClick)==null||ut.call(Ge,Ke),!Ke.defaultPrevented&&ir())},className:$r(E==null?void 0:E.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function Ep(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qO(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,i=s?"--mobile-offset":"--offset",l=s?KO:UO;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var XO=g.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:m,visibleToasts:y=FO,toastOptions:p,dir:v=Ep(),gap:x=zO,loadingIcon:w,icons:b,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[S,A]=D.useState([]),O=D.useMemo(()=>Array.from(new Set([n].concat(S.filter(Q=>Q.position).map(Q=>Q.position)))),[S,n]),[$,F]=D.useState([]),[_,C]=D.useState(!1),[U,M]=D.useState(!1),[K,T]=D.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=D.useRef(null),L=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=D.useRef(null),G=D.useRef(!1),ee=D.useCallback(Q=>{A(ie=>{var re;return(re=ie.find(Ae=>Ae.id===Q.id))!=null&&re.delete||rr.dismiss(Q.id),ie.filter(({id:Ae})=>Ae!==Q.id)})},[]);return D.useEffect(()=>rr.subscribe(Q=>{if(Q.dismiss){A(ie=>ie.map(re=>re.id===Q.id?{...re,delete:!0}:re));return}setTimeout(()=>{ob.flushSync(()=>{A(ie=>{let re=ie.findIndex(Ae=>Ae.id===Q.id);return re!==-1?[...ie.slice(0,re),{...ie[re],...Q},...ie.slice(re+1)]:[Q,...ie]})})})}),[]),D.useEffect(()=>{if(f!=="system"){T(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ie})=>{T(ie?"dark":"light")})}catch{Q.addListener(({matches:re})=>{try{T(re?"dark":"light")}catch(Ae){console.error(Ae)}})}},[f]),D.useEffect(()=>{S.length<=1&&C(!1)},[S]),D.useEffect(()=>{let Q=ie=>{var re,Ae;a.every(ae=>ie[ae]||ie.code===ae)&&(C(!0),(re=P.current)==null||re.focus()),ie.code==="Escape"&&(document.activeElement===P.current||(Ae=P.current)!=null&&Ae.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[a]),D.useEffect(()=>{if(P.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,G.current=!1)}},[P.current]),D.createElement("section",{ref:t,"aria-label":`${N} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Q,ie)=>{var re;let[Ae,ae]=Q.split("-");return S.length?D.createElement("ol",{key:Q,dir:v==="auto"?Ep():v,tabIndex:-1,ref:P,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Ae,"data-lifted":_&&S.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((re=$[0])==null?void 0:re.height)||0}px`,"--width":`${VO}px`,"--gap":`${x}px`,...m,...qO(c,u)},onBlur:de=>{G.current&&!de.currentTarget.contains(de.relatedTarget)&&(G.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||G.current||(G.current=!0,E.current=de.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{U||C(!1)},onDragEnd:()=>C(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(de=>!de.position&&ie===0||de.position===Q).map((de,V)=>{var k,I;return D.createElement(GO,{key:de.id,icons:b,index:V,toast:de,defaultRichColors:d,duration:(k=p==null?void 0:p.duration)!=null?k:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:y,closeButton:(I=p==null?void 0:p.closeButton)!=null?I:i,interacting:U,position:Q,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:S.filter(B=>B.position==de.position),heights:$.filter(B=>B.position==de.position),setHeights:F,expandByDefault:s,gap:x,loadingIcon:w,expanded:_,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const QO=({...e})=>{const{theme:t="system"}=SO();return o.jsx(XO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var JO=Ah[" useId ".trim().toString()]||(()=>{}),ZO=0;function mn(e){const[t,r]=g.useState(JO());return Yt(()=>{r(n=>n??String(ZO++))},[e]),t?`radix-${t}`:""}const eP=["top","right","bottom","left"],Mn=Math.min,hr=Math.max,il=Math.round,Ci=Math.floor,Xr=e=>({x:e,y:e}),tP={left:"right",right:"left",bottom:"top",top:"bottom"},rP={start:"end",end:"start"};function Bd(e,t,r){return hr(e,Mn(t,r))}function yn(e,t){return typeof e=="function"?e(t):e}function xn(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function $h(e){return e==="x"?"y":"x"}function _h(e){return e==="y"?"height":"width"}const nP=new Set(["top","bottom"]);function Gr(e){return nP.has(xn(e))?"y":"x"}function Ih(e){return $h(Gr(e))}function aP(e,t,r){r===void 0&&(r=!1);const n=Co(e),a=Ih(e),s=_h(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=ll(i)),[i,ll(i)]}function oP(e){const t=ll(e);return[Fd(e),t,Fd(t)]}function Fd(e){return e.replace(/start|end/g,t=>rP[t])}const Dp=["left","right"],Tp=["right","left"],sP=["top","bottom"],iP=["bottom","top"];function lP(e,t,r){switch(e){case"top":case"bottom":return r?t?Tp:Dp:t?Dp:Tp;case"left":case"right":return t?sP:iP;default:return[]}}function cP(e,t,r,n){const a=Co(e);let s=lP(xn(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(Fd)))),s}function ll(e){return e.replace(/left|right|bottom|top/g,t=>tP[t])}function uP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vb(e){return typeof e!="number"?uP(e):{top:e,right:e,bottom:e,left:e}}function cl(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function $p(e,t,r){let{reference:n,floating:a}=e;const s=Gr(t),i=Ih(t),l=_h(i),c=xn(t),u=s==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:f,y:n.y-a.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-a.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Co(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const dP=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=$p(u,n,c),h=n,m={},y=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:w,y:b,data:N,reset:j}=await x({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});f=w??f,d=b??d,m={...m,[v]:{...m[v],...N}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=$p(u,h,c)),p=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:m}};async function ms(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=yn(t,e),y=Vb(m),v=l[h?d==="floating"?"reference":"floating":d],x=cl(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),w=d==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},j=cl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-j.top+y.top)/N.y,bottom:(j.bottom-x.bottom+y.bottom)/N.y,left:(x.left-j.left+y.left)/N.x,right:(j.right-x.right+y.right)/N.x}}const fP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=yn(e,t)||{};if(u==null)return{};const d=Vb(f),h={x:r,y:n},m=Ih(a),y=_h(m),p=await i.getDimensions(u),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",N=s.reference[y]+s.reference[m]-h[m]-s.floating[y],j=h[m]-s.reference[m],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=S?S[b]:0;(!A||!await(i.isElement==null?void 0:i.isElement(S)))&&(A=l.floating[b]||s.floating[y]);const O=N/2-j/2,$=A/2-p[y]/2-1,F=Mn(d[x],$),_=Mn(d[w],$),C=F,U=A-p[y]-_,M=A/2-p[y]/2+O,K=Bd(C,M,U),T=!c.arrow&&Co(a)!=null&&M!==K&&s.reference[y]/2-(M<C?F:_)-p[y]/2<0,P=T?M<C?M-C:M-U:0;return{[m]:h[m]+P,data:{[m]:K,centerOffset:M-K-P,...T&&{alignmentOffset:P}},reset:T}}}),hP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...v}=yn(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=xn(a),w=Gr(l),b=xn(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!p?[ll(l)]:oP(l)),S=y!=="none";!h&&S&&j.push(...cP(l,p,y,N));const A=[l,...j],O=await ms(t,v),$=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&$.push(O[x]),d){const M=aP(a,i,N);$.push(O[M[0]],O[M[1]])}if(F=[...F,{placement:a,overflows:$}],!$.every(M=>M<=0)){var _,C;const M=(((_=s.flip)==null?void 0:_.index)||0)+1,K=A[M];if(K&&(!(d==="alignment"?w!==Gr(K):!1)||F.every(L=>Gr(L.placement)===w?L.overflows[0]>0:!0)))return{data:{index:M,overflows:F},reset:{placement:K}};let T=(C=F.filter(P=>P.overflows[0]<=0).sort((P,L)=>P.overflows[1]-L.overflows[1])[0])==null?void 0:C.placement;if(!T)switch(m){case"bestFit":{var U;const P=(U=F.filter(L=>{if(S){const E=Gr(L.placement);return E===w||E==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(E=>E>0).reduce((E,G)=>E+G,0)]).sort((L,E)=>L[1]-E[1])[0])==null?void 0:U[0];P&&(T=P);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function _p(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ip(e){return eP.some(t=>e[t]>=0)}const mP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=yn(e,t);switch(n){case"referenceHidden":{const s=await ms(t,{...a,elementContext:"reference"}),i=_p(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ip(i)}}}case"escaped":{const s=await ms(t,{...a,altBoundary:!0}),i=_p(s,r.floating);return{data:{escapedOffsets:i,escaped:Ip(i)}}}default:return{}}}}},zb=new Set(["left","top"]);async function pP(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=xn(r),l=Co(r),c=Gr(r)==="y",u=zb.has(i)?-1:1,f=s&&c?-1:1,d=yn(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const gP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await pP(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},vP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=yn(e,t),u={x:r,y:n},f=await ms(t,c),d=Gr(xn(a)),h=$h(d);let m=u[h],y=u[d];if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+f[v],b=m-f[x];m=Bd(w,m,b)}if(i){const v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=y+f[v],b=y-f[x];y=Bd(w,y,b)}const p=l.fn({...t,[h]:m,[d]:y});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[d]:i}}}}}},yP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yn(e,t),f={x:r,y:n},d=Gr(a),h=$h(d);let m=f[h],y=f[d];const p=yn(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",N=s.reference[h]-s.floating[b]+v.mainAxis,j=s.reference[h]+s.reference[b]-v.mainAxis;m<N?m=N:m>j&&(m=j)}if(u){var x,w;const b=h==="y"?"width":"height",N=zb.has(xn(a)),j=s.reference[d]-s.floating[b]+(N&&((x=i.offset)==null?void 0:x[d])||0)+(N?0:v.crossAxis),S=s.reference[d]+s.reference[b]+(N?0:((w=i.offset)==null?void 0:w[d])||0)-(N?v.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:m,[d]:y}}}},xP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=yn(e,t),f=await ms(t,u),d=xn(a),h=Co(a),m=Gr(a)==="y",{width:y,height:p}=s.floating;let v,x;d==="top"||d==="bottom"?(v=d,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,v=h==="end"?"top":"bottom");const w=p-f.top-f.bottom,b=y-f.left-f.right,N=Mn(p-f[v],w),j=Mn(y-f[x],b),S=!t.middlewareData.shift;let A=N,O=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=w),S&&!h){const F=hr(f.left,0),_=hr(f.right,0),C=hr(f.top,0),U=hr(f.bottom,0);m?O=y-2*(F!==0||_!==0?F+_:hr(f.left,f.right)):A=p-2*(C!==0||U!==0?C+U:hr(f.top,f.bottom))}await c({...t,availableWidth:O,availableHeight:A});const $=await i.getDimensions(l.floating);return y!==$.width||p!==$.height?{reset:{rects:!0}}:{}}}};function Cc(){return typeof window<"u"}function Oo(e){return Wb(e)?(e.nodeName||"").toLowerCase():"#document"}function pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(Wb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wb(e){return Cc()?e instanceof Node||e instanceof pr(e).Node:!1}function Fr(e){return Cc()?e instanceof Element||e instanceof pr(e).Element:!1}function en(e){return Cc()?e instanceof HTMLElement||e instanceof pr(e).HTMLElement:!1}function kp(e){return!Cc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pr(e).ShadowRoot}const bP=new Set(["inline","contents"]);function ai(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!bP.has(a)}const wP=new Set(["table","td","th"]);function jP(e){return wP.has(Oo(e))}const SP=[":popover-open",":modal"];function Oc(e){return SP.some(t=>{try{return e.matches(t)}catch{return!1}})}const NP=["transform","translate","scale","rotate","perspective"],AP=["transform","translate","scale","rotate","perspective","filter"],CP=["paint","layout","strict","content"];function kh(e){const t=Mh(),r=Fr(e)?Ur(e):e;return NP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||AP.some(n=>(r.willChange||"").includes(n))||CP.some(n=>(r.contain||"").includes(n))}function OP(e){let t=Rn(e);for(;en(t)&&!Ja(t);){if(kh(t))return t;if(Oc(t))return null;t=Rn(t)}return null}function Mh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PP=new Set(["html","body","#document"]);function Ja(e){return PP.has(Oo(e))}function Ur(e){return pr(e).getComputedStyle(e)}function Pc(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rn(e){if(Oo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kp(e)&&e.host||an(e);return kp(t)?t.host:t}function Hb(e){const t=Rn(e);return Ja(t)?e.ownerDocument?e.ownerDocument.body:e.body:en(t)&&ai(t)?t:Hb(t)}function ps(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Hb(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=pr(a);if(s){const l=Ud(i);return t.concat(i,i.visualViewport||[],ai(a)?a:[],l&&r?ps(l):[])}return t.concat(a,ps(a,[],r))}function Ud(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Yb(e){const t=Ur(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=en(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=il(r)!==s||il(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function Rh(e){return Fr(e)?e:e.contextElement}function za(e){const t=Rh(e);if(!en(t))return Xr(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=Yb(t);let i=(s?il(r.width):r.width)/n,l=(s?il(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const EP=Xr(0);function Gb(e){const t=pr(e);return!Mh()||!t.visualViewport?EP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==pr(e)?!1:t}function ia(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Rh(e);let i=Xr(1);t&&(n?Fr(n)&&(i=za(n)):i=za(e));const l=DP(s,r,n)?Gb(s):Xr(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,f=a.width/i.x,d=a.height/i.y;if(s){const h=pr(s),m=n&&Fr(n)?pr(n):n;let y=h,p=Ud(y);for(;p&&n&&m!==y;){const v=za(p),x=p.getBoundingClientRect(),w=Ur(p),b=x.left+(p.clientLeft+parseFloat(w.paddingLeft))*v.x,N=x.top+(p.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,f*=v.x,d*=v.y,c+=b,u+=N,y=pr(p),p=Ud(y)}}return cl({width:f,height:d,x:c,y:u})}function Ec(e,t){const r=Pc(e).scrollLeft;return t?t.left+r:ia(an(e)).left+r}function qb(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ec(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function TP(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=an(n),l=t?Oc(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Xr(1);const f=Xr(0),d=en(n);if((d||!d&&!s)&&((Oo(n)!=="body"||ai(i))&&(c=Pc(n)),en(n))){const m=ia(n);u=za(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const h=i&&!d&&!s?qb(i,c):Xr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function $P(e){return Array.from(e.getClientRects())}function _P(e){const t=an(e),r=Pc(e),n=e.ownerDocument.body,a=hr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=hr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Ec(e);const l=-r.scrollTop;return Ur(n).direction==="rtl"&&(i+=hr(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}const Mp=25;function IP(e,t){const r=pr(e),n=an(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const f=Mh();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Ec(n);if(u<=0){const f=n.ownerDocument,d=f.body,h=getComputedStyle(d),m=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-d.clientWidth-m);y<=Mp&&(s-=y)}else u<=Mp&&(s+=u);return{width:s,height:i,x:l,y:c}}const kP=new Set(["absolute","fixed"]);function MP(e,t){const r=ia(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=en(e)?za(e):Xr(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function Rp(e,t,r){let n;if(t==="viewport")n=IP(e,r);else if(t==="document")n=_P(an(e));else if(Fr(t))n=MP(t,r);else{const a=Gb(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return cl(n)}function Xb(e,t){const r=Rn(e);return r===t||!Fr(r)||Ja(r)?!1:Ur(r).position==="fixed"||Xb(r,t)}function RP(e,t){const r=t.get(e);if(r)return r;let n=ps(e,[],!1).filter(l=>Fr(l)&&Oo(l)!=="body"),a=null;const s=Ur(e).position==="fixed";let i=s?Rn(e):e;for(;Fr(i)&&!Ja(i);){const l=Ur(i),c=kh(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&kP.has(a.position)||ai(i)&&!c&&Xb(e,i))?n=n.filter(f=>f!==i):a=l,i=Rn(i)}return t.set(e,n),n}function LP(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Oc(t)?[]:RP(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=Rp(t,f,a);return u.top=hr(d.top,u.top),u.right=Mn(d.right,u.right),u.bottom=Mn(d.bottom,u.bottom),u.left=hr(d.left,u.left),u},Rp(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BP(e){const{width:t,height:r}=Yb(e);return{width:t,height:r}}function FP(e,t,r){const n=en(t),a=an(t),s=r==="fixed",i=ia(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Xr(0);function u(){c.x=Ec(a)}if(n||!n&&!s)if((Oo(t)!=="body"||ai(a))&&(l=Pc(t)),n){const m=ia(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const f=a&&!n&&!s?qb(a,l):Xr(0),d=i.left+l.scrollLeft-c.x-f.x,h=i.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:i.width,height:i.height}}function Bu(e){return Ur(e).position==="static"}function Lp(e,t){if(!en(e)||Ur(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return an(e)===r&&(r=r.ownerDocument.body),r}function Qb(e,t){const r=pr(e);if(Oc(e))return r;if(!en(e)){let a=Rn(e);for(;a&&!Ja(a);){if(Fr(a)&&!Bu(a))return a;a=Rn(a)}return r}let n=Lp(e,t);for(;n&&jP(n)&&Bu(n);)n=Lp(n,t);return n&&Ja(n)&&Bu(n)&&!kh(n)?r:n||OP(e)||r}const UP=async function(e){const t=this.getOffsetParent||Qb,r=this.getDimensions,n=await r(e.floating);return{reference:FP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KP(e){return Ur(e).direction==="rtl"}const VP={convertOffsetParentRelativeRectToViewportRelativeRect:TP,getDocumentElement:an,getClippingRect:LP,getOffsetParent:Qb,getElementRects:UP,getClientRects:$P,getDimensions:BP,getScale:za,isElement:Fr,isRTL:KP};function Jb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zP(e,t){let r=null,n;const a=an(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=Ci(d),p=Ci(a.clientWidth-(f+h)),v=Ci(a.clientHeight-(d+m)),x=Ci(f),b={rootMargin:-y+"px "+-p+"px "+-v+"px "+-x+"px",threshold:hr(0,Mn(1,c))||1};let N=!0;function j(S){const A=S[0].intersectionRatio;if(A!==c){if(!N)return i();A?i(!1,A):n=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!Jb(u,e.getBoundingClientRect())&&i(),N=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return i(!0),s}function WP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Rh(e),f=a||s?[...u?ps(u):[],...ps(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=u&&l?zP(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,p=c?ia(e):null;c&&v();function v(){const x=ia(e);p&&!Jb(p,x)&&r(),p=x,y=requestAnimationFrame(v)}return r(),()=>{var x;f.forEach(w=>{a&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),d==null||d(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const HP=gP,YP=vP,GP=hP,qP=xP,XP=mP,Bp=fP,QP=yP,JP=(e,t,r)=>{const n=new Map,a={platform:VP,...r},s={...a.platform,_c:n};return dP(e,t,{...a,platform:s})};var ZP=typeof document<"u",eE=function(){},Ji=ZP?g.useLayoutEffect:eE;function ul(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ul(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!ul(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Zb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fp(e,t){const r=Zb(e);return Math.round(t*r)/r}function Fu(e){const t=g.useRef(e);return Ji(()=>{t.current=e}),t}function tE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(n);ul(h,n)||m(n);const[y,p]=g.useState(null),[v,x]=g.useState(null),w=g.useCallback(L=>{L!==S.current&&(S.current=L,p(L))},[]),b=g.useCallback(L=>{L!==A.current&&(A.current=L,x(L))},[]),N=s||y,j=i||v,S=g.useRef(null),A=g.useRef(null),O=g.useRef(f),$=c!=null,F=Fu(c),_=Fu(a),C=Fu(u),U=g.useCallback(()=>{if(!S.current||!A.current)return;const L={placement:t,strategy:r,middleware:h};_.current&&(L.platform=_.current),JP(S.current,A.current,L).then(E=>{const G={...E,isPositioned:C.current!==!1};M.current&&!ul(O.current,G)&&(O.current=G,So.flushSync(()=>{d(G)}))})},[h,t,r,_,C]);Ji(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(L=>({...L,isPositioned:!1})))},[u]);const M=g.useRef(!1);Ji(()=>(M.current=!0,()=>{M.current=!1}),[]),Ji(()=>{if(N&&(S.current=N),j&&(A.current=j),N&&j){if(F.current)return F.current(N,j,U);U()}},[N,j,U,F,$]);const K=g.useMemo(()=>({reference:S,floating:A,setReference:w,setFloating:b}),[w,b]),T=g.useMemo(()=>({reference:N,floating:j}),[N,j]),P=g.useMemo(()=>{const L={position:r,left:0,top:0};if(!T.floating)return L;const E=Fp(T.floating,f.x),G=Fp(T.floating,f.y);return l?{...L,transform:"translate("+E+"px, "+G+"px)",...Zb(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:E,top:G}},[r,l,T.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:U,refs:K,elements:T,floatingStyles:P}),[f,U,K,T,P])}const rE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Bp({element:n.current,padding:a}).fn(r):{}:n?Bp({element:n,padding:a}).fn(r):{}}}},nE=(e,t)=>({...HP(e),options:[e,t]}),aE=(e,t)=>({...YP(e),options:[e,t]}),oE=(e,t)=>({...QP(e),options:[e,t]}),sE=(e,t)=>({...GP(e),options:[e,t]}),iE=(e,t)=>({...qP(e),options:[e,t]}),lE=(e,t)=>({...XP(e),options:[e,t]}),cE=(e,t)=>({...rE(e),options:[e,t]});var uE="Arrow",e0=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(ze.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});e0.displayName=uE;var dE=e0;function t0(e){const[t,r]=g.useState(void 0);return Yt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Lh="Popper",[r0,Po]=rn(Lh),[fE,n0]=r0(Lh),a0=e=>{const{__scopePopper:t,children:r}=e,[n,a]=g.useState(null);return o.jsx(fE,{scope:t,anchor:n,onAnchorChange:a,children:r})};a0.displayName=Lh;var o0="PopperAnchor",s0=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=n0(o0,r),i=g.useRef(null),l=et(t,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:o.jsx(ze.div,{...a,ref:l})});s0.displayName=o0;var Bh="PopperContent",[hE,mE]=r0(Bh),i0=g.forwardRef((e,t)=>{var de,V,k,I,B,R;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=e,v=n0(Bh,r),[x,w]=g.useState(null),b=et(t,ce=>w(ce)),[N,j]=g.useState(null),S=t0(N),A=(S==null?void 0:S.width)??0,O=(S==null?void 0:S.height)??0,$=n+(s!=="center"?"-"+s:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(u)?u:[u],C=_.length>0,U={padding:F,boundary:_.filter(gE),altBoundary:C},{refs:M,floatingStyles:K,placement:T,isPositioned:P,middlewareData:L}=tE({strategy:"fixed",placement:$,whileElementsMounted:(...ce)=>WP(...ce,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[nE({mainAxis:a+O,alignmentAxis:i}),c&&aE({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?oE():void 0,...U}),c&&sE({...U}),iE({...U,apply:({elements:ce,rects:he,availableWidth:ge,availableHeight:le})=>{const{width:$e,height:me}=he.reference,je=ce.floating.style;je.setProperty("--radix-popper-available-width",`${ge}px`),je.setProperty("--radix-popper-available-height",`${le}px`),je.setProperty("--radix-popper-anchor-width",`${$e}px`),je.setProperty("--radix-popper-anchor-height",`${me}px`)}}),N&&cE({element:N,padding:l}),vE({arrowWidth:A,arrowHeight:O}),h&&lE({strategy:"referenceHidden",...U})]}),[E,G]=u0(T),ee=or(y);Yt(()=>{P&&(ee==null||ee())},[P,ee]);const Q=(de=L.arrow)==null?void 0:de.x,ie=(V=L.arrow)==null?void 0:V.y,re=((k=L.arrow)==null?void 0:k.centerOffset)!==0,[Ae,ae]=g.useState();return Yt(()=>{x&&ae(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:P?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(I=L.transformOrigin)==null?void 0:I.x,(B=L.transformOrigin)==null?void 0:B.y].join(" "),...((R=L.hide)==null?void 0:R.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(hE,{scope:r,placedSide:E,onArrowChange:j,arrowX:Q,arrowY:ie,shouldHideArrow:re,children:o.jsx(ze.div,{"data-side":E,"data-align":G,...p,ref:b,style:{...p.style,animation:P?void 0:"none"}})})})});i0.displayName=Bh;var l0="PopperArrow",pE={top:"bottom",right:"left",bottom:"top",left:"right"},c0=g.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=mE(l0,n),i=pE[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(dE,{...a,ref:r,style:{...a.style,display:"block"}})})});c0.displayName=l0;function gE(e){return e!==null}var vE=e=>({name:"transformOrigin",options:e,fn(t){var v,x,w;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=u0(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=i?d:`${h}px`,p=`${-c}px`):u==="top"?(y=i?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=i?d:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,p=i?d:`${m}px`),{data:{x:y,y:p}}}});function u0(e){const[t,r="center"]=e.split("-");return[t,r]}var d0=a0,Fh=s0,Uh=i0,Kh=c0,[Dc,Eee]=rn("Tooltip",[Po]),Vh=Po(),f0="TooltipProvider",yE=700,Up="tooltip.open",[xE,h0]=Dc(f0),m0=e=>{const{__scopeTooltip:t,delayDuration:r=yE,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(xE,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};m0.displayName=f0;var p0="Tooltip",[Dee,Tc]=Dc(p0),Kd="TooltipTrigger",bE=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Tc(Kd,r),s=h0(Kd,r),i=Vh(r),l=g.useRef(null),c=et(t,l,a.onTriggerChange),u=g.useRef(!1),f=g.useRef(!1),d=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(Fh,{asChild:!0,...i,children:o.jsx(ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Se(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Se(e.onBlur,a.onClose),onClick:Se(e.onClick,a.onClose)})})});bE.displayName=Kd;var wE="TooltipPortal",[Tee,jE]=Dc(wE,{forceMount:void 0}),Za="TooltipContent",g0=g.forwardRef((e,t)=>{const r=jE(Za,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=Tc(Za,e.__scopeTooltip);return o.jsx(nn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(v0,{side:a,...s,ref:t}):o.jsx(SE,{side:a,...s,ref:t})})}),SE=g.forwardRef((e,t)=>{const r=Tc(Za,e.__scopeTooltip),n=h0(Za,e.__scopeTooltip),a=g.useRef(null),s=et(t,a),[i,l]=g.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=g.useCallback(()=>{l(null),d(!1)},[d]),m=g.useCallback((y,p)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=PE(x,v.getBoundingClientRect()),b=EE(x,w),N=DE(p.getBoundingClientRect()),j=$E([...b,...N]);l(j),d(!0)},[d]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&f){const y=v=>m(v,f),p=v=>m(v,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",p)}}},[c,f,m,h]),g.useEffect(()=>{if(i){const y=p=>{const v=p.target,x={x:p.clientX,y:p.clientY},w=(c==null?void 0:c.contains(v))||(f==null?void 0:f.contains(v)),b=!TE(x,i);w?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,i,u,h]),o.jsx(v0,{...e,ref:s})}),[NE,AE]=Dc(p0,{isInside:!1}),CE=EC("TooltipContent"),v0=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,c=Tc(Za,r),u=Vh(r),{onClose:f}=c;return g.useEffect(()=>(document.addEventListener(Up,f),()=>document.removeEventListener(Up,f)),[f]),g.useEffect(()=>{if(c.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(Uh,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(CE,{children:n}),o.jsx(NE,{scope:r,isInside:!0,children:o.jsx(QC,{id:c.contentId,role:"tooltip",children:a||n})})]})})});g0.displayName=Za;var y0="TooltipArrow",OE=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Vh(r);return AE(y0,r).isInside?null:o.jsx(Kh,{...a,...n,ref:t})});OE.displayName=y0;function PE(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function EE(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function DE(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function TE(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function $E(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_E(t)}function _E(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var IE=m0,x0=g0;const kE=IE,ME=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(x0,{ref:n,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ME.displayName=x0.displayName;class RE{constructor(){Rt(this,"clientId");Rt(this,"syncQueue",[]);Rt(this,"metadata",null);this.clientId=this.generateClientId(),this.loadSyncQueue(),this.loadMetadata()}generateClientId(){return`client_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async loadSyncQueue(){try{const t=localStorage.getItem("syncQueue");t&&(this.syncQueue=JSON.parse(t))}catch(t){console.error("동기화 큐 로드 실패:",t),this.syncQueue=[]}}async saveSyncQueue(){try{localStorage.setItem("syncQueue",JSON.stringify(this.syncQueue))}catch(t){console.error("동기화 큐 저장 실패:",t)}}async loadMetadata(){try{const t=localStorage.getItem("syncMetadata");t&&(this.metadata=JSON.parse(t))}catch(t){console.error("메타데이터 로드 실패:",t)}}async saveMetadata(){try{this.metadata&&localStorage.setItem("syncMetadata",JSON.stringify(this.metadata))}catch(t){console.error("메타데이터 저장 실패:",t)}}async addToSyncQueue(t){const r={...t,id:`op_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),status:"pending"};this.syncQueue.push(r),await this.saveSyncQueue(),console.log(`📝 동기화 큐에 추가: ${t.operation} ${t.recordId}`)}async uploadToServer(){if(!Be)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 업로드를 건너뜁니다."),{uploaded:0,errors:[]};const t=this.syncQueue.filter(a=>a.status==="pending");let r=0;const n=[];console.log(`📤 서버로 업로드 시작: ${t.length}개 작업`);for(const a of t)try{a.status="processing",await this.saveSyncQueue();const s=await fetch(`${Be}/api/sync/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:a.operation,tableName:a.tableName,recordId:a.recordId,payload:a.payload,clientVersion:a.clientVersion})});if(s.ok)a.status="completed",r++,console.log(`✅ 업로드 성공: ${a.operation} ${a.recordId}`);else throw new Error(`HTTP ${s.status}: ${await s.text()}`)}catch(s){a.status="failed";const i=`업로드 실패 ${a.recordId}: ${s.message}`;n.push(i),console.error(`❌ ${i}`)}return await this.saveSyncQueue(),{uploaded:r,errors:n}}async downloadFromServer(t=!1){var r;if(!Be)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 다운로드를 건너뜁니다."),{downloaded:0,conflicts:0};try{let n=0;const a=0;if(t){console.log("📥 전체 동기화: 서버의 모든 데이터로 덮어쓰기 시작...");const c=await fetch(`${Be}/api/unclassified`);if(!c.ok)throw new Error(`전체 다운로드 실패: ${c.status}`);const u=await c.json();let f=[];Array.isArray(u)?(f=u,console.log("📥 배열 응답 감지:",f.length,"개")):u&&typeof u=="object"&&(u.success===!0&&Array.isArray(u.data)?(f=u.data,console.log("📥 성공 응답 (data):",f.length,"개")):Array.isArray(u.data)?(f=u.data,console.log("📥 데이터 응답:",f.length,"개")):Array.isArray(u.records)?(f=u.records,console.log("📥 레코드 응답:",f.length,"개")):(console.warn("⚠️ 알 수 없는 응답 형식:",Object.keys(u)),console.warn("⚠️ 응답 샘플:",JSON.stringify(u).substring(0,200)))),console.log(`📥 서버에서 전체 데이터 다운로드: ${f.length}개 레코드`),console.log("🔄 dayKeyLocal 정규화 중...");const d=f.map(h=>{const m=h.dayKeyLocal||(h.collectionDate?new Date(h.collectionDate).toISOString().split("T")[0]:null)||(h.uploadDate?new Date(h.uploadDate).toISOString().split("T")[0]:null);return{...h,dayKeyLocal:m}}).filter(h=>h.dayKeyLocal);return console.log(`✅ 정규화 완료: ${f.length}개 → ${d.length}개`),console.log("💾 서버 데이터를 IndexedDB에 배치 저장 중..."),await un.saveDataInBatches(d,500),n=d.length,console.log(`✅ 전체 동기화 완료: ${n}개 새로 저장`),{downloaded:n,conflicts:a}}const s=((r=this.metadata)==null?void 0:r.lastSyncAt)||0,i=await fetch(`${Be}/api/sync/download?since=${s}`);if(!i.ok)throw new Error(`다운로드 실패: ${i.status}`);const l=await i.json();console.log(`📥 서버에서 증분 다운로드: ${l.records.length}개 레코드`);for(const c of l.records)try{const u=c.dayKeyLocal||(c.collectionDate?new Date(c.collectionDate).toISOString().split("T")[0]:null)||(c.uploadDate?new Date(c.uploadDate).toISOString().split("T")[0]:null);if(!u){console.warn(`⚠️ 날짜 키가 없는 레코드 스킵: ${c.videoId}`);continue}const f=`${c.videoId}|${u}`;console.log(`🔍 키 기반 조회: ${f}`),await xe.upsertUnclassifiedDataWithMaxValues([c]),n++,console.log(`✅ 데이터 upsert: ${c.videoId} (${c.dayKeyLocal})`)}catch(u){console.error(`❌ 레코드 처리 실패 ${c.videoId}:`,u)}return{downloaded:n,conflicts:a}}catch(n){return console.error("❌ 서버 다운로드 실패:",n),{downloaded:0,conflicts:0}}}async performFullSync(t=!0){console.log("🔄 전체 동기화 시작...");try{const r=await this.uploadToServer(),n=await this.downloadFromServer(t);this.metadata={clientId:this.clientId,lastSyncAt:Date.now(),serverVersion:"1.0.0",clientVersion:"1.0.0"},await this.saveMetadata();const a={success:!0,uploaded:r.uploaded,downloaded:n.downloaded,conflicts:n.conflicts,errors:r.errors,lastSyncAt:this.metadata.lastSyncAt};return console.log("✅ 동기화 완료:",a),a}catch(r){return console.error("❌ 동기화 실패:",r),{success:!1,uploaded:0,downloaded:0,conflicts:0,errors:[r instanceof Error?r.message:String(r)],lastSyncAt:0}}}async checkSyncNeeded(){var a;const r=this.syncQueue.filter(s=>s.status==="pending").length>0;let n=!1;try{const s=((a=this.metadata)==null?void 0:a.lastSyncAt)||0,i=await fetch(`/api/sync/check?since=${s}`);i.ok&&(n=(await i.json()).hasChanges)}catch(s){console.error("서버 변경사항 확인 실패:",s)}return r||n}getSyncStatus(){var t;return{pendingOps:this.syncQueue.filter(r=>r.status==="pending").length,lastSyncAt:((t=this.metadata)==null?void 0:t.lastSyncAt)||null,clientId:this.clientId}}async clearSyncQueue(){this.syncQueue=[],await this.saveSyncQueue(),console.log("🗑️ 동기화 큐 초기화 완료")}}const LE=new RE;async function Uu({api:e,idb:t,lastSyncAt:r}){var n;if(!Be)return console.warn("⚠️ API_BASE_URL 미설정 - 로그인 후 서버 동기화를 건너뜁니다."),{success:!0,syncedAt:new Date().toISOString(),uploaded:0,downloaded:0,classifiedLoaded:0};try{console.log("🔄 로그인 후 서버 동기화 시작..."),console.log("[1/4] 서버→로컬 분류 데이터 전체 로드...");let a=0;try{const u=await e.get("/api/classified");u.success&&u.data&&Array.isArray(u.data)?(console.log(`📦 서버에서 분류 데이터 로드: ${u.data.length}개`),a=u.data.length,await t.saveClassifiedData(u.data),console.log("✅ IndexedDB 분류 데이터 캐시 갱신 완료")):console.warn("⚠️ 서버 분류 데이터 없음 또는 형식 오류")}catch(u){console.error("❌ 분류 데이터 로드 실패:",u)}console.log("[2/4] 로컬→서버 업로드 큐 재생...");const s=await LE.performFullSync();console.log("✅ 업로드 큐 재생 완료:",s),console.log("[3/4] 서버→로컬 증분 동기화...");const i=r??new Date(Date.now()-24*3600*1e3).toISOString(),l=await e.get(`/api/sync/download?since=${i}`);l&&l.items&&l.items.length>0?(await t.upsertUnclassifiedDataWithMaxValues(l.items),console.log(`✅ 서버 증분 동기화 완료: ${l.items.length}개 항목`)):console.log("📊 서버 증분 동기화: 변경사항 없음"),console.log("[4/4] 동기화 상태 업데이트...");const c=new Date().toISOString();return await t.saveSystemConfig("lastSyncAt",c),console.log("🎉 서버 동기화 완료!"),{success:!0,syncedAt:c,uploaded:s.uploaded||0,downloaded:((n=l==null?void 0:l.items)==null?void 0:n.length)||0,classifiedLoaded:a}}catch(a){return console.error("❌ 서버 동기화 실패:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error",syncedAt:null}}}const b0=g.createContext(void 0),BE=({children:e})=>{const[t,r]=g.useState(!1),[n,a]=g.useState(null),[s,i]=g.useState(null),[l,c]=g.useState(!0),u=Gt();g.useEffect(()=>{(()=>{var y;try{console.log("🌐 환경 정보:",{hostname:window.location.hostname,protocol:window.location.protocol,origin:window.location.origin,userAgent:navigator.userAgent.substring(0,50)+"..."});const p=localStorage.getItem("userEmail"),v=localStorage.getItem("userRole");console.log("🔍 저장된 인증 정보 확인:",{storedEmail:p,storedRole:v}),!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")?(console.log("🏭 프로덕션 환경 감지"),p&&v&&p.includes("@")?(r(!0),a(p),i(v),console.log("✅ 프로덕션 인증 정보 로드 완료:",{storedEmail:p,storedRole:v})):(console.log("❌ 프로덕션: 유효하지 않은 인증 정보"),localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"))):(console.log("💻 개발 환경 감지"),p&&v?(r(!0),a(p),i(v),console.log("✅ 개발 인증 정보 로드 완료:",{storedEmail:p,storedRole:v})):console.log("❌ 개발: 저장된 인증 정보 없음"))}catch(p){console.error("❌ 인증 정보 확인 중 오류:",p),console.error("❌ 오류 상세:",{name:p.name,message:p.message,stack:((y=p.stack)==null?void 0:y.substring(0,200))+"..."}),r(!1),a(null),i(null)}finally{c(!1)}})()},[]);const h={isLoggedIn:t,userEmail:n,userRole:s,login:async(m,y)=>{c(!0);try{if(console.log("🔐 로그인 시도:",{email:m,timestamp:new Date().toISOString()}),console.log("🌐 현재 도메인:",window.location.hostname),console.log("🔧 localStorage 사용 가능:",typeof Storage<"u"),m==="ju9511503@gmail.com"&&y==="@ju9180417")if(console.log("✅ 관리자 계정 확인됨"),!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")){console.log("🏭 프로덕션 로그인 처리");try{localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),localStorage.setItem("userEmail",m),localStorage.setItem("userRole","admin");const v=localStorage.getItem("userEmail"),x=localStorage.getItem("userRole");if(console.log("💾 프로덕션 저장 확인:",{savedEmail:v,savedRole:x}),v===m&&x==="admin")return r(!0),a(m),i("admin"),console.log("✅ 프로덕션 관리자 로그인 성공:",{email:m,role:"admin"}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const w=new Promise((j,S)=>{setTimeout(()=>S(new Error("동기화 타임아웃 (30초)")),3e4)});if(!Be){console.warn("⚠️ API_BASE_URL 미설정 - 서버 동기화를 건너뜁니다.");return}const b=Uu({api:{get:async j=>(await fetch(`${Be}${j}`)).json(),post:async(j,S)=>(await fetch(`${Be}${j}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).json()},idb:xe,lastSyncAt:await xe.loadSystemConfig("lastSyncAt")}),N=await Promise.race([b,w]);N.success?console.log("🎉 백그라운드 동기화 완료:",N):console.warn("⚠️ 백그라운드 동기화 실패:",N.error)}catch(w){console.error("❌ 백그라운드 동기화 오류:",w)}})(),"caches"in window&&(async()=>{try{const w=await caches.keys();await Promise.all(w.map(b=>caches.delete(b))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(w){console.warn("⚠️ 캐시 클리어 실패:",w)}})(),u("/dashboard",{replace:!0}),!0;throw new Error("저장된 데이터가 일치하지 않음")}catch(v){return console.error("❌ 프로덕션 localStorage 저장 실패:",v),c(!1),!1}}else{console.log("💻 개발 로그인 처리");try{return localStorage.setItem("userEmail",m),localStorage.setItem("userRole","admin"),r(!0),a(m),i("admin"),console.log("✅ 개발 관리자 로그인 성공:",{email:m,role:"admin"}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const v=new Promise((b,N)=>{setTimeout(()=>N(new Error("동기화 타임아웃 (30초)")),3e4)});if(!Be){console.warn("⚠️ API_BASE_URL 미설정 - 서버 동기화를 건너뜁니다.");return}const x=Uu({api:{get:async b=>(await fetch(`${Be}${b}`)).json(),post:async(b,N)=>(await fetch(`${Be}${b}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json()},idb:xe,lastSyncAt:await xe.loadSystemConfig("lastSyncAt")}),w=await Promise.race([x,v]);w.success?console.log("🎉 백그라운드 동기화 완료:",w):console.warn("⚠️ 백그라운드 동기화 실패:",w.error)}catch(v){console.error("❌ 백그라운드 동기화 오류:",v)}})(),"caches"in window&&(async()=>{try{const v=await caches.keys();await Promise.all(v.map(x=>caches.delete(x))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(v){console.warn("⚠️ 캐시 클리어 실패:",v)}})(),u("/dashboard",{replace:!0}),!0}catch(v){return console.error("❌ 개발 localStorage 저장 실패:",v),c(!1),!1}}try{const v=JSON.parse(localStorage.getItem("users")||"[]").find(x=>x.email===m&&x.password===y);if(v&&v.status==="active")return localStorage.setItem("userEmail",m),localStorage.setItem("userRole",v.role||"user"),r(!0),a(m),i(v.role||"user"),console.log("✅ 사용자 로그인 성공:",{email:m,role:v.role}),c(!1),console.log("🔄 백그라운드 동기화 시작..."),(async()=>{try{const x=new Promise((N,j)=>{setTimeout(()=>j(new Error("동기화 타임아웃 (30초)")),3e4)}),w=Uu({api:{get:async N=>{if(!Be)throw new Error("API base URL is not configured.");return(await fetch(`${Be}${N}`)).json()},post:async(N,j)=>{if(!Be)throw new Error("API base URL is not configured.");return(await fetch(`${Be}${N}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).json()}},idb:xe,lastSyncAt:await xe.loadSystemConfig("lastSyncAt")}),b=await Promise.race([w,x]);b.success?console.log("🎉 백그라운드 동기화 완료:",b):console.warn("⚠️ 백그라운드 동기화 실패:",b.error)}catch(x){console.error("❌ 백그라운드 동기화 오류:",x)}})(),"caches"in window&&(async()=>{try{const x=await caches.keys();await Promise.all(x.map(w=>caches.delete(w))),console.log("✅ 서비스 워커 캐시 클리어 완료")}catch(x){console.warn("⚠️ 캐시 클리어 실패:",x)}})(),u("/dashboard",{replace:!0}),!0}catch(p){console.error("❌ 사용자 데이터 파싱 실패:",p)}return console.log("❌ 로그인 실패: 잘못된 인증 정보"),console.log("❌ 입력된 정보:",{email:m,passwordLength:y.length}),c(!1),!1}catch(p){return console.error("❌ 로그인 에러:",p),console.error("❌ 에러 상세:",{name:p.name,message:p.message,stack:p.stack}),c(!1),!1}},logout:()=>{localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),r(!1),a(null),i(null),console.log("✅ 로그아웃 완료 - 인증 정보 삭제됨"),u("/login",{replace:!0})},isLoading:l};return o.jsx(b0.Provider,{value:h,children:e})},FE=ni("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,type:a="button",...s},i)=>{const l=n?OC:"button";return o.jsx(l,{type:n?void 0:a,className:ke(FE({variant:t,size:r,className:e})),ref:i,...s})});X.displayName="Button";const UE=ni("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w0=g.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ke(UE({variant:t}),e),...r}));w0.displayName="Alert";const KE=g.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));KE.displayName="AlertTitle";const j0=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));j0.displayName="AlertDescription";class VE extends D.Component{constructor(r){super(r);Rt(this,"handleServiceWorkerUpdate",async()=>{try{if("serviceWorker"in navigator){const r=await navigator.serviceWorker.getRegistration();r&&r.waiting&&(console.log("🔄 서비스 워커 업데이트 감지 - 즉시 활성화"),r.waiting.postMessage({type:"SKIP_WAITING"}),r.active&&r.active.postMessage({type:"CLIENTS_CLAIM"}))}}catch(r){console.error("❌ 서비스 워커 업데이트 실패:",r)}});Rt(this,"handleRefresh",()=>{window.location.reload()});Rt(this,"handleHardRefresh",()=>{window.location.href=window.location.href+"?v="+Date.now()});this.state={hasError:!1}}static getDerivedStateFromError(r){return r.message.includes("Failed to fetch dynamically imported module")||r.message.includes("Loading chunk")||r.message.includes("Loading CSS chunk")?{hasError:!0,error:r}:{hasError:!1}}componentDidCatch(r,n){console.error("🚨 청크 로딩 오류 감지:",r),console.error("📍 오류 정보:",n),(r.message.includes("Failed to fetch dynamically imported module")||r.message.includes("Loading chunk")||r.message.includes("Loading CSS chunk"))&&(this.setState({hasError:!0,error:r}),this.handleServiceWorkerUpdate())}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"max-w-md w-full mx-4",children:o.jsxs(w0,{className:"border-orange-200 bg-orange-50",children:[o.jsx(Dd,{className:"h-4 w-4 text-orange-600"}),o.jsx(j0,{className:"mt-2",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-orange-800",children:"앱 업데이트 감지"}),o.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"새로운 버전이 배포되었습니다. 페이지를 새로고침하여 최신 버전을 사용하세요."})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs(X,{onClick:this.handleRefresh,className:"w-full",variant:"default",children:[o.jsx(cn,{className:"h-4 w-4 mr-2"}),"새로고침"]}),o.jsx(X,{onClick:this.handleHardRefresh,variant:"outline",className:"w-full",children:"강력 새로고침 (캐시 무효화)"})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsxs("p",{children:["💡 ",o.jsx("strong",{children:"문제가 지속되면:"})]}),o.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[o.jsx("li",{children:"브라우저 캐시를 수동으로 삭제하세요"}),o.jsx("li",{children:"시크릿/프라이빗 모드로 시도해보세요"}),o.jsx("li",{children:"다른 브라우저로 접속해보세요"})]})]})]})})]})})}):this.props.children}}const Ar=()=>{const e=g.useContext(b0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},zE=()=>{const{isLoggedIn:e}=Ar(),t=r=>{e||(r.preventDefault(),alert("로그인이 필요합니다. 먼저 로그인해주세요."))};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800",children:[o.jsx("header",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/login",children:o.jsxs(X,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(HA,{className:"w-4 h-4 mr-2"}),"로그인"]})}),o.jsx(Ne,{to:"/dashboard",onClick:t,children:o.jsx(X,{variant:"destructive",size:"sm",className:`${e?"bg-red-600 hover:bg-red-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:"국내"})}),o.jsx(Ne,{to:"/trend",onClick:t,children:o.jsxs(X,{size:"sm",className:`${e?"bg-green-600 hover:bg-green-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",onClick:t,children:o.jsx(X,{size:"sm",className:`${e?"bg-orange-600 hover:bg-orange-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",onClick:t,children:o.jsxs(X,{size:"sm",className:`${e?"bg-purple-600 hover:bg-purple-700":"bg-gray-500 cursor-not-allowed"} text-white`,disabled:!e,children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-20",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-6xl font-bold text-white leading-tight",children:"유튜브 트렌드의"}),o.jsx("h2",{className:"text-6xl font-bold text-red-500 leading-tight",children:"모든 것을"}),o.jsx("h2",{className:"text-6xl font-bold text-white leading-tight",children:"한눈에"})]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"국내외 유튜브 영상을 분석하여 트렌드를 확인하세요"}),o.jsx("div",{className:"pt-8",children:o.jsx(Ne,{to:"/dashboard",onClick:t,children:o.jsxs(X,{size:"lg",className:`${e?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":"bg-gray-500 cursor-not-allowed"} text-white text-lg px-8 py-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300`,disabled:!e,children:[o.jsx(YA,{className:"w-5 h-5 mr-2"}),e?"대시보드 시작하기":"로그인 후 이용 가능"]})})})]})}),o.jsx("footer",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 YouTube Pulse. All rights reserved."})})})]})},yt=g.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));yt.displayName="Input";const we=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));we.displayName="Card";const la=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));la.displayName="CardHeader";const ca=g.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));ca.displayName="CardTitle";const ua=g.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));ua.displayName="CardDescription";const Vt=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("p-6 pt-0",e),...t}));Vt.displayName="CardContent";const WE=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("flex items-center p-6 pt-0",e),...t}));WE.displayName="CardFooter";var HE="Label",S0=g.forwardRef((e,t)=>o.jsx(ze.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S0.displayName=HE;var N0=S0;const YE=ni("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$t=g.forwardRef(({className:e,...t},r)=>o.jsx(N0,{ref:r,className:ke(YE(),e),...t}));$t.displayName=N0.displayName;const GE=()=>{const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,s]=g.useState(!1),[i,l]=g.useState(""),{login:c,isLoading:u}=Ar(),f=Gt(),d=async h=>{h.preventDefault(),l("");const m=JSON.parse(localStorage.getItem("users")||"[]"),v=[{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417",status:"active"},...m].find(w=>w.email===e);if(v&&v.status==="pending"){l("계정이 관리자 승인 대기 중입니다. 승인 후 로그인 가능합니다.");return}await c(e,r)?f("/dashboard"):l("이메일 또는 비밀번호가 올바르지 않습니다.")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"로그인"}),o.jsx(ua,{className:"text-gray-300",children:"계정에 로그인하여 대시보드에 접근하세요"})]}),o.jsxs(Vt,{children:[o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"email",className:"text-white",children:"이메일"}),o.jsx(yt,{id:"email",type:"email",placeholder:"이메일을 입력하세요",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"password",className:"text-white",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"password",type:a?"text":"password",placeholder:"비밀번호를 입력하세요",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(ar,{className:"h-4 w-4"})})]})]}),i&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:i}),o.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:u,children:u?"로그인 중...":"로그인"})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(Ne,{to:"/register",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"계정이 없으신가요? 회원가입"}),o.jsx("br",{}),o.jsx(Ne,{to:"/forgot-password",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"비밀번호를 잊으셨나요?"})]})]})]})]})})},qE=()=>{const[e,t]=g.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=g.useState(!1),[a,s]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState(""),[f,d]=g.useState(!1),h=Gt(),m=p=>{const{name:v,value:x}=p.target;t(w=>({...w,[v]:x}))},y=async p=>{if(p.preventDefault(),u(""),e.password!==e.confirmPassword){u("비밀번호가 일치하지 않습니다.");return}if(e.password.length<6){u("비밀번호는 최소 6자 이상이어야 합니다.");return}l(!0),setTimeout(()=>{const v={id:Date.now().toString(),name:e.name,email:e.email,password:e.password,status:"pending",role:"user",joinDate:qe(),lastLogin:""},x=JSON.parse(localStorage.getItem("users")||"[]");x.push(v),localStorage.setItem("users",JSON.stringify(x)),l(!1),d(!0),setTimeout(()=>{h("/login")},3e3)},2e3)};return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(aa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"회원가입 완료!"}),o.jsxs("p",{className:"text-gray-300",children:["계정이 성공적으로 생성되었습니다.",o.jsx("br",{}),o.jsx("span",{className:"text-yellow-400 font-semibold",children:"관리자 승인 후 사용 가능합니다."}),o.jsx("br",{}),"잠시 후 로그인 페이지로 이동합니다."]}),o.jsx("div",{className:"pt-4",children:o.jsx(Ne,{to:"/login",children:o.jsx(X,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"로그인 페이지로 이동"})})})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"회원가입"}),o.jsx(ua,{className:"text-gray-300",children:"새 계정을 만들어 YouTube Pulse를 시작하세요"})]}),o.jsxs(Vt,{children:[o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"name",className:"text-white",children:"이름"}),o.jsx(yt,{id:"name",name:"name",type:"text",placeholder:"이름을 입력하세요",value:e.name,onChange:m,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"email",className:"text-white",children:"이메일"}),o.jsx(yt,{id:"email",name:"email",type:"email",placeholder:"이메일을 입력하세요",value:e.email,onChange:m,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"password",className:"text-white",children:"비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"password",name:"password",type:r?"text":"password",placeholder:"비밀번호를 입력하세요 (최소 6자)",value:e.password,onChange:m,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>n(!r),children:r?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(ar,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"confirmPassword",className:"text-white",children:"비밀번호 확인"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",placeholder:"비밀번호를 다시 입력하세요",value:e.confirmPassword,onChange:m,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(ar,{className:"h-4 w-4"})})]})]}),c&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:c}),o.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:i,children:i?"계정 생성 중...":"회원가입"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Ne,{to:"/login",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"이미 계정이 있으신가요? 로그인"})})]})]})]})})};class oi{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const XE=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},zt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:XE()},zh=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},QE=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=zh(e);zt.publicKey=r.publicKey,zt.blockHeadless=r.blockHeadless,zt.storageProvider=r.storageProvider,zt.blockList=r.blockList,zt.limitRate=r.limitRate,zt.origin=r.origin||t},A0=async(e,t,r={})=>{const n=await fetch(zt.origin+e,{method:"POST",headers:r,body:t}),a=await n.text(),s=new oi(n.status,a);if(n.ok)return s;throw s},C0=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},JE=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},O0=e=>e.webdriver||!e.languages||e.languages.length===0,P0=()=>new oi(451,"Unavailable For Headless Browser"),ZE=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},eD=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},tD=(e,t)=>e instanceof FormData?e.get(t):e[t],E0=(e,t)=>{if(eD(e))return!1;ZE(e.list,e.watchVariable);const r=tD(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},D0=()=>new oi(403,"Forbidden"),rD=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},nD=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},T0=async(e,t,r)=>{if(!t.throttle||!r)return!1;rD(t.throttle,t.id);const n=t.id||e;return await nD(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},$0=()=>new oi(429,"Too Many Requests"),aD=async(e,t,r,n)=>{const a=zh(n),s=a.publicKey||zt.publicKey,i=a.blockHeadless||zt.blockHeadless,l=a.storageProvider||zt.storageProvider,c={...zt.blockList,...a.blockList},u={...zt.limitRate,...a.limitRate};return i&&O0(navigator)?Promise.reject(P0()):(C0(s,e,t),JE(r),r&&E0(c,r)?Promise.reject(D0()):await T0(location.pathname,u,l)?Promise.reject($0()):A0("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},oD=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},sD=e=>typeof e=="string"?document.querySelector(e):e,iD=async(e,t,r,n)=>{const a=zh(n),s=a.publicKey||zt.publicKey,i=a.blockHeadless||zt.blockHeadless,l=zt.storageProvider||a.storageProvider,c={...zt.blockList,...a.blockList},u={...zt.limitRate,...a.limitRate};if(i&&O0(navigator))return Promise.reject(P0());const f=sD(r);C0(s,e,t),oD(f);const d=new FormData(f);return E0(c,d)?Promise.reject(D0()):await T0(location.pathname,u,l)?Promise.reject($0()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",s),A0("/api/v1.0/email/send-form",d))},lD={init:QE,send:aD,sendForm:iD,EmailJSResponseStatus:oi},Ku={SERVICE_ID:"service_youtube_pulse",TEMPLATE_ID:"template_password_reset",PUBLIC_KEY:"your_public_key_here"},cD=()=>{const[e,t]=g.useState(""),[r,n]=g.useState(!1),[a,s]=g.useState(""),[i,l]=g.useState(!1),[c,u]=g.useState(!1),f=Gt(),d=Ku.SERVICE_ID,h=Ku.TEMPLATE_ID,m=Ku.PUBLIC_KEY,y=async(v,x)=>{try{if(m==="your_public_key_here")return console.warn("⚠️ EmailJS가 설정되지 않았습니다. 개발 모드로 실행됩니다."),await new Promise(b=>setTimeout(b,2e3)),console.log("📧 개발 모드: 이메일 발송 시뮬레이션 완료"),!0;const w={to_email:v,temp_password:x,app_name:"YouTube Pulse",reset_link:`${window.location.origin}/login`};return await lD.send(d,h,w,m),console.log("✅ 이메일 발송 성공:",v),!0}catch(w){return console.error("❌ 이메일 발송 실패:",w),!1}},p=async v=>{if(v.preventDefault(),s(""),!e){s("이메일을 입력해주세요.");return}n(!0);try{const x=JSON.parse(localStorage.getItem("users")||"[]");if(![{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417"},...x].find(O=>O.email===e)){s("해당 이메일로 등록된 계정을 찾을 수 없습니다."),n(!1);return}const j=Math.random().toString(36).slice(-8);console.log("🔑 생성된 임시 비밀번호:",j);const S=x.map(O=>O.email===e?{...O,password:j}:O);if(await y(e,j)){if(u(!0),e==="ju9511503@gmail.com"){const O={tempPassword:j,timestamp:Date.now()};localStorage.setItem("adminTempPassword",JSON.stringify(O)),console.log("👑 관리자 임시 비밀번호 저장:",j)}else localStorage.setItem("users",JSON.stringify(S)),console.log("👤 일반 사용자 비밀번호 업데이트:",j);n(!1),l(!0)}else s("이메일 발송에 실패했습니다. 잠시 후 다시 시도해주세요."),n(!1);setTimeout(()=>{f("/login")},3e3)}catch(x){console.error("비밀번호 재설정 오류:",x),s("비밀번호 재설정 중 오류가 발생했습니다."),n(!1)}};return i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(aa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"이메일을 확인하세요"}),o.jsxs("div",{className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-4",children:[o.jsx(Td,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),o.jsx("p",{className:"text-white font-semibold mb-2",children:"비밀번호 재설정 이메일 발송 완료"}),o.jsxs("p",{className:"text-gray-300",children:[o.jsx("strong",{className:"text-white",children:e}),"로",o.jsx("br",{}),"임시 비밀번호를 보내드렸습니다."]})]}),o.jsx("div",{className:"bg-yellow-500/20 border border-yellow-400/30 rounded-lg p-3",children:o.jsxs("p",{className:"text-yellow-200 text-sm",children:["⚠️ ",o.jsx("strong",{children:"보안 안내:"})," 임시 비밀번호로 로그인한 후",o.jsx("br",{}),"반드시 새로운 비밀번호로 변경해주세요."]})}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["📧 이메일이 오지 않는다면 스팸 폴더를 확인해주세요.",o.jsx("br",{}),"⏰ 임시 비밀번호는 ",o.jsx("strong",{className:"text-white",children:"1시간"})," 후 만료됩니다."]}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsx(X,{onClick:()=>f("/login"),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"로그인 페이지로 돌아가기"}),o.jsx(X,{onClick:()=>{l(!1),t("")},variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:"다른 이메일로 다시 시도"})]})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"홈으로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"비밀번호 찾기"}),o.jsxs(ua,{className:"text-gray-300",children:["가입하신 이메일 주소를 입력하시면",o.jsx("br",{}),"비밀번호 재설정 링크를 보내드립니다"]})]}),o.jsxs(Vt,{children:[o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"email",className:"text-white",children:"이메일 주소"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"email",type:"email",placeholder:"가입하신 이메일을 입력하세요",value:e,onChange:v=>t(v.target.value),required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pl-10"}),o.jsx(Td,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),a&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:a}),o.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"이메일 발송 중..."]}):o.jsxs(o.Fragment,{children:["임시 비밀번호 이메일 보내기",o.jsx(GA,{className:"w-4 h-4 ml-2"})]})})]}),o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(Ne,{to:"/login",className:"text-sm text-gray-300 hover:text-white transition-colors block",children:"로그인 페이지로 돌아가기"}),o.jsx(Ne,{to:"/register",className:"text-sm text-gray-300 hover:text-white transition-colors block",children:"계정이 없으신가요? 회원가입"})]})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-200 mb-2",children:"도움이 필요하신가요?"}),o.jsx("p",{className:"text-xs text-blue-300",children:"비밀번호 재설정 링크가 이메일로 전송되지 않는다면, 입력하신 이메일 주소가 정확한지 확인해주세요. 여전히 문제가 있다면 고객지원팀에 문의해주세요."})]})]})})},uD=()=>{const[e,t]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,n]=g.useState(!1),[a,s]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState(!1),[f,d]=g.useState(""),[h,m]=g.useState(!1),{userEmail:y,logout:p}=Ar(),v=Gt(),x=b=>{const{name:N,value:j}=b.target;t(S=>({...S,[N]:j}))},w=async b=>{if(b.preventDefault(),d(""),e.newPassword!==e.confirmPassword){d("새 비밀번호가 일치하지 않습니다.");return}if(e.newPassword.length<6){d("새 비밀번호는 최소 6자 이상이어야 합니다.");return}u(!0);try{const N=JSON.parse(localStorage.getItem("users")||"[]"),A=[{id:"admin-1",email:"ju9511503@gmail.com",password:"@ju9180417"},...N].find($=>$.email===y);if(!A){d("사용자 정보를 찾을 수 없습니다."),u(!1);return}if(A.password!==e.currentPassword){d("현재 비밀번호가 올바르지 않습니다."),u(!1);return}const O=N.map($=>$.email===y?{...$,password:e.newPassword}:$);localStorage.setItem("users",JSON.stringify(O)),u(!1),m(!0),setTimeout(()=>{v("/dashboard")},3e3)}catch(N){console.error("비밀번호 변경 오류:",N),d("비밀번호 변경 중 오류가 발생했습니다."),u(!1)}};return h?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(aa,{className:"w-16 h-16 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"비밀번호 변경 완료!"}),o.jsxs("p",{className:"text-gray-300",children:["비밀번호가 성공적으로 변경되었습니다.",o.jsx("br",{}),"잠시 후 대시보드로 이동합니다."]}),o.jsx("div",{className:"pt-4",children:o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"대시보드로 이동"})})})]})})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(Ne,{to:"/dashboard",className:"inline-flex items-center text-white hover:text-gray-300 transition-colors",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"대시보드로 돌아가기"]})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ne,{to:"/",className:"inline-flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]})}),o.jsxs(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{className:"text-center",children:[o.jsx(ca,{className:"text-2xl font-bold text-white",children:"비밀번호 변경"}),o.jsx(ua,{className:"text-gray-300",children:"보안을 위해 정기적으로 비밀번호를 변경해주세요"})]}),o.jsx(Vt,{children:o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"currentPassword",className:"text-white",children:"현재 비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"currentPassword",name:"currentPassword",type:r?"text":"password",placeholder:"현재 비밀번호를 입력하세요",value:e.currentPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>n(!r),children:r?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(ar,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"newPassword",className:"text-white",children:"새 비밀번호"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"newPassword",name:"newPassword",type:a?"text":"password",placeholder:"새 비밀번호를 입력하세요 (최소 6자)",value:e.newPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(ar,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"confirmPassword",className:"text-white",children:"새 비밀번호 확인"}),o.jsxs("div",{className:"relative",children:[o.jsx(yt,{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",placeholder:"새 비밀번호를 다시 입력하세요",value:e.confirmPassword,onChange:x,required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40 pr-10"}),o.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-white/10 text-gray-400 hover:text-white",onClick:()=>l(!i),children:i?o.jsx(Va,{className:"h-4 w-4"}):o.jsx(ar,{className:"h-4 w-4"})})]})]}),f&&o.jsx("div",{className:"text-red-400 text-sm text-center bg-red-500/20 border border-red-400/30 rounded-lg p-3",children:f}),o.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",disabled:c,children:c?"비밀번호 변경 중...":"비밀번호 변경"})]})})]})]})})},dD=ni("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:e,variant:t,...r}){return o.jsx("div",{className:ke(dD({variant:t}),e),...r})}const Cr=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ke("w-full caption-bottom text-sm",e),...t})}));Cr.displayName="Table";const Or=g.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ke("[&_tr]:border-b",e),...t}));Or.displayName="TableHeader";const Pr=g.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ke("[&_tr:last-child]:border-0",e),...t}));Pr.displayName="TableBody";const fD=g.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));fD.displayName="TableFooter";const pt=g.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pt.displayName="TableRow";const Le=g.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Le.displayName="TableHead";const Ie=g.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ie.displayName="TableCell";const hD=g.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ke("mt-4 text-sm text-muted-foreground",e),...t}));hD.displayName="TableCaption";function Kp(e,[t,r]){return Math.min(r,Math.max(t,e))}var mD=g.createContext(void 0);function Wh(e){const t=g.useContext(mD);return e||t||"ltr"}var Vu=0;function Hh(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vp()),document.body.insertAdjacentElement("beforeend",e[1]??Vp()),Vu++,()=>{Vu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vu--}},[])}function Vp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zu="focusScope.autoFocusOnMount",Wu="focusScope.autoFocusOnUnmount",zp={bubbles:!1,cancelable:!0},pD="FocusScope",$c=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=g.useState(null),u=or(a),f=or(s),d=g.useRef(null),h=et(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const N=b.target;l.contains(N)?d.current=N:Pn(d.current,{select:!0})},v=function(b){if(m.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||Pn(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Pn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){Hp.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(zu,zp);l.addEventListener(zu,u),l.dispatchEvent(x),x.defaultPrevented||(gD(wD(_0(l)),{select:!0}),document.activeElement===p&&Pn(l))}return()=>{l.removeEventListener(zu,u),setTimeout(()=>{const x=new CustomEvent(Wu,zp);l.addEventListener(Wu,f),l.dispatchEvent(x),x.defaultPrevented||Pn(p??document.body,{select:!0}),l.removeEventListener(Wu,f),Hp.remove(m)},0)}}},[l,u,f,m]);const y=g.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const w=p.currentTarget,[b,N]=vD(w);b&&N?!p.shiftKey&&x===N?(p.preventDefault(),r&&Pn(b,{select:!0})):p.shiftKey&&x===b&&(p.preventDefault(),r&&Pn(N,{select:!0})):x===w&&p.preventDefault()}},[r,n,m.paused]);return o.jsx(ze.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});$c.displayName=pD;function gD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Pn(n,{select:t}),document.activeElement!==r)return}function vD(e){const t=_0(e),r=Wp(t,e),n=Wp(t.reverse(),e);return[r,n]}function _0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Wp(e,t){for(const r of e)if(!yD(r,{upTo:t}))return r}function yD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xD(e){return e instanceof HTMLInputElement&&"select"in e}function Pn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xD(e)&&t&&e.select()}}var Hp=bD();function bD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Yp(e,t),e.unshift(t)},remove(t){var r;e=Yp(e,t),(r=e[0])==null||r.resume()}}}function Yp(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wD(e){return e.filter(t=>t.tagName!=="A")}function I0(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ta=new WeakMap,Oi=new WeakMap,Pi={},Hu=0,k0=function(e){return e&&(e.host||k0(e.parentNode))},SD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=k0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ND=function(e,t,r,n){var a=SD(t,Array.isArray(e)?e:[e]);Pi[r]||(Pi[r]=new WeakMap);var s=Pi[r],i=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",p=(Ta.get(h)||0)+1,v=(s.get(h)||0)+1;Ta.set(h,p),s.set(h,v),i.push(h),p===1&&y&&Oi.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),l.clear(),Hu++,function(){i.forEach(function(d){var h=Ta.get(d)-1,m=s.get(d)-1;Ta.set(d,h),s.set(d,m),h||(Oi.has(d)||d.removeAttribute(n),Oi.delete(d)),m||d.removeAttribute(r)}),Hu--,Hu||(Ta=new WeakMap,Ta=new WeakMap,Oi=new WeakMap,Pi={})}},Yh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=jD(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ND(n,a,r,"aria-hidden")):function(){return null}},Yr=function(){return Yr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Yr.apply(this,arguments)};function M0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function AD(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Zi="right-scroll-bar-position",el="width-before-scroll-bar",CD="with-scroll-bars-hidden",OD="--removed-body-scroll-bar-size";function Yu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PD(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var ED=typeof window<"u"?g.useLayoutEffect:g.useEffect,Gp=new WeakMap;function DD(e,t){var r=PD(null,function(n){return e.forEach(function(a){return Yu(a,n)})});return ED(function(){var n=Gp.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||Yu(l,null)}),s.forEach(function(l){a.has(l)||Yu(l,i)})}Gp.set(r,e)},[e]),r}function TD(e){return e}function $D(e,t){t===void 0&&(t=TD);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var f=i;i=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return a}function _D(e){e===void 0&&(e={});var t=$D(null);return t.options=Yr({async:!0,ssr:!1},e),t}var R0=function(e){var t=e.sideCar,r=M0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Yr({},r))};R0.isSideCarExport=!0;function ID(e,t){return e.useMedium(t),R0}var L0=_D(),Gu=function(){},_c=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:Gu,onWheelCapture:Gu,onTouchMoveCapture:Gu}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,N=M0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=DD([r,t]),A=Yr(Yr({},N),a);return g.createElement(g.Fragment,null,f&&g.createElement(j,{sideCar:L0,removeScrollBar:u,shards:d,noRelative:m,noIsolation:y,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?g.cloneElement(g.Children.only(l),Yr(Yr({},A),{ref:S})):g.createElement(w,Yr({},A,{className:c,ref:S}),l))});_c.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_c.classNames={fullWidth:el,zeroRight:Zi};var kD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kD();return t&&e.setAttribute("nonce",t),e}function RD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=MD())&&(RD(t,r),LD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},FD=function(){var e=BD();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},B0=function(){var e=FD(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},UD={left:0,top:0,right:0,gap:0},qu=function(e){return parseInt(e||"",10)||0},KD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[qu(r),qu(n),qu(a)]},VD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UD;var t=KD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},zD=B0(),Wa="data-scroll-locked",WD=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(CD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zi,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(el,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zi," .").concat(Zi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(el," .").concat(el,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat(OD,": ").concat(l,`px;
  }
`)},qp=function(){var e=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(e)?e:0},HD=function(){g.useEffect(function(){return document.body.setAttribute(Wa,(qp()+1).toString()),function(){var e=qp()-1;e<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,e.toString())}},[])},YD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;HD();var s=g.useMemo(function(){return VD(a)},[a]);return g.createElement(zD,{styles:WD(s,!t,a,r?"":"!important")})},Vd=!1;if(typeof window<"u")try{var Ei=Object.defineProperty({},"passive",{get:function(){return Vd=!0,!0}});window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{Vd=!1}var $a=Vd?{passive:!1}:!1,GD=function(e){return e.tagName==="TEXTAREA"},F0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!GD(e)&&r[t]==="visible")},qD=function(e){return F0(e,"overflowY")},XD=function(e){return F0(e,"overflowX")},Xp=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=U0(e,n);if(a){var s=K0(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},QD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},U0=function(e,t){return e==="v"?qD(t):XD(t)},K0=function(e,t){return e==="v"?QD(t):JD(t)},ZD=function(e,t){return e==="h"&&t==="rtl"?-1:1},eT=function(e,t,r,n,a){var s=ZD(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{if(!l)break;var m=K0(e,l),y=m[0],p=m[1],v=m[2],x=p-v-s*y;(y||x)&&U0(e,l)&&(d+=x,h+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},Di=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qp=function(e){return[e.deltaX,e.deltaY]},Jp=function(e){return e&&"current"in e?e.current:e},tT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nT=0,_a=[];function aT(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),a=g.useState(nT++)[0],s=g.useState(B0)[0],i=g.useRef(e);g.useEffect(function(){i.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=AD([e.lockRef.current],(e.shards||[]).map(Jp),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=Di(p),w=r.current,b="deltaX"in p?p.deltaX:w[0]-x[0],N="deltaY"in p?p.deltaY:w[1]-x[1],j,S=p.target,A=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in p&&A==="h"&&S.type==="range")return!1;var O=Xp(A,S);if(!O)return!0;if(O?j=A:(j=A==="v"?"h":"v",O=Xp(A,S)),!O)return!1;if(!n.current&&"changedTouches"in p&&(b||N)&&(n.current=j),!j)return!0;var $=n.current||j;return eT($,v,p,$==="h"?b:N)},[]),c=g.useCallback(function(p){var v=p;if(!(!_a.length||_a[_a.length-1]!==s)){var x="deltaY"in v?Qp(v):Di(v),w=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&tT(j.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(Jp).filter(Boolean).filter(function(j){return j.contains(v.target)}),N=b.length>0?l(v,b[0]):!i.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(p,v,x,w){var b={name:p,delta:v,target:x,should:w,shadowParent:oT(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),f=g.useCallback(function(p){r.current=Di(p),n.current=void 0},[]),d=g.useCallback(function(p){u(p.type,Qp(p),p.target,l(p,e.lockRef.current))},[]),h=g.useCallback(function(p){u(p.type,Di(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return _a.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,$a),document.addEventListener("touchmove",c,$a),document.addEventListener("touchstart",f,$a),function(){_a=_a.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,$a),document.removeEventListener("touchmove",c,$a),document.removeEventListener("touchstart",f,$a)}},[]);var m=e.removeScrollBar,y=e.inert;return g.createElement(g.Fragment,null,y?g.createElement(s,{styles:rT(a)}):null,m?g.createElement(YD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sT=ID(L0,aT);var Ic=g.forwardRef(function(e,t){return g.createElement(_c,Yr({},e,{ref:t,sideCar:sT}))});Ic.classNames=_c.classNames;var iT=[" ","Enter","ArrowUp","ArrowDown"],lT=[" ","Enter"],da="Select",[kc,Mc,cT]=Sc(da),[Eo,$ee]=rn(da,[cT,Po]),Rc=Po(),[uT,Bn]=Eo(da),[dT,fT]=Eo(da),V0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:m,form:y}=e,p=Rc(t),[v,x]=g.useState(null),[w,b]=g.useState(null),[N,j]=g.useState(!1),S=Wh(u),[A,O]=sa({prop:n,defaultProp:a??!1,onChange:s,caller:da}),[$,F]=sa({prop:i,defaultProp:l,onChange:c,caller:da}),_=g.useRef(null),C=v?y||!!v.closest("form"):!0,[U,M]=g.useState(new Set),K=Array.from(U).map(T=>T.props.value).join(";");return o.jsx(d0,{...p,children:o.jsxs(uT,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:mn(),value:$,onValueChange:F,open:A,onOpenChange:O,dir:S,triggerPointerDownPosRef:_,disabled:h,children:[o.jsx(kc.Provider,{scope:t,children:o.jsx(dT,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(T=>{M(P=>new Set(P).add(T))},[]),onNativeOptionRemove:g.useCallback(T=>{M(P=>{const L=new Set(P);return L.delete(T),L})},[]),children:r})}),C?o.jsxs(hw,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:d,value:$,onChange:T=>F(T.target.value),disabled:h,form:y,children:[$===void 0?o.jsx("option",{value:""}):null,Array.from(U)]},K):null]})})};V0.displayName=da;var z0="SelectTrigger",W0=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Rc(r),i=Bn(z0,r),l=i.disabled||n,c=et(t,i.onTriggerChange),u=Mc(r),f=g.useRef("touch"),[d,h,m]=pw(p=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===i.value),w=gw(v,p,x);w!==void 0&&i.onValueChange(w.value)}),y=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Fh,{asChild:!0,...s,children:o.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mw(i.value)?"":void 0,...a,ref:c,onClick:Se(a.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&y(p)}),onPointerDown:Se(a.onPointerDown,p=>{f.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:Se(a.onKeyDown,p=>{const v=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&iT.includes(p.key)&&(y(),p.preventDefault())})})})});W0.displayName=z0;var H0="SelectValue",Y0=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Bn(H0,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=et(t,c.onValueNodeChange);return Yt(()=>{u(f)},[u,f]),o.jsx(ze.span,{...l,ref:d,style:{pointerEvents:"none"},children:mw(c.value)?o.jsx(o.Fragment,{children:i}):s})});Y0.displayName=H0;var hT="SelectIcon",G0=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});G0.displayName=hT;var mT="SelectPortal",q0=e=>o.jsx(ti,{asChild:!0,...e});q0.displayName=mT;var fa="SelectContent",X0=g.forwardRef((e,t)=>{const r=Bn(fa,e.__scopeSelect),[n,a]=g.useState();if(Yt(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?So.createPortal(o.jsx(Q0,{scope:e.__scopeSelect,children:o.jsx(kc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(J0,{...e,ref:t})});X0.displayName=fa;var Ir=10,[Q0,Fn]=Eo(fa),pT="SelectContentImpl",gT=oa("SelectContent.RemoveScroll"),J0=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:v,...x}=e,w=Bn(fa,r),[b,N]=g.useState(null),[j,S]=g.useState(null),A=et(t,de=>N(de)),[O,$]=g.useState(null),[F,_]=g.useState(null),C=Mc(r),[U,M]=g.useState(!1),K=g.useRef(!1);g.useEffect(()=>{if(b)return Yh(b)},[b]),Hh();const T=g.useCallback(de=>{const[V,...k]=C().map(R=>R.ref.current),[I]=k.slice(-1),B=document.activeElement;for(const R of de)if(R===B||(R==null||R.scrollIntoView({block:"nearest"}),R===V&&j&&(j.scrollTop=0),R===I&&j&&(j.scrollTop=j.scrollHeight),R==null||R.focus(),document.activeElement!==B))return},[C,j]),P=g.useCallback(()=>T([O,b]),[T,O,b]);g.useEffect(()=>{U&&P()},[U,P]);const{onOpenChange:L,triggerPointerDownPosRef:E}=w;g.useEffect(()=>{if(b){let de={x:0,y:0};const V=I=>{var B,R;de={x:Math.abs(Math.round(I.pageX)-(((B=E.current)==null?void 0:B.x)??0)),y:Math.abs(Math.round(I.pageY)-(((R=E.current)==null?void 0:R.y)??0))}},k=I=>{de.x<=10&&de.y<=10?I.preventDefault():b.contains(I.target)||L(!1),document.removeEventListener("pointermove",V),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",k,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",k,{capture:!0})}}},[b,L,E]),g.useEffect(()=>{const de=()=>L(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[L]);const[G,ee]=pw(de=>{const V=C().filter(B=>!B.disabled),k=V.find(B=>B.ref.current===document.activeElement),I=gw(V,de,k);I&&setTimeout(()=>I.ref.current.focus())}),Q=g.useCallback((de,V,k)=>{const I=!K.current&&!k;(w.value!==void 0&&w.value===V||I)&&($(de),I&&(K.current=!0))},[w.value]),ie=g.useCallback(()=>b==null?void 0:b.focus(),[b]),re=g.useCallback((de,V,k)=>{const I=!K.current&&!k;(w.value!==void 0&&w.value===V||I)&&_(de)},[w.value]),Ae=n==="popper"?zd:Z0,ae=Ae===zd?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:v}:{};return o.jsx(Q0,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:Q,selectedItem:O,onItemLeave:ie,itemTextRefCallback:re,focusSelectedItem:P,selectedItemText:F,position:n,isPositioned:U,searchRef:G,children:o.jsx(Ic,{as:gT,allowPinchZoom:!0,children:o.jsx($c,{asChild:!0,trapped:w.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Se(a,de=>{var V;(V=w.trigger)==null||V.focus({preventScroll:!0}),de.preventDefault()}),children:o.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Ae,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:de=>de.preventDefault(),...x,...ae,onPlaced:()=>M(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Se(x.onKeyDown,de=>{const V=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!V&&de.key.length===1&&ee(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let I=C().filter(B=>!B.disabled).map(B=>B.ref.current);if(["ArrowUp","End"].includes(de.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const B=de.target,R=I.indexOf(B);I=I.slice(R+1)}setTimeout(()=>T(I)),de.preventDefault()}})})})})})})});J0.displayName=pT;var vT="SelectItemAlignedPosition",Z0=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Bn(fa,r),i=Fn(fa,r),[l,c]=g.useState(null),[u,f]=g.useState(null),d=et(t,A=>f(A)),h=Mc(r),m=g.useRef(!1),y=g.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=i,b=g.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&x){const A=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),F=x.getBoundingClientRect();if(s.dir!=="rtl"){const B=F.left-O.left,R=$.left-B,ce=A.left-R,he=A.width+ce,ge=Math.max(he,O.width),le=window.innerWidth-Ir,$e=Kp(R,[Ir,Math.max(Ir,le-ge)]);l.style.minWidth=he+"px",l.style.left=$e+"px"}else{const B=O.right-F.right,R=window.innerWidth-$.right-B,ce=window.innerWidth-A.right-R,he=A.width+ce,ge=Math.max(he,O.width),le=window.innerWidth-Ir,$e=Kp(R,[Ir,Math.max(Ir,le-ge)]);l.style.minWidth=he+"px",l.style.right=$e+"px"}const _=h(),C=window.innerHeight-Ir*2,U=p.scrollHeight,M=window.getComputedStyle(u),K=parseInt(M.borderTopWidth,10),T=parseInt(M.paddingTop,10),P=parseInt(M.borderBottomWidth,10),L=parseInt(M.paddingBottom,10),E=K+T+U+L+P,G=Math.min(v.offsetHeight*5,E),ee=window.getComputedStyle(p),Q=parseInt(ee.paddingTop,10),ie=parseInt(ee.paddingBottom,10),re=A.top+A.height/2-Ir,Ae=C-re,ae=v.offsetHeight/2,de=v.offsetTop+ae,V=K+T+de,k=E-V;if(V<=re){const B=_.length>0&&v===_[_.length-1].ref.current;l.style.bottom="0px";const R=u.clientHeight-p.offsetTop-p.offsetHeight,ce=Math.max(Ae,ae+(B?ie:0)+R+P),he=V+ce;l.style.height=he+"px"}else{const B=_.length>0&&v===_[0].ref.current;l.style.top="0px";const ce=Math.max(re,K+p.offsetTop+(B?Q:0)+ae)+k;l.style.height=ce+"px",p.scrollTop=V-re+p.offsetTop}l.style.margin=`${Ir}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,x,s.dir,n]);Yt(()=>b(),[b]);const[N,j]=g.useState();Yt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=g.useCallback(A=>{A&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return o.jsx(xT,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(ze.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Z0.displayName=vT;var yT="SelectPopperPosition",zd=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ir,...s}=e,i=Rc(r);return o.jsx(Uh,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zd.displayName=yT;var[xT,Gh]=Eo(fa,{}),Wd="SelectViewport",ew=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Fn(Wd,r),i=Gh(Wd,r),l=et(t,s.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(kc.Slot,{scope:r,children:o.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Se(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const m=Math.abs(c.current-f.scrollTop);if(m>0){const y=window.innerHeight-Ir*2,p=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),x=Math.max(p,v);if(x<y){const w=x+m,b=Math.min(y,w),N=w-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});ew.displayName=Wd;var tw="SelectGroup",[bT,wT]=Eo(tw),jT=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mn();return o.jsx(bT,{scope:r,id:a,children:o.jsx(ze.div,{role:"group","aria-labelledby":a,...n,ref:t})})});jT.displayName=tw;var rw="SelectLabel",nw=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wT(rw,r);return o.jsx(ze.div,{id:a.id,...n,ref:t})});nw.displayName=rw;var dl="SelectItem",[ST,aw]=Eo(dl),ow=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Bn(dl,r),c=Fn(dl,r),u=l.value===n,[f,d]=g.useState(s??""),[h,m]=g.useState(!1),y=et(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,a)}),p=mn(),v=g.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(ST,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:g.useCallback(w=>{d(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(kc.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:o.jsx(ze.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:Se(i.onFocus,()=>m(!0)),onBlur:Se(i.onBlur,()=>m(!1)),onClick:Se(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Se(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Se(i.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Se(i.onPointerMove,w=>{var b;v.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Se(i.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(lT.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});ow.displayName=dl;var ns="SelectItemText",sw=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Bn(ns,r),l=Fn(ns,r),c=aw(ns,r),u=fT(ns,r),[f,d]=g.useState(null),h=et(t,x=>d(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),m=f==null?void 0:f.textContent,y=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Yt(()=>(p(y),()=>v(y)),[p,v,y]),o.jsxs(o.Fragment,{children:[o.jsx(ze.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?So.createPortal(s.children,i.valueNode):null]})});sw.displayName=ns;var iw="SelectItemIndicator",lw=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return aw(iw,r).isSelected?o.jsx(ze.span,{"aria-hidden":!0,...n,ref:t}):null});lw.displayName=iw;var Hd="SelectScrollUpButton",cw=g.forwardRef((e,t)=>{const r=Fn(Hd,e.__scopeSelect),n=Gh(Hd,e.__scopeSelect),[a,s]=g.useState(!1),i=et(t,n.onScrollButtonChange);return Yt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(dw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cw.displayName=Hd;var Yd="SelectScrollDownButton",uw=g.forwardRef((e,t)=>{const r=Fn(Yd,e.__scopeSelect),n=Gh(Yd,e.__scopeSelect),[a,s]=g.useState(!1),i=et(t,n.onScrollButtonChange);return Yt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(dw,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uw.displayName=Yd;var dw=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Fn("SelectScrollButton",r),i=g.useRef(null),l=Mc(r),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Yt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Se(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Se(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Se(a.onPointerLeave,()=>{c()})})}),NT="SelectSeparator",fw=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ze.div,{"aria-hidden":!0,...n,ref:t})});fw.displayName=NT;var Gd="SelectArrow",AT=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Rc(r),s=Bn(Gd,r),i=Fn(Gd,r);return s.open&&i.position==="popper"?o.jsx(Kh,{...a,...n,ref:t}):null});AT.displayName=Gd;var CT="SelectBubbleInput",hw=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=g.useRef(null),s=et(n,a),i=I0(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[i,t]),o.jsx(ze.select,{...r,style:{...yb,...r.style},ref:s,defaultValue:t})});hw.displayName=CT;function mw(e){return e===""||e===void 0}function pw(e){const t=or(e),r=g.useRef(""),n=g.useRef(0),a=g.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function gw(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=OT(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function OT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var PT=V0,vw=W0,ET=Y0,DT=G0,TT=q0,yw=X0,$T=ew,xw=nw,bw=ow,_T=sw,IT=lw,ww=cw,jw=uw,Sw=fw;const Bt=PT,Ft=ET,_t=g.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(vw,{ref:n,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(DT,{asChild:!0,children:o.jsx(ib,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=vw.displayName;const Nw=g.forwardRef(({className:e,...t},r)=>o.jsx(ww,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(qA,{className:"h-4 w-4"})}));Nw.displayName=ww.displayName;const Aw=g.forwardRef(({className:e,...t},r)=>o.jsx(jw,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ib,{className:"h-4 w-4"})}));Aw.displayName=jw.displayName;const It=g.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(TT,{children:o.jsxs(yw,{ref:a,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(Nw,{}),o.jsx($T,{className:ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Aw,{})]})}));It.displayName=yw.displayName;const kT=g.forwardRef(({className:e,...t},r)=>o.jsx(xw,{ref:r,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));kT.displayName=xw.displayName;const Ze=g.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(bw,{ref:n,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IT,{children:o.jsx(lb,{className:"h-4 w-4"})})}),o.jsx(_T,{children:t})]}));Ze.displayName=bw.displayName;const MT=g.forwardRef(({className:e,...t},r)=>o.jsx(Sw,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));MT.displayName=Sw.displayName;var Xu="rovingFocusGroup.onEntryFocus",RT={bubbles:!1,cancelable:!0},si="RovingFocusGroup",[qd,Cw,LT]=Sc(si),[BT,Ow]=rn(si,[LT]),[FT,UT]=BT(si),Pw=g.forwardRef((e,t)=>o.jsx(qd.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(qd.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(KT,{...e,ref:t})})}));Pw.displayName=si;var KT=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=g.useRef(null),m=et(t,h),y=Wh(s),[p,v]=sa({prop:i,defaultProp:l??null,onChange:c,caller:si}),[x,w]=g.useState(!1),b=or(u),N=Cw(r),j=g.useRef(!1),[S,A]=g.useState(0);return g.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(Xu,b),()=>O.removeEventListener(Xu,b)},[b]),o.jsx(FT,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:p,onItemFocus:g.useCallback(O=>v(O),[v]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>A(O=>O+1),[]),onFocusableItemRemove:g.useCallback(()=>A(O=>O-1),[]),children:o.jsx(ze.div,{tabIndex:x||S===0?-1:0,"data-orientation":n,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{j.current=!0}),onFocus:Se(e.onFocus,O=>{const $=!j.current;if(O.target===O.currentTarget&&$&&!x){const F=new CustomEvent(Xu,RT);if(O.currentTarget.dispatchEvent(F),!F.defaultPrevented){const _=N().filter(T=>T.focusable),C=_.find(T=>T.active),U=_.find(T=>T.id===p),K=[C,U,..._].filter(Boolean).map(T=>T.ref.current);Tw(K,f)}}j.current=!1}),onBlur:Se(e.onBlur,()=>w(!1))})})}),Ew="RovingFocusGroupItem",Dw=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=mn(),u=s||c,f=UT(Ew,r),d=f.currentTabStopId===u,h=Cw(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:p}=f;return g.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),o.jsx(qd.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(ze.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Se(e.onMouseDown,v=>{n?f.onItemFocus(u):v.preventDefault()}),onFocus:Se(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Se(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){f.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=WT(v,f.orientation,f.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const N=b.indexOf(v.currentTarget);b=f.loop?HT(b,N+1):b.slice(N+1)}setTimeout(()=>Tw(b))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:p!=null}):i})})});Dw.displayName=Ew;var VT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WT(e,t,r){const n=zT(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return VT[n]}function Tw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function HT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var YT=Pw,GT=Dw,Xd=["Enter"," "],qT=["ArrowDown","PageUp","Home"],$w=["ArrowUp","PageDown","End"],XT=[...qT,...$w],QT={ltr:[...Xd,"ArrowRight"],rtl:[...Xd,"ArrowLeft"]},JT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ii="Menu",[gs,ZT,e$]=Sc(ii),[ja,_w]=rn(ii,[e$,Po,Ow]),Lc=Po(),Iw=Ow(),[t$,Sa]=ja(ii),[r$,li]=ja(ii),kw=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=Lc(t),[c,u]=g.useState(null),f=g.useRef(!1),d=or(s),h=Wh(a);return g.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(d0,{...l,children:o.jsx(t$,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:o.jsx(r$,{scope:t,onClose:g.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};kw.displayName=ii;var n$="MenuAnchor",qh=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Lc(r);return o.jsx(Fh,{...a,...n,ref:t})});qh.displayName=n$;var Xh="MenuPortal",[a$,Mw]=ja(Xh,{forceMount:void 0}),Rw=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Sa(Xh,t);return o.jsx(a$,{scope:t,forceMount:r,children:o.jsx(nn,{present:r||s.open,children:o.jsx(ti,{asChild:!0,container:a,children:n})})})};Rw.displayName=Xh;var wr="MenuContent",[o$,Qh]=ja(wr),Lw=g.forwardRef((e,t)=>{const r=Mw(wr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Sa(wr,e.__scopeMenu),i=li(wr,e.__scopeMenu);return o.jsx(gs.Provider,{scope:e.__scopeMenu,children:o.jsx(nn,{present:n||s.open,children:o.jsx(gs.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(s$,{...a,ref:t}):o.jsx(i$,{...a,ref:t})})})})}),s$=g.forwardRef((e,t)=>{const r=Sa(wr,e.__scopeMenu),n=g.useRef(null),a=et(t,n);return g.useEffect(()=>{const s=n.current;if(s)return Yh(s)},[]),o.jsx(Jh,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),i$=g.forwardRef((e,t)=>{const r=Sa(wr,e.__scopeMenu);return o.jsx(Jh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),l$=oa("MenuContent.ScrollLock"),Jh=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...p}=e,v=Sa(wr,r),x=li(wr,r),w=Lc(r),b=Iw(r),N=ZT(r),[j,S]=g.useState(null),A=g.useRef(null),O=et(t,A,v.onContentChange),$=g.useRef(0),F=g.useRef(""),_=g.useRef(0),C=g.useRef(null),U=g.useRef("right"),M=g.useRef(0),K=y?Ic:g.Fragment,T=y?{as:l$,allowPinchZoom:!0}:void 0,P=E=>{var de,V;const G=F.current+E,ee=N().filter(k=>!k.disabled),Q=document.activeElement,ie=(de=ee.find(k=>k.ref.current===Q))==null?void 0:de.textValue,re=ee.map(k=>k.textValue),Ae=b$(re,G,ie),ae=(V=ee.find(k=>k.textValue===Ae))==null?void 0:V.ref.current;(function k(I){F.current=I,window.clearTimeout($.current),I!==""&&($.current=window.setTimeout(()=>k(""),1e3))})(G),ae&&setTimeout(()=>ae.focus())};g.useEffect(()=>()=>window.clearTimeout($.current),[]),Hh();const L=g.useCallback(E=>{var ee,Q;return U.current===((ee=C.current)==null?void 0:ee.side)&&j$(E,(Q=C.current)==null?void 0:Q.area)},[]);return o.jsx(o$,{scope:r,searchRef:F,onItemEnter:g.useCallback(E=>{L(E)&&E.preventDefault()},[L]),onItemLeave:g.useCallback(E=>{var G;L(E)||((G=A.current)==null||G.focus(),S(null))},[L]),onTriggerLeave:g.useCallback(E=>{L(E)&&E.preventDefault()},[L]),pointerGraceTimerRef:_,onPointerGraceIntentChange:g.useCallback(E=>{C.current=E},[]),children:o.jsx(K,{...T,children:o.jsx($c,{asChild:!0,trapped:a,onMountAutoFocus:Se(s,E=>{var G;E.preventDefault(),(G=A.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:o.jsx(YT,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:Se(c,E=>{x.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Uh,{role:"menu","aria-orientation":"vertical","data-state":ej(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...p,ref:O,style:{outline:"none",...p.style},onKeyDown:Se(p.onKeyDown,E=>{const ee=E.target.closest("[data-radix-menu-content]")===E.currentTarget,Q=E.ctrlKey||E.altKey||E.metaKey,ie=E.key.length===1;ee&&(E.key==="Tab"&&E.preventDefault(),!Q&&ie&&P(E.key));const re=A.current;if(E.target!==re||!XT.includes(E.key))return;E.preventDefault();const ae=N().filter(de=>!de.disabled).map(de=>de.ref.current);$w.includes(E.key)&&ae.reverse(),y$(ae)}),onBlur:Se(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout($.current),F.current="")}),onPointerMove:Se(e.onPointerMove,vs(E=>{const G=E.target,ee=M.current!==E.clientX;if(E.currentTarget.contains(G)&&ee){const Q=E.clientX>M.current?"right":"left";U.current=Q,M.current=E.clientX}}))})})})})})})});Lw.displayName=wr;var c$="MenuGroup",Zh=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{role:"group",...n,ref:t})});Zh.displayName=c$;var u$="MenuLabel",Bw=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{...n,ref:t})});Bw.displayName=u$;var fl="MenuItem",Zp="menu.itemSelect",Bc=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=g.useRef(null),i=li(fl,e.__scopeMenu),l=Qh(fl,e.__scopeMenu),c=et(t,s),u=g.useRef(!1),f=()=>{const d=s.current;if(!r&&d){const h=new CustomEvent(Zp,{bubbles:!0,cancelable:!0});d.addEventListener(Zp,m=>n==null?void 0:n(m),{once:!0}),Ph(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(Fw,{...a,ref:c,disabled:r,onClick:Se(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:Se(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Se(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Xd.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Bc.displayName=fl;var Fw=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=Qh(fl,r),l=Iw(r),c=g.useRef(null),u=et(t,c),[f,d]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[s.children]),o.jsx(gs.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(GT,{asChild:!0,...l,focusable:!n,children:o.jsx(ze.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Se(e.onPointerMove,vs(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(e.onPointerLeave,vs(y=>i.onItemLeave(y))),onFocus:Se(e.onFocus,()=>d(!0)),onBlur:Se(e.onBlur,()=>d(!1))})})})}),d$="MenuCheckboxItem",Uw=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(Hw,{scope:e.__scopeMenu,checked:r,children:o.jsx(Bc,{role:"menuitemcheckbox","aria-checked":hl(r)?"mixed":r,...a,ref:t,"data-state":tm(r),onSelect:Se(a.onSelect,()=>n==null?void 0:n(hl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Uw.displayName=d$;var Kw="MenuRadioGroup",[f$,h$]=ja(Kw,{value:void 0,onValueChange:()=>{}}),Vw=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=or(n);return o.jsx(f$,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(Zh,{...a,ref:t})})});Vw.displayName=Kw;var zw="MenuRadioItem",Ww=g.forwardRef((e,t)=>{const{value:r,...n}=e,a=h$(zw,e.__scopeMenu),s=r===a.value;return o.jsx(Hw,{scope:e.__scopeMenu,checked:s,children:o.jsx(Bc,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":tm(s),onSelect:Se(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});Ww.displayName=zw;var em="MenuItemIndicator",[Hw,m$]=ja(em,{checked:!1}),Yw=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=m$(em,r);return o.jsx(nn,{present:n||hl(s.checked)||s.checked===!0,children:o.jsx(ze.span,{...a,ref:t,"data-state":tm(s.checked)})})});Yw.displayName=em;var p$="MenuSeparator",Gw=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Gw.displayName=p$;var g$="MenuArrow",qw=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Lc(r);return o.jsx(Kh,{...a,...n,ref:t})});qw.displayName=g$;var v$="MenuSub",[_ee,Xw]=ja(v$),as="MenuSubTrigger",Qw=g.forwardRef((e,t)=>{const r=Sa(as,e.__scopeMenu),n=li(as,e.__scopeMenu),a=Xw(as,e.__scopeMenu),s=Qh(as,e.__scopeMenu),i=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=g.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return g.useEffect(()=>f,[f]),g.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),o.jsx(qh,{asChild:!0,...u,children:o.jsx(Fw,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":ej(r.open),...e,ref:ei(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(e.onPointerMove,vs(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Se(e.onPointerLeave,vs(d=>{var m,y;f();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(y=r.content)==null?void 0:y.dataset.side,v=p==="right",x=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(e.onKeyDown,d=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||QT[n.dir].includes(d.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),d.preventDefault())})})})});Qw.displayName=as;var Jw="MenuSubContent",Zw=g.forwardRef((e,t)=>{const r=Mw(wr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Sa(wr,e.__scopeMenu),i=li(wr,e.__scopeMenu),l=Xw(Jw,e.__scopeMenu),c=g.useRef(null),u=et(t,c);return o.jsx(gs.Provider,{scope:e.__scopeMenu,children:o.jsx(nn,{present:n||s.open,children:o.jsx(gs.Slot,{scope:e.__scopeMenu,children:o.jsx(Jh,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Se(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Se(e.onKeyDown,f=>{var m;const d=f.currentTarget.contains(f.target),h=JT[i.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),f.preventDefault())})})})})})});Zw.displayName=Jw;function ej(e){return e?"open":"closed"}function hl(e){return e==="indeterminate"}function tm(e){return hl(e)?"indeterminate":e?"checked":"unchecked"}function y$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function x$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function b$(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=x$(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function w$(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function j$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return w$(r,t)}function vs(e){return t=>t.pointerType==="mouse"?e(t):void 0}var S$=kw,N$=qh,A$=Rw,C$=Lw,O$=Zh,P$=Bw,E$=Bc,D$=Uw,T$=Vw,$$=Ww,_$=Yw,I$=Gw,k$=qw,M$=Qw,R$=Zw,Fc="DropdownMenu",[L$,Iee]=rn(Fc,[_w]),tr=_w(),[B$,tj]=L$(Fc),rj=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=tr(t),u=g.useRef(null),[f,d]=sa({prop:a,defaultProp:s??!1,onChange:i,caller:Fc});return o.jsx(B$,{scope:t,triggerId:mn(),triggerRef:u,contentId:mn(),open:f,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:l,children:o.jsx(S$,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};rj.displayName=Fc;var nj="DropdownMenuTrigger",aj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=tj(nj,r),i=tr(r);return o.jsx(N$,{asChild:!0,...i,children:o.jsx(ze.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ei(t,s.triggerRef),onPointerDown:Se(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Se(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aj.displayName=nj;var F$="DropdownMenuPortal",oj=e=>{const{__scopeDropdownMenu:t,...r}=e,n=tr(t);return o.jsx(A$,{...n,...r})};oj.displayName=F$;var sj="DropdownMenuContent",ij=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tj(sj,r),s=tr(r),i=g.useRef(!1);return o.jsx(C$,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Se(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ij.displayName=sj;var U$="DropdownMenuGroup",K$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(O$,{...a,...n,ref:t})});K$.displayName=U$;var V$="DropdownMenuLabel",lj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(P$,{...a,...n,ref:t})});lj.displayName=V$;var z$="DropdownMenuItem",cj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(E$,{...a,...n,ref:t})});cj.displayName=z$;var W$="DropdownMenuCheckboxItem",uj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(D$,{...a,...n,ref:t})});uj.displayName=W$;var H$="DropdownMenuRadioGroup",Y$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(T$,{...a,...n,ref:t})});Y$.displayName=H$;var G$="DropdownMenuRadioItem",dj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx($$,{...a,...n,ref:t})});dj.displayName=G$;var q$="DropdownMenuItemIndicator",fj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(_$,{...a,...n,ref:t})});fj.displayName=q$;var X$="DropdownMenuSeparator",hj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(I$,{...a,...n,ref:t})});hj.displayName=X$;var Q$="DropdownMenuArrow",J$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(k$,{...a,...n,ref:t})});J$.displayName=Q$;var Z$="DropdownMenuSubTrigger",mj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(M$,{...a,...n,ref:t})});mj.displayName=Z$;var e_="DropdownMenuSubContent",pj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tr(r);return o.jsx(R$,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pj.displayName=e_;var t_=rj,r_=aj,n_=oj,gj=ij,vj=lj,yj=cj,xj=uj,bj=dj,wj=fj,jj=hj,Sj=mj,Nj=pj;const ha=t_,ma=r_,a_=g.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(Sj,{ref:a,className:ke("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(XA,{className:"ml-auto h-4 w-4"})]}));a_.displayName=Sj.displayName;const o_=g.forwardRef(({className:e,...t},r)=>o.jsx(Nj,{ref:r,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));o_.displayName=Nj.displayName;const Ln=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(n_,{children:o.jsx(gj,{ref:n,sideOffset:t,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ln.displayName=gj.displayName;const lt=g.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(yj,{ref:n,className:ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));lt.displayName=yj.displayName;const s_=g.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(xj,{ref:a,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(wj,{children:o.jsx(lb,{className:"h-4 w-4"})})}),t]}));s_.displayName=xj.displayName;const i_=g.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(bj,{ref:n,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(wj,{children:o.jsx(QA,{className:"h-2 w-2 fill-current"})})}),t]}));i_.displayName=bj.displayName;const l_=g.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(vj,{ref:n,className:ke("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));l_.displayName=vj.displayName;const Do=g.forwardRef(({className:e,...t},r)=>o.jsx(jj,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));Do.displayName=jj.displayName;const c_=()=>{const{isLoggedIn:e,userEmail:t,userRole:r}=Ar(),[n,a]=g.useState([]),[s,i]=g.useState([]),[l,c]=g.useState(""),[u,f]=g.useState("all"),[d,h]=g.useState("all"),[m,y]=g.useState(!1),[p,v]=g.useState(!1),[x,w]=g.useState(null),[b,N]=g.useState(""),[j,S]=g.useState("");g.useEffect(()=>{(()=>{y(r==="admin")})()},[r]),g.useEffect(()=>{const P={id:"admin-1",name:"관리자",email:"ju9511503@gmail.com",role:"admin",status:"active",joinDate:"2025-01-01",lastLogin:"2025-01-10",startDate:"2025-01-01",endDate:"2025-12-31"},L=JSON.parse(localStorage.getItem("users")||"[]"),E=L.length===0?{id:"test-1",name:"테스트 사용자",email:"test@example.com",password:"test123",role:"user",status:"active",joinDate:qe(),lastLogin:"",startDate:qe(),endDate:(()=>{const ee=new Date;return ee.setDate(ee.getDate()+30),ee.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})})()}:null,G=[P,...L,...E?[E]:[]];E&&localStorage.setItem("users",JSON.stringify([E])),a(G),i(G),setTimeout(()=>{const ee=qe(),Q=G.map(re=>re.role==="admin"?re:re.endDate&&re.endDate<ee&&re.status==="active"?{...re,status:"inactive"}:re);if(Q.some(re=>re.role!=="admin"&&re.endDate&&re.endDate<ee&&re.status==="inactive")){a(Q),i(Q);const re=Q.filter(Ae=>Ae.id!=="admin-1");localStorage.setItem("users",JSON.stringify(re)),setTimeout(()=>{alert("만료된 사용자가 자동으로 비활성화되었습니다.")},100)}},100)},[]),g.useEffect(()=>{let P=n;l&&(P=P.filter(L=>L.name.toLowerCase().includes(l.toLowerCase())||L.email.toLowerCase().includes(l.toLowerCase()))),u!=="all"&&(P=P.filter(L=>L.status===u)),d!=="all"&&(P=P.filter(L=>L.role===d)),i(P)},[n,l,u,d]);const A=(P,L)=>{a(E=>E.map(G=>G.id===P?{...G,role:L}:G))},O=(P,L)=>{const E=n.map(ee=>ee.id===P?{...ee,status:L}:ee);a(E),i(E);const G=E.filter(ee=>ee.id!=="admin-1");localStorage.setItem("users",JSON.stringify(G))},$=P=>{console.log(`✅ 사용자 승인: ${P}`),O(P,"active")},F=P=>{console.log(`❌ 사용자 거부: ${P}`),O(P,"inactive")},_=P=>{w(P),N(P.startDate||""),S(P.endDate||""),v(!0)},C=()=>{if(!x)return;const P=n.map(E=>E.id===x.id?{...E,startDate:b,endDate:j}:E);a(P),i(P);const L=P.filter(E=>E.id!=="admin-1");localStorage.setItem("users",JSON.stringify(L)),v(!1),w(null),N(""),S("")},U=P=>{const L=n.find(ie=>ie.id===P);if(!L||!L.endDate)return;const E=new Date(L.endDate),G=new Date(E);G.setDate(G.getDate()+30);const ee=n.map(ie=>ie.id===P?{...ie,endDate:G.toISOString().split("T")[0]}:ie);a(ee),i(ee);const Q=ee.filter(ie=>ie.id!=="admin-1");localStorage.setItem("users",JSON.stringify(Q))};g.useCallback(()=>{const P=qe();a(L=>{const E=L.map(ee=>ee.role==="admin"?ee:ee.endDate&&ee.endDate<P&&ee.status==="active"?{...ee,status:"inactive"}:ee);if(E.some(ee=>ee.role!=="admin"&&ee.endDate&&ee.endDate<P&&ee.status==="inactive")){const ee=E.filter(Q=>Q.id!=="admin-1");localStorage.setItem("users",JSON.stringify(ee)),setTimeout(()=>{alert("만료된 사용자가 자동으로 비활성화되었습니다.")},100)}return E}),i(L=>L.map(G=>G.role==="admin"?G:G.endDate&&G.endDate<P&&G.status==="active"?{...G,status:"inactive"}:G))},[]);const M=P=>{try{if(P.role==="admin")return{status:"permanent",message:"영구",color:"text-purple-400"};if(!P.endDate)return{status:"none",message:"미설정",color:"text-gray-400"};const L=new Date,E=new Date(P.endDate),G=Math.ceil((E.getTime()-L.getTime())/(1e3*60*60*24));return G<0?{status:"expired",message:"만료됨",color:"text-red-400"}:G<=7?{status:"warning",message:`${G}일 남음`,color:"text-yellow-400"}:{status:"active",message:`${G}일 남음`,color:"text-green-400"}}catch(L){return console.error("getPeriodStatus 오류:",L),{status:"error",message:"오류",color:"text-red-400"}}},K=P=>{switch(P){case"active":return o.jsx(Ue,{className:"bg-green-500 text-white",children:"활성"});case"inactive":return o.jsx(Ue,{className:"bg-red-500 text-white",children:"비활성"});case"pending":return o.jsx(Ue,{className:"bg-yellow-500 text-white",children:"대기중"});default:return o.jsx(Ue,{variant:"secondary",children:P})}},T=P=>{switch(P){case"admin":return o.jsx(Ue,{className:"bg-purple-500 text-white",children:"관리자"});case"user":return o.jsx(Ue,{className:"bg-blue-500 text-white",children:"사용자"});default:return o.jsx(Ue,{variant:"secondary",children:P})}};return!e||!m?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 flex items-center justify-center p-4",children:o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md",children:o.jsx(Vt,{className:"pt-6",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(ji,{className:"w-16 h-16 text-red-400 mx-auto"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"접근 권한 없음"}),o.jsx("p",{className:"text-gray-300",children:"이 페이지는 관리자만 접근할 수 있습니다."}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsx(Ne,{to:"/system",children:o.jsx(X,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"시스템으로 돌아가기"})}),o.jsx(Ne,{to:"/",children:o.jsx(X,{variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:"홈으로 돌아가기"})})]})]})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-purple-800 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ne,{to:"/system",children:o.jsxs(X,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"시스템으로 돌아가기"]})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[o.jsx(Zr,{className:"w-8 h-8 mr-3"}),"회원 관리"]}),o.jsx("p",{className:"text-gray-300",children:"사용자 계정을 관리하고 권한을 설정하세요"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"총 사용자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.length})]}),o.jsx(Zr,{className:"w-8 h-8 text-blue-400"})]})})}),o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"활성 사용자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(P=>P.status==="active").length})]}),o.jsx(Iu,{className:"w-8 h-8 text-green-400"})]})})}),o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"대기중"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(P=>P.status==="pending").length})]}),o.jsx(No,{className:"w-8 h-8 text-yellow-400"})]})})}),o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"관리자"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(P=>P.role==="admin").length})]}),o.jsx(JA,{className:"w-8 h-8 text-purple-400"})]})})}),o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300",children:"만료 예정"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(P=>{if(!P.endDate)return!1;const L=new Date,E=new Date(P.endDate),G=Math.ceil((E.getTime()-L.getTime())/(1e3*60*60*24));return G<=7&&G>0}).length})]}),o.jsx(Dd,{className:"w-8 h-8 text-orange-400"})]})})})]}),o.jsx(we,{className:"bg-white/10 backdrop-blur-md border-white/20 mb-6",children:o.jsx(Vt,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(yt,{placeholder:"사용자 이름 또는 이메일로 검색...",value:l,onChange:P=>c(P.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:border-white/40"})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Bt,{value:u,onValueChange:f,children:[o.jsx(_t,{className:"w-32 bg-white/10 border-white/20 text-white",children:o.jsx(Ft,{placeholder:"상태"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체 상태"}),o.jsx(Ze,{value:"active",children:"활성"}),o.jsx(Ze,{value:"inactive",children:"비활성"}),o.jsx(Ze,{value:"pending",children:"대기중"})]})]}),o.jsxs(Bt,{value:d,onValueChange:h,children:[o.jsx(_t,{className:"w-32 bg-white/10 border-white/20 text-white",children:o.jsx(Ft,{placeholder:"역할"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체 역할"}),o.jsx(Ze,{value:"admin",children:"관리자"}),o.jsx(Ze,{value:"user",children:"사용자"})]})]})]})]})})}),o.jsxs(we,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[o.jsxs(la,{children:[o.jsx(ca,{className:"text-white",children:"사용자 목록"}),o.jsxs(ua,{className:"text-gray-300",children:["총 ",s.length,"명의 사용자가 표시됩니다"]})]}),o.jsx(Vt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Cr,{children:[o.jsx(Or,{children:o.jsxs(pt,{className:"border-white/20",children:[o.jsx(Le,{className:"text-white",children:"사용자"}),o.jsx(Le,{className:"text-white",children:"역할"}),o.jsx(Le,{className:"text-white",children:"상태"}),o.jsx(Le,{className:"text-white",children:"사용기간"}),o.jsx(Le,{className:"text-white",children:"가입일"}),o.jsx(Le,{className:"text-white",children:"마지막 로그인"}),o.jsx(Le,{className:"text-white",children:"작업"})]})}),o.jsx(Pr,{children:s.map(P=>o.jsxs(pt,{className:"border-white/20 hover:bg-white/5",children:[o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-medium",children:P.name.charAt(0)})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:P.name}),o.jsxs("p",{className:"text-gray-400 text-sm flex items-center",children:[o.jsx(Td,{className:"w-3 h-3 mr-1"}),P.email]})]})]})}),o.jsx(Ie,{children:T(P.role)}),o.jsx(Ie,{children:K(P.status)}),o.jsx(Ie,{children:o.jsxs("div",{className:"space-y-1",children:[P.role==="admin"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ji,{className:"w-3 h-3"}),o.jsx("span",{className:`text-xs ${M(P).color}`,children:M(P).message})]}):P.endDate?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ZA,{className:"w-3 h-3"}),o.jsx("span",{className:`text-xs ${M(P).color}`,children:M(P).message})]}):o.jsx("span",{className:"text-xs text-gray-400",children:"미설정"}),P.role!=="admin"&&P.endDate&&o.jsxs("div",{className:"text-xs text-gray-400",children:["~",P.endDate]})]})}),o.jsx(Ie,{className:"text-gray-300",children:P.joinDate}),o.jsx(Ie,{className:"text-gray-300",children:P.lastLogin}),o.jsx(Ie,{children:o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsx(X,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10","aria-label":"더보기 메뉴",title:"더보기 메뉴",children:o.jsx(eC,{className:"w-4 h-4"})})}),o.jsxs(Ln,{align:"end",children:[P.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(lt,{onClick:()=>$(P.id),children:[o.jsx(Iu,{className:"w-4 h-4 mr-2"}),"승인"]}),o.jsxs(lt,{onClick:()=>F(P.id),children:[o.jsx(pp,{className:"w-4 h-4 mr-2"}),"거부"]})]}),P.status!=="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(lt,{onClick:()=>O(P.id,"active"),disabled:P.status==="active",children:[o.jsx(Iu,{className:"w-4 h-4 mr-2"}),"활성화"]}),o.jsxs(lt,{onClick:()=>O(P.id,"inactive"),disabled:P.status==="inactive",children:[o.jsx(pp,{className:"w-4 h-4 mr-2"}),"비활성화"]})]}),P.role!=="admin"&&o.jsxs(lt,{onClick:()=>A(P.id,"admin"),children:[o.jsx(ji,{className:"w-4 h-4 mr-2"}),"관리자로 승격"]}),P.role==="admin"&&P.email!=="ju9511503@gmail.com"&&o.jsxs(lt,{onClick:()=>A(P.id,"user"),children:[o.jsx(ji,{className:"w-4 h-4 mr-2"}),"사용자로 변경"]}),P.role!=="admin"&&o.jsxs(lt,{onClick:()=>_(P),children:[o.jsx(tC,{className:"w-4 h-4 mr-2"}),"사용기간 설정"]}),P.role!=="admin"&&P.endDate&&o.jsxs(lt,{onClick:()=>U(P.id),children:[o.jsx(rC,{className:"w-4 h-4 mr-2"}),"30일 연장"]})]})]})})]},P.id))})]})})})]}),p&&x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(we,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md w-full mx-4",children:[o.jsxs(la,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ca,{className:"text-white",children:"사용기간 설정"}),o.jsx(X,{variant:"ghost",size:"sm",onClick:()=>v(!1),className:"text-white hover:bg-white/10",children:o.jsx(bc,{className:"w-4 h-4"})})]}),o.jsxs(ua,{className:"text-gray-300",children:[x.name," (",x.email,")"]})]}),o.jsxs(Vt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"시작일"}),o.jsx(yt,{type:"date",value:b,onChange:P=>N(P.target.value),className:"bg-white/10 border-white/20 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"종료일"}),o.jsx(yt,{type:"date",value:j,onChange:P=>S(P.target.value),className:"bg-white/10 border-white/20 text-white"})]}),b&&j&&b>j&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm",children:[o.jsx(Dd,{className:"w-4 h-4"}),o.jsx("span",{children:"종료일은 시작일보다 늦어야 합니다."})]}),o.jsxs("div",{className:"flex space-x-2 pt-4",children:[o.jsx(X,{onClick:C,disabled:!b||!j||b>j,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"저장"}),o.jsx(X,{variant:"outline",onClick:()=>v(!1),className:"flex-1 bg-transparent border-white/30 text-white hover:bg-white/10",children:"취소"})]})]})]})})]})})},eg=Object.keys(Jt);function u_(){return g.useEffect(()=>{console.log("📊 하드코딩된 카테고리 순서 사용:",eg)},[]),o.jsx(we,{className:"p-6 mb-6",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"카테고리"}),o.jsx("div",{className:"grid grid-cols-9 gap-2",children:eg.map(e=>o.jsx(Ne,{to:`/category/${encodeURIComponent(e)}`,children:o.jsx(Ue,{className:"cursor-pointer transition-all duration-200 w-full text-center text-sm py-2 text-muted-foreground hover:text-white hover:shadow-lg",style:{border:"none",backgroundColor:"transparent"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=Hr[e]},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:e})},e))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"💡 카테고리를 클릭하면 해당 카테고리의 채널 순위를 확인할 수 있습니다."})]})})})})}function Qu({title:e,value:t,change:r,changeLabel:n,trend:a="neutral",className:s}){const i={up:"text-success",down:"text-danger",neutral:"text-muted-foreground"},l=a==="up"?He:kn;return o.jsx(we,{className:ke("p-6 hover:bg-card-hover transition-colors border border-border",s),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:t}),r!==void 0&&o.jsxs("div",{className:ke("flex items-center space-x-1",i[a]),children:[a!=="neutral"&&o.jsx(l,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[r>0?"+":"",r,"%"]}),n&&o.jsx("span",{className:"text-xs text-muted-foreground",children:n})]})]})]})})}var d_=Array.isArray,sr=d_,f_=typeof wi=="object"&&wi&&wi.Object===Object&&wi,Aj=f_,h_=Aj,m_=typeof self=="object"&&self&&self.Object===Object&&self,p_=h_||m_||Function("return this")(),on=p_,g_=on,v_=g_.Symbol,ci=v_,tg=ci,Cj=Object.prototype,y_=Cj.hasOwnProperty,x_=Cj.toString,zo=tg?tg.toStringTag:void 0;function b_(e){var t=y_.call(e,zo),r=e[zo];try{e[zo]=void 0;var n=!0}catch{}var a=x_.call(e);return n&&(t?e[zo]=r:delete e[zo]),a}var w_=b_,j_=Object.prototype,S_=j_.toString;function N_(e){return S_.call(e)}var A_=N_,rg=ci,C_=w_,O_=A_,P_="[object Null]",E_="[object Undefined]",ng=rg?rg.toStringTag:void 0;function D_(e){return e==null?e===void 0?E_:P_:ng&&ng in Object(e)?C_(e):O_(e)}var Nn=D_;function T_(e){return e!=null&&typeof e=="object"}var An=T_,$_=Nn,__=An,I_="[object Symbol]";function k_(e){return typeof e=="symbol"||__(e)&&$_(e)==I_}var To=k_,M_=sr,R_=To,L_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B_=/^\w*$/;function F_(e,t){if(M_(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||R_(e)?!0:B_.test(e)||!L_.test(e)||t!=null&&e in Object(t)}var rm=F_;function U_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Un=U_;const $o=ft(Un);var K_=Nn,V_=Un,z_="[object AsyncFunction]",W_="[object Function]",H_="[object GeneratorFunction]",Y_="[object Proxy]";function G_(e){if(!V_(e))return!1;var t=K_(e);return t==W_||t==H_||t==z_||t==Y_}var nm=G_;const We=ft(nm);var q_=on,X_=q_["__core-js_shared__"],Q_=X_,Ju=Q_,ag=function(){var e=/[^.]+$/.exec(Ju&&Ju.keys&&Ju.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function J_(e){return!!ag&&ag in e}var Z_=J_,eI=Function.prototype,tI=eI.toString;function rI(e){if(e!=null){try{return tI.call(e)}catch{}try{return e+""}catch{}}return""}var Oj=rI,nI=nm,aI=Z_,oI=Un,sI=Oj,iI=/[\\^$.*+?()[\]{}|]/g,lI=/^\[object .+?Constructor\]$/,cI=Function.prototype,uI=Object.prototype,dI=cI.toString,fI=uI.hasOwnProperty,hI=RegExp("^"+dI.call(fI).replace(iI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mI(e){if(!oI(e)||aI(e))return!1;var t=nI(e)?hI:lI;return t.test(sI(e))}var pI=mI;function gI(e,t){return e==null?void 0:e[t]}var vI=gI,yI=pI,xI=vI;function bI(e,t){var r=xI(e,t);return yI(r)?r:void 0}var Na=bI,wI=Na,jI=wI(Object,"create"),Uc=jI,og=Uc;function SI(){this.__data__=og?og(null):{},this.size=0}var NI=SI;function AI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var CI=AI,OI=Uc,PI="__lodash_hash_undefined__",EI=Object.prototype,DI=EI.hasOwnProperty;function TI(e){var t=this.__data__;if(OI){var r=t[e];return r===PI?void 0:r}return DI.call(t,e)?t[e]:void 0}var $I=TI,_I=Uc,II=Object.prototype,kI=II.hasOwnProperty;function MI(e){var t=this.__data__;return _I?t[e]!==void 0:kI.call(t,e)}var RI=MI,LI=Uc,BI="__lodash_hash_undefined__";function FI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=LI&&t===void 0?BI:t,this}var UI=FI,KI=NI,VI=CI,zI=$I,WI=RI,HI=UI;function _o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_o.prototype.clear=KI;_o.prototype.delete=VI;_o.prototype.get=zI;_o.prototype.has=WI;_o.prototype.set=HI;var YI=_o;function GI(){this.__data__=[],this.size=0}var qI=GI;function XI(e,t){return e===t||e!==e&&t!==t}var am=XI,QI=am;function JI(e,t){for(var r=e.length;r--;)if(QI(e[r][0],t))return r;return-1}var Kc=JI,ZI=Kc,e2=Array.prototype,t2=e2.splice;function r2(e){var t=this.__data__,r=ZI(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():t2.call(t,r,1),--this.size,!0}var n2=r2,a2=Kc;function o2(e){var t=this.__data__,r=a2(t,e);return r<0?void 0:t[r][1]}var s2=o2,i2=Kc;function l2(e){return i2(this.__data__,e)>-1}var c2=l2,u2=Kc;function d2(e,t){var r=this.__data__,n=u2(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var f2=d2,h2=qI,m2=n2,p2=s2,g2=c2,v2=f2;function Io(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Io.prototype.clear=h2;Io.prototype.delete=m2;Io.prototype.get=p2;Io.prototype.has=g2;Io.prototype.set=v2;var Vc=Io,y2=Na,x2=on,b2=y2(x2,"Map"),om=b2,sg=YI,w2=Vc,j2=om;function S2(){this.size=0,this.__data__={hash:new sg,map:new(j2||w2),string:new sg}}var N2=S2;function A2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var C2=A2,O2=C2;function P2(e,t){var r=e.__data__;return O2(t)?r[typeof t=="string"?"string":"hash"]:r.map}var zc=P2,E2=zc;function D2(e){var t=E2(this,e).delete(e);return this.size-=t?1:0,t}var T2=D2,$2=zc;function _2(e){return $2(this,e).get(e)}var I2=_2,k2=zc;function M2(e){return k2(this,e).has(e)}var R2=M2,L2=zc;function B2(e,t){var r=L2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var F2=B2,U2=N2,K2=T2,V2=I2,z2=R2,W2=F2;function ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ko.prototype.clear=U2;ko.prototype.delete=K2;ko.prototype.get=V2;ko.prototype.has=z2;ko.prototype.set=W2;var sm=ko,Pj=sm,H2="Expected a function";function im(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(H2);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(im.Cache||Pj),r}im.Cache=Pj;var Ej=im;const Y2=ft(Ej);var G2=Ej,q2=500;function X2(e){var t=G2(e,function(n){return r.size===q2&&r.clear(),n}),r=t.cache;return t}var Q2=X2,J2=Q2,Z2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ek=/\\(\\)?/g,tk=J2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Z2,function(r,n,a,s){t.push(a?s.replace(ek,"$1"):n||r)}),t}),rk=tk;function nk(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var lm=nk,ig=ci,ak=lm,ok=sr,sk=To,lg=ig?ig.prototype:void 0,cg=lg?lg.toString:void 0;function Dj(e){if(typeof e=="string")return e;if(ok(e))return ak(e,Dj)+"";if(sk(e))return cg?cg.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ik=Dj,lk=ik;function ck(e){return e==null?"":lk(e)}var Tj=ck,uk=sr,dk=rm,fk=rk,hk=Tj;function mk(e,t){return uk(e)?e:dk(e,t)?[e]:fk(hk(e))}var $j=mk,pk=To;function gk(e){if(typeof e=="string"||pk(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Wc=gk,vk=$j,yk=Wc;function xk(e,t){t=vk(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[yk(t[r++])];return r&&r==n?e:void 0}var cm=xk,bk=cm;function wk(e,t,r){var n=e==null?void 0:bk(e,t);return n===void 0?r:n}var _j=wk;const jr=ft(_j);function jk(e){return e==null}var Sk=jk;const Ye=ft(Sk);var Nk=Nn,Ak=sr,Ck=An,Ok="[object String]";function Pk(e){return typeof e=="string"||!Ak(e)&&Ck(e)&&Nk(e)==Ok}var Ek=Pk;const pa=ft(Ek);var Ij={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=Symbol.for("react.element"),dm=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),qc=Symbol.for("react.provider"),Xc=Symbol.for("react.context"),Dk=Symbol.for("react.server_context"),Qc=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),tu=Symbol.for("react.lazy"),Tk=Symbol.for("react.offscreen"),kj;kj=Symbol.for("react.module.reference");function Er(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case um:switch(e=e.type,e){case Hc:case Gc:case Yc:case Jc:case Zc:return e;default:switch(e=e&&e.$$typeof,e){case Dk:case Xc:case Qc:case tu:case eu:case qc:return e;default:return t}}case dm:return t}}}st.ContextConsumer=Xc;st.ContextProvider=qc;st.Element=um;st.ForwardRef=Qc;st.Fragment=Hc;st.Lazy=tu;st.Memo=eu;st.Portal=dm;st.Profiler=Gc;st.StrictMode=Yc;st.Suspense=Jc;st.SuspenseList=Zc;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return Er(e)===Xc};st.isContextProvider=function(e){return Er(e)===qc};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===um};st.isForwardRef=function(e){return Er(e)===Qc};st.isFragment=function(e){return Er(e)===Hc};st.isLazy=function(e){return Er(e)===tu};st.isMemo=function(e){return Er(e)===eu};st.isPortal=function(e){return Er(e)===dm};st.isProfiler=function(e){return Er(e)===Gc};st.isStrictMode=function(e){return Er(e)===Yc};st.isSuspense=function(e){return Er(e)===Jc};st.isSuspenseList=function(e){return Er(e)===Zc};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hc||e===Gc||e===Yc||e===Jc||e===Zc||e===Tk||typeof e=="object"&&e!==null&&(e.$$typeof===tu||e.$$typeof===eu||e.$$typeof===qc||e.$$typeof===Xc||e.$$typeof===Qc||e.$$typeof===kj||e.getModuleId!==void 0)};st.typeOf=Er;Ij.exports=st;var $k=Ij.exports,_k=Nn,Ik=An,kk="[object Number]";function Mk(e){return typeof e=="number"||Ik(e)&&_k(e)==kk}var Mj=Mk;const Rk=ft(Mj);var Lk=Mj;function Bk(e){return Lk(e)&&e!=+e}var Fk=Bk;const ui=ft(Fk);var Br=function(t){return t===0?0:t>0?1:-1},Jn=function(t){return pa(t)&&t.indexOf("%")===t.length-1},be=function(t){return Rk(t)&&!ui(t)},Uk=function(t){return Ye(t)},kt=function(t){return be(t)||pa(t)},Kk=0,di=function(t){var r=++Kk;return"".concat(t||"").concat(r)},ga=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&!pa(t))return n;var s;if(Jn(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return ui(s)&&(s=n),a&&s>r&&(s=r),s},Tn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Vk=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Rr=function(t,r){return be(t)&&be(r)?function(n){return t+n*(r-t)}:function(){return r}};function ml(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):jr(n,t))===r})}var zk=function(t,r){return be(t)&&be(r)?t-r:pa(t)&&pa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ha(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}var Wk=["viewBox","children"],Hk=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ug=["points","pathLength"],Zu={svg:Wk,polygon:ug,polyline:ug},fm=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pl=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),!$o(n))return null;var a={};return Object.keys(n).forEach(function(s){fm.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},Yk=function(t,r,n){return function(a){return t(r,n,a),null}},gl=function(t,r,n){if(!$o(t)||Qd(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];fm.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=Yk(i,r,n))}),a},Gk=["children"],qk=["children"];function dg(e,t){if(e==null)return{};var r=Xk(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xk(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}var fg={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},hg=null,ed=null,hm=function e(t){if(t===hg&&Array.isArray(ed))return ed;var r=[];return g.Children.forEach(t,function(n){Ye(n)||($k.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ed=r,hg=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return pn(a)}):n=[pn(t)],hm(e).forEach(function(a){var s=jr(a,"type.displayName")||jr(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function dr(e,t){var r=Sr(e,t);return r&&r[0]}var mg=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!be(n)||n<=0||!be(a)||a<=0)},Qk=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jk=function(t){return t&&t.type&&pa(t.type)&&Qk.indexOf(t.type)>=0},Zk=function(t){return t&&Jd(t)==="object"&&"clipDot"in t},eM=function(t,r,n,a){var s,i=(s=Zu==null?void 0:Zu[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!We(t)&&(a&&i.includes(r)||Hk.includes(r))||n&&fm.includes(r)},Qe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(g.isValidElement(t)&&(a=t.props),!$o(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;eM((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},Zd=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return pg(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!pg(s,i))return!1}return!0},pg=function(t,r){if(Ye(t)&&Ye(r))return!0;if(!Ye(t)&&!Ye(r)){var n=t.props||{},a=n.children,s=dg(n,Gk),i=r.props||{},l=i.children,c=dg(i,qk);return a&&l?Ha(s,c)&&Zd(a,l):!a&&!l?Ha(s,c):!1}return!1},gg=function(t,r){var n=[],a={};return hm(t).forEach(function(s,i){if(Jk(s))n.push(s);else if(s){var l=pn(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(s,l,i);n.push(d),a[l]=!0}}}),n},tM=function(t){var r=t&&t.type;return r&&fg[r]?fg[r]:null},rM=function(t,r){return hm(r).indexOf(t)},nM=["children","width","height","viewBox","className","style","title","desc"];function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(this,arguments)}function aM(e,t){if(e==null)return{};var r=oM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tf(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=aM(e,nM),f=a||{width:r,height:n,x:0,y:0},d=Je("recharts-surface",s);return D.createElement("svg",ef({},Qe(u,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),t)}var sM=["children","className"];function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function iM(e,t){if(e==null)return{};var r=lM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nt=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=iM(e,sM),s=Je("recharts-layer",n);return D.createElement("g",rf({className:s},Qe(a,!0),{ref:t}),r)}),gn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function cM(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var uM=cM,dM=uM;function fM(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:dM(e,t,r)}var hM=fM,mM="\\ud800-\\udfff",pM="\\u0300-\\u036f",gM="\\ufe20-\\ufe2f",vM="\\u20d0-\\u20ff",yM=pM+gM+vM,xM="\\ufe0e\\ufe0f",bM="\\u200d",wM=RegExp("["+bM+mM+yM+xM+"]");function jM(e){return wM.test(e)}var Rj=jM;function SM(e){return e.split("")}var NM=SM,Lj="\\ud800-\\udfff",AM="\\u0300-\\u036f",CM="\\ufe20-\\ufe2f",OM="\\u20d0-\\u20ff",PM=AM+CM+OM,EM="\\ufe0e\\ufe0f",DM="["+Lj+"]",nf="["+PM+"]",af="\\ud83c[\\udffb-\\udfff]",TM="(?:"+nf+"|"+af+")",Bj="[^"+Lj+"]",Fj="(?:\\ud83c[\\udde6-\\uddff]){2}",Uj="[\\ud800-\\udbff][\\udc00-\\udfff]",$M="\\u200d",Kj=TM+"?",Vj="["+EM+"]?",_M="(?:"+$M+"(?:"+[Bj,Fj,Uj].join("|")+")"+Vj+Kj+")*",IM=Vj+Kj+_M,kM="(?:"+[Bj+nf+"?",nf,Fj,Uj,DM].join("|")+")",MM=RegExp(af+"(?="+af+")|"+kM+IM,"g");function RM(e){return e.match(MM)||[]}var LM=RM,BM=NM,FM=Rj,UM=LM;function KM(e){return FM(e)?UM(e):BM(e)}var VM=KM,zM=hM,WM=Rj,HM=VM,YM=Tj;function GM(e){return function(t){t=YM(t);var r=WM(t)?HM(t):void 0,n=r?r[0]:t.charAt(0),a=r?zM(r,1).join(""):t.slice(1);return n[e]()+a}}var qM=GM,XM=qM,QM=XM("toUpperCase"),JM=QM;const ru=ft(JM);function dt(e){return function(){return e}}const zj=Math.cos,vl=Math.sin,Vr=Math.sqrt,yl=Math.PI,nu=2*yl,of=Math.PI,sf=2*of,qn=1e-6,ZM=sf-qn;function Wj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function eR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wj;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class tR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wj:eR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,f=i-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qn)if(!(Math.abs(d*c-u*f)>qn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,y=a-l,p=c*c+u*u,v=m*m+y*y,x=Math.sqrt(p),w=Math.sqrt(h),b=s*Math.tan((of-Math.acos((p+h-v)/(2*x*w)))/2),N=b/w,j=b/x;Math.abs(N-1)>qn&&this._append`L${t+N*f},${r+N*d}`,this._append`A${s},${s},0,0,${+(d*m>f*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>qn||Math.abs(this._y1-f)>qn)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%sf+sf),h>ZM?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>qn&&this._append`A${n},${n},0,${+(h>=of)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function mm(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new tR(t)}function pm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hj(e){this._context=e}Hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function au(e){return new Hj(e)}function Yj(e){return e[0]}function Gj(e){return e[1]}function qj(e,t){var r=dt(!0),n=null,a=au,s=null,i=mm(l);e=typeof e=="function"?e:e===void 0?Yj:dt(e),t=typeof t=="function"?t:t===void 0?Gj:dt(t);function l(c){var u,f=(c=pm(c)).length,d,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,u,c),+t(d,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Ti(e,t,r){var n=null,a=dt(!0),s=null,i=au,l=null,c=mm(u);e=typeof e=="function"?e:e===void 0?Yj:dt(+e),t=typeof t=="function"?t:dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Gj:dt(+r);function u(d){var h,m,y,p=(d=pm(d)).length,v,x=!1,w,b=new Array(p),N=new Array(p);for(s==null&&(l=i(w=c())),h=0;h<=p;++h){if(!(h<p&&a(v=d[h],h,d))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(b[y],N[y]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(v,h,d),N[h]=+t(v,h,d),l.point(n?+n(v,h,d):b[h],r?+r(v,h,d):N[h]))}if(w)return l=null,w+""||null}function f(){return qj().defined(a).curve(i).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:dt(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:dt(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:dt(!!d),u):a},u.curve=function(d){return arguments.length?(i=d,s!=null&&(l=i(s)),u):i},u.context=function(d){return arguments.length?(d==null?s=l=null:l=i(s=d),u):s},u}class Xj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function rR(e){return new Xj(e,!0)}function nR(e){return new Xj(e,!1)}const gm={draw(e,t){const r=Vr(t/yl);e.moveTo(r,0),e.arc(0,0,r,0,nu)}},aR={draw(e,t){const r=Vr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Qj=Vr(1/3),oR=Qj*2,sR={draw(e,t){const r=Vr(t/oR),n=r*Qj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iR={draw(e,t){const r=Vr(t),n=-r/2;e.rect(n,n,r,r)}},lR=.8908130915292852,Jj=vl(yl/10)/vl(7*yl/10),cR=vl(nu/10)*Jj,uR=-zj(nu/10)*Jj,dR={draw(e,t){const r=Vr(t*lR),n=cR*r,a=uR*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=nu*s/5,l=zj(i),c=vl(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},td=Vr(3),fR={draw(e,t){const r=-Vr(t/(td*3));e.moveTo(0,r*2),e.lineTo(-td*r,-r),e.lineTo(td*r,-r),e.closePath()}},vr=-.5,yr=Vr(3)/2,lf=1/Vr(12),hR=(lf/2+1)*3,mR={draw(e,t){const r=Vr(t/hR),n=r/2,a=r*lf,s=n,i=r*lf+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(vr*n-yr*a,yr*n+vr*a),e.lineTo(vr*s-yr*i,yr*s+vr*i),e.lineTo(vr*l-yr*c,yr*l+vr*c),e.lineTo(vr*n+yr*a,vr*a-yr*n),e.lineTo(vr*s+yr*i,vr*i-yr*s),e.lineTo(vr*l+yr*c,vr*c-yr*l),e.closePath()}};function pR(e,t){let r=null,n=mm(a);e=typeof e=="function"?e:dt(e||gm),t=typeof t=="function"?t:dt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:dt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:dt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function xl(){}function bl(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Zj(e){this._context=e}Zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gR(e){return new Zj(e)}function eS(e){this._context=e}eS.prototype={areaStart:xl,areaEnd:xl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vR(e){return new eS(e)}function tS(e){this._context=e}tS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yR(e){return new tS(e)}function rS(e){this._context=e}rS.prototype={areaStart:xl,areaEnd:xl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xR(e){return new rS(e)}function vg(e){return e<0?-1:1}function yg(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(vg(s)+vg(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function xg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rd(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function wl(e){this._context=e}wl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rd(this,this._t0,xg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rd(this,xg(this,r=yg(this,e,t)),r);break;default:rd(this,this._t0,r=yg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nS(e){this._context=new aS(e)}(nS.prototype=Object.create(wl.prototype)).point=function(e,t){wl.prototype.point.call(this,t,e)};function aS(e){this._context=e}aS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function bR(e){return new wl(e)}function wR(e){return new nS(e)}function oS(e){this._context=e}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=bg(e),a=bg(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bg(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function jR(e){return new oS(e)}function ou(e,t){this._context=e,this._t=t}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function SR(e){return new ou(e,.5)}function NR(e){return new ou(e,0)}function AR(e){return new ou(e,1)}function eo(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function cf(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function CR(e,t){return e[t]}function OR(e){const t=[];return t.key=e,t}function PR(){var e=dt([]),t=cf,r=eo,n=CR;function a(s){var i=Array.from(e.apply(this,arguments),OR),l,c=i.length,u=-1,f;for(const d of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(d,i[l].key,u,s)]).data=d;for(l=0,f=pm(t(i));l<c;++l)i[f[l]].index=l;return r(i,f),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:dt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:dt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?cf:typeof s=="function"?s:dt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??eo,a):r},a}function ER(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}eo(e,t)}}function DR(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}eo(e,t)}}function TR(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,m=(d-h)/2,y=0;y<l;++y){var p=e[t[y]],v=p[n][1]||0,x=p[n-1][1]||0;m+=v-x}c+=d,u+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,eo(e,t)}}function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}var $R=["type","size","sizeType"];function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(n){_R(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _R(e,t,r){return t=IR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IR(e){var t=kR(e,"string");return ys(t)=="symbol"?t:t+""}function kR(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MR(e,t){if(e==null)return{};var r=RR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sS={symbolCircle:gm,symbolCross:aR,symbolDiamond:sR,symbolSquare:iR,symbolStar:dR,symbolTriangle:fR,symbolWye:mR},LR=Math.PI/180,BR=function(t){var r="symbol".concat(ru(t));return sS[r]||gm},FR=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*LR;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},UR=function(t,r){sS["symbol".concat(ru(t))]=r},vm=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=MR(t,$R),u=jg(jg({},c),{},{type:n,size:s,sizeType:l}),f=function(){var v=BR(n),x=pR().type(v).size(FR(s,l,n));return x()},d=u.className,h=u.cx,m=u.cy,y=Qe(u,!0);return h===+h&&m===+m&&s===+s?D.createElement("path",uf({},y,{className:Je("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};vm.registerSymbol=UR;function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lS(n.key),n)}}function WR(e,t,r){return t&&zR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HR(e,t,r){return t=jl(t),YR(e,iS()?Reflect.construct(t,r||[],jl(e).constructor):t.apply(e,r))}function YR(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GR(e)}function GR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iS=function(){return!!e})()}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jl(e)}function qR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ff(e,t)}function ff(e,t){return ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ff(e,t)}function xs(e,t,r){return t=lS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lS(e){var t=XR(e,"string");return to(t)=="symbol"?t:t+""}function XR(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xr=32,ym=function(e){function t(){return VR(this,t),HR(this,t,arguments)}return qR(t,e),WR(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=xr/2,i=xr/6,l=xr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:xr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(xr,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xr/8,"h").concat(xr,"v").concat(xr*3/4,"h").concat(-xr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=KR({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(vm,{fill:c,cx:s,cy:s,size:xr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:xr,height:xr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,y){var p=m.formatter||c,v=Je(xs(xs({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=We(m.value)?null:m.value;gn(!We(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return D.createElement("li",df({className:v,style:d,key:"legend-item-".concat(y)},gl(n.props,m,y)),D.createElement(tf,{width:i,height:i,viewBox:f,style:h},n.renderIcon(m)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},p?p(x,m,y):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);xs(ym,"displayName","Legend");xs(ym,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QR=Vc;function JR(){this.__data__=new QR,this.size=0}var ZR=JR;function eL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var tL=eL;function rL(e){return this.__data__.get(e)}var nL=rL;function aL(e){return this.__data__.has(e)}var oL=aL,sL=Vc,iL=om,lL=sm,cL=200;function uL(e,t){var r=this.__data__;if(r instanceof sL){var n=r.__data__;if(!iL||n.length<cL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new lL(n)}return r.set(e,t),this.size=r.size,this}var dL=uL,fL=Vc,hL=ZR,mL=tL,pL=nL,gL=oL,vL=dL;function Mo(e){var t=this.__data__=new fL(e);this.size=t.size}Mo.prototype.clear=hL;Mo.prototype.delete=mL;Mo.prototype.get=pL;Mo.prototype.has=gL;Mo.prototype.set=vL;var cS=Mo,yL="__lodash_hash_undefined__";function xL(e){return this.__data__.set(e,yL),this}var bL=xL;function wL(e){return this.__data__.has(e)}var jL=wL,SL=sm,NL=bL,AL=jL;function Sl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new SL;++t<r;)this.add(e[t])}Sl.prototype.add=Sl.prototype.push=NL;Sl.prototype.has=AL;var uS=Sl;function CL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var dS=CL;function OL(e,t){return e.has(t)}var fS=OL,PL=uS,EL=dS,DL=fS,TL=1,$L=2;function _L(e,t,r,n,a,s){var i=r&TL,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,m=r&$L?new PL:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var y=e[d],p=t[d];if(n)var v=i?n(p,y,d,t,e,s):n(y,p,d,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!EL(t,function(x,w){if(!DL(m,w)&&(y===x||a(y,x,r,n,s)))return m.push(w)})){h=!1;break}}else if(!(y===p||a(y,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var hS=_L,IL=on,kL=IL.Uint8Array,ML=kL;function RL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var LL=RL;function BL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var xm=BL,Ng=ci,Ag=ML,FL=am,UL=hS,KL=LL,VL=xm,zL=1,WL=2,HL="[object Boolean]",YL="[object Date]",GL="[object Error]",qL="[object Map]",XL="[object Number]",QL="[object RegExp]",JL="[object Set]",ZL="[object String]",e4="[object Symbol]",t4="[object ArrayBuffer]",r4="[object DataView]",Cg=Ng?Ng.prototype:void 0,nd=Cg?Cg.valueOf:void 0;function n4(e,t,r,n,a,s,i){switch(r){case r4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case t4:return!(e.byteLength!=t.byteLength||!s(new Ag(e),new Ag(t)));case HL:case YL:case XL:return FL(+e,+t);case GL:return e.name==t.name&&e.message==t.message;case QL:case ZL:return e==t+"";case qL:var l=KL;case JL:var c=n&zL;if(l||(l=VL),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=WL,i.set(e,t);var f=UL(l(e),l(t),n,a,s,i);return i.delete(e),f;case e4:if(nd)return nd.call(e)==nd.call(t)}return!1}var a4=n4;function o4(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var mS=o4,s4=mS,i4=sr;function l4(e,t,r){var n=t(e);return i4(e)?n:s4(n,r(e))}var c4=l4;function u4(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var d4=u4;function f4(){return[]}var h4=f4,m4=d4,p4=h4,g4=Object.prototype,v4=g4.propertyIsEnumerable,Og=Object.getOwnPropertySymbols,y4=Og?function(e){return e==null?[]:(e=Object(e),m4(Og(e),function(t){return v4.call(e,t)}))}:p4,x4=y4;function b4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var w4=b4,j4=Nn,S4=An,N4="[object Arguments]";function A4(e){return S4(e)&&j4(e)==N4}var C4=A4,Pg=C4,O4=An,pS=Object.prototype,P4=pS.hasOwnProperty,E4=pS.propertyIsEnumerable,D4=Pg(function(){return arguments}())?Pg:function(e){return O4(e)&&P4.call(e,"callee")&&!E4.call(e,"callee")},bm=D4,Nl={exports:{}};function T4(){return!1}var $4=T4;Nl.exports;(function(e,t){var r=on,n=$4,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Nl,Nl.exports);var gS=Nl.exports,_4=9007199254740991,I4=/^(?:0|[1-9]\d*)$/;function k4(e,t){var r=typeof e;return t=t??_4,!!t&&(r=="number"||r!="symbol"&&I4.test(e))&&e>-1&&e%1==0&&e<t}var wm=k4,M4=9007199254740991;function R4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=M4}var jm=R4,L4=Nn,B4=jm,F4=An,U4="[object Arguments]",K4="[object Array]",V4="[object Boolean]",z4="[object Date]",W4="[object Error]",H4="[object Function]",Y4="[object Map]",G4="[object Number]",q4="[object Object]",X4="[object RegExp]",Q4="[object Set]",J4="[object String]",Z4="[object WeakMap]",eB="[object ArrayBuffer]",tB="[object DataView]",rB="[object Float32Array]",nB="[object Float64Array]",aB="[object Int8Array]",oB="[object Int16Array]",sB="[object Int32Array]",iB="[object Uint8Array]",lB="[object Uint8ClampedArray]",cB="[object Uint16Array]",uB="[object Uint32Array]",ht={};ht[rB]=ht[nB]=ht[aB]=ht[oB]=ht[sB]=ht[iB]=ht[lB]=ht[cB]=ht[uB]=!0;ht[U4]=ht[K4]=ht[eB]=ht[V4]=ht[tB]=ht[z4]=ht[W4]=ht[H4]=ht[Y4]=ht[G4]=ht[q4]=ht[X4]=ht[Q4]=ht[J4]=ht[Z4]=!1;function dB(e){return F4(e)&&B4(e.length)&&!!ht[L4(e)]}var fB=dB;function hB(e){return function(t){return e(t)}}var vS=hB,Al={exports:{}};Al.exports;(function(e,t){var r=Aj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Al,Al.exports);var mB=Al.exports,pB=fB,gB=vS,Eg=mB,Dg=Eg&&Eg.isTypedArray,vB=Dg?gB(Dg):pB,yS=vB,yB=w4,xB=bm,bB=sr,wB=gS,jB=wm,SB=yS,NB=Object.prototype,AB=NB.hasOwnProperty;function CB(e,t){var r=bB(e),n=!r&&xB(e),a=!r&&!n&&wB(e),s=!r&&!n&&!a&&SB(e),i=r||n||a||s,l=i?yB(e.length,String):[],c=l.length;for(var u in e)(t||AB.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jB(u,c)))&&l.push(u);return l}var OB=CB,PB=Object.prototype;function EB(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||PB;return e===r}var DB=EB;function TB(e,t){return function(r){return e(t(r))}}var xS=TB,$B=xS,_B=$B(Object.keys,Object),IB=_B,kB=DB,MB=IB,RB=Object.prototype,LB=RB.hasOwnProperty;function BB(e){if(!kB(e))return MB(e);var t=[];for(var r in Object(e))LB.call(e,r)&&r!="constructor"&&t.push(r);return t}var FB=BB,UB=nm,KB=jm;function VB(e){return e!=null&&KB(e.length)&&!UB(e)}var fi=VB,zB=OB,WB=FB,HB=fi;function YB(e){return HB(e)?zB(e):WB(e)}var su=YB,GB=c4,qB=x4,XB=su;function QB(e){return GB(e,XB,qB)}var JB=QB,Tg=JB,ZB=1,e3=Object.prototype,t3=e3.hasOwnProperty;function r3(e,t,r,n,a,s){var i=r&ZB,l=Tg(e),c=l.length,u=Tg(t),f=u.length;if(c!=f&&!i)return!1;for(var d=c;d--;){var h=l[d];if(!(i?h in t:t3.call(t,h)))return!1}var m=s.get(e),y=s.get(t);if(m&&y)return m==t&&y==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=i;++d<c;){h=l[d];var x=e[h],w=t[h];if(n)var b=i?n(w,x,h,t,e,s):n(x,w,h,e,t,s);if(!(b===void 0?x===w||a(x,w,r,n,s):b)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(p=!1)}return s.delete(e),s.delete(t),p}var n3=r3,a3=Na,o3=on,s3=a3(o3,"DataView"),i3=s3,l3=Na,c3=on,u3=l3(c3,"Promise"),d3=u3,f3=Na,h3=on,m3=f3(h3,"Set"),bS=m3,p3=Na,g3=on,v3=p3(g3,"WeakMap"),y3=v3,hf=i3,mf=om,pf=d3,gf=bS,vf=y3,wS=Nn,Ro=Oj,$g="[object Map]",x3="[object Object]",_g="[object Promise]",Ig="[object Set]",kg="[object WeakMap]",Mg="[object DataView]",b3=Ro(hf),w3=Ro(mf),j3=Ro(pf),S3=Ro(gf),N3=Ro(vf),Xn=wS;(hf&&Xn(new hf(new ArrayBuffer(1)))!=Mg||mf&&Xn(new mf)!=$g||pf&&Xn(pf.resolve())!=_g||gf&&Xn(new gf)!=Ig||vf&&Xn(new vf)!=kg)&&(Xn=function(e){var t=wS(e),r=t==x3?e.constructor:void 0,n=r?Ro(r):"";if(n)switch(n){case b3:return Mg;case w3:return $g;case j3:return _g;case S3:return Ig;case N3:return kg}return t});var A3=Xn,ad=cS,C3=hS,O3=a4,P3=n3,Rg=A3,Lg=sr,Bg=gS,E3=yS,D3=1,Fg="[object Arguments]",Ug="[object Array]",$i="[object Object]",T3=Object.prototype,Kg=T3.hasOwnProperty;function $3(e,t,r,n,a,s){var i=Lg(e),l=Lg(t),c=i?Ug:Rg(e),u=l?Ug:Rg(t);c=c==Fg?$i:c,u=u==Fg?$i:u;var f=c==$i,d=u==$i,h=c==u;if(h&&Bg(e)){if(!Bg(t))return!1;i=!0,f=!1}if(h&&!f)return s||(s=new ad),i||E3(e)?C3(e,t,r,n,a,s):O3(e,t,c,r,n,a,s);if(!(r&D3)){var m=f&&Kg.call(e,"__wrapped__"),y=d&&Kg.call(t,"__wrapped__");if(m||y){var p=m?e.value():e,v=y?t.value():t;return s||(s=new ad),a(p,v,r,n,s)}}return h?(s||(s=new ad),P3(e,t,r,n,a,s)):!1}var _3=$3,I3=_3,Vg=An;function jS(e,t,r,n,a){return e===t?!0:e==null||t==null||!Vg(e)&&!Vg(t)?e!==e&&t!==t:I3(e,t,r,n,jS,a)}var Sm=jS,k3=cS,M3=Sm,R3=1,L3=2;function B3(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],f=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new k3;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?M3(f,u,R3|L3,n,d):h))return!1}}return!0}var F3=B3,U3=Un;function K3(e){return e===e&&!U3(e)}var SS=K3,V3=SS,z3=su;function W3(e){for(var t=z3(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,V3(a)]}return t}var H3=W3;function Y3(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var NS=Y3,G3=F3,q3=H3,X3=NS;function Q3(e){var t=q3(e);return t.length==1&&t[0][2]?X3(t[0][0],t[0][1]):function(r){return r===e||G3(r,e,t)}}var J3=Q3;function Z3(e,t){return e!=null&&t in Object(e)}var eF=Z3,tF=$j,rF=bm,nF=sr,aF=wm,oF=jm,sF=Wc;function iF(e,t,r){t=tF(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=sF(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&oF(a)&&aF(i,a)&&(nF(e)||rF(e)))}var lF=iF,cF=eF,uF=lF;function dF(e,t){return e!=null&&uF(e,t,cF)}var fF=dF,hF=Sm,mF=_j,pF=fF,gF=rm,vF=SS,yF=NS,xF=Wc,bF=1,wF=2;function jF(e,t){return gF(e)&&vF(t)?yF(xF(e),t):function(r){var n=mF(r,e);return n===void 0&&n===t?pF(r,e):hF(t,n,bF|wF)}}var SF=jF;function NF(e){return e}var Lo=NF;function AF(e){return function(t){return t==null?void 0:t[e]}}var CF=AF,OF=cm;function PF(e){return function(t){return OF(t,e)}}var EF=PF,DF=CF,TF=EF,$F=rm,_F=Wc;function IF(e){return $F(e)?DF(_F(e)):TF(e)}var kF=IF,MF=J3,RF=SF,LF=Lo,BF=sr,FF=kF;function UF(e){return typeof e=="function"?e:e==null?LF:typeof e=="object"?BF(e)?RF(e[0],e[1]):MF(e):FF(e)}var Kn=UF;function KF(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var AS=KF;function VF(e){return e!==e}var zF=VF;function WF(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var HF=WF,YF=AS,GF=zF,qF=HF;function XF(e,t,r){return t===t?qF(e,t,r):YF(e,GF,r)}var QF=XF,JF=QF;function ZF(e,t){var r=e==null?0:e.length;return!!r&&JF(e,t,0)>-1}var e5=ZF;function t5(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var r5=t5;function n5(){}var a5=n5,od=bS,o5=a5,s5=xm,i5=1/0,l5=od&&1/s5(new od([,-0]))[1]==i5?function(e){return new od(e)}:o5,c5=l5,u5=uS,d5=e5,f5=r5,h5=fS,m5=c5,p5=xm,g5=200;function v5(e,t,r){var n=-1,a=d5,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=f5;else if(s>=g5){var u=t?null:m5(e);if(u)return p5(u);i=!1,a=h5,c=new u5}else c=t?[]:l;e:for(;++n<s;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var y5=v5,x5=Kn,b5=y5;function w5(e,t){return e&&e.length?b5(e,x5(t)):[]}var j5=w5;const zg=ft(j5);function CS(e,t,r){return t===!0?zg(e,r):We(t)?zg(e,t):e}function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}var S5=["ref"];function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(r),!0).forEach(function(n){iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PS(n.key),n)}}function A5(e,t,r){return t&&Hg(e.prototype,t),r&&Hg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C5(e,t,r){return t=Cl(t),O5(e,OS()?Reflect.construct(t,r||[],Cl(e).constructor):t.apply(e,r))}function O5(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P5(e)}function P5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OS=function(){return!!e})()}function Cl(e){return Cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cl(e)}function E5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yf(e,t)}function yf(e,t){return yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yf(e,t)}function iu(e,t,r){return t=PS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PS(e){var t=D5(e,"string");return ro(t)=="symbol"?t:t+""}function D5(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T5(e,t){if(e==null)return{};var r=$5(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _5(e){return e.value}function I5(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=T5(t,S5);return D.createElement(ym,r)}var Yg=1,Ya=function(e){function t(){var r;N5(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=C5(this,t,[].concat(a)),iu(r,"lastBoundingBox",{width:-1,height:-1}),r}return E5(t,e),A5(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Yg||Math.abs(a.height-this.lastBoundingBox.height)>Yg)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return sn(sn({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=sn(sn({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},I5(s,sn(sn({},this.props),{},{payload:CS(f,u,_5)})))}}],[{key:"getWithHeight",value:function(n,a){var s=sn(sn({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&be(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(g.PureComponent);iu(Ya,"displayName","Legend");iu(Ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gg=ci,k5=bm,M5=sr,qg=Gg?Gg.isConcatSpreadable:void 0;function R5(e){return M5(e)||k5(e)||!!(qg&&e&&e[qg])}var L5=R5,B5=mS,F5=L5;function ES(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=F5),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?ES(l,t-1,r,n,a):B5(a,l):n||(a[a.length]=l)}return a}var DS=ES;function U5(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var K5=U5,V5=K5,z5=V5(),W5=z5,H5=W5,Y5=su;function G5(e,t){return e&&H5(e,t,Y5)}var TS=G5,q5=fi;function X5(e,t){return function(r,n){if(r==null)return r;if(!q5(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var Q5=X5,J5=TS,Z5=Q5,e6=Z5(J5),Nm=e6,t6=Nm,r6=fi;function n6(e,t){var r=-1,n=r6(e)?Array(e.length):[];return t6(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var $S=n6;function a6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var o6=a6,Xg=To;function s6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=Xg(e),i=t!==void 0,l=t===null,c=t===t,u=Xg(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var i6=s6,l6=i6;function c6(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=l6(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var u6=c6,sd=lm,d6=cm,f6=Kn,h6=$S,m6=o6,p6=vS,g6=u6,v6=Lo,y6=sr;function x6(e,t,r){t.length?t=sd(t,function(s){return y6(s)?function(i){return d6(i,s.length===1?s[0]:s)}:s}):t=[v6];var n=-1;t=sd(t,p6(f6));var a=h6(e,function(s,i,l){var c=sd(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return m6(a,function(s,i){return g6(s,i,r)})}var b6=x6;function w6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var j6=w6,S6=j6,Qg=Math.max;function N6(e,t,r){return t=Qg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Qg(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),S6(e,this,l)}}var A6=N6;function C6(e){return function(){return e}}var O6=C6,P6=Na,E6=function(){try{var e=P6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_S=E6,D6=O6,Jg=_S,T6=Lo,$6=Jg?function(e,t){return Jg(e,"toString",{configurable:!0,enumerable:!1,value:D6(t),writable:!0})}:T6,_6=$6,I6=800,k6=16,M6=Date.now;function R6(e){var t=0,r=0;return function(){var n=M6(),a=k6-(n-r);if(r=n,a>0){if(++t>=I6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var L6=R6,B6=_6,F6=L6,U6=F6(B6),K6=U6,V6=Lo,z6=A6,W6=K6;function H6(e,t){return W6(z6(e,t,V6),e+"")}var Y6=H6,G6=am,q6=fi,X6=wm,Q6=Un;function J6(e,t,r){if(!Q6(r))return!1;var n=typeof t;return(n=="number"?q6(r)&&X6(t,r.length):n=="string"&&t in r)?G6(r[t],e):!1}var lu=J6,Z6=DS,eU=b6,tU=Y6,Zg=lu,rU=tU(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Zg(e,t[0],t[1])?t=[]:r>2&&Zg(t[0],t[1],t[2])&&(t=[t[0]]),eU(e,Z6(t,1),[])}),nU=rU;const Am=ft(nU);function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function aU(e,t){return lU(e)||iU(e,t)||sU(e,t)||oU()}function oU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(e,t){if(e){if(typeof e=="string")return ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ev(e,t)}}function ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function lU(e){if(Array.isArray(e))return e}function tv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tv(Object(r),!0).forEach(function(n){cU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cU(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=dU(e,"string");return bs(t)=="symbol"?t:t+""}function dU(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fU(e){return Array.isArray(e)&&kt(e[0])&&kt(e[1])?e.join(" ~ "):e}var hU=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(f&&f.length){var C={padding:0,margin:0},U=(h?Am(f,h):f).map(function(M,K){if(M.type==="none")return null;var T=id({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),P=M.formatter||d||fU,L=M.value,E=M.name,G=L,ee=E;if(P&&G!=null&&ee!=null){var Q=P(L,E,M,K,f);if(Array.isArray(Q)){var ie=aU(Q,2);G=ie[0],ee=ie[1]}else G=Q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:T},kt(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,kt(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:C},U)}return null},N=id({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=id({margin:0},u),S=!Ye(p),A=S?p:"",O=Je("recharts-default-tooltip",m),$=Je("recharts-tooltip-label",y);S&&v&&f!==void 0&&f!==null&&(A=v(p,f));var F=w?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",xf({className:O,style:N},F),D.createElement("p",{className:$,style:j},D.isValidElement(A)?A:"".concat(A)),b())};function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function _i(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=pU(e,"string");return ws(t)=="symbol"?t:t+""}function pU(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wo="recharts-tooltip-wrapper",gU={visibility:"hidden"};function vU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Je(Wo,_i(_i(_i(_i({},"".concat(Wo,"-right"),be(r)&&t&&be(t.x)&&r>=t.x),"".concat(Wo,"-left"),be(r)&&t&&be(t.x)&&r<t.x),"".concat(Wo,"-bottom"),be(n)&&t&&be(t.y)&&n>=t.y),"".concat(Wo,"-top"),be(n)&&t&&be(t.y)&&n<t.y))}function rv(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&be(s[n]))return s[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,m=c[n];return h<m?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,p=c[n]+u;return y>p?Math.max(f,c[n]):Math.max(d,c[n])}function yU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function xU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return i.height>0&&i.width>0&&r?(f=rv({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=rv({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=yU({translateX:f,translateY:d,useTranslate3d:l})):u=gU,{cssProperties:u,cssClasses:vU({translateX:f,translateY:d,coordinate:r})}}function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kS(n.key),n)}}function jU(e,t,r){return t&&wU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SU(e,t,r){return t=Ol(t),NU(e,IS()?Reflect.construct(t,r||[],Ol(e).constructor):t.apply(e,r))}function NU(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AU(e)}function AU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IS=function(){return!!e})()}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ol(e)}function CU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bf(e,t)}function bf(e,t){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bf(e,t)}function wf(e,t,r){return t=kS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kS(e){var t=OU(e,"string");return no(t)=="symbol"?t:t+""}function OU(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ov=1,PU=function(e){function t(){var r;bU(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=SU(this,t,[].concat(a)),wf(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wf(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return CU(t,e),jU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ov||Math.abs(n.height-this.state.lastBoundingBox.height)>ov)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,m=a.offset,y=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,b=xU({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:m,position:y,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=b.cssClasses,j=b.cssProperties,S=av(av({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return D.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(O){n.wrapperNode=O}},u)}}])}(g.PureComponent),EU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bo={isSsr:EU()};function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(r),!0).forEach(function(n){Cm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RS(n.key),n)}}function $U(e,t,r){return t&&TU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _U(e,t,r){return t=Pl(t),IU(e,MS()?Reflect.construct(t,r||[],Pl(e).constructor):t.apply(e,r))}function IU(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kU(e)}function kU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MS=function(){return!!e})()}function Pl(e){return Pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pl(e)}function MU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}function jf(e,t){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jf(e,t)}function Cm(e,t,r){return t=RS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RS(e){var t=RU(e,"string");return ao(t)=="symbol"?t:t+""}function RU(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LU(e){return e.dataKey}function BU(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(hU,t)}var fr=function(e){function t(){return DU(this,t),_U(this,t,arguments)}return MU(t,e),$U(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,m=a.offset,y=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,j=y??[];d&&j.length&&(j=CS(y.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),p,LU));var S=j.length>0;return D.createElement(PU,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:f,hasPayload:S,offset:m,position:v,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:N},BU(u,iv(iv({},this.props),{},{payload:j})))}}])}(g.PureComponent);Cm(fr,"displayName","Tooltip");Cm(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var FU=on,UU=function(){return FU.Date.now()},KU=UU,VU=/\s/;function zU(e){for(var t=e.length;t--&&VU.test(e.charAt(t)););return t}var WU=zU,HU=WU,YU=/^\s+/;function GU(e){return e&&e.slice(0,HU(e)+1).replace(YU,"")}var qU=GU,XU=qU,lv=Un,QU=To,cv=NaN,JU=/^[-+]0x[0-9a-f]+$/i,ZU=/^0b[01]+$/i,eK=/^0o[0-7]+$/i,tK=parseInt;function rK(e){if(typeof e=="number")return e;if(QU(e))return cv;if(lv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XU(e);var r=ZU.test(e);return r||eK.test(e)?tK(e.slice(2),r?2:8):JU.test(e)?cv:+e}var LS=rK,nK=Un,ld=KU,uv=LS,aK="Expected a function",oK=Math.max,sK=Math.min;function iK(e,t,r){var n,a,s,i,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(aK);t=uv(t)||0,nK(r)&&(f=!!r.leading,d="maxWait"in r,s=d?oK(uv(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var A=n,O=a;return n=a=void 0,u=S,i=e.apply(O,A),i}function y(S){return u=S,l=setTimeout(x,t),f?m(S):i}function p(S){var A=S-c,O=S-u,$=t-A;return d?sK($,s-O):$}function v(S){var A=S-c,O=S-u;return c===void 0||A>=t||A<0||d&&O>=s}function x(){var S=ld();if(v(S))return w(S);l=setTimeout(x,p(S))}function w(S){return l=void 0,h&&n?m(S):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?i:w(ld())}function j(){var S=ld(),A=v(S);if(n=arguments,a=this,c=S,A){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),i}return j.cancel=b,j.flush=N,j}var lK=iK,cK=lK,uK=Un,dK="Expected a function";function fK(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(dK);return uK(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),cK(e,t,{leading:n,maxWait:t,trailing:a})}var hK=fK;const BS=ft(hK);function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=gK(e,"string");return js(t)=="symbol"?t:t+""}function gK(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vK(e,t){return wK(e)||bK(e,t)||xK(e,t)||yK()}function yK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(e,t){if(e){if(typeof e=="string")return fv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(e,t)}}function fv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function wK(e){if(Array.isArray(e))return e}var cu=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,p=y===void 0?0:y,v=e.id,x=e.className,w=e.onResize,b=e.style,N=b===void 0?{}:b,j=g.useRef(null),S=g.useRef();S.current=w,g.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=g.useState({containerWidth:a.width,containerHeight:a.height}),O=vK(A,2),$=O[0],F=O[1],_=g.useCallback(function(U,M){F(function(K){var T=Math.round(U),P=Math.round(M);return K.containerWidth===T&&K.containerHeight===P?K:{containerWidth:T,containerHeight:P}})},[]);g.useEffect(function(){var U=function(E){var G,ee=E[0].contentRect,Q=ee.width,ie=ee.height;_(Q,ie),(G=S.current)===null||G===void 0||G.call(S,Q,ie)};p>0&&(U=BS(U,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(U),K=j.current.getBoundingClientRect(),T=K.width,P=K.height;return _(T,P),M.observe(j.current),function(){M.disconnect()}},[_,p]);var C=g.useMemo(function(){var U=$.containerWidth,M=$.containerHeight;if(U<0||M<0)return null;gn(Jn(i)||Jn(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),gn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=Jn(i)?U:i,T=Jn(c)?M:c;r&&r>0&&(K?T=K/r:T&&(K=T*r),h&&T>h&&(T=h)),gn(K>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,T,i,c,f,d,r);var P=!Array.isArray(m)&&pn(m.type).endsWith("Chart");return D.Children.map(m,function(L){return D.isValidElement(L)?g.cloneElement(L,Ii({width:K,height:T},P?{style:Ii({height:"100%",width:"100%",maxHeight:T,maxWidth:K},L.props.style)}:{})):L})},[r,m,c,h,d,f,$,i]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Je("recharts-responsive-container",x),style:Ii(Ii({},N),{},{width:i,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},C)}),FS=function(t){return null};FS.displayName="Cell";function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hv(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=NK(e,"string");return Ss(t)=="symbol"?t:t+""}function NK(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia={widthCache:{},cacheCount:0},AK=2e3,CK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mv="recharts_measurement_span";function OK(e){var t=Sf({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ls=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bo.isSsr)return{width:0,height:0};var n=OK(r),a=JSON.stringify({text:t,copyStyle:n});if(Ia.widthCache[a])return Ia.widthCache[a];try{var s=document.getElementById(mv);s||(s=document.createElement("span"),s.setAttribute("id",mv),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=Sf(Sf({},CK),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ia.widthCache[a]=c,++Ia.cacheCount>AK&&(Ia.cacheCount=0,Ia.widthCache={}),c}catch{return{width:0,height:0}}},PK=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function El(e,t){return $K(e)||TK(e,t)||DK(e,t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return pv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pv(e,t)}}function pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $K(e){if(Array.isArray(e))return e}function _K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kK(n.key),n)}}function IK(e,t,r){return t&&gv(e.prototype,t),r&&gv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kK(e){var t=MK(e,"string");return Ns(t)=="symbol"?t:t+""}function MK(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,US={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BK=Object.keys(US),Fa="NaN";function FK(e,t){return e*US[t]}var ki=function(){function e(t,r){_K(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!RK.test(r)&&(this.num=NaN,this.unit=""),BK.includes(r)&&(this.num=FK(t,r),this.unit="px")}return IK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=LK.exec(r))!==null&&n!==void 0?n:[],s=El(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function KS(e){if(e.includes(Fa))return Fa;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=vv.exec(t))!==null&&r!==void 0?r:[],a=El(n,4),s=a[1],i=a[2],l=a[3],c=ki.parse(s??""),u=ki.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Fa;t=t.replace(vv,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=yv.exec(t))!==null&&d!==void 0?d:[],m=El(h,4),y=m[1],p=m[2],v=m[3],x=ki.parse(y??""),w=ki.parse(v??""),b=p==="+"?x.add(w):x.subtract(w);if(b.isNaN())return Fa;t=t.replace(yv,b.toString())}return t}var xv=/\(([^()]*)\)/;function UK(e){for(var t=e;t.includes("(");){var r=xv.exec(t),n=El(r,2),a=n[1];t=t.replace(xv,KS(a))}return t}function KK(e){var t=e.replace(/\s+/g,"");return t=UK(t),t=KS(t),t}function VK(e){try{return KK(e)}catch{return Fa}}function cd(e){var t=VK(e.slice(5,-1));return t===Fa?"":t}var zK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WK=["dx","dy","angle","className","breakAll"];function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function bv(e,t){if(e==null)return{};var r=HK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wv(e,t){return XK(e)||qK(e,t)||GK(e,t)||YK()}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GK(e,t){if(e){if(typeof e=="string")return jv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jv(e,t)}}function jv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function XK(e){if(Array.isArray(e))return e}var VS=/[ \f\n\r\t\v\u2028\u2029]+/,zS=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Ye(r)||(n?s=r.toString().split(""):s=r.toString().split(VS));var i=s.map(function(c){return{word:c,width:ls(c,a).width}}),l=n?0:ls(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},QK=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=be(i),d=l,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(T,P){var L=P.word,E=P.width,G=T[T.length-1];if(G&&(a==null||s||G.width+E+n<Number(a)))G.words.push(L),G.width+=E+n;else{var ee={words:[L],width:E};T.push(ee)}return T},[])},m=h(r),y=function(K){return K.reduce(function(T,P){return T.width>P.width?T:P})};if(!f)return m;for(var p="…",v=function(K){var T=d.slice(0,K),P=zS({breakAll:u,style:c,children:T+p}).wordsWithComputedWidth,L=h(P),E=L.length>i||y(L).width>Number(a);return[E,L]},x=0,w=d.length-1,b=0,N;x<=w&&b<=d.length-1;){var j=Math.floor((x+w)/2),S=j-1,A=v(S),O=wv(A,2),$=O[0],F=O[1],_=v(j),C=wv(_,1),U=C[0];if(!$&&!U&&(x=j+1),$&&U&&(w=j-1),!$&&U){N=F;break}b++}return N||m},Sv=function(t){var r=Ye(t)?[]:t.toString().split(VS);return[{words:r}]},JK=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Bo.isSsr){var c,u,f=zS({breakAll:i,children:a,style:s});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return Sv(a);return QK({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return Sv(a)},Nv="#808080",Dl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,p=y===void 0?"end":y,v=t.fill,x=v===void 0?Nv:v,w=bv(t,zK),b=g.useMemo(function(){return JK({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),N=w.dx,j=w.dy,S=w.angle,A=w.className,O=w.breakAll,$=bv(w,WK);if(!kt(n)||!kt(s))return null;var F=n+(be(N)?N:0),_=s+(be(j)?j:0),C;switch(p){case"start":C=cd("calc(".concat(u,")"));break;case"middle":C=cd("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=cd("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(d){var M=b[0].width,K=w.width;U.push("scale(".concat((be(K)?K/M:1)/M,")"))}return S&&U.push("rotate(".concat(S,", ").concat(F,", ").concat(_,")")),U.length&&($.transform=U.join(" ")),D.createElement("text",Nf({},Qe($,!0),{x:F,y:_,className:Je("recharts-text",A),textAnchor:m,fill:x.includes("url")?Nv:x}),b.map(function(T,P){var L=T.words.join(O?"":" ");return D.createElement("tspan",{x:F,dy:P===0?C:l,key:"".concat(L,"-").concat(P)},L)}))};function _n(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Om(e){let t,r,n;e.length!==2?(t=_n,r=(l,c)=>_n(e(l),c),n=(l,c)=>e(l)-c):(t=e===_n||e===ZK?e:eV,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:i,right:s}}function eV(){return 0}function WS(e){return e===null?NaN:+e}function*tV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const rV=Om(_n),hi=rV.right;Om(WS).center;class Av extends Map{constructor(t,r=oV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Cv(this,t))}has(t){return super.has(Cv(this,t))}set(t,r){return super.set(nV(this,t),r)}delete(t){return super.delete(aV(this,t))}}function Cv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function nV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function aV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function oV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sV(e=_n){if(e===_n)return HS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function HS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iV=Math.sqrt(50),lV=Math.sqrt(10),cV=Math.sqrt(2);function Tl(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=iV?10:s>=lV?5:s>=cV?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Tl(e,t,r*2):[l,c,u]}function Af(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?Tl(t,e,r):Tl(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Cf(e,t,r){return t=+t,e=+e,r=+r,Tl(e,t,r)[2]}function Of(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Cf(t,e,r):Cf(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Ov(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Pv(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?HS:sV(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));YS(e,t,m,y,a)}const s=e[t];let i=r,l=n;for(Ho(e,r,t),a(e[n],s)>0&&Ho(e,r,n);i<l;){for(Ho(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Ho(e,r,l):(++l,Ho(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ho(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function uV(e,t,r){if(e=Float64Array.from(tV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Pv(e);if(t>=1)return Ov(e);var n,a=(n-1)*t,s=Math.floor(a),i=Ov(YS(e,s).subarray(0,s+1)),l=Pv(e.subarray(s+1));return i+(l-i)*(a-s)}}function dV(e,t,r=WS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function fV(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Dr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pf=Symbol("implicit");function Pm(){var e=new Av,t=[],r=[],n=Pf;function a(s){let i=e.get(s);if(i===void 0){if(n!==Pf)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Av;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Pm(t,r).unknown(n)},Dr.apply(a,arguments),a}function As(){var e=Pm().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,m=a<n,y=m?a:n,p=m?n:a;s=(p-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(p-y-s*(h-c))*f,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var v=fV(h).map(function(x){return y+s*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return As(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Dr.apply(d(),arguments)}function GS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GS(t())},e}function cs(){return GS(As.apply(null,arguments).paddingInner(1))}function Em(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mi(){}var Cs=.7,$l=1/Cs,Ga="\\s*([+-]?\\d+)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hV=/^#([0-9a-f]{3,8})$/,mV=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),pV=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),gV=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${Os}\\)$`),vV=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Os}\\)$`),yV=new RegExp(`^hsl\\(${Os},${Qr},${Qr}\\)$`),xV=new RegExp(`^hsla\\(${Os},${Qr},${Qr},${Os}\\)$`),Ev={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Em(mi,Ps,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dv,formatHex:Dv,formatHex8:bV,formatHsl:wV,formatRgb:Tv,toString:Tv});function Dv(){return this.rgb().formatHex()}function bV(){return this.rgb().formatHex8()}function wV(){return XS(this).formatHsl()}function Tv(){return this.rgb().formatRgb()}function Ps(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$v(t):r===3?new nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mV.exec(e))?new nr(t[1],t[2],t[3],1):(t=pV.exec(e))?new nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gV.exec(e))?Mi(t[1],t[2],t[3],t[4]):(t=vV.exec(e))?Mi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yV.exec(e))?kv(t[1],t[2]/100,t[3]/100,1):(t=xV.exec(e))?kv(t[1],t[2]/100,t[3]/100,t[4]):Ev.hasOwnProperty(e)?$v(Ev[e]):e==="transparent"?new nr(NaN,NaN,NaN,0):null}function $v(e){return new nr(e>>16&255,e>>8&255,e&255,1)}function Mi(e,t,r,n){return n<=0&&(e=t=r=NaN),new nr(e,t,r,n)}function jV(e){return e instanceof mi||(e=Ps(e)),e?(e=e.rgb(),new nr(e.r,e.g,e.b,e.opacity)):new nr}function Ef(e,t,r,n){return arguments.length===1?jV(e):new nr(e,t,r,n??1)}function nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Em(nr,Ef,qS(mi,{brighter(e){return e=e==null?$l:Math.pow($l,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cs:Math.pow(Cs,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nr(ra(this.r),ra(this.g),ra(this.b),_l(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_v,formatHex:_v,formatHex8:SV,formatRgb:Iv,toString:Iv}));function _v(){return`#${Zn(this.r)}${Zn(this.g)}${Zn(this.b)}`}function SV(){return`#${Zn(this.r)}${Zn(this.g)}${Zn(this.b)}${Zn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iv(){const e=_l(this.opacity);return`${e===1?"rgb(":"rgba("}${ra(this.r)}, ${ra(this.g)}, ${ra(this.b)}${e===1?")":`, ${e})`}`}function _l(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ra(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zn(e){return e=ra(e),(e<16?"0":"")+e.toString(16)}function kv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lr(e,t,r,n)}function XS(e){if(e instanceof Lr)return new Lr(e.h,e.s,e.l,e.opacity);if(e instanceof mi||(e=Ps(e)),!e)return new Lr;if(e instanceof Lr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new Lr(i,l,c,e.opacity)}function NV(e,t,r,n){return arguments.length===1?XS(e):new Lr(e,t,r,n??1)}function Lr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Em(Lr,NV,qS(mi,{brighter(e){return e=e==null?$l:Math.pow($l,e),new Lr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cs:Math.pow(Cs,e),new Lr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new nr(ud(e>=240?e-240:e+120,a,n),ud(e,a,n),ud(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Lr(Mv(this.h),Ri(this.s),Ri(this.l),_l(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_l(this.opacity);return`${e===1?"hsl(":"hsla("}${Mv(this.h)}, ${Ri(this.s)*100}%, ${Ri(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mv(e){return e=(e||0)%360,e<0?e+360:e}function Ri(e){return Math.max(0,Math.min(1,e||0))}function ud(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dm=e=>()=>e;function AV(e,t){return function(r){return e+r*t}}function CV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OV(e){return(e=+e)==1?QS:function(t,r){return r-t?CV(t,r,e):Dm(isNaN(t)?r:t)}}function QS(e,t){var r=t-e;return r?AV(e,r):Dm(isNaN(e)?t:e)}const Rv=function e(t){var r=OV(t);function n(a,s){var i=r((a=Ef(a)).r,(s=Ef(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=QS(a.opacity,s.opacity);return function(f){return a.r=i(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function PV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function EV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Fo(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function TV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Il(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $V(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Fo(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Df=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dd=new RegExp(Df.source,"g");function _V(e){return function(){return e}}function IV(e){return function(t){return e(t)+""}}function kV(e,t){var r=Df.lastIndex=dd.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Df.exec(e))&&(a=dd.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:Il(n,a)})),r=dd.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?IV(c[0].x):_V(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Fo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dm(t):(r==="number"?Il:r==="string"?(n=Ps(t))?(t=n,Rv):kV:t instanceof Ps?Rv:t instanceof Date?TV:EV(t)?PV:Array.isArray(t)?DV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$V:Il)(e,t)}function Tm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function MV(e,t){t===void 0&&(t=e,e=Fo);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function RV(e){return function(){return e}}function kl(e){return+e}var Lv=[0,1];function er(e){return e}function Tf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:RV(isNaN(t)?NaN:.5)}function LV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function BV(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Tf(a,n),s=r(i,s)):(n=Tf(n,a),s=r(s,i)),function(l){return s(n(l))}}function FV(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Tf(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=hi(e,l,1,n)-1;return s[c](a[c](l))}}function pi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uu(){var e=Lv,t=Lv,r=Fo,n,a,s,i=er,l,c,u;function f(){var h=Math.min(e.length,t.length);return i!==er&&(i=LV(e[0],e[h-1])),l=h>2?FV:BV,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((u||(u=l(t,e.map(n),Il)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,kl),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Tm,f()},d.clamp=function(h){return arguments.length?(i=h?!0:er,f()):i!==er},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,m){return n=h,a=m,f()}}function $m(){return uu()(er,er)}function UV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ml(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function oo(e){return e=Ml(Math.abs(e)),e?e[1]:NaN}function KV(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function VV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Es(e){if(!(t=zV.exec(e)))throw new Error("invalid format: "+e);var t;return new _m({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Es.prototype=_m.prototype;function _m(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_m.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WV(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var JS;function HV(e,t){var r=Ml(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(JS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ml(e,Math.max(0,t+s-1))[0]}function Bv(e,t){var r=Ml(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Fv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Bv(e*100,t),r:Bv,s:HV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Uv(e){return e}var Kv=Array.prototype.map,Vv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YV(e){var t=e.grouping===void 0||e.thousands===void 0?Uv:KV(Kv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Uv:VV(Kv.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Es(d);var h=d.fill,m=d.align,y=d.sign,p=d.symbol,v=d.zero,x=d.width,w=d.comma,b=d.precision,N=d.trim,j=d.type;j==="n"?(w=!0,j="g"):Fv[j]||(b===void 0&&(b=12),N=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",A=p==="$"?n:/[%p]/.test(j)?i:"",O=Fv[j],$=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function F(_){var C=S,U=A,M,K,T;if(j==="c")U=O(_)+U,_="";else{_=+_;var P=_<0||1/_<0;if(_=isNaN(_)?c:O(Math.abs(_),b),N&&(_=WV(_)),P&&+_==0&&y!=="+"&&(P=!1),C=(P?y==="("?y:l:y==="-"||y==="("?"":y)+C,U=(j==="s"?Vv[8+JS/3]:"")+U+(P&&y==="("?")":""),$){for(M=-1,K=_.length;++M<K;)if(T=_.charCodeAt(M),48>T||T>57){U=(T===46?a+_.slice(M+1):_.slice(M))+U,_=_.slice(0,M);break}}}w&&!v&&(_=t(_,1/0));var L=C.length+_.length+U.length,E=L<x?new Array(x-L+1).join(h):"";switch(w&&v&&(_=t(E+_,E.length?x-U.length:1/0),E=""),m){case"<":_=C+_+U+E;break;case"=":_=C+E+_+U;break;case"^":_=E.slice(0,L=E.length>>1)+C+_+U+E.slice(L);break;default:_=E+C+_+U;break}return s(_)}return F.toString=function(){return d+""},F}function f(d,h){var m=u((d=Es(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(oo(h)/3)))*3,p=Math.pow(10,-y),v=Vv[8+y/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:f}}var Li,Im,ZS;GV({thousands:",",grouping:[3],currency:["$",""]});function GV(e){return Li=YV(e),Im=Li.format,ZS=Li.formatPrefix,Li}function qV(e){return Math.max(0,-oo(Math.abs(e)))}function XV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oo(t)/3)))*3-oo(Math.abs(e)))}function QV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oo(t)-oo(e))+1}function eN(e,t,r,n){var a=Of(e,t,r),s;switch(n=Es(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=XV(a,i))&&(n.precision=s),ZS(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=QV(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=qV(a))&&(n.precision=s-(n.type==="%")*2);break}}return Im(n)}function Vn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Af(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return eN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,f=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=Cf(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Rl(){var e=$m();return e.copy=function(){return pi(e,Rl())},Dr.apply(e,arguments),Vn(e)}function tN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,kl),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tN(e).unknown(t)},e=arguments.length?Array.from(e,kl):[0,1],Vn(r)}function rN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function zv(e){return Math.log(e)}function Wv(e){return Math.exp(e)}function JV(e){return-Math.log(-e)}function ZV(e){return-Math.exp(-e)}function ez(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tz(e){return e===10?ez:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Hv(e){return(t,r)=>-e(-t,r)}function km(e){const t=e(zv,Wv),r=t.domain;let n=10,a,s;function i(){return a=rz(n),s=tz(n),r()[0]<0?(a=Hv(a),s=Hv(s),e(JV,ZV)):e(zv,Wv),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),m=a(f),y,p;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(p=h<0?y/s(-h):y*s(h),!(p<u)){if(p>f)break;x.push(p)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(p=h>0?y/s(-h):y*s(h),!(p<u)){if(p>f)break;x.push(p)}x.length*2<v&&(x=Af(u,f,v))}else x=Af(h,m,Math.min(m-h,v)).map(s);return d?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Es(c)).precision==null&&(c.trim=!0),c=Im(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/s(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(rN(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function nN(){const e=km(uu()).domain([1,10]);return e.copy=()=>pi(e,nN()).base(e.base()),Dr.apply(e,arguments),e}function Yv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Gv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mm(e){var t=1,r=e(Yv(t),Gv(t));return r.constant=function(n){return arguments.length?e(Yv(t=+n),Gv(t)):t},Vn(r)}function aN(){var e=Mm(uu());return e.copy=function(){return pi(e,aN()).constant(e.constant())},Dr.apply(e,arguments)}function qv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function az(e){return e<0?-e*e:e*e}function Rm(e){var t=e(er,er),r=1;function n(){return r===1?e(er,er):r===.5?e(nz,az):e(qv(r),qv(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vn(t)}function Lm(){var e=Rm(uu());return e.copy=function(){return pi(e,Lm()).exponent(e.exponent())},Dr.apply(e,arguments),e}function oz(){return Lm.apply(null,arguments).exponent(.5)}function Xv(e){return Math.sign(e)*e*e}function sz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oN(){var e=$m(),t=[0,1],r=!1,n;function a(s){var i=sz(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(Xv(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,kl)).map(Xv)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return oN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Dr.apply(a,arguments),Vn(a)}function sN(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=dV(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[hi(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(_n),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return sN().domain(e).range(t).unknown(n)},Dr.apply(s,arguments)}function iN(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[hi(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return iN().domain([e,t]).range(a).unknown(s)},Dr.apply(Vn(i),arguments)}function lN(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[hi(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return lN().domain(e).range(t).unknown(r)},Dr.apply(a,arguments)}const fd=new Date,hd=new Date;function Mt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>Mt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(fd.setTime(+s),hd.setTime(+i),e(fd),e(hd),Math.floor(r(fd,hd))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Ll=Mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ll.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ll);Ll.range;const dn=1e3,br=dn*60,fn=br*60,bn=fn*24,Bm=bn*7,Qv=bn*30,md=bn*365,ea=Mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCSeconds());ea.range;const Fm=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getMinutes());Fm.range;const Um=Mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getUTCMinutes());Um.range;const Km=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn-e.getMinutes()*br)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getHours());Km.range;const Vm=Mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCHours());Vm.range;const gi=Mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*br)/bn,e=>e.getDate()-1);gi.range;const du=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>e.getUTCDate()-1);du.range;const cN=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>Math.floor(e/bn));cN.range;function Aa(e){return Mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*br)/Bm)}const fu=Aa(0),Bl=Aa(1),iz=Aa(2),lz=Aa(3),so=Aa(4),cz=Aa(5),uz=Aa(6);fu.range;Bl.range;iz.range;lz.range;so.range;cz.range;uz.range;function Ca(e){return Mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Bm)}const hu=Ca(0),Fl=Ca(1),dz=Ca(2),fz=Ca(3),io=Ca(4),hz=Ca(5),mz=Ca(6);hu.range;Fl.range;dz.range;fz.range;io.range;hz.range;mz.range;const zm=Mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zm.range;const Wm=Mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Wm.range;const wn=Mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wn.range;const jn=Mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});jn.range;function uN(e,t,r,n,a,s){const i=[[ea,1,dn],[ea,5,5*dn],[ea,15,15*dn],[ea,30,30*dn],[s,1,br],[s,5,5*br],[s,15,15*br],[s,30,30*br],[a,1,fn],[a,3,3*fn],[a,6,6*fn],[a,12,12*fn],[n,1,bn],[n,2,2*bn],[r,1,Bm],[t,1,Qv],[t,3,3*Qv],[e,1,md]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:c(u,f,d),y=m?m.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,m=Om(([,,v])=>v).right(i,h);if(m===i.length)return e.every(Of(u/md,f/md,d));if(m===0)return Ll.every(Math.max(Of(u,f,d),1));const[y,p]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return y.every(p)}return[l,c]}const[pz,gz]=uN(jn,Wm,hu,cN,Vm,Um),[vz,yz]=uN(wn,zm,fu,gi,Km,Fm);function pd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Go(a),f=qo(a),d=Go(s),h=qo(s),m=Go(i),y=qo(i),p=Go(l),v=qo(l),x=Go(c),w=qo(c),b={a:P,A:L,b:E,B:G,c:null,d:ny,e:ny,f:Kz,g:Jz,G:e8,H:Bz,I:Fz,j:Uz,L:dN,m:Vz,M:zz,p:ee,q:Q,Q:sy,s:iy,S:Wz,u:Hz,U:Yz,V:Gz,w:qz,W:Xz,x:null,X:null,y:Qz,Y:Zz,Z:t8,"%":oy},N={a:ie,A:re,b:Ae,B:ae,c:null,d:ay,e:ay,f:o8,g:p8,G:v8,H:r8,I:n8,j:a8,L:hN,m:s8,M:i8,p:de,q:V,Q:sy,s:iy,S:l8,u:c8,U:u8,V:d8,w:f8,W:h8,x:null,X:null,y:m8,Y:g8,Z:y8,"%":oy},j={a:F,A:_,b:C,B:U,c:M,d:ty,e:ty,f:kz,g:ey,G:Zv,H:ry,I:ry,j:Tz,L:Iz,m:Dz,M:$z,p:$,q:Ez,Q:Rz,s:Lz,S:_z,u:Nz,U:Az,V:Cz,w:Sz,W:Oz,x:K,X:T,y:ey,Y:Zv,Z:Pz,"%":Mz};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(k,I){return function(B){var R=[],ce=-1,he=0,ge=k.length,le,$e,me;for(B instanceof Date||(B=new Date(+B));++ce<ge;)k.charCodeAt(ce)===37&&(R.push(k.slice(he,ce)),($e=Jv[le=k.charAt(++ce)])!=null?le=k.charAt(++ce):$e=le==="e"?" ":"0",(me=I[le])&&(le=me(B,$e)),R.push(le),he=ce+1);return R.push(k.slice(he,ce)),R.join("")}}function A(k,I){return function(B){var R=Yo(1900,void 0,1),ce=O(R,k,B+="",0),he,ge;if(ce!=B.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(I&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(he=gd(Yo(R.y,0,1)),ge=he.getUTCDay(),he=ge>4||ge===0?Fl.ceil(he):Fl(he),he=du.offset(he,(R.V-1)*7),R.y=he.getUTCFullYear(),R.m=he.getUTCMonth(),R.d=he.getUTCDate()+(R.w+6)%7):(he=pd(Yo(R.y,0,1)),ge=he.getDay(),he=ge>4||ge===0?Bl.ceil(he):Bl(he),he=gi.offset(he,(R.V-1)*7),R.y=he.getFullYear(),R.m=he.getMonth(),R.d=he.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),ge="Z"in R?gd(Yo(R.y,0,1)).getUTCDay():pd(Yo(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(ge+5)%7:R.w+R.U*7-(ge+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,gd(R)):pd(R)}}function O(k,I,B,R){for(var ce=0,he=I.length,ge=B.length,le,$e;ce<he;){if(R>=ge)return-1;if(le=I.charCodeAt(ce++),le===37){if(le=I.charAt(ce++),$e=j[le in Jv?I.charAt(ce++):le],!$e||(R=$e(k,B,R))<0)return-1}else if(le!=B.charCodeAt(R++))return-1}return R}function $(k,I,B){var R=u.exec(I.slice(B));return R?(k.p=f.get(R[0].toLowerCase()),B+R[0].length):-1}function F(k,I,B){var R=m.exec(I.slice(B));return R?(k.w=y.get(R[0].toLowerCase()),B+R[0].length):-1}function _(k,I,B){var R=d.exec(I.slice(B));return R?(k.w=h.get(R[0].toLowerCase()),B+R[0].length):-1}function C(k,I,B){var R=x.exec(I.slice(B));return R?(k.m=w.get(R[0].toLowerCase()),B+R[0].length):-1}function U(k,I,B){var R=p.exec(I.slice(B));return R?(k.m=v.get(R[0].toLowerCase()),B+R[0].length):-1}function M(k,I,B){return O(k,t,I,B)}function K(k,I,B){return O(k,r,I,B)}function T(k,I,B){return O(k,n,I,B)}function P(k){return i[k.getDay()]}function L(k){return s[k.getDay()]}function E(k){return c[k.getMonth()]}function G(k){return l[k.getMonth()]}function ee(k){return a[+(k.getHours()>=12)]}function Q(k){return 1+~~(k.getMonth()/3)}function ie(k){return i[k.getUTCDay()]}function re(k){return s[k.getUTCDay()]}function Ae(k){return c[k.getUTCMonth()]}function ae(k){return l[k.getUTCMonth()]}function de(k){return a[+(k.getUTCHours()>=12)]}function V(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var I=S(k+="",b);return I.toString=function(){return k},I},parse:function(k){var I=A(k+="",!1);return I.toString=function(){return k},I},utcFormat:function(k){var I=S(k+="",N);return I.toString=function(){return k},I},utcParse:function(k){var I=A(k+="",!0);return I.toString=function(){return k},I}}}var Jv={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,bz=/^%/,wz=/[\\^$*+?|[\]().{}]/g;function nt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function jz(e){return e.replace(wz,"\\$&")}function Go(e){return new RegExp("^(?:"+e.map(jz).join("|")+")","i")}function qo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Sz(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Oz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Zv(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ey(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Pz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ez(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Dz(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ty(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ry(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _z(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Iz(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kz(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Mz(e,t,r){var n=bz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Rz(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ny(e,t){return nt(e.getDate(),t,2)}function Bz(e,t){return nt(e.getHours(),t,2)}function Fz(e,t){return nt(e.getHours()%12||12,t,2)}function Uz(e,t){return nt(1+gi.count(wn(e),e),t,3)}function dN(e,t){return nt(e.getMilliseconds(),t,3)}function Kz(e,t){return dN(e,t)+"000"}function Vz(e,t){return nt(e.getMonth()+1,t,2)}function zz(e,t){return nt(e.getMinutes(),t,2)}function Wz(e,t){return nt(e.getSeconds(),t,2)}function Hz(e){var t=e.getDay();return t===0?7:t}function Yz(e,t){return nt(fu.count(wn(e)-1,e),t,2)}function fN(e){var t=e.getDay();return t>=4||t===0?so(e):so.ceil(e)}function Gz(e,t){return e=fN(e),nt(so.count(wn(e),e)+(wn(e).getDay()===4),t,2)}function qz(e){return e.getDay()}function Xz(e,t){return nt(Bl.count(wn(e)-1,e),t,2)}function Qz(e,t){return nt(e.getFullYear()%100,t,2)}function Jz(e,t){return e=fN(e),nt(e.getFullYear()%100,t,2)}function Zz(e,t){return nt(e.getFullYear()%1e4,t,4)}function e8(e,t){var r=e.getDay();return e=r>=4||r===0?so(e):so.ceil(e),nt(e.getFullYear()%1e4,t,4)}function t8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function ay(e,t){return nt(e.getUTCDate(),t,2)}function r8(e,t){return nt(e.getUTCHours(),t,2)}function n8(e,t){return nt(e.getUTCHours()%12||12,t,2)}function a8(e,t){return nt(1+du.count(jn(e),e),t,3)}function hN(e,t){return nt(e.getUTCMilliseconds(),t,3)}function o8(e,t){return hN(e,t)+"000"}function s8(e,t){return nt(e.getUTCMonth()+1,t,2)}function i8(e,t){return nt(e.getUTCMinutes(),t,2)}function l8(e,t){return nt(e.getUTCSeconds(),t,2)}function c8(e){var t=e.getUTCDay();return t===0?7:t}function u8(e,t){return nt(hu.count(jn(e)-1,e),t,2)}function mN(e){var t=e.getUTCDay();return t>=4||t===0?io(e):io.ceil(e)}function d8(e,t){return e=mN(e),nt(io.count(jn(e),e)+(jn(e).getUTCDay()===4),t,2)}function f8(e){return e.getUTCDay()}function h8(e,t){return nt(Fl.count(jn(e)-1,e),t,2)}function m8(e,t){return nt(e.getUTCFullYear()%100,t,2)}function p8(e,t){return e=mN(e),nt(e.getUTCFullYear()%100,t,2)}function g8(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function v8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?io(e):io.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function y8(){return"+0000"}function oy(){return"%"}function sy(e){return+e}function iy(e){return Math.floor(+e/1e3)}var ka,pN,gN;x8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x8(e){return ka=xz(e),pN=ka.format,ka.parse,gN=ka.utcFormat,ka.utcParse,ka}function b8(e){return new Date(e)}function w8(e){return e instanceof Date?+e:+new Date(+e)}function Hm(e,t,r,n,a,s,i,l,c,u){var f=$m(),d=f.invert,h=f.domain,m=u(".%L"),y=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),N=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?y:i(S)<S?p:s(S)<S?v:n(S)<S?a(S)<S?x:w:r(S)<S?b:N)(S)}return f.invert=function(S){return new Date(d(S))},f.domain=function(S){return arguments.length?h(Array.from(S,w8)):h().map(b8)},f.ticks=function(S){var A=h();return e(A[0],A[A.length-1],S??10)},f.tickFormat=function(S,A){return A==null?j:u(A)},f.nice=function(S){var A=h();return(!S||typeof S.range!="function")&&(S=t(A[0],A[A.length-1],S??10)),S?h(rN(A,S)):f},f.copy=function(){return pi(f,Hm(e,t,r,n,a,s,i,l,c,u))},f}function j8(){return Dr.apply(Hm(vz,yz,wn,zm,fu,gi,Km,Fm,ea,pN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S8(){return Dr.apply(Hm(pz,gz,jn,Wm,hu,du,Vm,Um,ea,gN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mu(){var e=0,t=1,r,n,a,s,i=er,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(i=d,u):i};function f(d){return function(h){var m,y;return arguments.length?([m,y]=h,i=d(m,y),u):[i(0),i(1)]}}return u.range=f(Fo),u.rangeRound=f(Tm),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function zn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vN(){var e=Vn(mu()(er));return e.copy=function(){return zn(e,vN())},Cn.apply(e,arguments)}function yN(){var e=km(mu()).domain([1,10]);return e.copy=function(){return zn(e,yN()).base(e.base())},Cn.apply(e,arguments)}function xN(){var e=Mm(mu());return e.copy=function(){return zn(e,xN()).constant(e.constant())},Cn.apply(e,arguments)}function Ym(){var e=Rm(mu());return e.copy=function(){return zn(e,Ym()).exponent(e.exponent())},Cn.apply(e,arguments)}function N8(){return Ym.apply(null,arguments).exponent(.5)}function bN(){var e=[],t=er;function r(n){if(n!=null&&!isNaN(n=+n))return t((hi(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(_n),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>uV(e,s/n))},r.copy=function(){return bN(t).domain(e)},Cn.apply(r,arguments)}function pu(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=er,f,d=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+f(p))-s)*(n*p<n*s?l:c),u(d?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),s=f(t=+t),i=f(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(d=!!p,m):d},m.interpolator=function(p){return arguments.length?(u=p,m):u};function y(p){return function(v){var x,w,b;return arguments.length?([x,w,b]=v,u=MV(p,[x,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(Fo),m.rangeRound=y(Tm),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return f=p,a=p(e),s=p(t),i=p(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function wN(){var e=Vn(pu()(er));return e.copy=function(){return zn(e,wN())},Cn.apply(e,arguments)}function jN(){var e=km(pu()).domain([.1,1,10]);return e.copy=function(){return zn(e,jN()).base(e.base())},Cn.apply(e,arguments)}function SN(){var e=Mm(pu());return e.copy=function(){return zn(e,SN()).constant(e.constant())},Cn.apply(e,arguments)}function Gm(){var e=Rm(pu());return e.copy=function(){return zn(e,Gm()).exponent(e.exponent())},Cn.apply(e,arguments)}function A8(){return Gm.apply(null,arguments).exponent(.5)}const ly=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:As,scaleDiverging:wN,scaleDivergingLog:jN,scaleDivergingPow:Gm,scaleDivergingSqrt:A8,scaleDivergingSymlog:SN,scaleIdentity:tN,scaleImplicit:Pf,scaleLinear:Rl,scaleLog:nN,scaleOrdinal:Pm,scalePoint:cs,scalePow:Lm,scaleQuantile:sN,scaleQuantize:iN,scaleRadial:oN,scaleSequential:vN,scaleSequentialLog:yN,scaleSequentialPow:Ym,scaleSequentialQuantile:bN,scaleSequentialSqrt:N8,scaleSequentialSymlog:xN,scaleSqrt:oz,scaleSymlog:aN,scaleThreshold:lN,scaleTime:j8,scaleUtc:S8,tickFormat:eN},Symbol.toStringTag,{value:"Module"}));var C8=To;function O8(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!C8(i):r(i,l)))var l=i,c=s}return c}var NN=O8;function P8(e,t){return e>t}var E8=P8,D8=NN,T8=E8,$8=Lo;function _8(e){return e&&e.length?D8(e,$8,T8):void 0}var I8=_8;const gu=ft(I8);function k8(e,t){return e<t}var M8=k8,R8=NN,L8=M8,B8=Lo;function F8(e){return e&&e.length?R8(e,B8,L8):void 0}var U8=F8;const vu=ft(U8);var K8=lm,V8=Kn,z8=$S,W8=sr;function H8(e,t){var r=W8(e)?K8:z8;return r(e,V8(t))}var Y8=H8,G8=DS,q8=Y8;function X8(e,t){return G8(q8(e,t),1)}var Q8=X8;const J8=ft(Q8);var Z8=Sm;function eW(e,t){return Z8(e,t)}var tW=eW;const yu=ft(tW);var Uo=1e9,rW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xm,xt=!0,Nr="[DecimalError] ",na=Nr+"Invalid argument: ",qm=Nr+"Exponent out of range: ",Ko=Math.floor,Qn=Math.pow,nW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,Lt=1e7,mt=7,AN=9007199254740991,Ul=Ko(AN/mt),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(e){return vn(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,r=t.constructor;return ct(vn(t,new r(e),0,1),r.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return Ct(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(mr))throw Error(Nr+"NaN");if(r.s<1)throw Error(Nr+(r.s?"NaN":"-Infinity"));return r.eq(mr)?new n(0):(xt=!1,t=vn(Ds(r,s),Ds(e,s),s),xt=!0,ct(t,a))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PN(t,e):CN(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Nr+"NaN");return r.s?(xt=!1,t=vn(r,e,0,1).times(e),xt=!0,r.minus(t)):ct(new n(r),a)};Pe.naturalExponential=Pe.exp=function(){return ON(this)};Pe.naturalLogarithm=Pe.ln=function(){return Ds(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CN(t,e):PN(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(na+e);if(t=Ct(a)+1,n=a.d.length-1,r=n*mt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pe.squareRoot=Pe.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Nr+"NaN")}for(e=Ct(l),xt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=qr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ko((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(vn(l,s,i+2)).times(.5),qr(s.d).slice(0,i)===(t=qr(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(ct(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return xt=!0,ct(n,r)};Pe.times=Pe.mul=function(e){var t,r,n,a,s,i,l,c,u,f=this,d=f.constructor,h=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Lt|0,t=l/Lt|0;s[a]=(s[a]+t)%Lt|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,xt?ct(e,d.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tn(e,0,Uo),t===void 0?t=n.rounding:tn(t,0,8),ct(r,e+Ct(r)+1,t))};Pe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=va(n,!0):(tn(e,0,Uo),t===void 0?t=a.rounding:tn(t,0,8),n=ct(new a(n),e+1,t),r=va(n,!0,e+1)),r};Pe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?va(a):(tn(e,0,Uo),t===void 0?t=s.rounding:tn(t,0,8),n=ct(new s(a),e+Ct(a)+1,t),r=va(n.abs(),!1,e+Ct(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Ct(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(mr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Nr+"Infinity");return l}if(l.eq(mr))return l;if(n=c.precision,e.eq(mr))return ct(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=f<0?-f:f)<=AN){for(a=new c(mr),t=Math.ceil(n/mt+4),xt=!1;r%2&&(a=a.times(l),uy(a.d,t)),r=Ko(r/2),r!==0;)l=l.times(l),uy(l.d,t);return xt=!0,e.s<0?new c(mr).div(a):ct(a,n)}}else if(s<0)throw Error(Nr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,xt=!1,a=e.times(Ds(l,n+u)),xt=!0,a=ON(a),a.s=s,a};Pe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ct(a),n=va(a,r<=s.toExpNeg||r>=s.toExpPos)):(tn(e,1,Uo),t===void 0?t=s.rounding:tn(t,0,8),a=ct(new s(a),e,t),r=Ct(a),n=va(a,e<=r||r<=s.toExpNeg,e)),n};Pe.toSignificantDigits=Pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tn(e,1,Uo),t===void 0?t=n.rounding:tn(t,0,8)),ct(new n(r),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return va(e,t<=r.toExpNeg||t>=r.toExpPos)};function CN(e,t){var r,n,a,s,i,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),xt?ct(t,d):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(d/mt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Lt|0,c[s]%=Lt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,xt?ct(t,d):t}function tn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(na+e)}function qr(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=mt-n.length,r&&(s+=En(r)),s+=n;i=e[t],n=i+"",r=mt-n.length,r&&(s+=En(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var vn=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Lt|0,i=s/Lt|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Lt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,f,d,h,m,y,p,v,x,w,b,N,j,S,A,O,$=n.constructor,F=n.s==a.s?1:-1,_=n.d,C=a.d;if(!n.s)return new $(n);if(!a.s)throw Error(Nr+"Division by zero");for(c=n.e-a.e,A=C.length,j=_.length,m=new $(F),y=m.d=[],u=0;C[u]==(_[u]||0);)++u;if(C[u]>(_[u]||0)&&--c,s==null?w=s=$.precision:i?w=s+(Ct(n)-Ct(a))+1:w=s,w<0)return new $(0);if(w=w/mt+2|0,u=0,A==1)for(f=0,C=C[0],w++;(u<j||f)&&w--;u++)b=f*Lt+(_[u]||0),y[u]=b/C|0,f=b%C|0;else{for(f=Lt/(C[0]+1)|0,f>1&&(C=e(C,f),_=e(_,f),A=C.length,j=_.length),N=A,p=_.slice(0,A),v=p.length;v<A;)p[v++]=0;O=C.slice(),O.unshift(0),S=C[0],C[1]>=Lt/2&&++S;do f=0,l=t(C,p,A,v),l<0?(x=p[0],A!=v&&(x=x*Lt+(p[1]||0)),f=x/S|0,f>1?(f>=Lt&&(f=Lt-1),d=e(C,f),h=d.length,v=p.length,l=t(d,p,h,v),l==1&&(f--,r(d,A<h?O:C,h))):(f==0&&(l=f=1),d=C.slice()),h=d.length,h<v&&d.unshift(0),r(p,d,v),l==-1&&(v=p.length,l=t(C,p,A,v),l<1&&(f++,r(p,A<v?O:C,v))),v=p.length):l===0&&(f++,p=[0]),y[u++]=f,l&&p[0]?p[v++]=_[N]||0:(p=[_[N]],v=1);while((N++<j||p[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,ct(m,i?s+Ct(m)+1:s)}}();function ON(e,t){var r,n,a,s,i,l,c=0,u=0,f=e.constructor,d=f.precision;if(Ct(e)>16)throw Error(qm+Ct(e));if(!e.s)return new f(mr);for(xt=!1,l=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Qn(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new f(mr),f.precision=l;;){if(a=ct(a.times(e),l),r=r.times(++c),i=s.plus(vn(a,r,l)),qr(i.d).slice(0,l)===qr(s.d).slice(0,l)){for(;u--;)s=ct(s.times(s),l);return f.precision=d,t==null?(xt=!0,ct(s,d)):s}s=i}}function Ct(e){for(var t=e.e*mt,r=e.d[0];r>=10;r/=10)t++;return t}function vd(e,t,r){if(t>e.LN10.sd())throw xt=!0,r&&(e.precision=r),Error(Nr+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function En(e){for(var t="";e--;)t+="0";return t}function Ds(e,t){var r,n,a,s,i,l,c,u,f,d=1,h=10,m=e,y=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Nr+(m.s?"NaN":"-Infinity"));if(m.eq(mr))return new p(0);if(t==null?(xt=!1,u=v):u=t,m.eq(10))return t==null&&(xt=!0),vd(p,u);if(u+=h,p.precision=u,r=qr(y),n=r.charAt(0),s=Ct(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=qr(m.d),n=r.charAt(0),d++;s=Ct(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=vd(p,u+2,v).times(s+""),m=Ds(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(xt=!0,ct(m,v)):m;for(l=i=m=vn(m.minus(mr),m.plus(mr),u),f=ct(m.times(m),u),a=3;;){if(i=ct(i.times(f),u),c=l.plus(vn(i,new p(a),u)),qr(c.d).slice(0,u)===qr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(vd(p,u+2,v).times(s+""))),l=vn(l,new p(d),u),p.precision=v,t==null?(xt=!0,ct(l,v)):l;l=c,a+=2}}function cy(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ko(r/mt),e.d=[],n=(r+1)%mt,r<0&&(n+=mt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=mt;n<a;)e.d.push(+t.slice(n,n+=mt));t=t.slice(n),n=mt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),xt&&(e.e>Ul||e.e<-Ul))throw Error(qm+r)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,r){var n,a,s,i,l,c,u,f,d=e.d;for(i=1,s=d[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=mt,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/mt),s=d.length,f>=s)return e;for(u=s=d[f],i=1;s>=10;s/=10)i++;n%=mt,a=n-mt+i}if(r!==void 0&&(s=Qn(10,i-a-1),l=u/s%10|0,c=t<0||d[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Qn(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=Ct(e),d.length=1,t=t-s-1,d[0]=Qn(10,(mt-t%mt)%mt),e.e=Ko(-t/mt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,s=1,f--):(d.length=f+1,s=Qn(10,mt-n),d[f]=a>0?(u/Qn(10,i-a)%Qn(10,a)|0)*s:0),c)for(;;)if(f==0){(d[0]+=s)==Lt&&(d[0]=1,++e.e);break}else{if(d[f]+=s,d[f]!=Lt)break;d[f--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(xt&&(e.e>Ul||e.e<-Ul))throw Error(qm+Ct(e));return e}function PN(e,t){var r,n,a,s,i,l,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),xt?ct(t,m):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(f=i<0,f?(r=c,i=-i,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(m/mt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}i=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(s=a;s&&c[--s]===0;)c[s]=Lt-1;--c[s],c[a]+=Lt}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,xt?ct(t,m):t):new h(0)}function va(e,t,r){var n,a=Ct(e),s=qr(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+En(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+En(-a-1)+s,r&&(n=r-i)>0&&(s+=En(n))):a>=i?(s+=En(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+En(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=En(n))),e.s<0?"-"+s:s}function uy(e,t){if(e.length>t)return e.length=t,!0}function EN(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(na+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return cy(i,s.toString())}else if(typeof s!="string")throw Error(na+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,nW.test(s))cy(i,s);else throw Error(na+s)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=EN,a.config=a.set=aW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function aW(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,r,n,a=["precision",1,Uo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ko(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(na+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(na+r+": "+n);return this}var Xm=EN(rW);mr=new Xm(1);const it=Xm;function oW(e){return cW(e)||lW(e)||iW(e)||sW()}function sW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}}function lW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cW(e){if(Array.isArray(e))return $f(e)}function $f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uW=function(t){return t},DN={},TN=function(t){return t===DN},dy=function(t){return function r(){return arguments.length===0||arguments.length===1&&TN(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},dW=function e(t,r){return t===1?r:dy(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==DN}).length;return i>=t?r.apply(void 0,a):e(t-i,dy(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return TN(d)?c.shift():d});return r.apply(void 0,oW(f).concat(c))}))})},xu=function(t){return dW(t.length,t)},_f=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},fW=xu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),hW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return uW;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},If=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$N=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function mW(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function pW(e,t,r){for(var n=new it(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var gW=xu(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),vW=xu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),yW=xu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const bu={rangeStep:pW,getDigitCount:mW,interpolateNumber:gW,uninterpolateNumber:vW,uninterpolateTruncation:yW};function kf(e){return wW(e)||bW(e)||_N(e)||xW()}function xW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wW(e){if(Array.isArray(e))return Mf(e)}function Ts(e,t){return NW(e)||SW(e,t)||_N(e,t)||jW()}function jW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _N(e,t){if(e){if(typeof e=="string")return Mf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mf(e,t)}}function Mf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function NW(e){if(Array.isArray(e))return e}function IN(e){var t=Ts(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function kN(e,t,r){if(e.lte(0))return new it(0);var n=bu.getDigitCount(e.toNumber()),a=new it(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new it(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new it(Math.ceil(c))}function AW(e,t,r){var n=1,a=new it(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new it(10).pow(bu.getDigitCount(e)-1),a=new it(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new it(Math.floor(e)))}else e===0?a=new it(Math.floor((t-1)/2)):r||(a=new it(Math.floor(e)));var i=Math.floor((t-1)/2),l=hW(fW(function(c){return a.add(new it(c-i).mul(n)).toNumber()}),_f);return l(0,t)}function MN(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var s=kN(new it(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new it(0):(i=new it(e).add(t).div(2),i=i.sub(new it(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new it(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?MN(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new it(l).mul(s)),tickMax:i.add(new it(c).mul(s))})}function CW(e){var t=Ts(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=IN([r,n]),c=Ts(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(kf(_f(0,a-1).map(function(){return 1/0}))):[].concat(kf(_f(0,a-1).map(function(){return-1/0})),[f]);return r>n?If(d):d}if(u===f)return AW(u,a,s);var h=MN(u,f,i,s),m=h.step,y=h.tickMin,p=h.tickMax,v=bu.rangeStep(y,p.add(new it(.1).mul(m)),m);return r>n?If(v):v}function OW(e,t){var r=Ts(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=IN([n,a]),l=Ts(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=kN(new it(u).sub(c).div(f-1),s,0),h=[].concat(kf(bu.rangeStep(new it(c),new it(u).sub(new it(.99).mul(d)),d)),[u]);return n>a?If(h):h}var PW=$N(CW),EW=$N(OW),DW="Invariant failed";function ya(e,t){throw new Error(DW)}var TW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function $W(e,t){return MW(e)||kW(e,t)||IW(e,t)||_W()}function _W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(e,t)}}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function MW(e){if(Array.isArray(e))return e}function RW(e,t){if(e==null)return{};var r=LW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BN(n.key),n)}}function UW(e,t,r){return t&&FW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KW(e,t,r){return t=Vl(t),VW(e,RN()?Reflect.construct(t,r||[],Vl(e).constructor):t.apply(e,r))}function VW(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zW(e)}function zW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RN=function(){return!!e})()}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vl(e)}function WW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rf(e,t)}function Rf(e,t){return Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rf(e,t)}function LN(e,t,r){return t=BN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BN(e){var t=HW(e,"string");return lo(t)=="symbol"?t:t+""}function HW(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vi=function(e){function t(){return BW(this,t),KW(this,t,arguments)}return WW(t,e),UW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=RW(n,TW),m=Qe(h,!1);this.props.direction==="x"&&f.type!=="number"&&ya();var y=c.map(function(p){var v=u(p,l),x=v.x,w=v.y,b=v.value,N=v.errorVal;if(!N)return null;var j=[],S,A;if(Array.isArray(N)){var O=$W(N,2);S=O[0],A=O[1]}else S=A=N;if(s==="vertical"){var $=f.scale,F=w+a,_=F+i,C=F-i,U=$(b-S),M=$(b+A);j.push({x1:M,y1:_,x2:M,y2:C}),j.push({x1:U,y1:F,x2:M,y2:F}),j.push({x1:U,y1:_,x2:U,y2:C})}else if(s==="horizontal"){var K=d.scale,T=x+a,P=T-i,L=T+i,E=K(b-S),G=K(b+A);j.push({x1:P,y1:G,x2:L,y2:G}),j.push({x1:T,y1:E,x2:T,y2:G}),j.push({x1:P,y1:E,x2:L,y2:E})}return D.createElement(Nt,Kl({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return D.createElement("line",Kl({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(Nt,{className:"recharts-errorBars"},y)}}])}(D.Component);LN(vi,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LN(vi,"displayName","ErrorBar");function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(r),!0).forEach(function(n){YW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=qW(e,"string");return $s(t)=="symbol"?t:t+""}function qW(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FN=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=dr(r,Ya);if(!i)return null;var l=Ya.defaultProps,c=l!==void 0?Yn(Yn({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,m=d.props,y=m.sectors||m.data||[];return f.concat(y.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?Yn(Yn({},h),d.props):{},y=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:c.iconType||v||"square",color:Qm(d),value:p||y,payload:m}}),Yn(Yn(Yn({},c),Ya.getWithHeight(i,a)),{},{payload:u,item:i})};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function my(e){return ZW(e)||JW(e)||QW(e)||XW()}function XW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QW(e,t){if(e){if(typeof e=="string")return Lf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lf(e,t)}}function JW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZW(e){if(Array.isArray(e))return Lf(e)}function Lf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?py(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qa(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return _s(t)=="symbol"?t:t+""}function tH(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,r){return Ye(e)||Ye(t)?r:kt(t)?jr(e,t,r):We(t)?t(e):r}function us(e,t,r,n){var a=J8(e,function(l){return gr(l,t)});if(r==="number"){var s=a.filter(function(l){return be(l)||parseFloat(l)});return s.length?[vu(s),gu(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ye(l)}):a;return i.map(function(l){return kt(l)||l instanceof Date?l:""})}var rH=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Br(d-f)!==Br(h-d)){var y=[];if(Br(h-d)===Br(c[1]-c[0])){m=h;var p=d+c[1]-c[0];y[0]=Math.min(p,(p+f)/2),y[1]=Math.max(p,(p+f)/2)}else{m=f;var v=h+c[1]-c[0];y[0]=Math.min(d,(v+d)/2),y[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){i=a[u].index;break}}else{var w=Math.min(f,h),b=Math.max(f,h);if(t>(w+d)/2&&t<=(b+d)/2){i=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){i=n[N].index;break}return i},Qm=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},nH=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var y=f[d[h]],p=y.items,v=y.cateAxisId,x=p.filter(function(A){return pn(A.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?wt(wt({},w),x[0].props):x[0].props,N=b.barSize,j=b[v];i[j]||(i[j]=[]);var S=Ye(N)?r:N;i[j].push({item:x[0],stackList:x.slice(1),barSize:Ye(S)?void 0:ga(S,n,0)})}}return i},aH=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ga(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,y=i.reduce(function(N,j){return N+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&m>0&&(h=!0,m*=.9,y=c*m);var p=(a-y)/2>>0,v={offset:p-u,size:0};f=i.reduce(function(N,j){var S={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},A=[].concat(my(N),[S]);return v=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(O){A.push({item:O,position:v})}),A},d)}else{var x=ga(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var w=(a-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;f=i.reduce(function(N,j,S){var A=[].concat(my(N),[{item:j.item,position:{offset:x+(w+u)*S+(w-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},d)}return f},oH=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=FN({children:s,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,m=u.align,y=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&y==="middle")&&m!=="center"&&be(t[m]))return wt(wt({},t),{},qa({},m,t[m]+(d||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&y!=="middle"&&be(t[y]))return wt(wt({},t),{},qa({},y,t[y]+(h||0)))}return t},sH=function(t,r,n){return Ye(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},UN=function(t,r,n,a,s){var i=r.props.children,l=Sr(i,vi).filter(function(u){return sH(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=gr(f,n);if(Ye(d))return u;var h=Array.isArray(d)?[vu(d),gu(d)]:[d,d],m=c.reduce(function(y,p){var v=gr(f,p,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},iH=function(t,r,n,a,s){var i=r.map(function(l){return UN(t,l,n,s,a)}).filter(function(l){return!Ye(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},KN=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&UN(t,c,u,a)||us(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},VN=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zN=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},hn=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Br(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!ui(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:s?s[d]:d,index:h,offset:u}})},yd=new WeakMap,Bi=function(t,r){if(typeof r!="function")return t;yd.has(t)||yd.set(t,new WeakMap);var n=yd.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},lH=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:As(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Rl(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cs(),realScaleType:"point"}:s==="category"?{scale:As(),realScaleType:"band"}:{scale:Rl(),realScaleType:"linear"};if(pa(a)){var c="scale".concat(ru(a));return{scale:(ly[c]||cs)(),realScaleType:ly[c]?c:"point"}}return We(a)?{scale:a}:{scale:cs(),realScaleType:"point"}},gy=1e-4,cH=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-gy,i=Math.max(a[0],a[1])+gy,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},uH=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dH=function(t,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!be(t[0])||t[0]<n)&&(s[0]=n),(!be(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},fH=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=ui(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},hH=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=ui(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},mH={sign:fH,expand:ER,none:eo,silhouette:DR,wiggle:TR,positive:hH},pH=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=mH[n],i=PR().keys(a).value(function(l,c){return+gr(l,c,0)}).order(cf).offset(s);return i(t)},gH=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(d,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,p=y.stackId,v=y.hide;if(v)return d;var x=y[n],w=d[x]||{hasStack:!1,stackGroups:{}};if(kt(p)){var b=w.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[p]=b}else w.stackGroups[di("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return wt(wt({},d),{},qa({},x,w))},c),f={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return wt(wt({},p),{},qa({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:pH(t,x.items,s)}))},y)}return wt(wt({},d),{},qa({},h,m))},f)},vH=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=PW(u,s,l);return t.domain([vu(f),gu(f)]),{niceTicks:f}}if(s&&a==="number"){var d=t.domain(),h=EW(d,s,l);return{niceTicks:h}}return null};function vy(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ye(a[t.dataKey])){var l=ml(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=gr(a,Ye(i)?t.dataKey:i);return Ye(c)?null:t.scale(c)}var yy=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=gr(i,r.dataKey,r.domain[l]);return Ye(c)?null:r.scale(c)-s/2+a},yH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},xH=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(kt(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},bH=function(t){return t.reduce(function(r,n){return[vu(n.concat([r[0]]).filter(be)),gu(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},WN=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,f){var d=bH(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},xy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,by=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bf=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(be(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(xy.test(t[0])){var s=+xy.exec(t[0])[1];a[0]=r[0]-s}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(be(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(by.test(t[1])){var i=+by.exec(t[1])[1];a[1]=r[1]+i}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},zl=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=Am(r,function(d){return d.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},wy=function(t,r,n){return!t||!t.length||yu(t,jr(n,"type.defaultProps.domain"))?r:t},HN=function(t,r){var n=t.type.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return wt(wt({},Qe(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:Qm(t),value:gr(r,a),type:c,payload:r,chartType:u,hide:f})};function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=SH(e,"string");return Is(t)=="symbol"?t:t+""}function SH(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wl=Math.PI/180,NH=function(t){return t*180/Math.PI},Wt=function(t,r,n,a){return{x:t+Math.cos(-Wl*a)*n,y:r+Math.sin(-Wl*a)*n}},AH=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},CH=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=AH({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:NH(u),angleInRadian:u}},OH=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},PH=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},Ny=function(t,r){var n=t.x,a=t.y,s=CH({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var f=OH(r),d=f.startAngle,h=f.endAngle,m=l,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?Sy(Sy({},r),{},{radius:i,angle:PH(m,r)}):null};function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}var EH=["offset"];function DH(e){return IH(e)||_H(e)||$H(e)||TH()}function TH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $H(e,t){if(e){if(typeof e=="string")return Ff(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ff(e,t)}}function _H(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IH(e){if(Array.isArray(e))return Ff(e)}function Ff(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kH(e,t){if(e==null)return{};var r=MH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=BH(e,"string");return ks(t)=="symbol"?t:t+""}function BH(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}var FH=function(t){var r=t.value,n=t.formatter,a=Ye(t.children)?r:t.children;return We(n)?n(a):a},UH=function(t,r){var n=Br(r-t),a=Math.min(Math.abs(r-t),360);return n*a},KH=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,p=c.clockWise,v=(d+h)/2,x=UH(m,y),w=x>=0?1:-1,b,N;a==="insideStart"?(b=m+w*i,N=p):a==="insideEnd"?(b=y-w*i,N=!p):a==="end"&&(b=y+w*i,N=p),N=x<=0?N:!N;var j=Wt(u,f,v,b),S=Wt(u,f,v,b+(N?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),O=Ye(t.id)?di("recharts-radial-line-"):t.id;return D.createElement("text",Ms({},n,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:O,d:A})),D.createElement("textPath",{xlinkHref:"#".concat(O)},r))},VH=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,h=(f+d)/2;if(a==="outside"){var m=Wt(i,l,u+n,h),y=m.x,p=m.y;return{x:y,y:p,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Wt(i,l,v,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},zH=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,f=i.height,d=f>=0?1:-1,h=d*a,m=d>0?"end":"start",y=d>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",w=p>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:m};return Tt(Tt({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return Tt(Tt({},N),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var j={x:l-v,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Tt(Tt({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(s==="right"){var S={x:l+u+v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return Tt(Tt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:f}:{})}var A=n?{width:u,height:f}:{};return s==="insideLeft"?Tt({x:l+v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},A):s==="insideRight"?Tt({x:l+u-v,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideTop"?Tt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},A):s==="insideBottom"?Tt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:m},A):s==="insideTopLeft"?Tt({x:l+v,y:c+h,textAnchor:w,verticalAnchor:y},A):s==="insideTopRight"?Tt({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:y},A):s==="insideBottomLeft"?Tt({x:l+v,y:c+f-h,textAnchor:w,verticalAnchor:m},A):s==="insideBottomRight"?Tt({x:l+u-v,y:c+f-h,textAnchor:x,verticalAnchor:m},A):$o(s)&&(be(s.x)||Jn(s.x))&&(be(s.y)||Jn(s.y))?Tt({x:l+ga(s.x,u),y:c+ga(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):Tt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},WH=function(t){return"cx"in t&&be(t.cx)};function Xt(e){var t=e.offset,r=t===void 0?5:t,n=kH(e,EH),a=Tt({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!s||Ye(l)&&Ye(c)&&!g.isValidElement(u)&&!We(u))return null;if(g.isValidElement(u))return g.cloneElement(u,a);var m;if(We(u)){if(m=g.createElement(u,a),g.isValidElement(m))return m}else m=FH(a);var y=WH(s),p=Qe(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return KH(a,m,p);var v=y?VH(a):zH(a);return D.createElement(Dl,Ms({className:Je("recharts-label",d)},p,v,{breakAll:h}),m)}Xt.displayName="Label";var YN=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,m=t.top,y=t.left,p=t.width,v=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(be(p)&&be(v)){if(be(d)&&be(h))return{x:d,y:h,width:p,height:v};if(be(m)&&be(y))return{x:m,y,width:p,height:v}}return be(d)&&be(h)?{x:d,y:h,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},HH=function(t,r){return t?t===!0?D.createElement(Xt,{key:"label-implicit",viewBox:r}):kt(t)?D.createElement(Xt,{key:"label-implicit",viewBox:r,value:t}):g.isValidElement(t)?t.type===Xt?g.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(Xt,{key:"label-implicit",content:t,viewBox:r}):We(t)?D.createElement(Xt,{key:"label-implicit",content:t,viewBox:r}):$o(t)?D.createElement(Xt,Ms({viewBox:r},t,{key:"label-implicit"})):null:null},YH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=YN(t),i=Sr(a,Xt).map(function(c,u){return g.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=HH(t.label,r||s);return[l].concat(DH(i))};Xt.parseViewBox=YN;Xt.renderCallByParent=YH;function GH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var qH=GH;const XH=ft(qH);function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}var QH=["valueAccessor"],JH=["data","dataKey","clockWise","id","textBreakAll"];function ZH(e){return n7(e)||r7(e)||t7(e)||e7()}function e7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7(e,t){if(e){if(typeof e=="string")return Uf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uf(e,t)}}function r7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n7(e){if(Array.isArray(e))return Uf(e)}function Uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function Cy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cy(Object(r),!0).forEach(function(n){a7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a7(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=s7(e,"string");return Rs(t)=="symbol"?t:t+""}function s7(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Py(e,t){if(e==null)return{};var r=i7(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var l7=function(t){return Array.isArray(t.value)?XH(t.value):t.value};function In(e){var t=e.valueAccessor,r=t===void 0?l7:t,n=Py(e,QH),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=Py(n,JH);return!a||!a.length?null:D.createElement(Nt,{className:"recharts-label-list"},a.map(function(f,d){var h=Ye(s)?r(f,d):gr(f&&f.payload,s),m=Ye(l)?{}:{id:"".concat(l,"-").concat(d)};return D.createElement(Xt,Hl({},Qe(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Xt.parseViewBox(Ye(i)?f:Oy(Oy({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}In.displayName="LabelList";function c7(e,t){return e?e===!0?D.createElement(In,{key:"labelList-implicit",data:t}):D.isValidElement(e)||We(e)?D.createElement(In,{key:"labelList-implicit",data:t,content:e}):$o(e)?D.createElement(In,Hl({data:t},e,{key:"labelList-implicit"})):null:null}function u7(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Sr(n,In).map(function(i,l){return g.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=c7(e.label,t);return[s].concat(ZH(a))}In.renderCallByParent=u7;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return t=f7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=h7(e,"string");return Ls(t)=="symbol"?t:t+""}function h7(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7=function(t,r){var n=Br(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Fi=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Wl,h=u?s:s+i*d,m=Wt(r,n,f,h),y=Wt(r,n,a,h),p=u?s-i*d:s,v=Wt(r,n,f*Math.cos(d*Wl),p);return{center:m,circleTangency:y,lineTangency:v,theta:d}},GN=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=m7(i,l),u=i+c,f=Wt(r,n,s,i),d=Wt(r,n,s,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=Wt(r,n,a,i),y=Wt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},p7=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Br(f-u),h=Fi({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,p=h.theta,v=Fi({cx:r,cy:n,radius:s,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:c}),x=v.circleTangency,w=v.lineTangency,b=v.theta,N=c?Math.abs(u-f):Math.abs(u-f)-p-b;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):GN({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var S=Fi({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=S.circleTangency,O=S.lineTangency,$=S.theta,F=Fi({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),_=F.circleTangency,C=F.lineTangency,U=F.theta,M=c?Math.abs(u-f):Math.abs(u-f)-$-U;if(M<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},g7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qN=function(t){var r=Dy(Dy({},g7),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<s||f===d)return null;var m=Je("recharts-sector",h),y=i-s,p=ga(l,y,0,!0),v;return p>0&&Math.abs(f-d)<360?v=p7({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=GN({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:d}),D.createElement("path",Kf({},Qe(r,!0),{className:m,d:v,role:"img"}))};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}function Ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ty(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return t=y7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=x7(e,"string");return Bs(t)=="symbol"?t:t+""}function x7(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _y={curveBasisClosed:vR,curveBasisOpen:yR,curveBasis:gR,curveBumpX:rR,curveBumpY:nR,curveLinearClosed:xR,curveLinear:au,curveMonotoneX:bR,curveMonotoneY:wR,curveNatural:jR,curveStep:SR,curveStepAfter:AR,curveStepBefore:NR},Ui=function(t){return t.x===+t.x&&t.y===+t.y},Xo=function(t){return t.x},Qo=function(t){return t.y},b7=function(t,r){if(We(t))return t;var n="curve".concat(ru(t));return(n==="curveMonotone"||n==="curveBump")&&r?_y["".concat(n).concat(r==="vertical"?"Y":"X")]:_y[n]||au},w7=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=b7(n,l),d=u?s.filter(function(p){return Ui(p)}):s,h;if(Array.isArray(i)){var m=u?i.filter(function(p){return Ui(p)}):i,y=d.map(function(p,v){return $y($y({},p),{},{base:m[v]})});return l==="vertical"?h=Ti().y(Qo).x1(Xo).x0(function(p){return p.base.x}):h=Ti().x(Xo).y1(Qo).y0(function(p){return p.base.y}),h.defined(Ui).curve(f),h(y)}return l==="vertical"&&be(i)?h=Ti().y(Qo).x1(Xo).x0(i):be(i)?h=Ti().x(Xo).y1(Qo).y0(i):h=qj().x(Xo).y(Qo),h.defined(Ui).curve(f),h(d)},zf=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?w7(t):a;return g.createElement("path",Vf({},Qe(t,!1),pl(t),{className:Je("recharts-curve",r),d:i,ref:s}))},XN={exports:{}},j7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",S7=j7,N7=S7;function QN(){}function JN(){}JN.resetWarningCache=QN;var A7=function(){function e(n,a,s,i,l,c){if(c!==N7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JN,resetWarningCache:QN};return r.PropTypes=r,r};XN.exports=A7();var C7=XN.exports;const at=ft(C7);var O7=Object.getOwnPropertyNames,P7=Object.getOwnPropertySymbols,E7=Object.prototype.hasOwnProperty;function Iy(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Ki(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function ky(e){return O7(e).concat(P7(e))}var D7=Object.hasOwn||function(e,t){return E7.call(e,t)};function Oa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var T7="__v",$7="__o",_7="_owner",My=Object.getOwnPropertyDescriptor,Ry=Object.keys;function I7(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function k7(e,t){return Oa(e.getTime(),t.getTime())}function M7(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function R7(e,t){return e===t}function Ly(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,d,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var L7=Oa;function B7(e,t,r){var n=Ry(e),a=n.length;if(Ry(t).length!==a)return!1;for(;a-- >0;)if(!ZN(e,t,r,n[a]))return!1;return!0}function Jo(e,t,r){var n=ky(e),a=n.length;if(ky(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!ZN(e,t,r,s)||(i=My(e,s),l=My(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function F7(e,t){return Oa(e.valueOf(),t.valueOf())}function U7(e,t){return e.source===t.source&&e.flags===t.flags}function By(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function K7(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function V7(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZN(e,t,r,n){return(n===_7||n===$7||n===T7)&&(e.$$typeof||t.$$typeof)?!0:D7(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var z7="[object Arguments]",W7="[object Boolean]",H7="[object Date]",Y7="[object Error]",G7="[object Map]",q7="[object Number]",X7="[object Object]",Q7="[object RegExp]",J7="[object Set]",Z7="[object String]",e9="[object URL]",t9=Array.isArray,Fy=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Uy=Object.assign,r9=Object.prototype.toString.call.bind(Object.prototype.toString);function n9(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,p,v){if(y===p)return!0;if(y==null||p==null)return!1;var x=typeof y;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?i(y,p,v):x==="function"?a(y,p,v):!1;var w=y.constructor;if(w!==p.constructor)return!1;if(w===Object)return l(y,p,v);if(t9(y))return t(y,p,v);if(Fy!=null&&Fy(y))return d(y,p,v);if(w===Date)return r(y,p,v);if(w===RegExp)return u(y,p,v);if(w===Map)return s(y,p,v);if(w===Set)return f(y,p,v);var b=r9(y);return b===H7?r(y,p,v):b===Q7?u(y,p,v):b===G7?s(y,p,v):b===J7?f(y,p,v):b===X7?typeof y.then!="function"&&typeof p.then!="function"&&l(y,p,v):b===e9?h(y,p,v):b===Y7?n(y,p,v):b===z7?l(y,p,v):b===W7||b===q7||b===Z7?c(y,p,v):!1}}function a9(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Jo:I7,areDatesEqual:k7,areErrorsEqual:M7,areFunctionsEqual:R7,areMapsEqual:n?Iy(Ly,Jo):Ly,areNumbersEqual:L7,areObjectsEqual:n?Jo:B7,arePrimitiveWrappersEqual:F7,areRegExpsEqual:U7,areSetsEqual:n?Iy(By,Jo):By,areTypedArraysEqual:n?Jo:K7,areUrlsEqual:V7};if(r&&(a=Uy({},a,r(a))),t){var s=Ki(a.areArraysEqual),i=Ki(a.areMapsEqual),l=Ki(a.areObjectsEqual),c=Ki(a.areSetsEqual);a=Uy({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function o9(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function s9(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,m=f.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var i9=Wn();Wn({strict:!0});Wn({circular:!0});Wn({circular:!0,strict:!0});Wn({createInternalComparator:function(){return Oa}});Wn({strict:!0,createInternalComparator:function(){return Oa}});Wn({circular:!0,createInternalComparator:function(){return Oa}});Wn({circular:!0,createInternalComparator:function(){return Oa},strict:!0});function Wn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=a9(e),c=n9(l),u=n?n(c):o9(c);return s9({circular:r,comparator:c,createState:a,equals:u,strict:i})}function l9(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ky(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):l9(a)};requestAnimationFrame(n)}function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function c9(e){return h9(e)||f9(e)||d9(e)||u9()}function u9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d9(e,t){if(e){if(typeof e=="string")return Vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vy(e,t)}}function Vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h9(e){if(Array.isArray(e))return e}function m9(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=c9(i),c=l[0],u=l.slice(1);if(typeof c=="number"){Ky(a.bind(null,u),c);return}a(c),Ky(a.bind(null,u));return}Wf(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(r),!0).forEach(function(n){e1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e1(e,t,r){return t=p9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=g9(e,"string");return Fs(t)==="symbol"?t:String(t)}function g9(e,t){if(Fs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},y9=function(t){return t},x9=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ds=function(t,r){return Object.keys(r).reduce(function(n,a){return Wy(Wy({},n),{},e1({},a,t(a,r[a])))},{})},Hy=function(t,r,n){return t.map(function(a){return"".concat(x9(a)," ").concat(r,"ms ").concat(n)}).join(",")};function b9(e,t){return S9(e)||j9(e,t)||t1(e,t)||w9()}function w9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function S9(e){if(Array.isArray(e))return e}function N9(e){return O9(e)||C9(e)||t1(e)||A9()}function A9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t1(e,t){if(e){if(typeof e=="string")return Hf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hf(e,t)}}function C9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O9(e){if(Array.isArray(e))return Hf(e)}function Hf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yl=1e-4,r1=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},n1=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Yy=function(t,r){return function(n){var a=r1(t,r);return n1(a,n)}},P9=function(t,r){return function(n){var a=r1(t,r),s=[].concat(N9(a.map(function(i,l){return i*l}).slice(1)),[0]);return n1(s,n)}},Gy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=b9(u,4);a=f[0],s=f[1],i=f[2],l=f[3]}}}var d=Yy(a,i),h=Yy(s,l),m=P9(a,i),y=function(x){return x>1?1:x<0?0:x},p=function(x){for(var w=x>1?1:x,b=w,N=0;N<8;++N){var j=d(b)-w,S=m(b);if(Math.abs(j-w)<Yl||S<Yl)return h(b);b=y(b-j/S)}return h(b)};return p.isStepper=!1,p},E9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(f,d,h){var m=-(f-d)*n,y=h*s,p=h+(m-y)*l/1e3,v=h*l/1e3+f;return Math.abs(v-d)<Yl&&Math.abs(p)<Yl?[d,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},D9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Gy(a);case"spring":return E9();default:if(a.split("(")[0]==="cubic-bezier")return Gy(a)}return typeof a=="function"?a:null};function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function qy(e){return _9(e)||$9(e)||a1(e)||T9()}function T9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _9(e){if(Array.isArray(e))return Gf(e)}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){Yf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e,t,r){return t=I9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I9(e){var t=k9(e,"string");return Us(t)==="symbol"?t:String(t)}function k9(e,t){if(Us(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M9(e,t){return B9(e)||L9(e,t)||a1(e,t)||R9()}function R9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1(e,t){if(e){if(typeof e=="string")return Gf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gf(e,t)}}function Gf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function B9(e){if(Array.isArray(e))return e}var Gl=function(t,r,n){return t+(r-t)*n},qf=function(t){var r=t.from,n=t.to;return r!==n},F9=function e(t,r,n){var a=ds(function(s,i){if(qf(i)){var l=t(i.from,i.to,i.velocity),c=M9(l,2),u=c[0],f=c[1];return Kt(Kt({},i),{},{from:u,velocity:f})}return i},r);return n<1?ds(function(s,i){return qf(i)?Kt(Kt({},i),{},{velocity:Gl(i.velocity,a[s].velocity,n),from:Gl(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const U9=function(e,t,r,n,a){var s=v9(e,t),i=s.reduce(function(v,x){return Kt(Kt({},v),{},Yf({},x,[e[x],t[x]]))},{}),l=s.reduce(function(v,x){return Kt(Kt({},v),{},Yf({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return ds(function(x,w){return w.from},l)},m=function(){return!Object.values(l).filter(qf).length},y=function(x){u||(u=x);var w=x-u,b=w/r.dt;l=F9(r,l,b),a(Kt(Kt(Kt({},e),t),h())),u=x,m()||(c=requestAnimationFrame(d))},p=function(x){f||(f=x);var w=(x-f)/n,b=ds(function(j,S){return Gl.apply(void 0,qy(S).concat([r(w)]))},i);if(a(Kt(Kt(Kt({},e),t),b)),w<1)c=requestAnimationFrame(d);else{var N=ds(function(j,S){return Gl.apply(void 0,qy(S).concat([r(1)]))},i);a(Kt(Kt(Kt({},e),t),N))}};return d=r.isStepper?y:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}var K9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function V9(e,t){if(e==null)return{};var r=z9(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function xd(e){return G9(e)||Y9(e)||H9(e)||W9()}function W9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(e,t){if(e){if(typeof e=="string")return Xf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xf(e,t)}}function Y9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G9(e){if(Array.isArray(e))return Xf(e)}function Xf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function os(e,t,r){return t=o1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o1(n.key),n)}}function Q9(e,t,r){return t&&X9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o1(e){var t=J9(e,"string");return co(t)==="symbol"?t:String(t)}function J9(e,t){if(co(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qf(e,t)}function eY(e){var t=tY();return function(){var n=ql(e),a;if(t){var s=ql(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Jf(this,a)}}function Jf(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zf(e)}function Zf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ql(e)}var Sn=function(e){Z9(r,e);var t=eY(r);function r(n,a){var s;q9(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,f=i.to,d=i.steps,h=i.children,m=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Zf(s)),s.changeStyle=s.changeStyle.bind(Zf(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),Jf(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Jf(s);s.state={style:c?os({},c,u):u}}else s.state={style:{}};return s}return Q9(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,h=this.state.style;if(l){if(!i){var m={style:c?os({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(m);return}if(!(i9(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=y||u?d:a.to;if(this.state&&h){var v={style:c?os({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(_r(_r({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,m=U9(i,l,D9(u),c,this.changeStyle),y=function(){s.stopJSAnimation=m()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],f=u.style,d=u.duration,h=d===void 0?0:d,m=function(p,v,x){if(x===0)return p;var w=v.duration,b=v.easing,N=b===void 0?"ease":b,j=v.style,S=v.properties,A=v.onAnimationEnd,O=x>0?i[x-1]:v,$=S||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(xd(p),[s.runJSAnimation.bind(s,{from:O.style,to:j,duration:w,easing:N}),w]);var F=Hy($,w,N),_=_r(_r(_r({},O.style),j),{},{transition:F});return[].concat(xd(p),[_,w,A]).filter(y9)};return this.manager.start([c].concat(xd(i.reduce(m,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=m9());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?os({},l,c):c,v=Hy(Object.keys(p),i,u);y.start([f,s,_r(_r({},p),{},{transition:v}),i,d])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=V9(a,K9),u=g.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||i<=0)return s;var d=function(m){var y=m.props,p=y.style,v=p===void 0?{}:p,x=y.className,w=g.cloneElement(m,_r(_r({},c),{},{style:_r(_r({},v),f),className:x}));return w};return u===1?d(g.Children.only(s)):D.createElement("div",null,g.Children.map(s,function(h){return d(h)}))}}]),r}(g.PureComponent);Sn.displayName="Animate";Sn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sn.propTypes={from:at.oneOfType([at.object,at.string]),to:at.oneOfType([at.object,at.string]),attributeName:at.string,duration:at.number,begin:at.number,easing:at.oneOfType([at.string,at.func]),steps:at.arrayOf(at.shape({duration:at.number.isRequired,style:at.object.isRequired,easing:at.oneOfType([at.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),at.func]),properties:at.arrayOf("string"),onAnimationEnd:at.func})),children:at.oneOfType([at.node,at.func]),isActive:at.bool,canBegin:at.bool,onAnimationEnd:at.func,shouldReAnimate:at.bool,onAnimationStart:at.func,onAnimationReStart:at.func};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function rY(e,t){return sY(e)||oY(e,t)||aY(e,t)||nY()}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(e,t){if(e){if(typeof e=="string")return Jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(e,t)}}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function sY(e){if(Array.isArray(e))return e}function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zy(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t,r){return t=lY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return Ks(t)=="symbol"?t:t+""}function cY(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tx=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=s[h]>i?i:s[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var y=Math.min(i,s);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},uY=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),d=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},dY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jm=function(t){var r=ex(ex({},dY),t),n=g.useRef(),a=g.useState(-1),s=rY(a,2),i=s[0],l=s[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,m=r.className,y=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=Je("recharts-rectangle",m);return w?D.createElement(Sn,{canBegin:i>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:p,animationEasing:y,isActive:w},function(N){var j=N.width,S=N.height,A=N.x,O=N.y;return D.createElement(Sn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:y},D.createElement("path",Xl({},Qe(r,!0),{className:b,d:tx(A,O,j,S,h),ref:n})))}):D.createElement("path",Xl({},Qe(r,!0),{className:b,d:tx(c,u,f,d,h)}))};function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}var Zm=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Je("recharts-dot",s);return r===+r&&n===+n&&a===+a?g.createElement("circle",eh({},Qe(t,!1),pl(t),{className:i,cx:r,cy:n,r:a})):null};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}var fY=["x","y","top","left","width","height","className"];function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=gY(e,"string");return Vs(t)=="symbol"?t:t+""}function gY(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e,t){if(e==null)return{};var r=yY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xY=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},bY=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,m=h===void 0?0:h,y=t.className,p=vY(t,fY),v=hY({x:n,y:s,top:l,left:u,width:d,height:m},p);return!be(n)||!be(s)||!be(d)||!be(m)||!be(l)||!be(u)?null:D.createElement("path",th({},Qe(v,!0),{className:Je("recharts-cross",y),d:xY(n,s,d,m,l,u)}))},wY=xS,jY=wY(Object.getPrototypeOf,Object),SY=jY,NY=Nn,AY=SY,CY=An,OY="[object Object]",PY=Function.prototype,EY=Object.prototype,s1=PY.toString,DY=EY.hasOwnProperty,TY=s1.call(Object);function $Y(e){if(!CY(e)||NY(e)!=OY)return!1;var t=AY(e);if(t===null)return!0;var r=DY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&s1.call(r)==TY}var _Y=$Y;const IY=ft(_Y);var kY=Nn,MY=An,RY="[object Boolean]";function LY(e){return e===!0||e===!1||MY(e)&&kY(e)==RY}var BY=LY;const FY=ft(BY);function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function UY(e,t){return WY(e)||zY(e,t)||VY(e,t)||KY()}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(e,t){if(e){if(typeof e=="string")return nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(e,t)}}function nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function WY(e){if(Array.isArray(e))return e}function ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=GY(e,"string");return zs(t)=="symbol"?t:t+""}function GY(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},qY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XY=function(t){var r=ox(ox({},qY),t),n=g.useRef(),a=g.useState(-1),s=UY(a,2),i=s[0],l=s[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var w=Je("recharts-trapezoid",m);return x?D.createElement(Sn,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:p,animationEasing:y,isActive:x},function(b){var N=b.upperWidth,j=b.lowerWidth,S=b.height,A=b.x,O=b.y;return D.createElement(Sn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:y},D.createElement("path",Ql({},Qe(r,!0),{className:w,d:sx(A,O,N,j,S),ref:n})))}):D.createElement("g",null,D.createElement("path",Ql({},Qe(r,!0),{className:w,d:sx(c,u,f,d,h)})))},QY=["option","shapeType","propTransformer","activeClassName","isActive"];function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function JY(e,t){if(e==null)return{};var r=ZY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return t=tG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return Ws(t)=="symbol"?t:t+""}function rG(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nG(e,t){return Jl(Jl({},t),e)}function aG(e,t){return e==="symbols"}function lx(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(Jm,r);case"trapezoid":return D.createElement(XY,r);case"sector":return D.createElement(qN,r);case"symbols":if(aG(t))return D.createElement(vm,r);break;default:return null}}function oG(e){return g.isValidElement(e)?e.props:e}function sG(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?nG:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=JY(e,QY),u;if(g.isValidElement(t))u=g.cloneElement(t,Jl(Jl({},c),oG(t)));else if(We(t))u=t(c);else if(IY(t)&&!FY(t)){var f=a(t,c);u=D.createElement(lx,{shapeType:r,elementProps:f})}else{var d=c;u=D.createElement(lx,{shapeType:r,elementProps:d})}return l?D.createElement(Nt,{className:i},u):u}function wu(e,t){return t!=null&&"trapezoids"in e.props}function ju(e,t){return t!=null&&"sectors"in e.props}function Hs(e,t){return t!=null&&"points"in e.props}function iG(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function lG(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function cG(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function uG(e,t){var r;return wu(e,t)?r=iG:ju(e,t)?r=lG:Hs(e,t)&&(r=cG),r}function dG(e,t){var r;return wu(e,t)?r="trapezoids":ju(e,t)?r="sectors":Hs(e,t)&&(r="points"),r}function fG(e,t){if(wu(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ju(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hs(e,t)?t.payload:{}}function hG(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=dG(r,t),s=fG(r,t),i=n.filter(function(c,u){var f=yu(s,c),d=r.props[a].filter(function(y){var p=uG(r,t);return p(y,t)}),h=r.props[a].indexOf(d[d.length-1]),m=u===h;return f&&m}),l=n.indexOf(i[i.length-1]);return l}var mG=Math.ceil,pG=Math.max;function gG(e,t,r,n){for(var a=-1,s=pG(mG((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var vG=gG,yG=LS,cx=1/0,xG=17976931348623157e292;function bG(e){if(!e)return e===0?e:0;if(e=yG(e),e===cx||e===-cx){var t=e<0?-1:1;return t*xG}return e===e?e:0}var i1=bG,wG=vG,jG=lu,bd=i1;function SG(e){return function(t,r,n){return n&&typeof n!="number"&&jG(t,r,n)&&(r=n=void 0),t=bd(t),r===void 0?(r=t,t=0):r=bd(r),n=n===void 0?t<r?1:-1:bd(n),wG(t,r,n,e)}}var NG=SG,AG=NG,CG=AG(),OG=CG;const Zl=ft(OG);function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(r),!0).forEach(function(n){l1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l1(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=EG(e,"string");return Ys(t)=="symbol"?t:t+""}function EG(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DG=["Webkit","Moz","O","ms"],TG=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=DG.reduce(function(s,i){return dx(dx({},s),{},l1({},i+n,r))},{});return a[t]=r,a};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(r),!0).forEach(function(n){ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u1(n.key),n)}}function _G(e,t,r){return t&&hx(e.prototype,t),r&&hx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IG(e,t,r){return t=tc(t),kG(e,c1()?Reflect.construct(t,r||[],tc(e).constructor):t.apply(e,r))}function kG(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MG(e)}function MG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c1=function(){return!!e})()}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tc(e)}function RG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rh(e,t)}function ur(e,t,r){return t=u1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u1(e){var t=LG(e,"string");return uo(t)=="symbol"?t:t+""}function LG(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BG=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=cs().domain(Zl(0,c)).range([s,s+i-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},mx=function(t){return t.changedTouches&&!!t.changedTouches.length},fo=function(e){function t(r){var n;return $G(this,t),n=IG(this,t,[r]),ur(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ur(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ur(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),ur(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ur(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ur(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ur(n,"handleSlideDragStart",function(a){var s=mx(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RG(t,e),_G(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(i,d),y=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=gr(s[n],l,n);return We(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+f-d-l,u+f-d-i):p<0&&(p=Math.max(p,u-i,u-l));var v=this.getIndex({startX:i+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=mx(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,y=f.onChange,p=f.gap,v=f.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,d+h-m-u):w<0&&(w=Math.max(w,d-u)),x[i]=u+w;var b=this.getIndex(x),N=b.startIndex,j=b.endIndex,S=function(){var O=v.length-1;return i==="startX"&&(l>c?N%p===0:j%p===0)||l<c&&j===O||i==="endX"&&(l>c?j%p===0:N%p===0)||l>c&&j===O};this.setState(ur(ur({},i,u+w),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(ur({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=g.Children.only(u);return d?D.cloneElement(d,{x:a,y:s,width:i,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),w=wd(wd({},Qe(this.props,!1)),{},{x,y:u,width:f,height:d}),b=m||"Min value: ".concat((s=y[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=y[v])===null||i===void 0?void 0:i.name);return D.createElement(Nt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:i,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,m=5,y={pointerEvents:"none",fill:u};return D.createElement(Nt,{className:"recharts-brush-texts"},D.createElement(Dl,ec({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:i+l/2},y),this.getTextOfTick(a)),D.createElement(Dl,ec({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+m,y:i+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,p=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!be(l)||!be(c)||!be(u)||!be(f)||u<=0||f<=0)return null;var b=Je("recharts-brush",s),N=D.Children.count(i)===1,j=TG("userSelect","none");return D.createElement(Nt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(p||v||x||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return D.isValidElement(n)?s=D.cloneElement(n,a):We(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return wd({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?BG({data:s,width:i,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(g.PureComponent);ur(fo,"displayName","Brush");ur(fo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FG=Nm;function UG(e,t){var r;return FG(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var KG=UG,VG=dS,zG=Kn,WG=KG,HG=sr,YG=lu;function GG(e,t,r){var n=HG(e)?VG:WG;return r&&YG(e,t,r)&&(t=void 0),n(e,zG(t))}var qG=GG;const XG=ft(qG);var Jr=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},px=_S;function QG(e,t,r){t=="__proto__"&&px?px(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var JG=QG,ZG=JG,eq=TS,tq=Kn;function rq(e,t){var r={};return t=tq(t),eq(e,function(n,a,s){ZG(r,a,t(n,a,s))}),r}var nq=rq;const aq=ft(nq);function oq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var sq=oq,iq=Nm;function lq(e,t){var r=!0;return iq(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var cq=lq,uq=sq,dq=cq,fq=Kn,hq=sr,mq=lu;function pq(e,t,r){var n=hq(e)?uq:dq;return r&&mq(e,t,r)&&(t=void 0),n(e,fq(t))}var gq=pq;const d1=ft(gq);var vq=["x","y"];function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}function gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(r),!0).forEach(function(n){yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yq(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=bq(e,"string");return Gs(t)=="symbol"?t:t+""}function bq(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wq(e,t){if(e==null)return{};var r=jq(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sq(e,t){var r=e.x,n=e.y,a=wq(e,vq),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Zo(Zo(Zo(Zo(Zo({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function vx(e){return D.createElement(sG,nh({shapeType:"rectangle",propTransformer:Sq,activeClassName:"recharts-active-bar"},e))}var Nq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=be(n)||Uk(n);return s?t(n,a):(s||ya(),r)}},Aq=["value","background"],f1;function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Cq(e,t){if(e==null)return{};var r=Oq(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yx(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m1(n.key),n)}}function Eq(e,t,r){return t&&xx(e.prototype,t),r&&xx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dq(e,t,r){return t=nc(t),Tq(e,h1()?Reflect.construct(t,r||[],nc(e).constructor):t.apply(e,r))}function Tq(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $q(e)}function $q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h1=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}function _q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ah(e,t)}function ah(e,t){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ah(e,t)}function $n(e,t,r){return t=m1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m1(e){var t=Iq(e,"string");return ho(t)=="symbol"?t:t+""}function Iq(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yi=function(e){function t(){var r;Pq(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Dq(this,t,[].concat(a)),$n(r,"state",{isAnimationFinished:!1}),$n(r,"id",di("recharts-bar-")),$n(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),$n(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return _q(t,e),Eq(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Qe(this.props,!1);return n&&n.map(function(d,h){var m=h===c,y=m?u:i,p=At(At(At({},f),d),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Nt,rc({className:"recharts-bar-rectangle"},gl(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),D.createElement(vx,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return D.createElement(Sn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,p=s.map(function(v,x){var w=h&&h[x];if(w){var b=Rr(w.x,v.x),N=Rr(w.y,v.y),j=Rr(w.width,v.width),S=Rr(w.height,v.height);return At(At({},v),{},{x:b(y),y:N(y),width:j(y),height:S(y)})}if(i==="horizontal"){var A=Rr(0,v.height),O=A(y);return At(At({},v),{},{y:v.y+v.height-O,height:O})}var $=Rr(0,v.width),F=$(y);return At(At({},v),{},{width:F})});return D.createElement(Nt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!yu(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=Qe(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,h=Cq(u,Aq);if(!d)return null;var m=At(At(At(At(At({},h),{},{fill:"#eee"},d),c),gl(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return D.createElement(vx,rc({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=Sr(f,vi);if(!d)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:gr(v,x)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(Nt,y,d.map(function(p){return D.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,m=n.isAnimationActive,y=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=Je("recharts-bar",i),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=w||b,j=Ye(p)?this.id:p;return D.createElement(Nt,{className:x},w||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(j)},D.createElement("rect",{x:w?u:u-d/2,y:b?f:f-h/2,width:w?d:d*2,height:b?h:h*2}))):null,D.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!m||v)&&In.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(g.PureComponent);f1=yi;$n(yi,"displayName","Bar");$n(yi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$n(yi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=uH(n,r);if(!m)return null;var y=t.layout,p=r.type.defaultProps,v=p!==void 0?At(At({},p),r.props):r.props,x=v.dataKey,w=v.children,b=v.minPointSize,N=y==="horizontal"?i:s,j=u?N.scale.domain():null,S=yH({numericAxis:N}),A=Sr(w,FS),O=d.map(function($,F){var _,C,U,M,K,T;u?_=dH(u[f+F],j):(_=gr($,x),Array.isArray(_)||(_=[S,_]));var P=Nq(b,f1.defaultProps.minPointSize)(_[1],F);if(y==="horizontal"){var L,E=[i.scale(_[0]),i.scale(_[1])],G=E[0],ee=E[1];C=yy({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:$,index:F}),U=(L=ee??G)!==null&&L!==void 0?L:void 0,M=m.size;var Q=G-ee;if(K=Number.isNaN(Q)?0:Q,T={x:C,y:i.y,width:M,height:i.height},Math.abs(P)>0&&Math.abs(K)<Math.abs(P)){var ie=Br(K||P)*(Math.abs(P)-Math.abs(K));U-=ie,K+=ie}}else{var re=[s.scale(_[0]),s.scale(_[1])],Ae=re[0],ae=re[1];if(C=Ae,U=yy({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:$,index:F}),M=ae-Ae,K=m.size,T={x:s.x,y:U,width:s.width,height:K},Math.abs(P)>0&&Math.abs(M)<Math.abs(P)){var de=Br(M||P)*(Math.abs(P)-Math.abs(M));M+=de}}return At(At(At({},$),{},{x:C,y:U,width:M,height:K,value:u?_:_[1],payload:$,background:T},A&&A[F]&&A[F].props),{},{tooltipPayload:[HN(r,$)],tooltipPosition:{x:C+M/2,y:U+K/2}})});return At({data:O,layout:y},h)});function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function kq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p1(n.key),n)}}function Mq(e,t,r){return t&&bx(e.prototype,t),r&&bx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(r),!0).forEach(function(n){Su(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Su(e,t,r){return t=p1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p1(e){var t=Rq(e,"string");return qs(t)=="symbol"?t:t+""}function Rq(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lq=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!dr(u,yi);return f.reduce(function(m,y){var p=r[y],v=p.orientation,x=p.domain,w=p.padding,b=w===void 0?{}:w,N=p.mirror,j=p.reversed,S="".concat(v).concat(N?"Mirror":""),A,O,$,F,_;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var C=x[1]-x[0],U=1/0,M=p.categoricalDomain.sort(zk);if(M.forEach(function(re,Ae){Ae>0&&(U=Math.min((re||0)-(M[Ae-1]||0),U))}),Number.isFinite(U)){var K=U/C,T=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(A=K*T/2),p.padding==="no-gap"){var P=ga(t.barCategoryGap,K*T),L=K*T/2;A=L-P-(L-P)/T*P}}}a==="xAxis"?O=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:O=p.range,j&&(O=[O[1],O[0]]);var E=lH(p,s,h),G=E.scale,ee=E.realScaleType;G.domain(x).range(O),cH(G);var Q=vH(G,kr(kr({},p),{},{realScaleType:ee}));a==="xAxis"?(_=v==="top"&&!N||v==="bottom"&&N,$=n.left,F=d[S]-_*p.height):a==="yAxis"&&(_=v==="left"&&!N||v==="right"&&N,$=d[S]-_*p.width,F=n.top);var ie=kr(kr(kr({},p),Q),{},{realScaleType:ee,x:$,y:F,scale:G,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ie.bandSize=zl(ie,Q),!p.hide&&a==="xAxis"?d[S]+=(_?-1:1)*ie.height:p.hide||(d[S]+=(_?-1:1)*ie.width),kr(kr({},m),{},Su({},y,ie))},{})},g1=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},Bq=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return g1({x:r,y:n},{x:a,y:s})},v1=function(){function e(t){kq(this,e),this.scale=t}return Mq(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Su(v1,"EPS",1e-4);var ep=function(t){var r=Object.keys(t).reduce(function(n,a){return kr(kr({},n),{},Su({},a,v1.create(t[a])))},{});return kr(kr({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return aq(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return d1(a,function(s,i){return r[i].isInRange(s)})}})};function Fq(e){return(e%180+180)%180}var Uq=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Fq(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},Kq=Kn,Vq=fi,zq=su;function Wq(e){return function(t,r,n){var a=Object(t);if(!Vq(t)){var s=Kq(r);t=zq(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var Hq=Wq,Yq=i1;function Gq(e){var t=Yq(e),r=t%1;return t===t?r?t-r:t:0}var qq=Gq,Xq=AS,Qq=Kn,Jq=qq,Zq=Math.max;function eX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Jq(r);return a<0&&(a=Zq(n+a,0)),Xq(e,Qq(t),a)}var tX=eX,rX=Hq,nX=tX,aX=rX(nX),oX=aX;const sX=ft(oX);var iX=Y2(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tp=g.createContext(void 0),rp=g.createContext(void 0),y1=g.createContext(void 0),x1=g.createContext({}),b1=g.createContext(void 0),w1=g.createContext(0),j1=g.createContext(0),jx=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,f=iX(s);return D.createElement(tp.Provider,{value:n},D.createElement(rp.Provider,{value:a},D.createElement(x1.Provider,{value:s},D.createElement(y1.Provider,{value:f},D.createElement(b1.Provider,{value:i},D.createElement(w1.Provider,{value:u},D.createElement(j1.Provider,{value:c},l)))))))},lX=function(){return g.useContext(b1)},S1=function(t){var r=g.useContext(tp);r==null&&ya();var n=r[t];return n==null&&ya(),n},cX=function(){var t=g.useContext(tp);return Tn(t)},uX=function(){var t=g.useContext(rp),r=sX(t,function(n){return d1(n.domain,Number.isFinite)});return r||Tn(t)},N1=function(t){var r=g.useContext(rp);r==null&&ya();var n=r[t];return n==null&&ya(),n},dX=function(){var t=g.useContext(y1);return t},fX=function(){return g.useContext(x1)},np=function(){return g.useContext(j1)},ap=function(){return g.useContext(w1)};function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function hX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C1(n.key),n)}}function pX(e,t,r){return t&&mX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gX(e,t,r){return t=ac(t),vX(e,A1()?Reflect.construct(t,r||[],ac(e).constructor):t.apply(e,r))}function vX(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(e)}function yX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A1=function(){return!!e})()}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ac(e)}function xX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oh(e,t)}function Sx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sx(Object(r),!0).forEach(function(n){op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function op(e,t,r){return t=C1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C1(e){var t=bX(e,"string");return mo(t)=="symbol"?t:t+""}function bX(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wX(e,t){return AX(e)||NX(e,t)||SX(e,t)||jX()}function jX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(e,t){if(e){if(typeof e=="string")return Ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ax(e,t)}}function Ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function AX(e){if(Array.isArray(e))return e}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(this,arguments)}var CX=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):We(t)?n=t(r):n=D.createElement("line",sh({},r,{className:"recharts-reference-line-line"})),n},OX=function(t,r,n,a,s,i,l,c,u){var f=s.x,d=s.y,h=s.width,m=s.height;if(n){var y=u.y,p=t.y.apply(y,{position:i});if(Jr(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:f+h,y:p},{x:f,y:p}];return c==="left"?v.reverse():v}if(r){var x=u.x,w=t.x.apply(x,{position:i});if(Jr(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+m},{x:w,y:d}];return l==="top"?b.reverse():b}if(a){var N=u.segment,j=N.map(function(S){return t.apply(S,{position:i})});return Jr(u,"discard")&&XG(j,function(S){return!t.isInRange(S)})?null:j}return null};function PX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=lX(),f=S1(a),d=N1(s),h=dX();if(!u||!h)return null;gn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ep({x:f.scale,y:d.scale}),y=kt(t),p=kt(r),v=n&&n.length===2,x=OX(m,y,p,v,h,e.position,f.orientation,d.orientation,e);if(!x)return null;var w=wX(x,2),b=w[0],N=b.x,j=b.y,S=w[1],A=S.x,O=S.y,$=Jr(e,"hidden")?"url(#".concat(u,")"):void 0,F=Nx(Nx({clipPath:$},Qe(e,!0)),{},{x1:N,y1:j,x2:A,y2:O});return D.createElement(Nt,{className:Je("recharts-reference-line",l)},CX(i,F),Xt.renderCallByParent(e,Bq({x1:N,y1:j,x2:A,y2:O})))}var sp=function(e){function t(){return hX(this,t),gX(this,t,arguments)}return xX(t,e),pX(t,[{key:"render",value:function(){return D.createElement(PX,this.props)}}])}(D.Component);op(sp,"displayName","ReferenceLine");op(sp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(this,arguments)}function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cx(Object(r),!0).forEach(function(n){Nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P1(n.key),n)}}function TX(e,t,r){return t&&DX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $X(e,t,r){return t=oc(t),_X(e,O1()?Reflect.construct(t,r||[],oc(e).constructor):t.apply(e,r))}function _X(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IX(e)}function IX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O1=function(){return!!e})()}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oc(e)}function kX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}function lh(e,t){return lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lh(e,t)}function Nu(e,t,r){return t=P1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P1(e){var t=MX(e,"string");return po(t)=="symbol"?t:t+""}function MX(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RX=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=ep({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Jr(t,"discard")&&!i.isInRange(l)?null:l},Au=function(e){function t(){return EX(this,t),$X(this,t,arguments)}return kX(t,e),TX(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=kt(a),f=kt(s);if(gn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=RX(this.props);if(!d)return null;var h=d.x,m=d.y,y=this.props,p=y.shape,v=y.className,x=Jr(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=Ox(Ox({clipPath:x},Qe(this.props,!0)),{},{cx:h,cy:m});return D.createElement(Nt,{className:Je("recharts-reference-dot",v)},t.renderDot(p,w),Xt.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(D.Component);Nu(Au,"displayName","ReferenceDot");Nu(Au,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nu(Au,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(Zm,ih({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){Cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D1(n.key),n)}}function FX(e,t,r){return t&&BX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UX(e,t,r){return t=sc(t),KX(e,E1()?Reflect.construct(t,r||[],sc(e).constructor):t.apply(e,r))}function KX(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(e)}function VX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E1=function(){return!!e})()}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sc(e)}function zX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uh(e,t)}function uh(e,t){return uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uh(e,t)}function Cu(e,t,r){return t=D1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1(e){var t=WX(e,"string");return go(t)=="symbol"?t:t+""}function WX(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HX=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var h=ep({x:f.scale,y:d.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Jr(s,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:g1(m,y)},Ou=function(e){function t(){return LX(this,t),UX(this,t,arguments)}return zX(t,e),FX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;gn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=kt(a),h=kt(s),m=kt(i),y=kt(l),p=this.props.shape;if(!d&&!h&&!m&&!y&&!p)return null;var v=HX(d,h,m,y,this.props);if(!v&&!p)return null;var x=Jr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return D.createElement(Nt,{className:Je("recharts-reference-area",c)},t.renderRect(p,Ex(Ex({clipPath:x},Qe(this.props,!0)),v)),Xt.renderCallByParent(this.props,v))}}])}(D.Component);Cu(Ou,"displayName","ReferenceArea");Cu(Ou,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cu(Ou,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(Jm,ch({},t,{className:"recharts-reference-area-rect"})),r});function T1(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function YX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Uq(n,r)}function GX(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function ic(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function qX(e,t){return T1(e,t+1)}function XX(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,f=i,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:T1(n,u)};var p=c,v,x=function(){return v===void 0&&(v=r(y,p)),v},w=y.coordinate,b=c===0||ic(e,w,x,f,l);b||(c=0,f=i,u+=1),b&&(f=w+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=ZX(e,"string");return Xs(t)=="symbol"?t:t+""}function ZX(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eQ(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],y,p=function(){return y===void 0&&(y=r(m,h)),y};if(h===i-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=qt(qt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=qt(qt({},m),{},{tickCoord:m.coordinate});var x=ic(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),s[h]=qt(qt({},m),{},{isShow:!0}))},f=i-1;f>=0;f--)u(f);return s}function tQ(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);i[l-1]=f=qt(qt({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var m=ic(e,f.tickCoord,function(){return d},c,u);m&&(u=f.tickCoord-e*(d/2+a),i[l-1]=qt(qt({},f),{},{isShow:!0}))}for(var y=s?l-1:l,p=function(w){var b=i[w],N,j=function(){return N===void 0&&(N=r(b,w)),N};if(w===0){var S=e*(b.coordinate-e*j()/2-c);i[w]=b=qt(qt({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else i[w]=b=qt(qt({},b),{},{tickCoord:b.coordinate});var A=ic(e,b.tickCoord,j,c,u);A&&(c=b.tickCoord+e*(j()/2+a),i[w]=qt(qt({},b),{},{isShow:!0}))},v=0;v<y;v++)p(v);return i}function ip(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(be(c)||Bo.isSsr)return qX(a,typeof c=="number"&&be(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=f&&m==="width"?ls(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(b,N){var j=We(u)?u(b.value,N):b.value;return m==="width"?YX(ls(j,{fontSize:t,letterSpacing:r}),y,d):ls(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Br(a[1].coordinate-a[0].coordinate):1,x=GX(s,v,m);return c==="equidistantPreserveStart"?XX(v,x,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=tQ(v,x,p,a,i,c==="preserveStartEnd"):h=eQ(v,x,p,a,i),h.filter(function(w){return w.isShow}))}var rQ=["viewBox"],nQ=["viewBox"],aQ=["ticks"];function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}function Tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jd(e,t){if(e==null)return{};var r=oQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_1(n.key),n)}}function iQ(e,t,r){return t&&$x(e.prototype,t),r&&$x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lQ(e,t,r){return t=lc(t),cQ(e,$1()?Reflect.construct(t,r||[],lc(e).constructor):t.apply(e,r))}function cQ(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(e)}function uQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($1=function(){return!!e})()}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lc(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dh(e,t)}function dh(e,t){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dh(e,t)}function lp(e,t,r){return t=_1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _1(e){var t=fQ(e,"string");return vo(t)=="symbol"?t:t+""}function fQ(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vo=function(e){function t(r){var n;return sQ(this,t),n=lQ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dQ(t,e),iQ(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=jd(n,rQ),l=this.props,c=l.viewBox,u=jd(l,nQ);return!Ha(s,c)||!Ha(i,u)||!Ha(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,m,y,p,v,x,w,b=d?-1:1,N=n.tickSize||f,j=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,v=i+ +!d*c,p=v-b*N,w=p-b*h,x=j;break;case"left":p=v=n.coordinate,y=s+ +!d*l,m=y-b*N,x=m-b*h,w=j;break;case"right":p=v=n.coordinate,y=s+ +d*l,m=y+b*N,x=m+b*h,w=j;break;default:m=y=n.coordinate,v=i+ +d*c,p=v+b*N,w=p+b*h,x=j;break}return{line:{x1:m,y1:p,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Pt(Pt(Pt({},Qe(this.props,!1)),Qe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Pt(Pt({},d),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);d=Pt(Pt({},d),{},{x1:a+m*i,y1:s,x2:a+m*i,y2:s+l})}return D.createElement("line",Ua({},d,{className:Je("recharts-cartesian-axis-line",jr(f,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,m=ip(Pt(Pt({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Qe(this.props,!1),x=Qe(f,!1),w=Pt(Pt({},v),{},{fill:"none"},Qe(c,!1)),b=m.map(function(N,j){var S=i.getTickLineCoord(N),A=S.line,O=S.tick,$=Pt(Pt(Pt(Pt({textAnchor:y,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),O),{},{index:j,payload:N,visibleTicksCount:m.length,tickFormatter:d});return D.createElement(Nt,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},gl(i.props,N,j)),c&&D.createElement("line",Ua({},w,A,{className:Je("recharts-cartesian-axis-tick-line",jr(c,"className"))})),f&&t.renderTickItem(f,$,"".concat(We(d)?d(N.value,j):N.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,m=jd(d,aQ),y=h;return We(c)&&(y=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!y||!y.length?null:D.createElement(Nt,{className:Je("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Je(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?i=D.cloneElement(n,Pt(Pt({},a),{},{className:l})):We(n)?i=n(Pt(Pt({},a),{},{className:l})):i=D.createElement(Dl,Ua({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(g.Component);lp(Vo,"displayName","CartesianAxis");lp(Vo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hQ=["x1","y1","x2","y2","key"],mQ=["offset"];function xa(e){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=vQ(e,"string");return xa(t)=="symbol"?t:t+""}function vQ(e,t){if(xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function Ix(e,t){if(e==null)return{};var r=yQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xQ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return D.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function I1(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=Ix(t,hQ),u=Qe(c,!1);u.offset;var f=Ix(u,mQ);r=D.createElement("line",ta({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function bQ(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Qt(Qt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return I1(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function wQ(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Qt(Qt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return I1(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function jQ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var y=!f[m+1],p=y?a+i-h:f[m+1]-h;if(p<=0)return null;var v=m%t.length;return D.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function SQ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var y=!f[m+1],p=y?s+l-h:f[m+1]-h;if(p<=0)return null;var v=m%n.length;return D.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var NQ=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return zN(ip(Qt(Qt(Qt({},Vo.defaultProps),n),{},{ticks:hn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},AQ=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return zN(ip(Qt(Qt(Qt({},Vo.defaultProps),n),{},{ticks:hn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},Ma={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xi(e){var t,r,n,a,s,i,l=np(),c=ap(),u=fX(),f=Qt(Qt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ma.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ma.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ma.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ma.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Ma.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ma.verticalFill,x:be(e.x)?e.x:u.left,y:be(e.y)?e.y:u.top,width:be(e.width)?e.width:u.width,height:be(e.height)?e.height:u.height}),d=f.x,h=f.y,m=f.width,y=f.height,p=f.syncWithTicks,v=f.horizontalValues,x=f.verticalValues,w=cX(),b=uX();if(!be(m)||m<=0||!be(y)||y<=0||!be(d)||d!==+d||!be(h)||h!==+h)return null;var N=f.verticalCoordinatesGenerator||NQ,j=f.horizontalCoordinatesGenerator||AQ,S=f.horizontalPoints,A=f.verticalPoints;if((!S||!S.length)&&We(j)){var O=v&&v.length,$=j({yAxis:b?Qt(Qt({},b),{},{ticks:O?v:b.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);gn(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xa($),"]")),Array.isArray($)&&(S=$)}if((!A||!A.length)&&We(N)){var F=x&&x.length,_=N({xAxis:w?Qt(Qt({},w),{},{ticks:F?x:w.ticks}):void 0,width:l,height:c,offset:u},F?!0:p);gn(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xa(_),"]")),Array.isArray(_)&&(A=_)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(xQ,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),D.createElement(bQ,ta({},f,{offset:u,horizontalPoints:S,xAxis:w,yAxis:b})),D.createElement(wQ,ta({},f,{offset:u,verticalPoints:A,xAxis:w,yAxis:b})),D.createElement(jQ,ta({},f,{horizontalPoints:S})),D.createElement(SQ,ta({},f,{verticalPoints:A})))}xi.displayName="CartesianGrid";var CQ=["type","layout","connectNulls","ref"],OQ=["key"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function kx(e,t){if(e==null)return{};var r=PQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function Mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(r),!0).forEach(function(n){Mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ra(e){return $Q(e)||TQ(e)||DQ(e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(e,t){if(e){if(typeof e=="string")return fh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fh(e,t)}}function TQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Q(e){if(Array.isArray(e))return fh(e)}function fh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M1(n.key),n)}}function IQ(e,t,r){return t&&Rx(e.prototype,t),r&&Rx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kQ(e,t,r){return t=cc(t),MQ(e,k1()?Reflect.construct(t,r||[],cc(e).constructor):t.apply(e,r))}function MQ(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQ(e)}function RQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k1=function(){return!!e})()}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cc(e)}function LQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hh(e,t)}function hh(e,t){return hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hh(e,t)}function Mr(e,t,r){return t=M1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1(e){var t=BQ(e,"string");return yo(t)=="symbol"?t:t+""}function BQ(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hn=function(e){function t(){var r;_Q(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=kQ(this,t,[].concat(a)),Mr(r,"state",{isAnimationFinished:!0,totalLength:0}),Mr(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),Mr(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(x,w){return x+w});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var f=Math.floor(i/u),d=i%u,h=l-i,m=[],y=0,p=0;y<c.length;p+=c[y],++y)if(p+c[y]>d){m=[].concat(Ra(c.slice(0,y)),[d-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Ra(t.repeat(c,f)),Ra(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Mr(r,"id",di("recharts-line-")),Mr(r,"pathRef",function(i){r.mainCurve=i}),Mr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return LQ(t,e),IQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=Sr(f,vi);if(!d)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:gr(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(Nt,m,d.map(function(y){return D.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Qe(this.props,!1),h=Qe(c,!0),m=u.map(function(p,v){var x=cr(cr(cr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:f,payload:p.payload,points:u});return t.renderDotItem(c,x)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return D.createElement(Nt,fs({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=kx(l,CQ),h=cr(cr(cr({},Qe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:f});return D.createElement(zf,fs({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,y=i.animateNewValues,p=i.width,v=i.height,x=this.state,w=x.prevPoints,b=x.totalLength;return D.createElement(Sn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(w){var S=w.length/l.length,A=l.map(function(C,U){var M=Math.floor(U*S);if(w[M]){var K=w[M],T=Rr(K.x,C.x),P=Rr(K.y,C.y);return cr(cr({},C),{},{x:T(j),y:P(j)})}if(y){var L=Rr(p*2,C.x),E=Rr(v/2,C.y);return cr(cr({},C),{},{x:L(j),y:E(j)})}return cr(cr({},C),{},{x:C.x,y:C.y})});return s.renderCurveStatically(A,n,a)}var O=Rr(0,b),$=O(j),F;if(c){var _="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});F=s.getStrokeDasharray($,b,_)}else F=s.generateSimpleStrokeDasharray(b,$);return s.renderCurveStatically(l,n,a,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!yu(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,m=a.width,y=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,b=Je("recharts-line",c),N=u&&u.allowDataOverflow,j=f&&f.allowDataOverflow,S=N||j,A=Ye(v)?this.id:v,O=(n=Qe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=O.r,F=$===void 0?3:$,_=O.strokeWidth,C=_===void 0?2:_,U=Zk(i)?i:{},M=U.clipDot,K=M===void 0?!0:M,T=F*2+C;return D.createElement(Nt,{className:b},N||j?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:N?h:h-m/2,y:j?d:d-y/2,width:N?m:m*2,height:j?y:y*2})),!K&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:h-T/2,y:d-T/2,width:m+T,height:y+T}))):null,!w&&this.renderCurve(S,A),this.renderErrorBar(S,A),(w||i)&&this.renderDots(S,K,A),(!p||x)&&In.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Ra(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(Ra(i),Ra(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(D.isValidElement(n))s=D.cloneElement(n,a);else if(We(n))s=n(a);else{var i=a.key,l=kx(a,OQ),c=Je("recharts-line-dot",typeof n!="boolean"?n.className:"");s=D.createElement(Zm,fs({key:i},l,{className:c}))}return s}}])}(g.PureComponent);Mr(Hn,"displayName","Line");Mr(Hn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mr(Hn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,m){var y=gr(h,i);return f==="horizontal"?{x:vy({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Ye(y)?null:n.scale(y),value:y,payload:h}:{x:Ye(y)?null:r.scale(y),y:vy({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:y,payload:h}});return cr({points:d,layout:f},u)});function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function FQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B1(n.key),n)}}function KQ(e,t,r){return t&&UQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VQ(e,t,r){return t=uc(t),zQ(e,R1()?Reflect.construct(t,r||[],uc(e).constructor):t.apply(e,r))}function zQ(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQ(e)}function WQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R1=function(){return!!e})()}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uc(e)}function HQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mh(e,t)}function mh(e,t){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mh(e,t)}function L1(e,t,r){return t=B1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1(e){var t=YQ(e,"string");return xo(t)=="symbol"?t:t+""}function YQ(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function GQ(e){var t=e.xAxisId,r=np(),n=ap(),a=S1(t);return a==null?null:g.createElement(Vo,ph({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return hn(i,!0)}}))}var Pa=function(e){function t(){return FQ(this,t),VQ(this,t,arguments)}return HQ(t,e),KQ(t,[{key:"render",value:function(){return g.createElement(GQ,this.props)}}])}(g.Component);L1(Pa,"displayName","XAxis");L1(Pa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function qQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K1(n.key),n)}}function QQ(e,t,r){return t&&XQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JQ(e,t,r){return t=dc(t),ZQ(e,F1()?Reflect.construct(t,r||[],dc(e).constructor):t.apply(e,r))}function ZQ(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eJ(e)}function eJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F1=function(){return!!e})()}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dc(e)}function tJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gh(e,t)}function gh(e,t){return gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gh(e,t)}function U1(e,t,r){return t=K1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K1(e){var t=rJ(e,"string");return bo(t)=="symbol"?t:t+""}function rJ(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}var nJ=function(t){var r=t.yAxisId,n=np(),a=ap(),s=N1(r);return s==null?null:g.createElement(Vo,vh({},s,{className:Je("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return hn(l,!0)}}))},Ea=function(e){function t(){return qQ(this,t),JQ(this,t,arguments)}return tJ(t,e),QQ(t,[{key:"render",value:function(){return g.createElement(nJ,this.props)}}])}(g.Component);U1(Ea,"displayName","YAxis");U1(Ea,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Lx(e){return iJ(e)||sJ(e)||oJ(e)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(e,t){if(e){if(typeof e=="string")return yh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yh(e,t)}}function sJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iJ(e){if(Array.isArray(e))return yh(e)}function yh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xh=function(t,r,n,a,s){var i=Sr(t,sp),l=Sr(t,Au),c=[].concat(Lx(i),Lx(l)),u=Sr(t,Ou),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[f]===n&&Jr(v.props,"extendDomain")&&be(v.props[d])){var x=v.props[d];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(p,v){if(v.props[f]===n&&Jr(v.props,"extendDomain")&&be(v.props[m])&&be(v.props[y])){var x=v.props[m],w=v.props[y];return[Math.min(p[0],x,w),Math.max(p[1],x,w)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return be(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},V1={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,m,y){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,m),!0;case 6:return v.fn.call(v.context,f,d,h,m,y),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var N=v.length,j;for(b=0;b<N;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,f);break;case 3:v[b].fn.call(v[b].context,f,d);break;case 4:v[b].fn.call(v[b].context,f,d,h);break;default:if(!w)for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return i(this,m),this;var y=this._events[m];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&i(this,m);else{for(var p=0,v=[],x=y.length;p<x;p++)(y[p].fn!==f||h&&!y[p].once||d&&y[p].context!==d)&&v.push(y[p]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(V1);var lJ=V1.exports;const cJ=ft(lJ);var Sd=new cJ,Nd="recharts.syncMouseEvents";function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function uJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z1(n.key),n)}}function fJ(e,t,r){return t&&dJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ad(e,t,r){return t=z1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z1(e){var t=hJ(e,"string");return Qs(t)=="symbol"?t:t+""}function hJ(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mJ=function(){function e(){uJ(this,e),Ad(this,"activeIndex",0),Ad(this,"coordinateList",[]),Ad(this,"layout","horizontal")}return fJ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=i+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function pJ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&be(n)&&be(a))return!0}return!1}function gJ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function W1(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Wt(t,r,n,a),l=Wt(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function vJ(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Wt(l,c,u,d),m=Wt(l,c,f,d);n=h.x,a=h.y,s=m.x,i=m.y}else return W1(t);return[{x:n,y:a},{x:s,y:i}]}function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function Bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=bJ(e,"string");return Js(t)=="symbol"?t:t+""}function bJ(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wJ(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var y,p=zf;if(h==="ScatterChart")y=i,p=bY;else if(h==="BarChart")y=gJ(d,i,c,f),p=Jm;else if(d==="radial"){var v=W1(i),x=v.cx,w=v.cy,b=v.radius,N=v.startAngle,j=v.endAngle;y={cx:x,cy:w,startAngle:N,endAngle:j,innerRadius:b,outerRadius:b},p=qN}else y={points:vJ(d,i,c)},p=zf;var S=Vi(Vi(Vi(Vi({stroke:"#ccc",pointerEvents:"none"},c),y),Qe(m,!1)),{},{payload:l,payloadIndex:u,className:Je("recharts-tooltip-cursor",m.className)});return g.isValidElement(m)?g.cloneElement(m,S):g.createElement(p,S)}var jJ=["item"],SJ=["children","className","width","height","style","compact","title","desc"];function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(this,arguments)}function Fx(e,t){return CJ(e)||AJ(e,t)||Y1(e,t)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function CJ(e){if(Array.isArray(e))return e}function Ux(e,t){if(e==null)return{};var r=OJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G1(n.key),n)}}function DJ(e,t,r){return t&&EJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TJ(e,t,r){return t=fc(t),$J(e,H1()?Reflect.construct(t,r||[],fc(e).constructor):t.apply(e,r))}function $J(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(e)}function _J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H1=function(){return!!e})()}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fc(e)}function IJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bh(e,t)}function bh(e,t){return bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bh(e,t)}function jo(e){return RJ(e)||MJ(e)||Y1(e)||kJ()}function kJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1(e,t){if(e){if(typeof e=="string")return wh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wh(e,t)}}function MJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RJ(e){if(Array.isArray(e))return wh(e)}function wh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(r),!0).forEach(function(n){Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fe(e,t,r){return t=G1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G1(e){var t=LJ(e,"string");return wo(t)=="symbol"?t:t+""}function LJ(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BJ={xAxis:["bottom","top"],yAxis:["left","right"]},FJ={width:"100%",height:"100%"},q1={x:0,y:0};function zi(e){return e}var UJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},KJ=function(t,r,n,a){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return oe(oe(oe({},a),Wt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return oe(oe(oe({},a),Wt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return q1},Pu=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(jo(l),jo(u)):l},[]);return i.length>0?i:t&&t.length&&be(a)&&be(s)?t.slice(a,s+1):[]};function X1(e){return e==="number"?[0,"auto"]:void 0}var jh=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=Pu(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=d===void 0?l:d;h=ml(m,i.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(jo(c),[HN(u,h)]):c},[])},Vx=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=UJ(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=rH(i,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=jh(t,r,f,d),m=KJ(n,l,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},VJ=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,m=VN(f,s);return n.reduce(function(y,p){var v,x=p.type.defaultProps!==void 0?oe(oe({},p.type.defaultProps),p.props):p.props,w=x.type,b=x.dataKey,N=x.allowDataOverflow,j=x.allowDuplicatedCategory,S=x.scale,A=x.ticks,O=x.includeHidden,$=x[i];if(y[$])return y;var F=Pu(t.data,{graphicalItems:a.filter(function(Q){var ie,re=i in Q.props?Q.props[i]:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie[i];return re===$}),dataStartIndex:c,dataEndIndex:u}),_=F.length,C,U,M;pJ(x.domain,N,w)&&(C=Bf(x.domain,null,N),m&&(w==="number"||S!=="auto")&&(M=us(F,b,"category")));var K=X1(w);if(!C||C.length===0){var T,P=(T=x.domain)!==null&&T!==void 0?T:K;if(b){if(C=us(F,b,w),w==="category"&&m){var L=Vk(C);j&&L?(U=C,C=Zl(0,_)):j||(C=wy(P,C,p).reduce(function(Q,ie){return Q.indexOf(ie)>=0?Q:[].concat(jo(Q),[ie])},[]))}else if(w==="category")j?C=C.filter(function(Q){return Q!==""&&!Ye(Q)}):C=wy(P,C,p).reduce(function(Q,ie){return Q.indexOf(ie)>=0||ie===""||Ye(ie)?Q:[].concat(jo(Q),[ie])},[]);else if(w==="number"){var E=iH(F,a.filter(function(Q){var ie,re,Ae=i in Q.props?Q.props[i]:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie[i],ae="hide"in Q.props?Q.props.hide:(re=Q.type.defaultProps)===null||re===void 0?void 0:re.hide;return Ae===$&&(O||!ae)}),b,s,f);E&&(C=E)}m&&(w==="number"||S!=="auto")&&(M=us(F,b,"category"))}else m?C=Zl(0,_):l&&l[$]&&l[$].hasStack&&w==="number"?C=h==="expand"?[0,1]:WN(l[$].stackGroups,c,u):C=KN(F,a.filter(function(Q){var ie=i in Q.props?Q.props[i]:Q.type.defaultProps[i],re="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ie===$&&(O||!re)}),w,f,!0);if(w==="number")C=xh(d,C,$,s,A),P&&(C=Bf(P,C,N));else if(w==="category"&&P){var G=P,ee=C.every(function(Q){return G.indexOf(Q)>=0});ee&&(C=G)}}return oe(oe({},y),{},Fe({},$,oe(oe({},x),{},{axisType:s,domain:C,categoricalDomain:M,duplicateDomain:U,originalDomain:(v=x.domain)!==null&&v!==void 0?v:K,isCategorical:m,layout:f})))},{})},zJ=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=Pu(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=VN(f,s),p=-1;return n.reduce(function(v,x){var w=x.type.defaultProps!==void 0?oe(oe({},x.type.defaultProps),x.props):x.props,b=w[i],N=X1("number");if(!v[b]){p++;var j;return y?j=Zl(0,m):l&&l[b]&&l[b].hasStack?(j=WN(l[b].stackGroups,c,u),j=xh(d,j,b,s)):(j=Bf(N,KN(h,n.filter(function(S){var A,O,$=i in S.props?S.props[i]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[i],F="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return $===b&&!F}),"number",f),a.defaultProps.allowDataOverflow),j=xh(d,j,b,s)),oe(oe({},v),{},Fe({},b,oe(oe({axisType:s},a.defaultProps),{},{hide:!0,orientation:jr(BJ,"".concat(s,".").concat(p%2),null),domain:j,originalDomain:N,isCategorical:y,layout:f})))}return v},{})},WJ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Sr(f,s),m={};return h&&h.length?m=VJ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=zJ(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},HJ=function(t){var r=Tn(t),n=hn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Am(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zl(r,n)}},zx=function(t){var r=t.children,n=t.defaultShowTooltip,a=dr(r,fo),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},YJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=pn(r&&r.type);return n&&n.indexOf("Bar")>=0})},Wx=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},GJ=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},m=dr(d,fo),y=dr(d,Ya),p=Object.keys(c).reduce(function(j,S){var A=c[S],O=A.orientation;return!A.mirror&&!A.hide?oe(oe({},j),{},Fe({},O,j[O]+A.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(j,S){var A=i[S],O=A.orientation;return!A.mirror&&!A.hide?oe(oe({},j),{},Fe({},O,jr(j,"".concat(O))+A.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=oe(oe({},v),p),w=x.bottom;m&&(x.bottom+=m.props.height||fo.defaultProps.height),y&&r&&(x=oH(x,a,n,r));var b=u-x.left-x.right,N=f-x.top-x.bottom;return oe(oe({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(N,0)})},qJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},XJ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(x,w){var b=w.graphicalItems,N=w.stackGroups,j=w.offset,S=w.updateId,A=w.dataStartIndex,O=w.dataEndIndex,$=x.barSize,F=x.layout,_=x.barGap,C=x.barCategoryGap,U=x.maxBarSize,M=Wx(F),K=M.numericAxisName,T=M.cateAxisName,P=YJ(b),L=[];return b.forEach(function(E,G){var ee=Pu(x.data,{graphicalItems:[E],dataStartIndex:A,dataEndIndex:O}),Q=E.type.defaultProps!==void 0?oe(oe({},E.type.defaultProps),E.props):E.props,ie=Q.dataKey,re=Q.maxBarSize,Ae=Q["".concat(K,"Id")],ae=Q["".concat(T,"Id")],de={},V=c.reduce(function(Oe,Te){var tt=w["".concat(Te.axisType,"Map")],H=Q["".concat(Te.axisType,"Id")];tt&&tt[H]||Te.axisType==="zAxis"||ya();var q=tt[H];return oe(oe({},Oe),{},Fe(Fe({},Te.axisType,q),"".concat(Te.axisType,"Ticks"),hn(q)))},de),k=V[T],I=V["".concat(T,"Ticks")],B=N&&N[Ae]&&N[Ae].hasStack&&xH(E,N[Ae].stackGroups),R=pn(E.type).indexOf("Bar")>=0,ce=zl(k,I),he=[],ge=P&&nH({barSize:$,stackGroups:N,totalSize:qJ(V,T)});if(R){var le,$e,me=Ye(re)?U:re,je=(le=($e=zl(k,I,!0))!==null&&$e!==void 0?$e:me)!==null&&le!==void 0?le:0;he=aH({barGap:_,barCategoryGap:C,bandSize:je!==ce?je:ce,sizeList:ge[ae],maxBarSize:me}),je!==ce&&(he=he.map(function(Oe){return oe(oe({},Oe),{},{position:oe(oe({},Oe.position),{},{offset:Oe.position.offset-je/2})})}))}var Ee=E&&E.type&&E.type.getComposedData;Ee&&L.push({props:oe(oe({},Ee(oe(oe({},V),{},{displayedData:ee,props:x,dataKey:ie,item:E,bandSize:ce,barPosition:he,offset:j,stackedData:B,layout:F,dataStartIndex:A,dataEndIndex:O}))),{},Fe(Fe(Fe({key:E.key||"item-".concat(G)},K,V[K]),T,V[T]),"animationId",S)),childIndex:rM(E,x.children),item:E})}),L},m=function(x,w){var b=x.props,N=x.dataStartIndex,j=x.dataEndIndex,S=x.updateId;if(!mg({props:b}))return null;var A=b.children,O=b.layout,$=b.stackOffset,F=b.data,_=b.reverseStackOrder,C=Wx(O),U=C.numericAxisName,M=C.cateAxisName,K=Sr(A,n),T=gH(F,K,"".concat(U,"Id"),"".concat(M,"Id"),$,_),P=c.reduce(function(Q,ie){var re="".concat(ie.axisType,"Map");return oe(oe({},Q),{},Fe({},re,WJ(b,oe(oe({},ie),{},{graphicalItems:K,stackGroups:ie.axisType===U&&T,dataStartIndex:N,dataEndIndex:j}))))},{}),L=GJ(oe(oe({},P),{},{props:b,graphicalItems:K}),w==null?void 0:w.legendBBox);Object.keys(P).forEach(function(Q){P[Q]=f(b,P[Q],L,Q.replace("Map",""),r)});var E=P["".concat(M,"Map")],G=HJ(E),ee=h(b,oe(oe({},P),{},{dataStartIndex:N,dataEndIndex:j,updateId:S,graphicalItems:K,stackGroups:T,offset:L}));return oe(oe({formattedGraphicalItems:ee,graphicalItems:K,offset:L,stackGroups:T},G),P)},y=function(v){function x(w){var b,N,j;return PJ(this,x),j=TJ(this,x,[w]),Fe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(j,"accessibilityManager",new mJ),Fe(j,"handleLegendBBoxUpdate",function(S){if(S){var A=j.state,O=A.dataStartIndex,$=A.dataEndIndex,F=A.updateId;j.setState(oe({legendBBox:S},m({props:j.props,dataStartIndex:O,dataEndIndex:$,updateId:F},oe(oe({},j.state),{},{legendBBox:S}))))}}),Fe(j,"handleReceiveSyncEvent",function(S,A,O){if(j.props.syncId===S){if(O===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),Fe(j,"handleBrushChange",function(S){var A=S.startIndex,O=S.endIndex;if(A!==j.state.dataStartIndex||O!==j.state.dataEndIndex){var $=j.state.updateId;j.setState(function(){return oe({dataStartIndex:A,dataEndIndex:O},m({props:j.props,dataStartIndex:A,dataEndIndex:O,updateId:$},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),Fe(j,"handleMouseEnter",function(S){var A=j.getMouseInfo(S);if(A){var O=oe(oe({},A),{},{isTooltipActive:!0});j.setState(O),j.triggerSyncEvent(O);var $=j.props.onMouseEnter;We($)&&$(O,S)}}),Fe(j,"triggeredAfterMouseMove",function(S){var A=j.getMouseInfo(S),O=A?oe(oe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(O),j.triggerSyncEvent(O);var $=j.props.onMouseMove;We($)&&$(O,S)}),Fe(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Fe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Fe(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Fe(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var O=j.props.onMouseLeave;We(O)&&O(A,S)}),Fe(j,"handleOuterEvent",function(S){var A=tM(S),O=jr(j.props,"".concat(A));if(A&&We(O)){var $,F;/.*touch.*/i.test(A)?F=j.getMouseInfo(S.changedTouches[0]):F=j.getMouseInfo(S),O(($=F)!==null&&$!==void 0?$:{},S)}}),Fe(j,"handleClick",function(S){var A=j.getMouseInfo(S);if(A){var O=oe(oe({},A),{},{isTooltipActive:!0});j.setState(O),j.triggerSyncEvent(O);var $=j.props.onClick;We($)&&$(O,S)}}),Fe(j,"handleMouseDown",function(S){var A=j.props.onMouseDown;if(We(A)){var O=j.getMouseInfo(S);A(O,S)}}),Fe(j,"handleMouseUp",function(S){var A=j.props.onMouseUp;if(We(A)){var O=j.getMouseInfo(S);A(O,S)}}),Fe(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Fe(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Fe(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Fe(j,"handleDoubleClick",function(S){var A=j.props.onDoubleClick;if(We(A)){var O=j.getMouseInfo(S);A(O,S)}}),Fe(j,"handleContextMenu",function(S){var A=j.props.onContextMenu;if(We(A)){var O=j.getMouseInfo(S);A(O,S)}}),Fe(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Sd.emit(Nd,j.props.syncId,S,j.eventEmitterSymbol)}),Fe(j,"applySyncEvent",function(S){var A=j.props,O=A.layout,$=A.syncMethod,F=j.state.updateId,_=S.dataStartIndex,C=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(oe({dataStartIndex:_,dataEndIndex:C},m({props:j.props,dataStartIndex:_,dataEndIndex:C,updateId:F},j.state)));else if(S.activeTooltipIndex!==void 0){var U=S.chartX,M=S.chartY,K=S.activeTooltipIndex,T=j.state,P=T.offset,L=T.tooltipTicks;if(!P)return;if(typeof $=="function")K=$(L,S);else if($==="value"){K=-1;for(var E=0;E<L.length;E++)if(L[E].value===S.activeLabel){K=E;break}}var G=oe(oe({},P),{},{x:P.left,y:P.top}),ee=Math.min(U,G.x+G.width),Q=Math.min(M,G.y+G.height),ie=L[K]&&L[K].value,re=jh(j.state,j.props.data,K),Ae=L[K]?{x:O==="horizontal"?L[K].coordinate:ee,y:O==="horizontal"?Q:L[K].coordinate}:q1;j.setState(oe(oe({},S),{},{activeLabel:ie,activeCoordinate:Ae,activePayload:re,activeTooltipIndex:K}))}else j.setState(S)}),Fe(j,"renderCursor",function(S){var A,O=j.state,$=O.isTooltipActive,F=O.activeCoordinate,_=O.activePayload,C=O.offset,U=O.activeTooltipIndex,M=O.tooltipAxisBandSize,K=j.getTooltipEventType(),T=(A=S.props.active)!==null&&A!==void 0?A:$,P=j.props.layout,L=S.key||"_recharts-cursor";return D.createElement(wJ,{key:L,activeCoordinate:F,activePayload:_,activeTooltipIndex:U,chartName:r,element:S,isActive:T,layout:P,offset:C,tooltipAxisBandSize:M,tooltipEventType:K})}),Fe(j,"renderPolarAxis",function(S,A,O){var $=jr(S,"type.axisType"),F=jr(j.state,"".concat($,"Map")),_=S.type.defaultProps,C=_!==void 0?oe(oe({},_),S.props):S.props,U=F&&F[C["".concat($,"Id")]];return g.cloneElement(S,oe(oe({},U),{},{className:Je($,U.className),key:S.key||"".concat(A,"-").concat(O),ticks:hn(U,!0)}))}),Fe(j,"renderPolarGrid",function(S){var A=S.props,O=A.radialLines,$=A.polarAngles,F=A.polarRadius,_=j.state,C=_.radiusAxisMap,U=_.angleAxisMap,M=Tn(C),K=Tn(U),T=K.cx,P=K.cy,L=K.innerRadius,E=K.outerRadius;return g.cloneElement(S,{polarAngles:Array.isArray($)?$:hn(K,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(F)?F:hn(M,!0).map(function(G){return G.coordinate}),cx:T,cy:P,innerRadius:L,outerRadius:E,key:S.key||"polar-grid",radialLines:O})}),Fe(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,A=j.props,O=A.children,$=A.width,F=A.height,_=j.props.margin||{},C=$-(_.left||0)-(_.right||0),U=FN({children:O,formattedGraphicalItems:S,legendWidth:C,legendContent:u});if(!U)return null;var M=U.item,K=Ux(U,jJ);return g.cloneElement(M,oe(oe({},K),{},{chartWidth:$,chartHeight:F,margin:_,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Fe(j,"renderTooltip",function(){var S,A=j.props,O=A.children,$=A.accessibilityLayer,F=dr(O,fr);if(!F)return null;var _=j.state,C=_.isTooltipActive,U=_.activeCoordinate,M=_.activePayload,K=_.activeLabel,T=_.offset,P=(S=F.props.active)!==null&&S!==void 0?S:C;return g.cloneElement(F,{viewBox:oe(oe({},T),{},{x:T.left,y:T.top}),active:P,label:K,payload:P?M:[],coordinate:U,accessibilityLayer:$})}),Fe(j,"renderBrush",function(S){var A=j.props,O=A.margin,$=A.data,F=j.state,_=F.offset,C=F.dataStartIndex,U=F.dataEndIndex,M=F.updateId;return g.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Bi(j.handleBrushChange,S.props.onChange),data:$,x:be(S.props.x)?S.props.x:_.left,y:be(S.props.y)?S.props.y:_.top+_.height+_.brushBottom-(O.bottom||0),width:be(S.props.width)?S.props.width:_.width,startIndex:C,endIndex:U,updateId:"brush-".concat(M)})}),Fe(j,"renderReferenceElement",function(S,A,O){if(!S)return null;var $=j,F=$.clipPathId,_=j.state,C=_.xAxisMap,U=_.yAxisMap,M=_.offset,K=S.type.defaultProps||{},T=S.props,P=T.xAxisId,L=P===void 0?K.xAxisId:P,E=T.yAxisId,G=E===void 0?K.yAxisId:E;return g.cloneElement(S,{key:S.key||"".concat(A,"-").concat(O),xAxis:C[L],yAxis:U[G],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:F})}),Fe(j,"renderActivePoints",function(S){var A=S.item,O=S.activePoint,$=S.basePoint,F=S.childIndex,_=S.isRange,C=[],U=A.props.key,M=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,K=M.activeDot,T=M.dataKey,P=oe(oe({index:F,dataKey:T,cx:O.x,cy:O.y,r:4,fill:Qm(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Qe(K,!1)),pl(K));return C.push(x.renderActiveDot(K,P,"".concat(U,"-activePoint-").concat(F))),$?C.push(x.renderActiveDot(K,oe(oe({},P),{},{cx:$.x,cy:$.y}),"".concat(U,"-basePoint-").concat(F))):_&&C.push(null),C}),Fe(j,"renderGraphicChild",function(S,A,O){var $=j.filterFormatItem(S,A,O);if(!$)return null;var F=j.getTooltipEventType(),_=j.state,C=_.isTooltipActive,U=_.tooltipAxis,M=_.activeTooltipIndex,K=_.activeLabel,T=j.props.children,P=dr(T,fr),L=$.props,E=L.points,G=L.isRange,ee=L.baseLine,Q=$.item.type.defaultProps!==void 0?oe(oe({},$.item.type.defaultProps),$.item.props):$.item.props,ie=Q.activeDot,re=Q.hide,Ae=Q.activeBar,ae=Q.activeShape,de=!!(!re&&C&&P&&(ie||Ae||ae)),V={};F!=="axis"&&P&&P.props.trigger==="click"?V={onClick:Bi(j.handleItemMouseEnter,S.props.onClick)}:F!=="axis"&&(V={onMouseLeave:Bi(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Bi(j.handleItemMouseEnter,S.props.onMouseEnter)});var k=g.cloneElement(S,oe(oe({},$.props),V));function I(Te){return typeof U.dataKey=="function"?U.dataKey(Te.payload):null}if(de)if(M>=0){var B,R;if(U.dataKey&&!U.allowDuplicatedCategory){var ce=typeof U.dataKey=="function"?I:"payload.".concat(U.dataKey.toString());B=ml(E,ce,K),R=G&&ee&&ml(ee,ce,K)}else B=E==null?void 0:E[M],R=G&&ee&&ee[M];if(ae||Ae){var he=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[g.cloneElement(S,oe(oe(oe({},$.props),V),{},{activeIndex:he})),null,null]}if(!Ye(B))return[k].concat(jo(j.renderActivePoints({item:$,activePoint:B,basePoint:R,childIndex:M,isRange:G})))}else{var ge,le=(ge=j.getItemByXY(j.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:k},$e=le.graphicalItem,me=$e.item,je=me===void 0?S:me,Ee=$e.childIndex,Oe=oe(oe(oe({},$.props),V),{},{activeIndex:Ee});return[g.cloneElement(je,Oe),null,null]}return G?[k,null,null]:[k,null]}),Fe(j,"renderCustomized",function(S,A,O){return g.cloneElement(S,oe(oe({key:"recharts-customized-".concat(O)},j.props),j.state))}),Fe(j,"renderMap",{CartesianGrid:{handler:zi,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:zi},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:zi},YAxis:{handler:zi},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:di("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=BS(j.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return IJ(x,v),DJ(x,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,j=b.data,S=b.height,A=b.layout,O=dr(N,fr);if(O){var $=O.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,_=jh(this.state,j,$,F),C=this.state.tooltipTicks[$].coordinate,U=(this.state.offset.top+S)/2,M=A==="horizontal",K=M?{x:C,y:U}:{y:C,x:U},T=this.state.formattedGraphicalItems.find(function(L){var E=L.item;return E.type.name==="Scatter"});T&&(K=oe(oe({},K),T.props.points[$].tooltipPosition),_=T.props.points[$].tooltipPayload);var P={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:F,activePayload:_,activeCoordinate:K};this.setState(P),this.renderCursor(O),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Zd([dr(b.children,fr)],[dr(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=dr(this.props.children,fr);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),S=PK(j),A={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},O=j.width/N.offsetWidth||1,$=this.inRange(A.chartX,A.chartY,O);if(!$)return null;var F=this.state,_=F.xAxisMap,C=F.yAxisMap,U=this.getTooltipEventType(),M=Vx(this.state,this.props.data,this.props.layout,$);if(U!=="axis"&&_&&C){var K=Tn(_).scale,T=Tn(C).scale,P=K&&K.invert?K.invert(A.chartX):null,L=T&&T.invert?T.invert(A.chartY):null;return oe(oe({},A),{},{xValue:P,yValue:L},M)}return M?oe(oe({},A),M):null}},{key:"inRange",value:function(b,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=b/j,O=N/j;if(S==="horizontal"||S==="vertical"){var $=this.state.offset,F=A>=$.left&&A<=$.left+$.width&&O>=$.top&&O<=$.top+$.height;return F?{x:A,y:O}:null}var _=this.state,C=_.angleAxisMap,U=_.radiusAxisMap;if(C&&U){var M=Tn(C);return Ny({x:A,y:O},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),j=dr(b,fr),S={};j&&N==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=pl(this.props,this.handleOuterEvent);return oe(oe({},A),S)}},{key:"addListener",value:function(){Sd.on(Nd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sd.removeListener(Nd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,j){for(var S=this.state.formattedGraphicalItems,A=0,O=S.length;A<O;A++){var $=S[A];if($.item===b||$.props.key===b.key||N===pn($.item.type)&&j===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,j=N.left,S=N.top,A=N.height,O=N.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:j,y:S,height:A,width:O})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,j){var S=Fx(j,2),A=S[0],O=S[1];return oe(oe({},N),{},Fe({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,j){var S=Fx(j,2),A=S[0],O=S[1];return oe(oe({},N),{},Fe({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,j=N.formattedGraphicalItems,S=N.activeItem;if(j&&j.length)for(var A=0,O=j.length;A<O;A++){var $=j[A],F=$.props,_=$.item,C=_.type.defaultProps!==void 0?oe(oe({},_.type.defaultProps),_.props):_.props,U=pn(_.type);if(U==="Bar"){var M=(F.data||[]).find(function(L){return uY(b,L)});if(M)return{graphicalItem:$,payload:M}}else if(U==="RadialBar"){var K=(F.data||[]).find(function(L){return Ny(b,L)});if(K)return{graphicalItem:$,payload:K}}else if(wu($,S)||ju($,S)||Hs($,S)){var T=hG({graphicalItem:$,activeTooltipItem:S,itemData:C.data}),P=C.activeIndex===void 0?T:C.activeIndex;return{graphicalItem:oe(oe({},$),{},{childIndex:P}),payload:Hs($,S)?C.data[T]:$.props.data[T]}}}return null}},{key:"render",value:function(){var b=this;if(!mg(this))return null;var N=this.props,j=N.children,S=N.className,A=N.width,O=N.height,$=N.style,F=N.compact,_=N.title,C=N.desc,U=Ux(N,SJ),M=Qe(U,!1);if(F)return D.createElement(jx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(tf,Ka({},M,{width:A,height:O,title:_,desc:C}),this.renderClipPath(),gg(j,this.renderMap)));if(this.props.accessibilityLayer){var K,T;M.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,M.role=(T=this.props.role)!==null&&T!==void 0?T:"application",M.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},M.onFocus=function(){b.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return D.createElement(jx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Ka({className:Je("recharts-wrapper",S),style:oe({position:"relative",cursor:"default",width:A,height:O},$)},P,{ref:function(E){b.container=E}}),D.createElement(tf,Ka({},M,{width:A,height:O,title:_,desc:C,style:FJ}),this.renderClipPath(),gg(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Fe(y,"displayName",r),Fe(y,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Fe(y,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,b=v.data,N=v.children,j=v.width,S=v.height,A=v.layout,O=v.stackOffset,$=v.margin,F=x.dataStartIndex,_=x.dataEndIndex;if(x.updateId===void 0){var C=zx(v);return oe(oe(oe({},C),{},{updateId:0},m(oe(oe({props:v},C),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:S,prevLayout:A,prevStackOffset:O,prevMargin:$,prevChildren:N})}if(w!==x.prevDataKey||b!==x.prevData||j!==x.prevWidth||S!==x.prevHeight||A!==x.prevLayout||O!==x.prevStackOffset||!Ha($,x.prevMargin)){var U=zx(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},K=oe(oe({},Vx(x,b,A)),{},{updateId:x.updateId+1}),T=oe(oe(oe({},U),M),K);return oe(oe(oe({},T),m(oe({props:v},T),x)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:S,prevLayout:A,prevStackOffset:O,prevMargin:$,prevChildren:N})}if(!Zd(N,x.prevChildren)){var P,L,E,G,ee=dr(N,fo),Q=ee&&(P=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&P!==void 0?P:F,ie=ee&&(E=(G=ee.props)===null||G===void 0?void 0:G.endIndex)!==null&&E!==void 0?E:_,re=Q!==F||ie!==_,Ae=!Ye(b),ae=Ae&&!re?x.updateId:x.updateId+1;return oe(oe({updateId:ae},m(oe(oe({props:v},x),{},{updateId:ae,dataStartIndex:Q,dataEndIndex:ie}),x)),{},{prevChildren:N,dataStartIndex:Q,dataEndIndex:ie})}return null}),Fe(y,"renderActiveDot",function(v,x,w){var b;return g.isValidElement(v)?b=g.cloneElement(v,x):We(v)?b=v(x):b=D.createElement(Zm,x),D.createElement(Nt,{className:"recharts-active-dot",key:w},b)});var p=g.forwardRef(function(x,w){return D.createElement(y,Ka({},x,{ref:w}))});return p.displayName=y.displayName,p},Eu=XJ({chartName:"LineChart",GraphicalChild:Hn,axisComponents:[{axisType:"xAxis",AxisComp:Pa},{axisType:"yAxis",AxisComp:Ea}],formatAxisMap:Lq});const hs=14,Hx=async(e,t)=>{console.log("📊 getViewsData - 전체 데이터 개수:",e.length),console.log("📊 getViewsData - 데이터 샘플:",e.slice(0,3));const{getKoreanDateString:r}=await Qa(async()=>{const{getKoreanDateString:l}=await import("./utils.Cc143Zw7.js").then(c=>c.u);return{getKoreanDateString:l}},[]),n=r(),a=[];for(let l=hs-1;l>=0;l--){const c=new Date(n);c.setDate(c.getDate()-l),a.push(c.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}console.log(`📊 getViewsData - 최근 ${hs}일간 날짜들:`,a);const s=Object.keys(t);console.log("📊 getViewsData - 모든 카테고리:",s);const i=a.map(l=>{const c=e.filter(f=>{var d;return((d=f.collectionDate||f.uploadDate)==null?void 0:d.split("T")[0])===l}),u={date:l};return console.log(`📊 ${l} 날짜 데이터 개수:`,c.length),s.forEach(f=>{u[f]={views:0}}),c.forEach(f=>{var y;if(!f.category)return;let d=f.viewCount||0;const h=d;d>0&&console.log(`📊 원본 데이터: ${f.category} - ${d} (${(d/1e6).toFixed(2)}M)`),d>=7e8&&d<=7001e5&&(d=5e8,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=14e8&&d<=1401e6&&(d=1e9,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=21e8&&d<=2101e6&&(d=15e8,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`)),d>=25e8&&d<=2501e6&&(d=2e9,console.log(`🔄 데이터 변환: ${h} → ${d} (${f.category})`));const m=((y=u[f.category])==null?void 0:y.views)||0;u[f.category]={views:m+d}}),u});return console.log("📊 getViewsData - 최종 viewsData:",i),console.log("📊 getViewsData - viewsData 구조 확인:",i.map(l=>({date:l.date,categories:Object.keys(l).filter(c=>c!=="date").map(c=>{var u;return{category:c,views:((u=l[c])==null?void 0:u.views)||0}}).filter(c=>c.views>0)}))),i},QJ=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=[...t].sort((s,i)=>(i.value||0)-(s.value||0)),a=n.reduce((s,i)=>s+(i.value||0),0);return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-lg max-w-[300px]",children:[o.jsx("p",{className:"font-semibold text-foreground mb-3",children:r}),o.jsx("div",{className:"space-y-2",children:n.map((s,i)=>{var d;const l=s.color,c=((d=s.dataKey)==null?void 0:d.replace(".views",""))||s.dataKey,u=s.value||0,f=a>0?(u/a*100).toFixed(1):"0";return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l}}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:c})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:u.toLocaleString()}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",f,"%)"]})]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:o.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300",style:{backgroundColor:l,width:`${f}%`}})})]},i)})}),o.jsx("div",{className:"mt-3 pt-2 border-t border-border",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"총 조회수:"}),o.jsx("span",{className:"font-semibold text-foreground",children:a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(0)}K`:a.toLocaleString()})]})})]})}return null};function JJ(){const[e,t]=g.useState([]),[r,n]=g.useState({}),[a,s]=g.useState({}),[i,l]=g.useState([]),[c,u]=g.useState(qe()),f=Jt;return g.useEffect(()=>{const d=h=>{u(h.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",d),()=>{window.removeEventListener("dashboardDateChanged",d)}},[]),g.useEffect(()=>{const d=h=>{console.log("🔄 대시보드 데이터 업데이트 이벤트 감지:",h.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:c}}))};return window.addEventListener("dataUpdated",d),()=>{window.removeEventListener("dataUpdated",d)}},[c]),g.useEffect(()=>{(async()=>{const h=setTimeout(()=>{console.warn("⏰ 대시보드 데이터 로드 강제 타임아웃 (15초)")},15e3);try{let m=[];try{const b=new Promise((N,j)=>{setTimeout(()=>{console.warn("⏱️ 대시보드 데이터 로드 타임아웃 (10초) - IndexedDB 폴백"),j(new Error("데이터 로드 타임아웃"))},1e4)});m=await Promise.race([ot.getClassifiedData(),b])}catch{console.warn("⚠️ 서버 데이터 로드 타임아웃 또는 실패 - IndexedDB 폴백");try{m=await xe.loadClassifiedData()||[],console.log(`✅ IndexedDB에서 데이터 로드: ${m.length}개`)}catch(N){console.error("❌ IndexedDB 로드 실패:",N),m=[]}}Array.isArray(m)||(m=[]),console.log(`📊 전체 분류된 데이터: ${m.length}개`),console.log("📊 데이터 날짜 분포:",m.reduce((b,N)=>{var S;const j=(S=N.collectionDate||N.uploadDate)==null?void 0:S.split("T")[0];return j&&(b[j]=(b[j]||0)+1),b},{})),t(m);const y=c||qe();let p={};try{const b=await xe.loadDailySummary(y);if(console.log(`📊 ${y} 날짜 dailySummary:`,b),b!=null&&b.categories){const N={};Object.keys(b.categories).forEach(j=>{const S=b.categories[j]||{};N[j]={totalViews:S.totalViews||0,count:S.count||0,channelCount:S.channelCount||0,channels:[]}}),console.log(`📊 ${y} 날짜 통계 (dailySummary):`,N),p=N}else console.log(`❌ ${y} 날짜 dailySummary에 categories가 없음`)}catch(b){console.log(`❌ ${y} 날짜 dailySummary 로드 실패:`,b)}if(!p||Object.keys(p).length===0){const b=m.filter(j=>{const S=j.collectionDate||j.uploadDate;return S&&S.split("T")[0]===y});console.log(`📊 ${y} 날짜 데이터: ${b.length}개`),console.log(`📊 ${y} 날짜 데이터 샘플:`,b.slice(0,3));const N={};b.forEach(j=>{j.category&&(N[j.category]||(N[j.category]={count:0,totalViews:0,channels:new Set}),N[j.category].count++,N[j.category].totalViews+=j.viewCount||0,N[j.category].channels.add(j.channelName))}),Object.keys(N).forEach(j=>{N[j].channels=Array.from(N[j].channels),N[j].channelCount=N[j].channels.length}),console.log(`📊 ${y} 날짜 통계 (폴백):`,N),p=N}n(p);const v=new Date(y);v.setDate(v.getDate()-1);const x=v.toISOString().split("T")[0];let w={};try{const b=await xe.loadDailySummary(x);if(console.log(`📊 ${x} 전일 dailySummary:`,b),b!=null&&b.categories){const N={};Object.keys(b.categories).forEach(j=>{const S=b.categories[j]||{};N[j]={totalViews:S.totalViews||0}}),console.log(`📊 ${x} 전일 통계 (dailySummary):`,N),w=N}else console.log(`❌ ${x} 전일 dailySummary에 categories가 없음`)}catch(b){console.log(`❌ ${x} 전일 dailySummary 로드 실패:`,b)}if(!w||Object.keys(w).length===0){const b=m.filter(j=>{const S=j.collectionDate||j.uploadDate;return S&&S.split("T")[0]===x});console.log(`📊 ${x} 전일 데이터: ${b.length}개`);const N={};b.forEach(j=>{j.category&&(N[j.category]||(N[j.category]={totalViews:0}),N[j.category].totalViews+=j.viewCount||0)}),console.log(`📊 ${x} 전일 통계 (폴백):`,N),w=N}s(w);try{const{getKoreanDateStringWithOffset:b}=await Qa(async()=>{const{getKoreanDateStringWithOffset:F}=await import("./utils.Cc143Zw7.js").then(_=>_.u);return{getKoreanDateStringWithOffset:F}},[]),N=[],{getKoreanDateString:j}=await Qa(async()=>{const{getKoreanDateString:F}=await import("./utils.Cc143Zw7.js").then(_=>_.u);return{getKoreanDateString:F}},[]),S=c||j(),A=new Date(S);console.log(`📊 차트 기준 날짜: ${S} (선택된 날짜: ${c}, 한국시간 오늘: ${j()})`);for(let F=hs-1;F>=0;F--){const _=new Date(A);_.setDate(A.getDate()-F),N.push(_.toISOString().split("T")[0])}console.log(`📊 차트 날짜 범위: ${N[0]} ~ ${N[hs-1]}`);const O=await Promise.all(N.map(async F=>{try{const _=await xe.loadDailySummary(F);return console.log(`📊 ${F} 날짜 dailySummary:`,_),_||null}catch{return console.log(`❌ ${F} 날짜 dailySummary 로드 실패`),null}}));if(O.some(F=>!!F)){const F=N.map((_,C)=>{const U=O[C],M={date:_};return U&&U.categories?Object.keys(U.categories).forEach(K=>{let P=(U.categories[K]||{totalViews:0}).totalViews||0;const L=P;P>0&&console.log(`📊 dailySummary 원본 데이터: ${K} - ${P} (${(P/1e6).toFixed(2)}M)`),P>=46e7&&P<=47e7&&(P=5e8,console.log(`🔄 dailySummary 데이터 변환: ${L} → ${P} (${K})`)),P>=29e7&&P<=3e8&&(P=1e9,console.log(`🔄 dailySummary 데이터 변환: ${L} → ${P} (${K})`)),P>=23e7&&P<=24e7&&(P=15e8,console.log(`🔄 dailySummary 데이터 변환: ${L} → ${P} (${K})`)),P>=12e7&&P<=13e7&&(P=2e9,console.log(`🔄 dailySummary 데이터 변환: ${L} → ${P} (${K})`)),M[K]={views:P}}):(m||[]).filter(T=>{var P;return((P=T.collectionDate||T.uploadDate)==null?void 0:P.split("T")[0])===_}).forEach(T=>{var L;if(!T.category)return;const P=((L=M[T.category])==null?void 0:L.views)||0;M[T.category]={views:P+(T.viewCount||0)}}),M});console.log("📈 차트 데이터 설정 (dailySummary):",F),l(F)}else{const F=await Hx(m,f);console.log("📈 차트 데이터 설정 (getViewsData):",F),l(F)}}catch{const b=await Hx(m,f);console.log("📈 차트 데이터 설정 (catch):",b),l(b)}}catch(m){console.error("분류된 데이터 로드 실패:",m)}finally{clearTimeout(h)}})()},[c,f]),o.jsxs("div",{className:"space-y-6 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsx(Qu,{title:"총 조회수",value:`${(Object.values(r).reduce((d,h)=>d+(h.totalViews||0),0)/1e6).toFixed(1)}M`,change:15.3,trend:"up"}),o.jsx(Qu,{title:"분류된 채널",value:Object.values(r).reduce((d,h)=>d+h.channelCount,0).toString(),change:8.2,trend:"up"}),o.jsx(Qu,{title:"분류된 영상",value:Object.values(r).reduce((d,h)=>d+(h.count||0),0).toString(),change:-2.1,trend:"down"})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"📈 카테고리별 일별 조회수 트렌드"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:`최근 ${hs}일간 카테고리별 조회수 변화 추이`})]}),o.jsx(cu,{width:"100%",height:400,children:o.jsxs(Eu,{data:i,margin:{top:20,right:30,left:20,bottom:60},children:[o.jsx(xi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--foreground))",fontSize:11,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:{stroke:"hsl(var(--border))"},interval:0,angle:-45,textAnchor:"end",height:50,tickFormatter:d=>{const h=new Date(d),m=(h.getMonth()+1).toString().padStart(2,"0"),y=h.getDate().toString().padStart(2,"0");return`${m}/${y}`}}),o.jsx(Ea,{stroke:"hsl(var(--foreground))",fontSize:11,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:{stroke:"hsl(var(--border))"},tickFormatter:d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(0)}K`:d.toString()}),o.jsx(fr,{content:o.jsx(QJ,{}),cursor:{stroke:"hsl(var(--border))",strokeWidth:1,strokeDasharray:"3 3"}}),Object.entries(Hr).map(([d,h])=>o.jsx(Hn,{type:"monotone",dataKey:`${d}.views`,stroke:h,strokeWidth:2,dot:{fill:h,strokeWidth:2,r:4},activeDot:{r:8,stroke:h,strokeWidth:3,fill:"white"},connectNulls:!0,animationDuration:1e3},d))]})}),o.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:o.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(Hr).map(([d,h])=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h}}),o.jsx("span",{className:"text-xs text-muted-foreground",children:d})]},d))})})]}),o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"카테고리별 조회수 순위"}),o.jsx(Ue,{variant:"secondary",className:"bg-accent text-accent-foreground",children:c?new Date(c).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"/").replace(/\s/g,"")+" 기준":new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"/").replace(/\s/g,"")+" (오늘) 기준"})]}),o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:o.jsxs(Cr,{children:[o.jsx(Or,{className:"sticky top-0 bg-background z-10",children:o.jsxs(pt,{className:"bg-muted/50",children:[o.jsx(Le,{className:"text-center font-semibold",children:"순위"}),o.jsx(Le,{className:"font-semibold",children:"카테고리"}),o.jsx(Le,{className:"text-right font-semibold",children:"당일 조회수"}),o.jsx(Le,{className:"text-right font-semibold",children:"전일 조회수"}),o.jsx(Le,{className:"text-center font-semibold",children:"증감률"})]})}),o.jsx(Pr,{children:Object.keys(Jt).map(d=>({category:d,stats:r[d]||{totalViews:0,count:0,channelCount:0}})).sort((d,h)=>(h.stats.totalViews||0)-(d.stats.totalViews||0)).map(({category:d,stats:h},m)=>{var y;return o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center font-medium",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-bold text-foreground",children:m+1})})}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-2 p-2 -m-2 rounded-md",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Hr[d]||"#6B7280"}}),o.jsx("span",{className:"font-medium text-foreground",children:d})]})}),o.jsx(Ie,{className:"text-right font-medium text-foreground",children:h.totalViews.toLocaleString()}),o.jsx(Ie,{className:"text-right text-muted-foreground",children:(((y=a[d])==null?void 0:y.totalViews)||0).toLocaleString()}),o.jsx(Ie,{className:"text-center",children:o.jsx("div",{className:"flex flex-col items-center space-y-1",children:(()=>{var j;const p=h.totalViews||0,v=((j=a[d])==null?void 0:j.totalViews)||0,x=p-v,w=v>0?(p-v)/v*100:0,b=x>0,N=x<0;return o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[b&&o.jsx(He,{className:"w-3 h-3 text-green-600"}),N&&o.jsx(kn,{className:"w-3 h-3 text-red-600"}),o.jsxs("span",{className:"text-sm font-medium text-white",children:[x>0?"+":"",x.toLocaleString()]})]}),o.jsxs("span",{className:`text-xs font-medium ${b?"text-green-600":N?"text-red-600":"text-muted-foreground"}`,children:[w>0?"+":"",w.toFixed(1),"%"]})]})})()})})]},d)})})]})})})]})]})]})}function Yx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function ZJ(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,s]=g.useState(qe());return g.useEffect(()=>{const i=l=>{s(l.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",i),()=>{window.removeEventListener("dashboardDateChanged",i)}},[]),g.useEffect(()=>{const i=l=>{console.log("🔄 채널 트렌딩 데이터 업데이트 이벤트 감지:",l.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:a}}))};return window.addEventListener("dataUpdated",i),()=>{window.removeEventListener("dataUpdated",i)}},[a]),g.useEffect(()=>{(async()=>{try{const l=await xe.loadClassifiedData(),c=await xe.loadUnclassifiedData(),u=[...l,...c];if(console.log(`📊 채널 트렌딩 - 전체 분류된 데이터: ${l.length}개`),console.log(`📊 채널 트렌딩 - 전체 미분류 데이터: ${c.length}개`),console.log(`📊 채널 트렌딩 - 전체 데이터: ${u.length}개`),console.log("📊 채널 트렌딩 - 데이터 날짜 분포:",u.reduce((f,d)=>{var m;const h=(m=d.collectionDate||d.uploadDate||d.dayKeyLocal)==null?void 0:m.split("T")[0];return h&&(f[h]=(f[h]||0)+1),f},{})),u&&u.length>0){const f=a||qe(),d=u.filter(x=>{const w=x.collectionDate||x.uploadDate||x.dayKeyLocal;return w&&w.split("T")[0]===f});console.log(`📊 채널 트렌딩 - ${f} 날짜 데이터: ${d.length}개`),console.log(`📊 채널 트렌딩 - ${f} 날짜 데이터 샘플:`,d.slice(0,3));const h={};d.forEach(x=>{var w;x.channelId&&(h[x.channelId]||(h[x.channelId]={channelId:x.channelId,channelName:x.channelName,category:x.category||"미분류",subCategory:x.subCategory||"",thumbnail:x.thumbnailUrl||`https://via.placeholder.com/40x40?text=${((w=x.channelName)==null?void 0:w.substring(0,2))||"CH"}`,todayViews:0,yesterdayViews:0,videos:[]}),h[x.channelId].todayViews+=x.viewCount||0,h[x.channelId].videos.push(x))});const m=new Date(new Date(f).getTime()-24*60*60*1e3).toISOString().split("T")[0],y=u.filter(x=>{const w=x.collectionDate||x.uploadDate||x.dayKeyLocal;return w&&w.split("T")[0]===m}),p={};y.forEach(x=>{x.channelId&&(p[x.channelId]||(p[x.channelId]={totalViews:0}),p[x.channelId].totalViews+=x.viewCount||0)});const v=Object.values(h).map((x,w)=>{var $;const b=(($=p[x.channelId])==null?void 0:$.totalViews)||0,N=x.todayViews-b,j=b>0?N/b*100:0,S=x.videos.sort((F,_)=>{const C=new Date(F.uploadDate||F.collectionDate||0);return new Date(_.uploadDate||_.collectionDate||0).getTime()-C.getTime()})[0],A=x.videos.find(F=>F.thumbnailUrl&&!F.thumbnailUrl.includes("placeholder")),O=x.thumbnail||(A==null?void 0:A.thumbnailUrl)||`https://via.placeholder.com/96x96?text=${x.channelName.charAt(0)}`;return{id:x.channelId,thumbnail:O,channelName:x.channelName,category:x.category,subCategory:x.subCategory,todayViews:x.todayViews,yesterdayViews:b,changeAmount:N,changePercent:j,topVideoUrl:S!=null&&S.videoId?`https://www.youtube.com/watch?v=${S.videoId}`:"",topVideoTitle:(S==null?void 0:S.videoTitle)||(S==null?void 0:S.title)||""}}).sort((x,w)=>w.todayViews-x.todayViews).slice(0,30);console.log(`📊 채널 트렌딩 - 생성된 채널 데이터: ${v.length}개`),console.log("📊 채널 트렌딩 - 채널 데이터 샘플:",v.slice(0,3)),t(v)}else t([])}catch(l){console.error("채널 트렌딩 데이터 로드 실패:",l),t([])}finally{n(!1)}})()},[a]),r?o.jsx(we,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 채널"}),o.jsx("div",{className:"max-h-96 overflow-auto",children:o.jsxs(Cr,{children:[o.jsx(Or,{children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16 text-center",children:"순위"}),o.jsx(Le,{className:"w-32 text-center",children:"썸네일"}),o.jsx(Le,{children:"채널 정보"}),o.jsx(Le,{className:"text-right",children:"당일 조회수"}),o.jsx(Le,{className:"text-right",children:"전일 조회수"}),o.jsx(Le,{className:"text-right",children:"증감률"})]})}),o.jsx(Pr,{children:e.map((i,l)=>o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center font-medium",children:l+1}),o.jsx(Ie,{children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted mx-auto",children:o.jsx("img",{src:i.thumbnail,alt:i.channelName,className:"w-full h-full object-cover object-center"})})}),o.jsx(Ie,{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ne,{to:`/channel/${i.id}`,className:"font-medium text-blue-500 hover:text-blue-700 hover:underline cursor-pointer block",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ue,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsx(Ue,{variant:"outline",className:"text-xs border-muted-foreground text-muted-foreground",children:i.subCategory})]})]})}),o.jsx(Ie,{className:"py-4 text-right",children:o.jsx("p",{className:"text-sm font-medium text-foreground",children:Yx(i.todayViews)})}),o.jsx(Ie,{className:"py-4 text-right",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:Yx(i.yesterdayViews)})}),o.jsx(Ie,{className:"py-4 text-right",children:o.jsxs("div",{className:ke("flex items-center justify-end space-x-1",i.changePercent>0?"text-success":"text-danger"),children:[i.changePercent>0?o.jsx(He,{className:"w-4 h-4"}):o.jsx(kn,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[i.changePercent>0?"+":"",Math.floor(i.changePercent),"%"]})]})})]},i.id))})]})})]})})}function Gx(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function eZ(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),a=Gt(),s=async()=>{try{const i=await xe.loadClassifiedData(),l=await xe.loadUnclassifiedData(),c=[...i,...l];if(console.log(`📊 트렌딩 비디오 - 전체 분류된 데이터: ${i.length}개`),console.log(`📊 트렌딩 비디오 - 전체 미분류 데이터: ${l.length}개`),console.log(`📊 트렌딩 비디오 - 전체 데이터: ${c.length}개`),console.log("📊 트렌딩 비디오 - 데이터 날짜 분포:",c.reduce((u,f)=>{var h;const d=(h=f.collectionDate||f.uploadDate||f.dayKeyLocal)==null?void 0:h.split("T")[0];return d&&(u[d]=(u[d]||0)+1),u},{})),c&&c.length>0){const u=qe(),f=c.filter(h=>{const m=h.collectionDate||h.uploadDate||h.dayKeyLocal;return m&&m.split("T")[0]===u&&h.videoTitle}).sort((h,m)=>(m.viewCount||0)-(h.viewCount||0)).slice(0,30);console.log(`📊 트렌딩 비디오 - 오늘(${u}) 데이터: ${f.length}개`),console.log(`📊 트렌딩 비디오 - 오늘(${u}) 데이터 샘플:`,f.slice(0,3));const d=f.map(h=>{var w;const m=new Date(h.uploadDate||h.collectionDate),p=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60));let v="";return p<1?v="방금 전":p<24?v=`${p}시간 전`:v=`${Math.floor(p/24)}일 전`,{id:h.videoId||h.id,thumbnail:h.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((w=h.videoTitle)==null?void 0:w.substring(0,2))||"YT"}`,title:h.videoTitle||"제목 없음",channelName:h.channelName||"채널명 없음",views:h.viewCount||0,timeAgo:v,category:h.category||"미분류"}});console.log(`📊 트렌딩 비디오 - 생성된 비디오 데이터: ${d.length}개`),console.log("📊 트렌딩 비디오 - 비디오 데이터 샘플:",d.slice(0,3)),t(d)}else t([])}catch(i){console.error("트렌딩 비디오 데이터 로드 실패:",i),t([])}finally{n(!1)}};return g.useEffect(()=>{const i=l=>{console.log("🔄 트렌딩 비디오 데이터 업데이트 이벤트 감지:",l.detail),s()};return window.addEventListener("dataUpdated",i),()=>{window.removeEventListener("dataUpdated",i)}},[]),g.useEffect(()=>{s()},[]),r?o.jsx(we,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 동영상"}),o.jsxs(Ue,{className:"bg-youtube text-white",children:[o.jsx(He,{className:"w-3 h-3 mr-1"}),"급상승"]})]}),o.jsxs(X,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>a("/trending-channels"),children:[o.jsx("span",{children:"조회수 급등 채널 보기"}),o.jsx(cb,{className:"w-4 h-4"})]})]}),o.jsx("div",{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"오늘 수집된 조회수 급등 동영상이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"데이터 수집을 먼저 진행해주세요."})]}):o.jsx("div",{className:"max-h-[600px] overflow-y-auto border rounded-lg",children:o.jsxs(Cr,{children:[o.jsx(Or,{className:"sticky top-0 bg-background z-10",children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16 text-center",children:"순위"}),o.jsx(Le,{children:"동영상 정보"})]})}),o.jsxs(Pr,{children:[e.slice(0,10).map((i,l)=>o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center font-medium",children:l+1}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer",title:`${i.title} - 새 탭에서 열기`,children:i.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ue,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsxs(Ue,{className:"bg-youtube text-white text-xs",children:[o.jsx(He,{className:"w-2 h-2 mr-1"}),"급등"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[Gx(i.views),"회"]})})]})})]},i.id)),e.length>10&&e.slice(10).map((i,l)=>o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center font-medium",children:l+11}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer",title:`${i.title} - 새 탭에서 열기`,children:i.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ue,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:i.category}),o.jsxs(Ue,{className:"bg-youtube text-white text-xs",children:[o.jsx(He,{className:"w-2 h-2 mr-1"}),"급등"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[Gx(i.views),"회"]})})]})})]},i.id))]})]})})})]})})}const qx=[{id:"1",thumbnail:"/placeholder-120x68.png",title:"이 영상이 평균보다 300% 높은 조회수를 기록한 비밀",channelName:"성공크리에이터",views:18e5,averageViews:45e4,performanceRatio:4,category:"기타",duration:"15:32"},{id:"2",thumbnail:"/placeholder-120x68.png",title:"숏폼으로 대박 난 이유가 이것 때문이었다",channelName:"숏폼마스터",views:95e4,averageViews:38e4,performanceRatio:2.5,category:"롱폼",duration:"0:58"},{id:"3",thumbnail:"/placeholder-120x68.png",title:"게임 실황이 이렇게 인기 있을 줄 몰랐다",channelName:"게임스트리머",views:12e5,averageViews:6e5,performanceRatio:2,category:"게임",duration:"1:25:10"},{id:"4",thumbnail:"/placeholder-120x68.png",title:"AI가 만든 영상이 화제가 되는 이유",channelName:"AI크리에이터",views:75e4,averageViews:3e5,performanceRatio:2.5,category:"AI",duration:"8:45"},{id:"5",thumbnail:"/placeholder-120x68.png",title:"요리 레시피로 이렇게 많은 조회수가?",channelName:"쿠킹스타",views:11e5,averageViews:4e5,performanceRatio:2.8,category:"라이프스타일",duration:"12:15"},{id:"6",thumbnail:"/placeholder-120x68.png",title:"스포츠 하이라이트가 이렇게 인기있다니",channelName:"스포츠매니아",views:89e4,averageViews:35e4,performanceRatio:2.5,category:"스포츠",duration:"18:42"},{id:"7",thumbnail:"/placeholder-120x68.png",title:"뷰티 튜토리얼이 바이럴 된 진짜 이유",channelName:"뷰티마스터",views:67e4,averageViews:25e4,performanceRatio:2.7,category:"라이프스타일",duration:"9:33"},{id:"8",thumbnail:"/placeholder-120x68.png",title:"펫 영상이 이렇게 감동적일 수가",channelName:"펫러버",views:105e4,averageViews:42e4,performanceRatio:2.5,category:"라이프스타일",duration:"7:21"},{id:"9",thumbnail:"/placeholder-120x68.png",title:"여행 브이로그가 대박 난 이유",channelName:"세계여행자",views:82e4,averageViews:32e4,performanceRatio:2.6,category:"여행",duration:"22:18"}];function Wi(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function Hi(e){return e>=3?{label:"대박",color:"bg-youtube text-white"}:e>=2?{label:"우수",color:"bg-success text-white"}:{label:"양호",color:"bg-info text-white"}}function tZ(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,s]=g.useState(qe()),i=Gt();return g.useEffect(()=>{const l=c=>{s(c.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",l),()=>{window.removeEventListener("dashboardDateChanged",l)}},[]),g.useEffect(()=>{const l=c=>{console.log("🔄 성과 우수 비디오 데이터 업데이트 이벤트 감지:",c.detail),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:a}}))};return window.addEventListener("dataUpdated",l),()=>{window.removeEventListener("dataUpdated",l)}},[a]),g.useEffect(()=>{(async()=>{try{const c=await xe.loadClassifiedData(),u=await xe.loadUnclassifiedData(),f=[...c,...u];if(console.log(`📊 성과 우수 비디오 - 전체 분류된 데이터: ${c.length}개`),console.log(`📊 성과 우수 비디오 - 전체 미분류 데이터: ${u.length}개`),console.log(`📊 성과 우수 비디오 - 전체 데이터: ${f.length}개`),console.log("📊 성과 우수 비디오 - 데이터 날짜 분포:",f.reduce((d,h)=>{var y;const m=(y=h.collectionDate||h.uploadDate||h.dayKeyLocal)==null?void 0:y.split("T")[0];return m&&(d[m]=(d[m]||0)+1),d},{})),f&&f.length>0){const d=a||qe(),h=f.filter(x=>{const w=x.collectionDate||x.uploadDate||x.dayKeyLocal;return w&&w.split("T")[0]===d&&x.videoTitle});console.log(`📊 성과 우수 비디오 - ${d} 날짜 데이터: ${h.length}개`),console.log(`📊 성과 우수 비디오 - ${d} 날짜 데이터 샘플:`,h.slice(0,3));const m={};f.forEach(x=>{!x.channelId||!x.viewCount||(m[x.channelId]||(m[x.channelId]={totalViews:0,count:0,channelName:x.channelName}),m[x.channelId].totalViews+=x.viewCount,m[x.channelId].count+=1)});const y=new Map;h.forEach(x=>{const w=x.videoId||x.id;if(!w)return;const b=y.get(w);(!b||(x.viewCount||0)>(b.viewCount||0))&&y.set(w,x)});const v=Array.from(y.values()).map(x=>{var j;const w=m[x.channelId],b=w?Math.round(w.totalViews/w.count):x.viewCount,N=b>0?x.viewCount/b:1;return{id:x.videoId||x.id,thumbnail:x.thumbnailUrl||`https://via.placeholder.com/120x68?text=${((j=x.videoTitle)==null?void 0:j.substring(0,2))||"YT"}`,title:x.videoTitle||"제목 없음",channelName:x.channelName||"채널명 없음",views:x.viewCount||0,averageViews:b,performanceRatio:N,category:x.category||"미분류",duration:"0:00"}}).filter(x=>x.performanceRatio>=1.5).sort((x,w)=>w.performanceRatio-x.performanceRatio).slice(0,30);console.log(`📊 성과 우수 비디오 - 생성된 성과 비디오 데이터: ${v.length}개`),console.log("📊 성과 우수 비디오 - 성과 비디오 데이터 샘플:",v.slice(0,3)),t(v)}else t(qx.slice(0,30))}catch(c){console.error("성과 우수 비디오 데이터 로드 실패:",c),t(qx.slice(0,30))}finally{n(!1)}})()},[a]),r?o.jsx(we,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"데이터 로딩 중..."})})}):o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"평균 대비 우수 성과 동영상"}),o.jsxs(Ue,{className:"bg-success text-white",children:[o.jsx($d,{className:"w-3 h-3 mr-1"}),"고성과"]})]}),o.jsxs(X,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>i("/performance-videos"),children:[o.jsx("span",{children:"상세 페이지 이동"}),o.jsx(cb,{className:"w-4 h-4"})]})]}),o.jsx("div",{children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto border rounded-lg",children:o.jsxs(Cr,{children:[o.jsx(Or,{className:"sticky top-0 bg-background z-10",children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16 text-center",children:"순위"}),o.jsx(Le,{children:"동영상 정보"})]})}),o.jsxs(Pr,{children:[e.slice(0,10).map((l,c)=>o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center font-medium",children:c+1}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:l.channelName}),o.jsx(Ue,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:l.category}),o.jsx(Ue,{className:Hi(l.performanceRatio).color,children:Hi(l.performanceRatio).label})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${l.title} - 새 탭에서 열기`,children:l.title}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["현재: ",Wi(l.views),"회"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["평균: ",Wi(l.averageViews),"회"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[l.performanceRatio.toFixed(1),"x"]})]})]})]})]})})]},l.id)),e.length>10&&e.slice(10).map((l,c)=>o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center font-medium",children:c+11}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-32 bg-muted",children:o.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:l.channelName}),o.jsx(Ue,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:l.category}),o.jsx(Ue,{className:Hi(l.performanceRatio).color,children:Hi(l.performanceRatio).label})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${l.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${l.title} - 새 탭에서 열기`,children:l.title}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["현재: ",Wi(l.views),"회"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["평균: ",Wi(l.averageViews),"회"]}),o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:[l.performanceRatio.toFixed(1),"x"]})]})]})]})]})})]},l.id))]})]})})})]})})}class rZ{constructor(){Rt(this,"config",{useIndexedDB:!0,usePostgreSQL:!1,syncEnabled:!1})}async initialize(t){try{this.config={...this.config,...t},this.config.useIndexedDB&&(await xe.init(),console.log("✅ IndexedDB 초기화 완료")),this.config.usePostgreSQL&&typeof window>"u"&&console.log("✅ PostgreSQL 초기화 완료 (서버 환경)"),console.log("✅ 하이브리드 데이터베이스 초기화 완료")}catch(r){throw console.error("❌ 하이브리드 데이터베이스 초기화 실패:",r),r}}async saveChannels(t){try{this.config.useIndexedDB&&(await xe.saveChannels(t),console.log(`✅ ${t.length}개 채널을 IndexedDB에 저장 완료`)),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveChannels(t),console.log(`✅ ${t.length}개 채널을 PostgreSQL에 저장 완료`))}catch(r){throw console.error("❌ 채널 데이터 저장 실패:",r),r}}async saveVideos(t){try{this.config.useIndexedDB&&(await xe.saveVideos(t),console.log(`✅ ${t.length}개 영상을 IndexedDB에 저장 완료`)),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveVideos(t),console.log(`✅ ${t.length}개 영상을 PostgreSQL에 저장 완료`))}catch(r){throw console.error("❌ 영상 데이터 저장 실패:",r),r}}async saveClassificationData(t){try{this.config.useIndexedDB&&(await xe.saveClassificationData(t),console.log("✅ 분류 데이터를 IndexedDB에 저장 완료")),this.config.usePostgreSQL&&typeof window>"u"&&(await postgresqlService.saveClassificationData(t),console.log("✅ 분류 데이터를 PostgreSQL에 저장 완료"))}catch(r){throw console.error("❌ 분류 데이터 저장 실패:",r),r}}async saveClassificationLog(t,r,n,a){const s={channelId:t,category:r,subCategory:n,effectiveDate:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:a||"manual_user",id:crypto.randomUUID()};try{if(this.config.useIndexedDB&&(await xe.saveClassificationLog(s),console.log(`✅ 분류 로그 IndexedDB 저장 완료: ${t}`)),typeof window<"u")try{if(!(await fetch("/api/sync/classification-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("분류 로그 서버 저장 실패");console.log("✅ 분류 로그 PostgreSQL 저장 완료 (API)")}catch(i){console.error("❌ 분류 로그 서버 저장 실패:",i)}else this.config.usePostgreSQL&&console.log("⚠️ 서버 환경에서 PostgreSQL 직접 저장은 구현 필요")}catch(i){throw console.error("❌ 분류 로그 저장 실패:",i),i}}async getChannels(){try{if(this.config.useIndexedDB){const t=await xe.loadUnclassifiedData()||[],r=await xe.loadClassifiedData()||[],n=[...t,...r],a=new Map;return n.forEach(s=>{s.channelId&&!a.has(s.channelId)&&a.set(s.channelId,{id:s.channelId,name:s.channelName,description:s.description})}),Array.from(a.values())}return[]}catch(t){return console.error("❌ 채널 데이터 조회 실패:",t),[]}}async getVideos(){try{if(this.config.useIndexedDB){const t=await xe.loadUnclassifiedData()||[],r=await xe.loadClassifiedData()||[];return[...t,...r]}return[]}catch(t){return console.error("❌ 영상 데이터 조회 실패:",t),[]}}async getClassificationData(){try{return this.config.useIndexedDB?await xe.loadClassifiedData()||[]:[]}catch(t){return console.error("❌ 분류 데이터 조회 실패:",t),[]}}async getCategoryStats(){try{return this.config.useIndexedDB?await xe.getCategoryStats():[]}catch(t){return console.error("❌ 카테고리 통계 조회 실패:",t),[]}}async syncToPostgreSQL(){try{if(!this.config.syncEnabled){console.log("⚠️ 동기화가 비활성화되어 있습니다.");return}console.log("🔄 IndexedDB에서 PostgreSQL로 데이터 동기화 시작...");const t=await xe.getChannels();t.length>0&&(await postgresqlService.saveChannels(t),console.log(`✅ ${t.length}개 채널 동기화 완료`));const r=await xe.getVideos();r.length>0&&(await postgresqlService.saveVideos(r),console.log(`✅ ${r.length}개 영상 동기화 완료`));const n=await xe.getClassificationData();n.length>0&&(await postgresqlService.saveClassificationData(n),console.log(`✅ ${n.length}개 분류 데이터 동기화 완료`)),console.log("✅ 데이터 동기화 완료")}catch(t){throw console.error("❌ 데이터 동기화 실패:",t),t}}async syncFromPostgreSQL(){var t,r,n,a,s,i,l,c,u,f,d,h,m,y,p,v;if(!this.config.syncEnabled){console.log("⚠️ 동기화가 비활성화되어 있습니다.");return}console.log("🔄 API 게이트웨이를 통한 동기화 시작...");try{const x=localStorage.getItem("last_sync_time")||"1970-01-01T00:00:00.000Z";console.log("📅 마지막 동기화 시간:",x);const w=await fetch("/api/sync/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastSyncTime:x})});if(console.log("📡 서버 응답 상태:",w.status,w.statusText),!w.ok){let N=`API를 통한 동기화 실패 (${w.status} ${w.statusText})`;try{const j=await w.json();N+=`: ${j.error||j.message||JSON.stringify(j)}`,console.error("❌ 서버 에러 응답:",j)}catch{const S=await w.text();N+=`: ${S||"알 수 없는 오류"}`,console.error("❌ 서버 에러 텍스트:",S)}throw new Error(N)}const b=await w.json();console.log("📥 서버에서 받은 데이터:",{channels:((t=b.channels)==null?void 0:t.length)||0,videos:((r=b.videos)==null?void 0:r.length)||0,classificationData:((n=b.classificationData)==null?void 0:n.length)||0,unclassifiedData:((a=b.unclassifiedData)==null?void 0:a.length)||0}),((s=b.channels)==null?void 0:s.length)>0||((i=b.videos)==null?void 0:i.length)>0||((l=b.classificationData)==null?void 0:l.length)>0||((c=b.unclassifiedData)==null?void 0:c.length)>0?(((u=b.channels)==null?void 0:u.length)>0&&await xe.saveChannels(b.channels||[]),((f=b.videos)==null?void 0:f.length)>0&&await xe.saveVideos(b.videos||[]),((d=b.classificationData)==null?void 0:d.length)>0&&await xe.saveClassificationData(b.classificationData||[]),((h=b.unclassifiedData)==null?void 0:h.length)>0&&await xe.saveUnclassifiedData(b.unclassifiedData||[]),console.log(`✅ 최신 데이터 동기화 완료: 채널 ${((m=b.channels)==null?void 0:m.length)||0}개, 영상 ${((y=b.videos)==null?void 0:y.length)||0}개, 분류 ${((p=b.classificationData)==null?void 0:p.length)||0}개, 미분류 ${((v=b.unclassifiedData)==null?void 0:v.length)||0}개`)):console.log("✨ 이미 최신 상태입니다. (서버 응답)"),localStorage.setItem("last_sync_time",new Date().toISOString()),console.log("✅ 동기화 완료 및 시간 갱신")}catch(x){throw console.error("❌ 동기화 중 오류 발생:",x),x instanceof TypeError&&x.message.includes("fetch")?new Error("네트워크 오류: 서버에 연결할 수 없습니다. 인터넷 연결을 확인해주세요."):x}}updateConfig(t){this.config={...this.config,...t},console.log("✅ 하이브리드 데이터베이스 설정 업데이트:",this.config)}getConfig(){return{...this.config}}async getStatus(){try{const t=await this.getChannels(),r=await this.getVideos(),n=await this.getClassificationData();return{indexeddb:this.config.useIndexedDB,postgresql:this.config.usePostgreSQL,syncEnabled:this.config.syncEnabled,totalChannels:t.length,totalVideos:r.length,totalClassificationData:n.length}}catch(t){return console.error("❌ 데이터베이스 상태 확인 실패:",t),{indexeddb:!1,postgresql:!1,syncEnabled:!1,totalChannels:0,totalVideos:0,totalClassificationData:0}}}}const Xx=new rZ,nZ=()=>{const{userEmail:e,userRole:t,logout:r}=Ar(),n=Gt(),a=Zs(),s=t==="admin";g.useEffect(()=>{(async()=>{try{console.log("🔄 웹 실행: PostgreSQL에서 최신 데이터 동기화 시작"),Xx.updateConfig({syncEnabled:!0}),await Xx.syncFromPostgreSQL(),console.log("✅ 최신 데이터 동기화 완료. 화면에 표시 시작")}catch(c){console.error("❌ 초기 동기화 실패:",c)}})()},[]);const i=()=>{r(),n("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[a.pathname==="/dashboard"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"국내"}):o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"국내"})}),a.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsx(Ne,{to:"/trend",children:o.jsxs(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),a.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(Ne,{to:"/data",children:o.jsx(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"})}),a.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsx(Ne,{to:"/system",children:o.jsxs(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})}),o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsxs(X,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(wc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[s&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:i,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsx(u_,{}),o.jsx(JJ,{}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(ZJ,{}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx(eZ,{}),o.jsx(tZ,{})]})]})]})]})},aZ=()=>{var x;const{category:e}=Ch(),[t,r]=g.useState(Jt),[n,a]=g.useState([]),[s,i]=g.useState([]),[l,c]=g.useState([]),[u,f]=g.useState([]),[d,h]=g.useState(!0),[m,y]=g.useState("all");g.useEffect(()=>{const w=async()=>{try{const N=await xe.loadCategories();N&&Object.keys(N).length>0&&r(N)}catch(N){console.error("카테고리 로드 실패:",N)}};w();const b=()=>{w()};return window.addEventListener("categoriesUpdated",b),()=>{window.removeEventListener("categoriesUpdated",b)}},[]);const p=w=>w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":w.toString();g.useEffect(()=>{(async()=>{const b=setTimeout(()=>{console.warn("⏰ 카테고리 채널 순위 데이터 로드 강제 타임아웃 (15초)"),h(!1)},15e3);try{h(!0);const N=await xe.loadClassifiedData();if(console.log(`📊 카테고리 채널 순위 - IndexedDB에서 로드: ${N.length}개`),setTimeout(async()=>{try{const j=new Promise((A,O)=>{setTimeout(()=>{console.warn("⏱️ 백그라운드 서버 동기화 타임아웃 (10초)"),O(new Error("백그라운드 동기화 타임아웃"))},1e4)}),S=await Promise.race([ot.getClassifiedData(),j]);if(S&&S.length>N.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${S.length}개 > 로컬 ${N.length}개`),f(S),e)){const A=S.filter(O=>O.category===e)}}catch(j){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",j)}},1e3),console.log(`📊 카테고리 채널 순위 - 전체 분류된 데이터: ${N.length}개`),console.log("📊 카테고리 채널 순위 - 데이터 날짜 분포:",N.reduce((j,S)=>{var O;const A=(O=S.collectionDate||S.uploadDate)==null?void 0:O.split("T")[0];return A&&(j[A]=(j[A]||0)+1),j},{})),N&&e){f(N),console.log(`📊 전체 분류된 데이터: ${N.length}개`);const j=N.filter(C=>C.category===e);console.log(`📊 카테고리 동영상 순위 - ${e} 카테고리 데이터: ${j.length}개`);const S={};N.forEach(C=>{C.category&&(S[C.category]=(S[C.category]||0)+1)}),console.log("📊 카테고리별 데이터 개수:",S);let A=null;if(j.forEach(C=>{const U=C.collectionDate||C.uploadDate;if(!U)return;const M=new Date(U);(!A||M>A)&&(A=M)}),!A){console.log("📅 수집된 데이터가 없습니다."),i([]),c([]);return}const O=A.toISOString().split("T")[0];console.log(`📅 가장 최근 수집 날짜: ${O}`);const $=j.filter(C=>{const U=C.collectionDate||C.uploadDate;return U?U.split("T")[0]===O:!1});console.log(`📊 가장 최근 날짜(${O}) 데이터: ${j.length}개 → ${$.length}개`);const F={};$.forEach(C=>{const U=C.videoId||C.id;U&&(!F[U]||(C.viewCount||0)>(F[U].viewCount||0))&&(F[U]=C)}),console.log(`📊 중복 제거 완료: ${$.length}개 → ${Object.keys(F).length}개`);const _=Object.values(F).map((C,U)=>{var K;const M=C.videoId||C.id;return{rank:U+1,thumbnail:C.thumbnailUrl||`https://via.placeholder.com/128x128?text=${((K=C.videoTitle)==null?void 0:K.substring(0,2))||"YT"}`,videoTitle:C.videoTitle||"제목 없음",channelName:C.channelName||"채널명 없음",todayViews:C.viewCount||0,category:C.category,subCategory:C.subCategory||"미분류",channelId:C.channelId,videoId:M,topVideoUrl:M?`https://www.youtube.com/watch?v=${M}`:"",topVideoTitle:C.videoTitle||"",description:C.description||C.videoDescription||""}}).sort((C,U)=>U.todayViews-C.todayViews).map((C,U)=>({...C,rank:U+1}));console.log(`📊 카테고리 채널 순위 - 생성된 채널 데이터: ${_.length}개`),console.log("📊 카테고리 채널 순위 - 채널 데이터 샘플:",_.slice(0,3)),i(_),c(_)}}catch(N){console.error("분류된 데이터 로드 실패:",N)}finally{clearTimeout(b),h(!1)}})()},[e]);const v=g.useCallback(()=>{if(console.log(`🔍 세부카테고리 필터링 - 선택된 세부카테고리: "${m}"`),console.log(`🔍 세부카테고리 필터링 - 전체 채널 데이터: ${s.length}개`),m==="all")console.log("🔍 세부카테고리 필터링 - 전체 선택, 모든 데이터 표시"),c(s);else{const w=s.filter(b=>b.subCategory===m);console.log(`🔍 세부카테고리 필터링 - "${m}" 필터링 결과: ${w.length}개`),c(w)}},[m,s]);return g.useEffect(()=>{v()},[m,s,v]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(X,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(X,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",children:o.jsxs(X,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold",style:{color:Hr[e]},children:[e," 조회수 급등 동영상"]}),o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx(Ue,{variant:"secondary",className:"text-white",style:{backgroundColor:Hr[e],borderColor:Hr[e]},children:e})," 카테고리 조회수 급등 동영상 순위"]})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"카테고리 선택"}),o.jsx("div",{className:"grid grid-cols-9 gap-2",children:Object.keys(Jt).map(w=>o.jsx(Ne,{to:`/category/${encodeURIComponent(w)}`,children:o.jsx(Ue,{variant:e===w?"default":"outline",className:`cursor-pointer transition-all duration-200 w-full text-center text-sm py-2 ${e===w?"text-white shadow-lg":"border-border text-muted-foreground"}`,style:{backgroundColor:e===w?Hr[w]:void 0,borderColor:e===w?Hr[w]:void 0},children:w})},w))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"💡 카테고리를 클릭하면 해당 카테고리의 채널 순위를 확인할 수 있습니다."})]})}),s.length>0&&o.jsx(we,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-medium text-foreground",children:"필터 설정"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리:"}),o.jsxs(Bt,{value:m,onValueChange:y,children:[o.jsx(_t,{className:"w-48",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),(x=t[e])==null?void 0:x.map(w=>o.jsx(Ze,{value:w,children:w},w))]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.length,"개 표시 (전체 ",s.length,"개 중) • 가장 최근 수집 데이터만 표시"]})]})]})}),o.jsx(we,{className:"p-6",children:l.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"text-muted-foreground mb-4",children:[o.jsx("div",{className:"text-lg font-medium",children:"📊 데이터가 없습니다"}),o.jsx("div",{className:"text-sm mt-2",children:s.length===0?`${e} 카테고리의 데이터가 없습니다.`:`선택한 세부카테고리 "${m}"에 해당하는 데이터가 없습니다.`}),o.jsx("div",{className:"text-xs mt-1",children:s.length===0?"다른 카테고리를 선택해보세요.":"다른 세부카테고리를 선택해보세요."})]}),o.jsx(X,{asChild:!0,children:o.jsx(Ne,{to:"/dashboard",children:"대시보드로 돌아가기"})})]}):o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsxs(Cr,{children:[o.jsx(Or,{children:o.jsxs(pt,{className:"bg-muted/50",children:[o.jsx(Le,{className:"text-center font-semibold",children:"순위"}),o.jsx(Le,{className:"font-semibold",children:"썸네일"}),o.jsx(Le,{className:"font-semibold",children:"제목"}),o.jsx(Le,{className:"font-semibold",children:"채널명"}),o.jsx(Le,{className:"text-right font-semibold",children:"조회수"}),o.jsx(Le,{className:"font-semibold",children:"세부카테고리"})]})}),o.jsx(Pr,{children:l.map(w=>o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"text-center",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:`text-lg font-bold ${w.rank<=3?"text-youtube":"text-foreground"}`,children:w.rank})})}),o.jsx(Ie,{children:o.jsx("div",{className:"relative overflow-hidden rounded",children:o.jsx("img",{src:w.thumbnail,alt:w.videoTitle,className:"w-64 h-64 object-cover object-center",style:{objectPosition:"50% 50%",clipPath:"inset(0 10% 0 10%)"}})})}),o.jsx(Ie,{className:"max-w-80",children:w.topVideoUrl&&w.topVideoTitle?o.jsxs("div",{className:"space-y-1",children:[o.jsx("a",{href:w.topVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 text-sm font-medium hover:underline cursor-pointer block",title:`${w.topVideoTitle} - 새 탭에서 열기`,children:o.jsx("div",{className:"truncate",children:w.topVideoTitle})}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:w.description||"영상 설명 정보 없음"})]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"영상 정보 없음"})}),o.jsx(Ie,{children:o.jsx(Ne,{to:`/channel/${w.channelId}`,className:"text-blue-500 hover:text-blue-700 hover:underline cursor-pointer",children:w.channelName})}),o.jsxs(Ie,{className:"text-right",children:[o.jsx("span",{className:"font-semibold text-foreground",children:p(w.todayViews)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.todayViews.toLocaleString(),"회"]})]}),o.jsx(Ie,{children:o.jsx(Ue,{variant:"outline",className:"border-border text-muted-foreground",children:w.subCategory})})]},w.videoId))})]})})})]})]})},Cd=e=>e>=1e8?`${(e/1e8).toFixed(1)}억`:e>=1e4?`${(e/1e4).toFixed(1)}만`:e.toLocaleString(),oZ=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=t[0].payload;return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-lg",children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",children:r}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"조회수:"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:n.views.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"변화율:"}),o.jsxs("span",{className:`text-sm font-medium ${n.change>0?"text-success":"text-danger"}`,children:[n.change>0?"+":"",n.change,"%"]})]})]})]})}return null},sZ=()=>{const{category:e}=Ch(),t=decodeURIComponent(e||""),r=Gt(),[n,a]=g.useState([]),[s,i]=g.useState([]);if(g.useEffect(()=>{(async()=>{try{if(t){setIsLoading(!0);let m=await xe.loadClassifiedData();a(m);let y=m.filter(p=>p.category===t);i(y),console.log(`📊 카테고리 일별 상세 - IndexedDB에서 로드: ${m.length}개, ${t} 카테고리 ${y.length}개`),setTimeout(async()=>{try{const p=await hybridService.getClassifiedData();p.length>m.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${p.length}개 > 로컬 ${m.length}개`),m=p,y=m.filter(v=>v.category===t),a(m),i(y))}catch(p){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",p)}},1e3)}}catch(m){console.error("분류된 데이터 로드 실패:",m)}})()},[t]),!t)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs(we,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"카테고리를 찾을 수 없습니다"}),o.jsx(X,{onClick:()=>r("/"),children:"홈으로 돌아가기"})]})});const l=Hr[t],c=s.reduce((h,m)=>h+(m.viewCount||0),0),u=s.length>0?Math.round(c/s.length):0,f=new Set(s.map(h=>h.channelName)).size,d=s.length>0?s.map((h,m)=>{const y=m>0?s[m-1].viewCount:h.viewCount,p=y>0?(h.viewCount-y)/y*100:0;return{date:h.collectionDate||h.uploadDate,views:h.viewCount,change:Math.round(p*100)/100}}):[];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(X,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(X,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",children:o.jsxs(X,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l}}),o.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:[t," 카테고리 상세"]}),o.jsx(Ue,{variant:"secondary",className:"bg-accent text-accent-foreground",children:"일별 조회수 분석"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"총 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:Cd(c)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체"}),o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[s.length,"개 영상"]})]})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"평균 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:Cd(u)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"영상당"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"평균"})]})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"채널 수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:f})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"고유"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"채널"})]})]})})]}),o.jsxs(we,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"일별 조회수 추이"}),o.jsx(cu,{width:"100%",height:400,children:o.jsxs(Eu,{data:d,children:[o.jsx(xi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12}),o.jsx(Ea,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:h=>Cd(h)}),o.jsx(fr,{content:o.jsx(oZ,{})}),o.jsx(Hn,{type:"monotone",dataKey:"views",stroke:l,strokeWidth:3,dot:{fill:l,strokeWidth:2,r:5},activeDot:{r:7,stroke:l,strokeWidth:3}})]})})]}),o.jsxs(we,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"일별 상세 데이터"}),o.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:o.jsxs(Cr,{children:[o.jsx(Or,{children:o.jsxs(pt,{className:"bg-muted/50",children:[o.jsx(Le,{className:"font-semibold",children:"날짜"}),o.jsx(Le,{className:"text-right font-semibold",children:"조회수"}),o.jsx(Le,{className:"text-center font-semibold",children:"전일대비 변화율"}),o.jsx(Le,{className:"text-right font-semibold",children:"전일 대비 증감"})]})}),o.jsx(Pr,{children:d.map((h,m)=>{const y=m>0?d[m-1].views:h.views,p=h.views-y;return o.jsxs(pt,{className:"hover:bg-surface-hover transition-colors",children:[o.jsx(Ie,{className:"font-medium text-foreground",children:h.date}),o.jsx(Ie,{className:"text-right font-medium text-foreground",children:h.views.toLocaleString()}),o.jsx(Ie,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[h.change>0?o.jsx(He,{className:"w-4 h-4 text-success"}):o.jsx(kn,{className:"w-4 h-4 text-danger"}),o.jsxs("span",{className:`font-medium ${h.change>0?"text-success":"text-danger"}`,children:[h.change>0?"+":"",h.change,"%"]})]})}),o.jsx(Ie,{className:"text-right",children:o.jsx("span",{className:`font-medium ${p>0?"text-success":p<0?"text-danger":"text-muted-foreground"}`,children:m>0?o.jsxs(o.Fragment,{children:[p>0?"+":"",p.toLocaleString()]}):"-"})})]},h.date)})})]})})]})]})]})},iZ=()=>{const{channelId:e}=Ch(),t=Zs(),r=Gt(),{userEmail:n,userRole:a,logout:s}=Ar(),i=a==="admin",[l,c]=g.useState(Jt),[u,f]=g.useState(null),[d,h]=g.useState([]),[m,y]=g.useState(!0),p=()=>{s(),r("/")};g.useEffect(()=>{const w=async()=>{try{const N=await xe.loadCategories();N&&Object.keys(N).length>0&&c(N)}catch(N){console.error("카테고리 로드 실패:",N)}};w();const b=()=>{w()};return window.addEventListener("categoriesUpdated",b),()=>{window.removeEventListener("categoriesUpdated",b)}},[]);const v=w=>w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":w.toString();if(g.useEffect(()=>{(async()=>{var b,N;try{y(!0);const j=await xe.loadUnclassifiedData(),S=await xe.loadClassifiedData(),A=j.filter(C=>C.channelId===e),O=S.filter(C=>C.channelId===e);console.log(`📊 채널 상세 - IndexedDB에서 로드: unclassified ${j.length}개, classified ${S.length}개`),setTimeout(async()=>{try{const[C,U]=await Promise.all([ot.loadUnclassifiedData(),ot.getClassifiedData()]),M=C.filter(T=>T.channelId===e),K=U.filter(T=>T.channelId===e);(M.length>A.length||K.length>O.length)&&console.log("🔄 백그라운드 동기화: 서버 데이터 더 많음")}catch(C){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",C)}},1e3);const $=[...A,...O],F=new Map;$.forEach(C=>{const U=`${C.videoId}-${C.dayKeyLocal||C.collectionDate}`;F.has(U)||F.set(U,C)});const _=Array.from(F.values());if(console.log(`📊 채널 상세 - channelId: ${e}`),console.log(`📊 unclassified_data에서 찾은 데이터: ${A.length}개`),console.log(`📊 classification_data에서 찾은 데이터: ${O.length}개`),console.log(`📊 중복 제거 후 최종 데이터: ${_.length}개`),e&&_.length>0){const C=_[0],U=_.reduce((L,E)=>L+(E.viewCount||0),0),M=Math.round(U/_.length),K=new Date,T=[];for(let L=6;L>=0;L--){const E=new Date(K);E.setDate(K.getDate()-L);const G=E.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),ee=_.filter(Q=>{const ie=Q.collectionDate||Q.uploadDate;return ie?ie.split("T")[0]===G:!1}).reduce((Q,ie)=>Q+(ie.viewCount||0),0);T.push({date:G,daily_view_count:ee})}const P=((b=_.find(L=>L.thumbnailUrl&&!L.thumbnailUrl.includes("placeholder")))==null?void 0:b.thumbnailUrl)||`https://via.placeholder.com/128x128?text=${((N=C.channelName)==null?void 0:N.substring(0,2))||"CH"}`;f({channelId:C.channelId,channelName:C.channelName,description:C.description||"비어있음",category:C.category,subCategory:C.subCategory||"미분류",youtubeUrl:`https://www.youtube.com/channel/${C.channelId}`,thumbnail:P,totalViews:U,averageViews:M,videoCount:_.length,dailyUploads:2.71,weeklyViews:U,avgVideoLength:50.97,shortsRatio:100,dailyViews:T,lastModified:"6시간 전"}),h(_)}y(!1)}catch(j){console.error("채널 데이터 로드 실패:",j),y(!1)}})()},[e]),m)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"채널 정보를 불러오는 중..."})]})});if(!u)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs(we,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"채널을 찾을 수 없습니다"}),o.jsx(X,{onClick:()=>window.history.back(),children:"뒤로 가기"})]})});const x=({active:w,payload:b,label:N})=>w&&b&&b.length?o.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-medium text-foreground",children:N}),o.jsxs("p",{className:"text-muted-foreground",children:["조회수: ",v(b[0].value)]})]}):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[t.pathname==="/dashboard"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"국내"}):o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"국내"})}),t.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsx(Ne,{to:"/trend",children:o.jsxs(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),t.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(Ne,{to:"/data",children:o.jsx(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"})}),t.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsx(Ne,{to:"/system",children:o.jsxs(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})}),o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsxs(X,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(wc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[i&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:p,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"채널 정보"}),u.category&&o.jsx(Ne,{to:`/category/${encodeURIComponent(u.category)}`,children:o.jsxs(X,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-black hover:text-white hover:border-black",children:[o.jsx(al,{className:"w-4 h-4 mr-2"}),u.category," 카테고리로"]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Channel ID:"}),o.jsx(Ue,{variant:"secondary",className:"text-white bg-blue-600",children:u.channelId}),o.jsx(X,{variant:"ghost",size:"sm",className:"p-1 h-auto","aria-label":"닫기",title:"닫기",children:o.jsx(bc,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:u.thumbnail,alt:u.channelName,className:"w-12 h-12 rounded"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-foreground",children:u.channelName}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"채널명"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"채널설명:"}),o.jsx("div",{className:"bg-muted/50 p-3 rounded-lg max-h-32 overflow-y-auto",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"카테고리:"}),o.jsx(Ne,{to:`/category/${encodeURIComponent(u.category)}`,children:o.jsx(Ue,{variant:"outline",className:"cursor-pointer hover:bg-black hover:text-white hover:border-black transition-colors",children:u.category})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"세부카테고리:"}),o.jsx(Ue,{variant:"outline",children:u.subCategory})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"유튜브URL:"}),o.jsxs("a",{href:u.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center space-x-1",children:[o.jsx("span",{children:u.youtubeUrl}),o.jsx(al,{className:"w-3 h-3"})]})]})]})]})]})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"상세 정보"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"일평균 업로드수:"}),o.jsx("span",{className:"font-medium text-foreground",children:u.dailyUploads})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{const w=new Date,b=new Date(w);return b.setDate(w.getDate()-7),`${b.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})}-${w.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})} 총 조회수:`})()}),o.jsx("span",{className:"font-medium text-foreground",children:u.weeklyViews.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"영상평균시간(초):"}),o.jsx("span",{className:"font-medium text-foreground",children:u.avgVideoLength})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"숏폼 비율(%):"}),o.jsx("span",{className:"font-medium text-foreground",children:u.shortsRatio})]})]})]})})]}),o.jsxs(we,{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"채널 일별 조회수"}),o.jsx(cu,{width:"100%",height:400,children:o.jsxs(Eu,{data:u.dailyViews,children:[o.jsx(xi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tick:{fontSize:10}}),o.jsx(Ea,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:w=>`${(w/1e6).toFixed(1)}M`}),o.jsx(fr,{content:o.jsx(x,{})}),o.jsx(Hn,{type:"monotone",dataKey:"daily_view_count",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F97316",strokeWidth:2}})]})})]})]})]})};var Du="Switch",[lZ,kee]=rn(Du),[cZ,uZ]=lZ(Du),Q1=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,m]=g.useState(null),y=et(t,b=>m(b)),p=g.useRef(!1),v=h?f||!!h.closest("form"):!0,[x,w]=sa({prop:a,defaultProp:s??!1,onChange:u,caller:Du});return o.jsxs(cZ,{scope:r,checked:x,disabled:l,children:[o.jsx(ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":tA(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onClick:Se(e.onClick,b=>{w(N=>!N),v&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),v&&o.jsx(eA,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Q1.displayName=Du;var J1="SwitchThumb",Z1=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=uZ(J1,r);return o.jsx(ze.span,{"data-state":tA(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Z1.displayName=J1;var dZ="SwitchBubbleInput",eA=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=g.useRef(null),l=et(i,s),c=I0(r),u=t0(t);return g.useEffect(()=>{const f=i.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&m){const y=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(y)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eA.displayName=dZ;function tA(e){return e?"checked":"unchecked"}var rA=Q1,fZ=Z1;const tl=g.forwardRef(({className:e,...t},r)=>o.jsx(rA,{className:ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(fZ,{className:ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tl.displayName=rA.displayName;const Zt=["브이로그","리뷰","언박싱","튜토리얼","케이팝","인터뷰","예능","라방","비하인드","idol","k-pop","게임요약","게임 공략","뷰티","메이크업","패션","요리","K푸드","여행","인테리어","집꾸미기","공부","시험","취업","부동산 이슈","경제 이슈","경제 요약","재테크","뉴스 요약","사회 이슈","정치 이슈","정치 요약","연예인","아이돌","가수","스타 소식","트롯트","영화","드라마","영화리뷰","드라마리뷰","인공지능","ai 이슈","기술 트렌드","스포츠 요약","스포츠 이슈","운동","쇼핑","쇼핑리뷰","구매","리뷰","취미","여가","반려동물","애니메이션","애니","웹툰","생활 정보","건강관리","반전","지혜","인생 사연","감동 사연","인생","국뽕","실화","썰","밈","힐링","커뮤니티","짤","모음","플리","플레이 리스트","짜집기","해외 썰","해외 이슈","해외 정보","해외 밈","해외 경제"],hZ={keywords:Zt,maxResults:1e4,maxRequests:140,regionCode:"KR",requestDelay:500,collectionInterval:300,minViewCount:void 0,koreanOnly:!0,languageFilterLevel:"moderate"},es=()=>{const e=localStorage.getItem("youtubepulse_collection_config");return e?JSON.parse(e):hZ};class rl{static async unregisterServiceWorker(){try{if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistrations();for(const r of t)console.log("🗑️ 서비스워커 등록 해제:",r.scope),await r.unregister();return console.log("✅ 모든 서비스워커 등록 해제 완료"),!0}return!1}catch(t){return console.error("❌ 서비스워커 등록 해제 실패:",t),!1}}static async clearBrowserCache(){try{if("caches"in window){const t=await caches.keys();for(const r of t)console.log("🗑️ 캐시 삭제:",r),await caches.delete(r);return console.log("✅ 모든 브라우저 캐시 정리 완료"),!0}return!1}catch(t){return console.error("❌ 브라우저 캐시 정리 실패:",t),!1}}static clearLocalStorage(t=[]){try{const r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&!t.includes(a)&&r.push(a)}return r.forEach(n=>{console.log("🗑️ localStorage 삭제:",n),localStorage.removeItem(n)}),console.log("✅ localStorage 정리 완료"),!0}catch(r){return console.error("❌ localStorage 정리 실패:",r),!1}}static async fullCleanup(){console.log("🧹 전체 캐시 정리 시작...");const t=["userEmail","userRole","youtubeApiKey","youtubeApiKeys","activeYoutubeApiKeyIndex","youtubeApiEnabled","customApiUrl","customApiEnabled","customApiKey","systemConfig"],r={serviceWorker:await this.unregisterServiceWorker(),cache:await this.clearBrowserCache(),localStorage:this.clearLocalStorage(t)};return console.log("✅ 전체 정리 완료:",r),r}static async clearAssociatedCache(){try{if(console.log("🗑️ IndexedDB 연관 캐시 정리 시작..."),"caches"in window){const t=await caches.keys();for(const r of t)await caches.delete(r),console.log(`🗑️ 캐시 삭제: ${r}`)}if("serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistrations();for(const r of t)await r.unregister(),console.log("🗑️ 서비스 워커 등록 해제:",r.scope)}console.log("✅ 연관 캐시 정리 완료")}catch(t){throw console.error("❌ 캐시 정리 실패:",t),t}}static hardRefresh(){console.log("🔄 강력한 새로고침 실행..."),this.unregisterServiceWorker(),this.clearBrowserCache(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}typeof window<"u"&&(window.CacheCleanup=rl,window.hardRefresh=rl.hardRefresh,window.clearAllCache=rl.fullCleanup);const Mee=Object.freeze(Object.defineProperty({__proto__:null,CacheCleanup:rl},Symbol.toStringTag,{value:"Module"})),Xa=typeof window>"u"&&typeof process<"u"&&typeof process.cwd=="function",nA=()=>{if(!Xa)return null;try{const e=require("path");return typeof process<"u"&&typeof process.cwd=="function"?e.join(process.cwd(),"data","api-key-usage.json"):null}catch{return null}},Od=()=>{if(!Xa)return{};try{const e=require("fs"),t=nA();return!t||!e.existsSync(t)?{}:JSON.parse(e.readFileSync(t,"utf-8"))}catch{return{}}},Qx=e=>{if(Xa)try{const t=require("fs"),r=require("path"),n=nA();if(!n)return;const a=r.dirname(n);t.existsSync(a)||t.mkdirSync(a,{recursive:!0}),t.writeFileSync(n,JSON.stringify(e,null,2))}catch{}},aA={getItem:e=>Xa?Od()[e]||null:localStorage.getItem(e),setItem:(e,t)=>{if(Xa){const r=Od();r[e]=t,Qx(r)}else localStorage.setItem(e,t)},removeItem:e=>{if(Xa){const t=Od();delete t[e],Qx(t)}else localStorage.removeItem(e)}},oA="youtubeApiKeyUsage",mZ=1e4;function sA(e){try{aA.setItem(oA,JSON.stringify(e))}catch(t){console.error("API 키 사용량 저장 실패:",t)}}function iA(){try{const e=aA.getItem(oA);if(e)return JSON.parse(e)}catch(e){console.error("API 키 사용량 불러오기 실패:",e)}return{}}function lA(){return`quota_${new Date().toISOString().split("T")[0]}`}function pZ(e){const t=lA();return localStorage.getItem("lastQuotaReset")!==t&&(Object.keys(e).forEach(n=>{const a=parseInt(n);e[a]&&(e[a].usedQuota=0,e[a].isExhausted=!1,e[a].lastUsed=new Date().toISOString())}),localStorage.setItem("lastQuotaReset",t),sA(e)),e}function Jx(){const e=localStorage.getItem("youtubeApiKeys");if(!e)return[];let t=[];try{const s=JSON.parse(e);Array.isArray(s)&&(t=s.filter(i=>typeof i=="string"))}catch{return[]}const r=pZ(iA()),n=localStorage.getItem("activeYoutubeApiKeyIndex"),a=n?parseInt(n,10):0;return t.map((s,i)=>{const l=r[i]||{dailyQuota:mZ,usedQuota:0,lastUsed:"",isExhausted:!1},c=Math.max(0,l.dailyQuota-l.usedQuota),u=l.usedQuota/l.dailyQuota*100;return{index:i,key:s?`${s.substring(0,10)}...`:"미설정",usedQuota:l.usedQuota,remainingQuota:c,dailyQuota:l.dailyQuota,usagePercent:Math.min(100,u),isActive:i===a,isExhausted:l.isExhausted||!s||s.trim().length===0,lastUsed:l.lastUsed||"사용 안 함"}})}function gZ(e){const t=iA();e!==void 0?t[e]&&(t[e].usedQuota=0,t[e].isExhausted=!1,t[e].lastUsed=new Date().toISOString()):Object.keys(t).forEach(r=>{const n=parseInt(r);t[n]&&(t[n].usedQuota=0,t[n].isExhausted=!1,t[n].lastUsed=new Date().toISOString())}),sA(t),localStorage.setItem("lastQuotaReset",lA())}var Tu="Dialog",[cA,Ree]=rn(Tu),[vZ,zr]=cA(Tu),uA=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,f]=sa({prop:n,defaultProp:a??!1,onChange:s,caller:Tu});return o.jsx(vZ,{scope:t,triggerRef:l,contentRef:c,contentId:mn(),titleId:mn(),descriptionId:mn(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};uA.displayName=Tu;var dA="DialogTrigger",yZ=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(dA,r),s=et(t,a.triggerRef);return o.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dp(a.open),...n,ref:s,onClick:Se(e.onClick,a.onOpenToggle)})});yZ.displayName=dA;var cp="DialogPortal",[xZ,fA]=cA(cp,{forceMount:void 0}),hA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=zr(cp,t);return o.jsx(xZ,{scope:t,forceMount:r,children:g.Children.map(n,i=>o.jsx(nn,{present:r||s.open,children:o.jsx(ti,{asChild:!0,container:a,children:i})}))})};hA.displayName=cp;var hc="DialogOverlay",mA=g.forwardRef((e,t)=>{const r=fA(hc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=zr(hc,e.__scopeDialog);return s.modal?o.jsx(nn,{present:n||s.open,children:o.jsx(wZ,{...a,ref:t})}):null});mA.displayName=hc;var bZ=oa("DialogOverlay.RemoveScroll"),wZ=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(hc,r);return o.jsx(Ic,{as:bZ,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(ze.div,{"data-state":dp(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ba="DialogContent",pA=g.forwardRef((e,t)=>{const r=fA(ba,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=zr(ba,e.__scopeDialog);return o.jsx(nn,{present:n||s.open,children:s.modal?o.jsx(jZ,{...a,ref:t}):o.jsx(SZ,{...a,ref:t})})});pA.displayName=ba;var jZ=g.forwardRef((e,t)=>{const r=zr(ba,e.__scopeDialog),n=g.useRef(null),a=et(t,r.contentRef,n);return g.useEffect(()=>{const s=n.current;if(s)return Yh(s)},[]),o.jsx(gA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,s=>s.preventDefault())})}),SZ=g.forwardRef((e,t)=>{const r=zr(ba,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return o.jsx(gA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),gA=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=zr(ba,r),c=g.useRef(null),u=et(t,c);return Hh(),o.jsxs(o.Fragment,{children:[o.jsx($c,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(Ao,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(NZ,{titleId:l.titleId}),o.jsx(CZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),up="DialogTitle",vA=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(up,r);return o.jsx(ze.h2,{id:a.titleId,...n,ref:t})});vA.displayName=up;var yA="DialogDescription",xA=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(yA,r);return o.jsx(ze.p,{id:a.descriptionId,...n,ref:t})});xA.displayName=yA;var bA="DialogClose",wA=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zr(bA,r);return o.jsx(ze.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,()=>a.onOpenChange(!1))})});wA.displayName=bA;function dp(e){return e?"open":"closed"}var jA="DialogTitleWarning",[Lee,SA]=AC(jA,{contentName:ba,titleName:up,docsSlug:"dialog"}),NZ=({titleId:e})=>{const t=SA(jA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},AZ="DialogDescriptionWarning",CZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SA(AZ).contentName}}.`;return g.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},OZ=uA,PZ=hA,NA=mA,AA=pA,CA=vA,OA=xA,EZ=wA;const Sh=OZ,DZ=PZ,PA=g.forwardRef(({className:e,...t},r)=>o.jsx(NA,{ref:r,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PA.displayName=NA.displayName;const mc=g.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(DZ,{children:[o.jsx(PA,{}),o.jsxs(AA,{ref:n,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(EZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(bc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mc.displayName=AA.displayName;const pc=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pc.displayName="DialogHeader";const EA=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});EA.displayName="DialogFooter";const gc=g.forwardRef(({className:e,...t},r)=>o.jsx(CA,{ref:r,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));gc.displayName=CA.displayName;const vc=g.forwardRef(({className:e,...t},r)=>o.jsx(OA,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));vc.displayName=OA.displayName;const La=3,TZ=()=>{const{userRole:e,isLoggedIn:t}=Ar(),r=Gt(),n=Be||"https://api.youthbepulse.com",[a,s]=g.useState(()=>{var Oe;const k=localStorage.getItem("youtubeApiKeys");let I=[];if(k)try{const Te=JSON.parse(k);Array.isArray(Te)&&(I=Te.filter(tt=>typeof tt=="string").slice(0,La))}catch(Te){console.warn("YouTube API 키 목록 파싱 실패, 기본값 사용:",Te)}const B=localStorage.getItem("youtubeApiKey")||"";B&&!I.length&&(I=[B]),I.length||(I=[""]);const R=localStorage.getItem("activeYoutubeApiKeyIndex");let ce=R?parseInt(R,10):0;(Number.isNaN(ce)||ce<0||ce>=I.length)&&(ce=0);const he=localStorage.getItem("customApiUrl")||n,ge=localStorage.getItem("customApiEnabled")==="true",le=localStorage.getItem("customApiKey")||"",$e=localStorage.getItem("youtubeApiEnabled")==="true",me=ge!==null?ge:!1,je=I.some(Te=>Te)?!0:$e,Ee=((Oe=I.find(Te=>Te))==null?void 0:Oe.substring(0,10))||null;return console.log("🔧 설정 로드:",{youtubeApiKeys:I.map((Te,tt)=>({index:tt,status:Te?"설정됨":"미설정"})),primaryYoutubeApiKey:Ee?`${Ee}...`:"미설정",youtubeApiEnabled:je,customApiUrl:he,customApiEnabled:me,customApiKey:le?"설정됨":"미설정"}),console.log("🔍 localStorage 직접 확인:",{youtubeApiKeys:localStorage.getItem("youtubeApiKeys"),legacyYoutubeApiKey:localStorage.getItem("youtubeApiKey"),youtubeApiEnabled:localStorage.getItem("youtubeApiEnabled"),customApiKey:localStorage.getItem("customApiKey"),customApiUrl:localStorage.getItem("customApiUrl"),customApiEnabled:localStorage.getItem("customApiEnabled")}),{youtubeApiKeys:I,activeYoutubeApiKeyIndex:ce,youtubeApiEnabled:je,customApiUrl:he,customApiEnabled:me,customApiKey:le}}),[i,l]=g.useState({dataRefreshInterval:300,maxRetryAttempts:3,enableAutoSync:!0,enableNotifications:!0});a.youtubeApiKeys[a.activeYoutubeApiKeyIndex];const c=a.youtubeApiKeys.some(k=>k.trim().length>0),[u,f]=g.useState(!1),[d,h]=g.useState(null),[m,y]=g.useState(!1),[p,v]=g.useState("idle"),[x,w]=g.useState(""),[b,N]=g.useState(!1),[j,S]=g.useState(""),[A,O]=g.useState([]);g.useEffect(()=>{const k=localStorage.getItem("userEmail"),I=localStorage.getItem("userRole");if(console.log("🔍 System 페이지 권한 체크 (상세):",{isLoggedIn:t,userRole:e,userEmail:k,storedRole:I,localStorage_userEmail:localStorage.getItem("userEmail"),localStorage_userRole:localStorage.getItem("userRole")}),!t){console.log("❌ 로그인되지 않음 - 로그인 페이지로 리다이렉트"),r("/login");return}console.log("✅ 로그인 확인됨 - System 페이지 접근 허용 (모든 로그인 사용자 허용)")},[t,e,r]),D.useEffect(()=>{const k=()=>{const B=Jx();O(B)};k();const I=setInterval(k,5e3);return()=>clearInterval(I)},[a.youtubeApiKeys,a.activeYoutubeApiKeyIndex]),D.useEffect(()=>{localStorage.getItem("customApiEnabled")===null&&(localStorage.setItem("customApiEnabled","false"),localStorage.setItem("customApiUrl",n),console.log("🔧 커스텀 API 기본값 설정 완료 (Railway 서버 문제로 비활성화)"))},[n]);const[$,F]=g.useState("idle"),[_,C]=g.useState(""),[U,M]=g.useState("idle"),[K,T]=g.useState(""),[P,L]=g.useState(null);function E(k){return k.length===0?[""]:k}const G=()=>{if(a.youtubeApiKeys.length>=La){alert(`YouTube API 키는 최대 ${La}개까지 등록할 수 있습니다.`);return}s(k=>({...k,youtubeApiKeys:[...k.youtubeApiKeys,""]}))},ee=k=>{s(I=>{let B=[...I.youtubeApiKeys];if(B.length===1)return B=[""],{...I,youtubeApiKeys:B,activeYoutubeApiKeyIndex:0};B.splice(k,1),B=E(B);let R=I.activeYoutubeApiKeyIndex;return R===k?R=0:R>k&&(R=R-1),{...I,youtubeApiKeys:B,activeYoutubeApiKeyIndex:R}}),P!==null&&(P===k?(M("idle"),T(""),L(null)):P>k&&L(P-1))},Q=k=>{s(I=>({...I,activeYoutubeApiKeyIndex:k}))},ie=(k,I)=>{s(B=>{const R=[...B.youtubeApiKeys];return k>=R.length?B:(R[k]=I,{...B,youtubeApiKeys:E(R)})}),P===k&&(M("idle"),T(""),L(null))},re=async k=>{var R;const I=k??a.activeYoutubeApiKeyIndex,B=(R=a.youtubeApiKeys[I])==null?void 0:R.trim();if(!B){L(I),M("error"),T(`API 키 ${I+1}번이 비어 있습니다.`);return}L(I),M("testing"),T(`YouTube API 키 ${I+1}번을 테스트하고 있습니다...`);try{const ce=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=test&maxResults=1&key=${B}`);if(!ce.ok)throw new Error(`API Error: ${ce.status}`);const he=await ce.json();if(he.error)throw new Error(he.error.message||"API 키가 유효하지 않습니다.");M("success"),T(`YouTube API 키 ${I+1}번 연결이 성공했습니다!`)}catch(ce){M("error"),T(ce instanceof Error?ce.message:"API 테스트에 실패했습니다.")}},Ae=async()=>{F("testing"),C("API 서버를 테스트하고 있습니다...");try{if(!a.customApiUrl)throw new Error("API 서버 URL이 설정되지 않았습니다.");const k=await fetch(`${a.customApiUrl}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!k.ok)throw new Error(`API 서버 연결 실패: ${k.status}`);const I=await k.json();F("success"),C(`API 서버 연결 성공! 서버 상태: ${I.status||"OK"}`)}catch(k){F("error"),C(k instanceof Error?k.message:"알 수 없는 오류")}},ae=()=>{if(!j.trim()){alert("API 키를 입력해주세요.");return}const k=j.trim();let I=!1;s(B=>{let R=[...B.youtubeApiKeys],ce=B.activeYoutubeApiKeyIndex;const he=R.findIndex(le=>le===k);if(he>=0)ce=he,R[he]=k;else{const le=R.findIndex($e=>!$e.trim());le>=0?(R[le]=k,ce=le):R.length<La?(R=[...R,k],ce=R.length-1):(R=[...R.slice(1),k],ce=R.length-1,I=!0)}return{...B,youtubeApiKeys:E(R),activeYoutubeApiKeyIndex:ce,youtubeApiEnabled:!0}}),I&&alert(`YouTube API 키는 최대 ${La}개까지만 저장됩니다.
가장 오래된 키를 교체하고 새 키를 추가했습니다.`),console.log("✅ API 키 저장 완료:",j.trim().substring(0,10)+"..."),N(!1),S(""),v("success"),w("API 키가 저장되었습니다. 이제 데이터 수집을 시작합니다."),setTimeout(()=>{v("idle"),w("")},3e3),setTimeout(()=>{V()},500)},de=async()=>{const k=a.youtubeApiKeys.map(R=>R.trim());if(!k.some(R=>R.length>0)){S(""),N(!0);return}if(!k[a.activeYoutubeApiKeyIndex]){const R=k.findIndex(ce=>ce.length>0);R>=0&&s(ce=>({...ce,activeYoutubeApiKeyIndex:R,youtubeApiEnabled:!0}))}await V()},V=async()=>{var k,I,B,R;try{const he=a.youtubeApiKeys.map(fe=>fe.trim()),ge=he.length;if(!he.some(fe=>fe.length>0)){alert("YouTube API 키가 필요합니다.");return}let le=a.activeYoutubeApiKeyIndex;if(!he[le]){const fe=he.findIndex(Ce=>Ce.length>0);if(fe===-1){alert("사용 가능한 YouTube API 키가 없습니다. 시스템 페이지에서 키를 등록해 주세요.");return}le=fe,s(Ce=>({...Ce,activeYoutubeApiKeyIndex:fe,youtubeApiEnabled:!0}))}let $e=he[le];const me=["quotaexceeded","dailylimitexceeded","ratelimitexceeded","userratelimitexceeded","keyinvalid","quota"],je=(fe,Ce)=>{var Ve,Re;if(fe===403||fe===429){const Xe=(Ve=Ce==null?void 0:Ce.error)==null?void 0:Ve.errors;if(Array.isArray(Xe)&&Xe.some(_e=>me.some(Ot=>((_e==null?void 0:_e.reason)||"").toString().toLowerCase().includes(Ot.toLowerCase()))))return!0;const vt=(((Re=Ce==null?void 0:Ce.error)==null?void 0:Re.message)||"").toString().toLowerCase();if(me.some(_e=>vt.includes(_e.toLowerCase())))return!0}return!1},Ee=(fe,Ce)=>{if(ge<=1)return!1;for(let Ve=1;Ve<ge;Ve++){const Re=(le+Ve)%ge,Xe=he[Re];if(Xe)return le=Re,$e=Xe,s(vt=>({...vt,activeYoutubeApiKeyIndex:Re,youtubeApiEnabled:!0})),console.warn(`⚠️ ${fe}: YouTube API 키(${le+1}번)로 전환합니다. 사유: ${Ce}`),!0}return!1},Oe=async(fe,Ce)=>{var Re,Xe,vt,_e;let Ve=0;for(;Ve<ge;){if(!$e){if(!Ee(Ce,"현재 키가 비어 있습니다"))break;Ve++;continue}const Ot=fe($e);try{const jt=await fetch(Ot),Tr=await jt.text();let bt=null;if(Tr)try{bt=JSON.parse(Tr)}catch{bt=null}if(!jt.ok||bt!=null&&bt.error){const Da=((Re=bt==null?void 0:bt.error)==null?void 0:Re.message)||((_e=(vt=(Xe=bt==null?void 0:bt.error)==null?void 0:Xe.errors)==null?void 0:vt[0])==null?void 0:_e.message)||`${jt.status} ${jt.statusText}`||"알 수 없는 오류";if(je(jt.status,bt)){if(!Ee(Ce,Da))throw new Error(`YouTube API 키 할당량이 모두 소진되었습니다. (${Da})`);Ve++;continue}throw new Error(`${Ce} 요청 실패: ${Da}`)}return bt??{}}catch(jt){if(jt instanceof Error&&jt.message.includes("할당량이 모두 소진"))throw jt;if(!Ee(Ce,jt instanceof Error?jt.message:"네트워크 오류"))throw jt instanceof Error?jt:new Error(`${Ce} 요청 중 오류가 발생했습니다.`);Ve++}}throw new Error("사용 가능한 YouTube API 키가 없습니다. 새로운 키를 등록해 주세요.")};if(window.autoCollectionInProgress){alert("⚠️ 자동 수집이 진행 중입니다. 잠시 후 다시 시도해주세요.");return}window.manualCollectionInProgress=!0;const Te=es(),tt=1e4;let H=0;console.log("=== 🔥 혼합 데이터 수집 시작 ==="),console.log("수집 방식: YouTube 트렌드 + 키워드 기반"),console.log("조회수 필터: 제거됨 (조회수 상위만 선택)"),console.log("====================================="),console.log("📺 1단계: YouTube 공식 트렌드 영상 수집 중...");let q=[];try{let fe="";for(let Ce=0;Ce<4;Ce++){const Ve=await Oe(Re=>`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=KR&maxResults=50${fe?`&pageToken=${fe}`:""}&key=${Re}`,`트렌드 영상 수집 (페이지 ${Ce+1})`);if(H++,Ve!=null&&Ve.items){if(q=[...q,...Ve.items],console.log(`✅ 트렌드 영상 ${(Ce+1)*50}개 수집 중... (현재: ${q.length}개)`),fe=Ve.nextPageToken,console.log(`📄 페이지 ${Ce+1}: nextPageToken = ${fe?"있음":"없음 (더 이상 페이지 없음)"}`),!fe)break}else{console.warn("⚠️ 트렌드 영상 수집 실패, 키워드 수집만 진행");break}Ce<3&&await new Promise(Re=>setTimeout(Re,500))}if(console.log(`✅ 트렌드 영상 총 ${q.length}개 수집 완료`),Te.koreanOnly){const Ce=q.length;q=q.filter(Ve=>{var _e,Ot;const Re=((_e=Ve.snippet)==null?void 0:_e.title)||"",Xe=((Ot=Ve.snippet)==null?void 0:Ot.channelTitle)||"";return/[가-힣]/.test(Re)||/[가-힣]/.test(Xe)}),console.log(`🇰🇷 한글 필터링: ${Ce}개 → ${q.length}개 (${Ce-q.length}개 제거)`)}}catch(fe){console.error("❌ 트렌드 영상 수집 오류:",fe),console.log("⚠️ 키워드 수집만 진행합니다.")}console.log("🔍 2단계: 키워드 기반 영상 수집 중...");const Y=Te.keywords||Zt;let ve=[],W=0;for(const fe of Y){if(ve.length>=tt){console.log(`최대 수집 수(${tt}) 도달`);break}try{console.log(`키워드 "${fe}" 수집 시작...`);const Ce=await Oe(_e=>`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(fe)}&type=video&maxResults=50&regionCode=KR&order=viewCount&key=${_e}`,`키워드 "${fe}" 검색`);if(H++,!Ce.items||Ce.items.length===0){console.log(`키워드 "${fe}" 검색 결과 없음`);continue}const Ve=Ce.items.map(_e=>_e.id.videoId).join(","),Re=await Oe(_e=>`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${Ve}&key=${_e}`,`키워드 "${fe}" 영상 상세`);H++;const Xe=Re.items||[],vt=Xe.map(_e=>({..._e,searchKeyword:fe}));ve=[...ve,...vt],W+=Xe.length,console.log(`키워드 "${fe}" 수집: ${Xe.length}개 영상 추가 (총 ${ve.length}개)`),await new Promise(_e=>setTimeout(_e,500))}catch(Ce){console.error(`키워드 "${fe}" 수집 오류:`,Ce);continue}}console.log(`✅ 키워드 수집 완료: 총 ${ve.length}개 영상`),console.log("🔄 3단계: 트렌드 + 키워드 영상 합치기 및 중복 제거...");const ne=[...q,...ve],pe=ne;console.log(`🔄 모든 영상 유지: ${ne.length}개 영상 (중복 제거 없음, 각 영상 독립 처리)`),pe.sort((fe,Ce)=>{var Xe,vt;const Ve=parseInt(((Xe=fe.statistics)==null?void 0:Xe.viewCount)||"0");return parseInt(((vt=Ce.statistics)==null?void 0:vt.viewCount)||"0")-Ve}),console.log(`📊 조회수 정렬 완료 (최고: ${parseInt(((I=(k=pe[0])==null?void 0:k.statistics)==null?void 0:I.viewCount)||"0").toLocaleString()}회, 최저: ${parseInt(((R=(B=pe[pe.length-1])==null?void 0:B.statistics)==null?void 0:R.viewCount)||"0").toLocaleString()}회)`),console.log("=== 🔥 혼합 수집 통계 ==="),console.log(`트렌드 영상: ${q.length}개`),console.log(`키워드 영상: ${ve.length}개 (${Y.length}개 키워드)`),console.log(`전체 수집: ${ne.length}개`),console.log(`최종 영상: ${pe.length}개`),console.log(`API 요청: ${H}번`),console.log("========================");const ye=[...new Set(pe.map(fe=>fe.snippet.channelId))];let z=[];for(let fe=0;fe<ye.length;fe+=50){const Ce=ye.slice(fe,fe+50),Ve=await Oe(Re=>`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${Ce.join(",")}&key=${Re}`,"채널 정보 수집");H++,z=[...z,...Ve.items],console.log(`채널 정보 수집: ${z.length}/${ye.length} 채널 완료`),fe+50<ye.length&&await new Promise(Re=>setTimeout(Re,500))}let ue=[];const se=new Date;se.setDate(se.getDate()-14);const te=se.toISOString().split("T")[0];try{if(!Be){console.log("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터만 사용합니다.");const fe=await xe.loadCategories();fe&&Object.keys(fe).length>0&&setDynamicSubCategories(fe),setIsLoading(!1);return}if(Be){const fe=await fetch(`${Be}/api/unclassified`);if(fe.ok){const Ce=await fe.json();Ce.success&&Ce.data&&(ue=Ce.data.filter(Re=>{const Xe=Re.status==="classified",vt=Re.dayKeyLocal||Re.day_key_local||Re.collectionDate||Re.collection_date,_e=vt&&vt>=te;return Xe&&_e}),console.log("📊 서버에서 분류 데이터 로드 성공"),console.log(`📊 분류 데이터 참조 범위: 최근 14일 (${te} 이후)`),console.log(`📊 최근 14일 분류 데이터: ${ue.length}개`))}else throw console.warn("서버 조회 실패, IndexedDB에서 로드 시도"),new Error("Server fetch failed")}else console.warn("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터로 대체합니다.")}catch{console.log("📊 IndexedDB에서 분류 데이터 로드...");try{ue=(await ot.loadUnclassifiedData()).filter(Ve=>{const Re=Ve.status==="classified",Xe=Ve.collectionDate>=te;return Re&&Xe}),console.log(`📊 IndexedDB에서 분류 데이터 로드: ${ue.length}개`),console.log(`📊 분류 데이터 참조 범위: 최근 14일 (${te} 이후)`)}catch{console.log("기존 분류 데이터 로드 실패, 새로 시작합니다."),ue=[]}}const Z=new Map,J=new Map;ue.forEach(fe=>{(!J.has(fe.channelId)||fe.collectionDate>J.get(fe.channelId).collectionDate)&&J.set(fe.channelId,{category:fe.category,subCategory:fe.subCategory,collectionDate:fe.collectionDate,channelName:fe.channelName})}),J.forEach((fe,Ce)=>{Z.set(Ce,{category:fe.category,subCategory:fe.subCategory})}),console.log(`📊 분류 참조 채널: ${Z.size}개`),console.log("📊 분류 참조 기간: 최근 14일간의 최신 분류 정보만 사용"),console.log("📊 기존 분류 시스템: 14일간 분류 이력 기반 분류 적용");const De=qe();console.log("🔥 데이터 수집 날짜 (한국시간):",De),console.log("🔥 현재 시간 (한국시간):",new Date(nl()).toLocaleString("ko-KR")),console.log("🔥 수집된 영상 개수:",pe.length);const rt=await ot.loadUnclassifiedData(),Me=new Map;rt.forEach(fe=>{if(!Me.has(fe.videoId))Me.set(fe.videoId,fe.collectionDate);else{const Ce=Me.get(fe.videoId);fe.collectionDate<Ce&&Me.set(fe.videoId,fe.collectionDate)}}),console.log(`📊 기존 영상 날짜 매핑: ${Me.size}개 영상의 최초 수집일 확인`);const gt=pe.map((fe,Ce)=>{var Ot,jt,Tr,bt,Da,$u;const Ve=z.find(FA=>FA.id===fe.snippet.channelId),Re=Z.get(fe.snippet.channelId),Xe=De;let vt="trending",_e="trending";return fe.searchKeyword&&(vt=fe.searchKeyword,_e="keyword"),{id:Date.now()+Ce,channelId:fe.snippet.channelId,channelName:fe.snippet.channelTitle,description:((Ot=Ve==null?void 0:Ve.snippet)==null?void 0:Ot.description)||"설명 없음",videoId:fe.id,videoTitle:fe.snippet.title,videoDescription:fe.snippet.description,viewCount:parseInt(((jt=fe.statistics)==null?void 0:jt.viewCount)||"0"),uploadDate:fe.snippet.publishedAt.split("T")[0],collectionDate:Xe,thumbnailUrl:((bt=(Tr=fe.snippet.thumbnails)==null?void 0:Tr.high)==null?void 0:bt.url)||(($u=(Da=fe.snippet.thumbnails)==null?void 0:Da.default)==null?void 0:$u.url)||"",category:(Re==null?void 0:Re.category)||"",collectionType:"manual",collectionTimestamp:nl(),collectionSource:"system_page",keyword:vt,source:_e,subCategory:(Re==null?void 0:Re.subCategory)||"",status:Re?"classified":"unclassified",autoClassified:!!Re}});try{const fe=await ot.loadUnclassifiedData(),Ce=new Map;fe.forEach(_e=>{const Ot=`${_e.videoId}_${_e.collectionDate}`;Ce.set(Ot,_e)}),gt.forEach(_e=>{var jt,Tr;const Ot=`${_e.videoId}_${_e.collectionDate}`;if(!Ce.has(Ot))Ce.set(Ot,_e);else{const bt=Ce.get(Ot);_e.collectionDate===De?_e.viewCount>bt.viewCount?(console.log(`📊 오늘 영상 교체 (조회수 높음): ${_e.videoTitle} - ${(jt=bt.viewCount)==null?void 0:jt.toLocaleString()} → ${(Tr=_e.viewCount)==null?void 0:Tr.toLocaleString()}`),Ce.set(Ot,_e)):_e.viewCount===bt.viewCount&&bt.status==="unclassified"&&_e.status==="classified"&&(console.log(`📊 오늘 영상 교체 (분류됨): ${_e.videoTitle} - ${bt.status} → ${_e.status}`),Ce.set(Ot,_e)):console.log(`📊 다른 날짜 영상 보존: ${_e.videoTitle} (${_e.collectionDate}) - 이미 지난 날짜, 건드리지 않음`)}});const Re=Array.from(Ce.values()).map((_e,Ot)=>{(!_e.id||typeof _e.id!="string")&&(_e.id=`${Date.now()}_${Math.random().toString(36).substr(2,9)}_${Ot}`);const Tr=`${_e.videoId?_e.videoId.substring(0,8):"unknown"}_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return{..._e,id:_e.id||Tr}}),Xe=new Map,vt=Re.filter(_e=>Xe.has(_e.id)?(console.warn(`중복 ID 발견, 제거됨: ${_e.id}`),!1):(Xe.set(_e.id,!0),!0));console.log("📊 일별 데이터 처리 완료:"),console.log(`   - 기존 데이터: ${fe.length}개`),console.log(`   - 새 수집 데이터: ${gt.length}개`),console.log(`   - 최종 저장 데이터: ${vt.length}개`),console.log(`   - 일별 데이터 보존: ${vt.length-fe.length}개 추가`),console.log(`   - 같은 날짜 중복 업데이트: ${gt.length-(vt.length-fe.length)}개`),console.log(`   - 중복 ID 제거: ${Re.length-vt.length}개`),await ot.saveUnclassifiedData(vt)}catch(fe){console.error("IndexedDB 저장 오류:",fe),alert("데이터 저장 중 오류가 발생했습니다.")}const Wr=gt.filter(fe=>!Z.has(fe.channelId)).length,ir=gt.filter(fe=>Z.has(fe.channelId)).length,On=gt.filter(fe=>fe.autoClassified).length,Ke=gt.filter(fe=>!fe.autoClassified).length;console.log("📊 분류 결과:"),console.log(`   - 기존 분류 적용: ${On}개`),console.log(`   - 미분류: ${Ke}개`);const Ge=H,ut=Ge*100,lr=pe.length>0?Math.round(pe.reduce((fe,Ce)=>{var Ve;return fe+parseInt(((Ve=Ce.statistics)==null?void 0:Ve.viewCount)||"0")},0)/pe.length):0;alert(`🔥 혼합 데이터 수집이 완료되었습니다!

📺 YouTube 트렌드: ${q.length}개
🔍 키워드 수집: ${ve.length}개 (${Y.length}개 키워드)
━━━━━━━━━━━━━━━━━━━━━━
📊 전체 수집: ${ne.length}개
✅ 중복 제거 후: ${pe.length}개
📈 조회수 정렬: 상위부터 저장됨
━━━━━━━━━━━━━━━━━━━━━━
🎬 총 채널: ${gt.length}개
🆕 새 채널: ${Wr}개 (분류 필요)
♻️ 기존 분류 적용: ${On}개
❓ 미분류: ${Ke}개
📊 평균 조회수: ${lr.toLocaleString()}회
━━━━━━━━━━━━━━━━━━━━━━
🔧 API 요청: ${Ge}번
💰 할당량: 약 ${ut} units

기존 분류가 적용된 영상은 이미 분류 완료 상태입니다.
미분류 영상만 수동 분류하면 됩니다.`),window.manualCollectionInProgress=!1}catch(ce){console.error("데이터 수집 오류:",ce),alert("데이터 수집 중 오류가 발생했습니다: "+(ce instanceof Error?ce.message:ce)),window.manualCollectionInProgress=!1}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Sh,{open:b,onOpenChange:N,children:o.jsxs(mc,{className:"sm:max-w-[500px]",children:[o.jsxs(pc,{children:[o.jsxs(gc,{className:"flex items-center space-x-2",children:[o.jsx(ss,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"YouTube API 키 설정"})]}),o.jsx(vc,{children:"데이터 수집을 위해 YouTube API 키를 입력해주세요. 입력된 API 키는 자동으로 저장됩니다."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"api-key-input",children:"API 키"}),o.jsx(yt,{id:"api-key-input",type:"text",placeholder:"YouTube Data API v3 키를 입력하세요",value:j,onChange:k=>S(k.target.value),onKeyDown:k=>{k.key==="Enter"&&ae()},className:"font-mono",autoFocus:!0})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"💡 API 키 발급 방법:"}),o.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:["1. ",o.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"Google Cloud Console"}),"에 로그인"]}),o.jsx("li",{children:"2. 새 프로젝트 생성 또는 기존 프로젝트 선택"}),o.jsxs("li",{children:["3. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/library/youtube.googleapis.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"YouTube Data API v3"})," 활성화"]}),o.jsxs("li",{children:["4. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"사용자 인증 정보"}),"에서 API 키 생성"]}),o.jsx("li",{children:"5. 생성된 API 키를 위에 입력"})]})]}),p!=="idle"&&o.jsx("div",{className:`p-3 rounded-lg text-sm ${p==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[p==="success"&&o.jsx(aa,{className:"w-4 h-4"}),p==="error"&&o.jsx(ol,{className:"w-4 h-4"}),o.jsx("span",{children:x})]})})]}),o.jsxs(EA,{children:[o.jsx(X,{variant:"outline",onClick:()=>N(!1),children:"취소"}),o.jsxs(X,{onClick:ae,disabled:!j.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(ub,{className:"w-4 h-4 mr-2"}),"저장하고 수집 시작"]})]})]})}),o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/user-management",children:o.jsxs(X,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(X,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(X,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsxs(X,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsx(Ne,{to:"/subcategory-settings",children:o.jsxs(X,{size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white",children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"세부카테고리"]})})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"시스템 설정"}),o.jsx("p",{className:"text-muted-foreground",children:"데이터 연동 및 시스템 설정을 관리합니다"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"저장 기준: IndexedDB (로컬 전용) · 수집: 트렌드 + 키워드 혼합 · 정렬: 조회수 상위"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(X,{variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",onClick:de,children:[o.jsx(nC,{className:"w-4 h-4 mr-2"}),"데이터 수집 시작"]}),o.jsx(Ne,{to:"/data-classification",children:o.jsxs(X,{variant:"outline",children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"데이터 분류 관리"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(aC,{className:"w-5 h-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"API 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx($t,{className:"text-sm font-medium",children:"YouTube Data API 활성화"}),o.jsx(tl,{checked:a.youtubeApiEnabled,onCheckedChange:k=>s(I=>({...I,youtubeApiEnabled:k,youtubeApiKeys:k?E(I.youtubeApiKeys):I.youtubeApiKeys}))})]}),o.jsxs("div",{className:"space-y-3 border-t pt-3",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx($t,{className:"text-sm font-medium text-blue-700",children:"📝 YouTube API 키"})}),a.youtubeApiKeys.map((k,I)=>{const B=a.activeYoutubeApiKeyIndex===I,R=U==="testing"&&P===I,ce=P===I&&U!=="idle",he=A.find(me=>me.index===I),ge=(he==null?void 0:he.usagePercent)||0,le=(he==null?void 0:he.remainingQuota)||0,$e=(he==null?void 0:he.isExhausted)||!1;return o.jsxs("div",{className:"border border-muted rounded-lg p-3 space-y-2 bg-muted/30",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ue,{variant:B?"default":"outline",children:B?"사용 중":"대기"}),$e&&o.jsx(Ue,{variant:"destructive",className:"text-xs",children:"할당량 소진"}),o.jsxs("span",{className:"text-sm font-semibold text-foreground",children:["API 키 ",I+1]})]}),o.jsx("code",{className:"block text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded break-all",children:k?k.length>12?`${k.substring(0,8)}${"*".repeat(k.length-12)}${k.substring(k.length-4)}`:"****":"(미입력)"}),he&&k&&o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"할당량 사용률"}),o.jsxs("span",{className:`font-semibold ${ge>=95?"text-red-600":ge>=80?"text-orange-600":"text-green-600"}`,children:[ge.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${ge>=95?"bg-red-600":ge>=80?"bg-orange-600":"bg-green-600"}`,style:{width:`${Math.min(100,ge)}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:["사용: ",he.usedQuota.toLocaleString()," / ",he.dailyQuota.toLocaleString()]}),o.jsxs("span",{children:["남은 할당량: ",le.toLocaleString()]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(X,{variant:B?"secondary":"outline",size:"sm",onClick:()=>Q(I),disabled:!k.trim()||B||$e,children:B?"현재 사용 중":"이 키 사용"}),o.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{if(window.confirm(`API 키 ${I+1}번의 할당량 사용량을 초기화하시겠습니까?`)){gZ(I);const me=Jx();O(me)}},title:"할당량 초기화",className:"text-xs",children:"초기화"}),a.youtubeApiKeys.length>1&&o.jsx(X,{variant:"ghost",size:"icon",onClick:()=>ee(I),title:"API 키 삭제",children:o.jsx(_d,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(yt,{id:`youtube-api-key-${I}`,type:"password",autoComplete:"off",placeholder:"YouTube Data API 키를 입력하세요",value:k,onChange:me=>ie(I,me.target.value),className:"flex-1 font-mono text-sm"}),o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>re(I),disabled:!k.trim()||U==="testing",children:[o.jsx(gp,{className:`w-4 h-4 mr-1 ${R?"animate-spin":""}`}),R?"테스트 중...":"테스트"]})]}),ce&&o.jsx("div",{className:`p-2 rounded-lg text-sm ${U==="success"?"bg-green-50 border border-green-200 text-green-800":U==="error"?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[U==="success"&&o.jsx(aa,{className:"w-4 h-4"}),U==="error"&&o.jsx(ol,{className:"w-4 h-4"}),U==="testing"&&o.jsx(cn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:K})]})})]},I)}),a.youtubeApiKeys.length<La&&o.jsx(X,{variant:"outline",size:"sm",onClick:G,children:o.jsx("span",{className:"font-medium text-sm",children:"+ API 키 추가"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(al,{className:"w-3 h-3 inline mr-1"}),o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Google Cloud Console에서 API 키 발급받기"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"API 키 발급 방법:"}),o.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:["1. ",o.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"}),"에 로그인"]}),o.jsx("li",{children:"2. 새 프로젝트 생성 또는 기존 프로젝트 선택"}),o.jsxs("li",{children:["3. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/library/youtube.googleapis.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"YouTube Data API v3"})," 활성화"]}),o.jsxs("li",{children:["4. ",o.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"사용자 인증 정보"}),"에서 API 키 생성"]}),o.jsx("li",{children:"5. 생성된 API 키를 위에 입력"})]})]})]})]})]}),Be?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx($t,{className:"text-sm font-medium",children:"커스텀 API"}),o.jsx(tl,{checked:a.customApiEnabled,onCheckedChange:I=>s(B=>({...B,customApiEnabled:I}))})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["현재 API URL: ",o.jsx("span",{className:"font-mono text-blue-600",children:Be||"미설정"})]}),a.customApiEnabled&&o.jsxs("div",{className:"space-y-2",children:[o.jsx($t,{htmlFor:"custom-api-url",children:"API URL"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(yt,{id:"custom-api-url",placeholder:n,value:a.customApiUrl,onChange:I=>s(B=>({...B,customApiUrl:I.target.value})),className:"flex-1"}),o.jsxs(X,{variant:"outline",size:"sm",onClick:Ae,disabled:!a.customApiUrl||$==="testing",children:[o.jsx(gp,{className:"w-4 h-4 mr-1"}),$==="testing"?"테스트 중...":"테스트"]})]}),$!=="idle"&&o.jsx("div",{className:`p-2 rounded-lg text-sm ${$==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:_}),o.jsx($t,{htmlFor:"custom-api-key",children:"API 키 (선택사항)"}),o.jsx(yt,{id:"custom-api-key",type:"password",autoComplete:"off",placeholder:"API 키를 입력하세요",value:a.customApiKey,onChange:I=>s(B=>({...B,customApiKey:I.target.value}))})]})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(sl,{className:"w-5 h-5 text-blue-600"}),o.jsx($t,{className:"text-sm font-medium text-blue-900",children:"IndexedDB 전용 모드"})]}),o.jsxs("p",{className:"text-xs text-blue-700",children:["현재 IndexedDB 전용 모드로 실행 중입니다.",o.jsx("br",{}),"서버 API 연결이 필요하지 않습니다.",o.jsx("br",{}),"모든 데이터는 로컬 IndexedDB에 저장됩니다."]})]})})]})]}),o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"시스템 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"💡 핵심 기능"}),o.jsxs("p",{className:"text-xs text-blue-700",children:["• 기존 분류 이력 기반 자동 분류 적용",o.jsx("br",{}),"• 최근 14일간 분류 이력 우선 적용",o.jsx("br",{}),"• IndexedDB 저장 (로컬 전용)",o.jsx("br",{}),"• API 키 자동 보존 (삭제 방지)"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsx("h4",{className:"text-sm font-medium text-purple-900 mb-2",children:"📊 데이터 수집"}),o.jsxs("p",{className:"text-xs text-purple-700",children:["• 트렌드 영상: 상위 200개 (YouTube 공식)",o.jsx("br",{}),"• 키워드 영상: ",Zt.length,"개 키워드 × 50개",o.jsx("br",{}),"• 자동 수집: 매일 09:00 KST (서버 cron)",o.jsx("br",{}),"• 수동 수집: 시스템 페이지에서 즉시 실행"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"🔐 보안 및 저장"}),o.jsxs("p",{className:"text-xs text-green-700",children:["• API 키: localStorage + IndexedDB 이중 저장",o.jsx("br",{}),"• API 키 마스킹 표시 (보안 강화)",o.jsx("br",{}),"• 실제 키 우선 보존 (빈 키로 덮어쓰기 방지)",o.jsx("br",{}),"• 데이터: IndexedDB 로컬 저장 (서버 동기화 옵션)"]})]})]})]}),o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Dn,{className:"w-5 h-5 text-indigo-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"데이터 수집 설정"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-lg",children:[o.jsxs("h4",{className:"text-sm font-bold text-blue-900 mb-3 flex items-center",children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"🔥 혼합 수집 방식"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"📺 트렌드 영상"}),o.jsx("p",{className:"text-sm font-bold text-blue-900",children:"상위 200개"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"YouTube 공식 (한글만)"})]}),o.jsxs("div",{className:"bg-white p-2 rounded border border-blue-200",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"🔍 키워드 영상"}),o.jsxs("p",{className:"text-sm font-bold text-blue-900",children:[Zt.length,"개 × 50개"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"조회수 상위"})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800",children:"수집 설정 상세"}),o.jsxs("div",{className:"space-y-1 text-xs text-green-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"트렌드 수집량:"}),o.jsx("span",{className:"font-medium",children:"200개 (50개씩 4페이지)"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"키워드 수집량:"}),o.jsxs("span",{className:"font-medium",children:[Zt.length*50,"개 (",Zt.length,"개 키워드 × 50개)"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"예상 총 수집량:"}),o.jsxs("span",{className:"font-medium text-green-600",children:[200+Zt.length*50,"개"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"중복 제거:"}),o.jsx("span",{className:"font-medium text-green-600",children:"조회수 높은 것 유지"})]})]})]}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1 bg-blue-100/50 p-2 rounded",children:[o.jsx("p",{children:"✓ 조회수 높은 순 자동 정렬"}),o.jsx("p",{children:"✓ 중복 시 조회수 높은 것 유지"}),o.jsxs("p",{children:["✓ 예상 수집: ",o.jsxs("strong",{children:["약 ",Math.floor((200+Zt.length*50)*.6).toLocaleString(),"~",Math.floor((200+Zt.length*50)*.7).toLocaleString(),"개"]})," (중복 제거 후)"]})]})]}),o.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx($t,{className:"text-sm font-medium text-yellow-900",children:"🇰🇷 한국어 영상만 수집"}),o.jsx(tl,{checked:(()=>{try{return es().koreanOnly??!0}catch{return!0}})(),onCheckedChange:k=>{const I=es();I.koreanOnly=k,localStorage.setItem("youtubepulse_collection_config",JSON.stringify(I))}})]}),o.jsxs(Bt,{value:(()=>{try{return es().languageFilterLevel||"moderate"}catch{return"moderate"}})(),onValueChange:k=>{const I=es();I.languageFilterLevel=k,localStorage.setItem("youtubepulse_collection_config",JSON.stringify(I))},children:[o.jsx(_t,{className:"text-xs",children:o.jsx(Ft,{})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"strict",children:"엄격 (제목+설명 모두 한국어)"}),o.jsx(Ze,{value:"moderate",children:"보통 (제목 또는 채널명 한국어)"}),o.jsx(Ze,{value:"loose",children:"느슨 (하나라도 한국어 포함)"})]})]})]})]})]}),o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-5 h-5 text-purple-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"데이터 수집 키워드"})]}),o.jsxs(Ue,{variant:"secondary",className:"text-sm",children:["총 ",Zt.length,"개"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-purple-900 mb-2",children:"💡 현재 설정된 키워드 목록입니다. 각 키워드당 50개씩 수집됩니다."}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Zt.map((k,I)=>o.jsx(Ue,{variant:"outline",className:"bg-white text-purple-700 border-purple-300",children:k},I))})]}),o.jsxs("div",{className:"text-xs text-purple-700 bg-purple-100/50 p-2 rounded",children:[o.jsx("p",{children:"✓ 키워드별 조회수 상위 50개 수집"}),o.jsxs("p",{children:["✓ 전체 키워드 수집량: ",Zt.length," × 50 = ",Zt.length*50,"개"]}),o.jsxs("p",{children:["✓ 중복 제거 후 최종 수집량: 약 ",Math.floor(Zt.length*50*.6).toLocaleString(),"~",Math.floor(Zt.length*50*.7).toLocaleString(),"개"]})]})]})]}),o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(ss,{className:"w-5 h-5 text-orange-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"연동 상태"})]}),Be?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.youtubeApiEnabled?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm font-medium",children:"YouTube API"})]}),o.jsx(Ue,{variant:a.youtubeApiEnabled?"default":"secondary",children:a.youtubeApiEnabled?"연결됨":"연결 안됨"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.customApiEnabled?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm font-medium",children:"커스텀 API"})]}),o.jsx(Ue,{variant:a.customApiEnabled?"default":"secondary",children:a.customApiEnabled?"연결됨":"연결 안됨"})]}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"font-medium text-sm mb-2 text-blue-800",children:"API 설정 상세"}),o.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"YouTube API 키:"}),o.jsx("span",{className:c?"text-green-600 font-medium":"text-red-600",children:c?`설정됨 (${a.youtubeApiKeys.filter(I=>I.trim()).length}개)`:"미설정"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"커스텀 API URL:"}),o.jsx("span",{className:"text-blue-600 font-mono text-xs",children:a.customApiUrl})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"커스텀 API 키:"}),o.jsx("span",{className:a.customApiKey?"text-green-600 font-medium":"text-red-600",children:a.customApiKey?"설정됨":"미설정"})]})]})]})]}):o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(sl,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-900",children:"IndexedDB 전용 모드"})]}),o.jsxs("p",{className:"text-xs text-blue-700 mb-3",children:["현재 IndexedDB 전용 모드로 실행 중입니다.",o.jsx("br",{}),"서버 API 연결이 필요하지 않습니다."]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"IndexedDB"})]}),o.jsx(Ue,{variant:"default",children:"연결됨"})]})]})})]})]})]})]})};function DA(e,t,r="overwrite"){const n=new Map,a=[];for(const i of e){const l=Nh(i.dayKey);n.set(l,{...i,dayKey:l,source:"server",updatedAt:i.updatedAt||Date.now()})}for(const i of t){const l=Nh(i.dayKey),c=n.get(l);if(!c)n.set(l,{...i,dayKey:l,source:"local",updatedAt:i.updatedAt||Date.now()});else{const u={dayKey:l,serverData:c,localData:i,resolution:"server"};if(r==="overwrite"){const f={...c,total:Math.max(c.total,i.total),done:Math.max(c.done,i.done),source:"merged",updatedAt:Math.max(c.updatedAt,i.updatedAt||0)};(i.updatedAt||0)>c.updatedAt&&(f.itemsHash=i.itemsHash||c.itemsHash),(i.pendingLocalOps||0)>0&&(f.pendingLocalOps=i.pendingLocalOps),n.set(l,f),u.resolution="merged"}else{const f={...c,total:Math.max(c.total,i.total),done:Math.max(c.done,i.done),source:"merged",updatedAt:Math.max(c.updatedAt,i.updatedAt||0),itemsHash:c.itemsHash||i.itemsHash};(i.pendingLocalOps||0)>0&&(f.pendingLocalOps=(c.pendingLocalOps||0)+i.pendingLocalOps),n.set(l,f),u.resolution="merged"}a.push(u)}}const s=Array.from(n.values()).sort((i,l)=>l.dayKey.localeCompare(i.dayKey));return{mergedDays:s,conflicts:a,stats:{totalDays:s.length,serverDays:e.length,localDays:t.length,mergedDays:s.length,conflicts:a.length}}}function Nh(e){try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${e}`);return t.toISOString().split("T")[0]}catch(t){return console.warn(`날짜 정규화 실패: ${e}`,t),e}}function bi(e,t="local"){const r=new Map;return e.forEach(n=>{const a=Nh(n.collectionDate||n.uploadDate);r.has(a)||r.set(a,{total:0,done:0,updatedAt:0});const s=r.get(a);s.total++,n.status==="classified"&&s.done++;const i=n.updatedAt?new Date(n.updatedAt).getTime():Date.now();s.updatedAt=Math.max(s.updatedAt,i)}),Array.from(r.entries()).map(([n,a])=>({dayKey:n,total:a.total,done:a.done,updatedAt:a.updatedAt,source:t,pendingLocalOps:t==="local"?0:void 0}))}async function $Z(e=Be){var a;if(!e)return console.warn("⚠️ API_BASE_URL 미설정 - 서버 데이터를 가져올 수 없습니다."),[];const t=1e4,r=`${e}/api/unclassified`;console.log("📡 서버 데이터 요청 시작:",r);const n=Date.now();try{const s=new AbortController,i=setTimeout(()=>{console.warn("⏱️ 서버 요청 타임아웃 (10초) - 요청 중단"),s.abort()},t);try{const l=await fetch(r,{signal:s.signal});clearTimeout(i);const c=Date.now()-n;if(console.log(`📥 서버 응답 받음 (${c}ms):`,{status:l.status,statusText:l.statusText,ok:l.ok}),!l.ok)throw new Error(`서버 응답 실패: ${l.status} ${l.statusText}`);const u=await l.json();if(console.log("📦 서버 응답 데이터:",{hasSuccess:"success"in u,success:u.success,dataLength:((a=u.data)==null?void 0:a.length)||0,isArray:Array.isArray(u.data)}),!u.success||!u.data)return console.warn("⚠️ 서버 응답에 데이터 없음:",u),[];const f=bi(u.data,"server");return console.log(`✅ 서버 데이터 변환 완료: ${f.length}일`),f}catch(l){clearTimeout(i);const c=Date.now()-n;throw console.error(`❌ 서버 요청 실패 (${c}ms):`,{name:l.name,message:l.message,isAbortError:l.name==="AbortError"}),l.name==="AbortError"?new Error("서버 요청 타임아웃 (10초)"):l}}catch(s){return s instanceof Error&&s.message.includes("타임아웃")?console.warn("⚠️ 서버 연결 타임아웃 - 로컬 데이터만 사용합니다"):console.warn("⚠️ 서버 데이터 가져오기 실패 (빈 배열 반환):",s),[]}}async function _Z(){console.log("💾 로컬 데이터 요청 시작...");const e=Date.now();try{const{hybridService:t}=await Qa(async()=>{const{hybridService:s}=await import("./services.CFZxR6Ym.js").then(i=>i.f);return{hybridService:s}},__vite__mapDeps([0,1])),r=await t.loadUnclassifiedData(),n=Date.now()-e;console.log(`💾 로컬 데이터 로드 완료 (${n}ms): ${r.length}개 항목`);const a=bi(r,"local");return console.log(`✅ 로컬 데이터 변환 완료: ${a.length}일`),a}catch(t){const r=Date.now()-e;return console.warn(`⚠️ 로컬 데이터 가져오기 실패 (${r}ms):`,t),[]}}async function Yi(e="overwrite",t=Be){console.log("🔄 하이브리드 데이터 로드 시작..."),t||console.log("⚠️ API_BASE_URL 미설정 - IndexedDB 데이터만 사용합니다.");const r=Date.now();try{console.log("📡 서버 및 로컬 데이터 병렬 로드 시작...");const[n,a]=await Promise.all([$Z(t).catch(c=>(console.error("❌ 서버 데이터 로드 실패:",c),[])),_Z().catch(c=>(console.error("❌ 로컬 데이터 로드 실패:",c),[]))]),s=Date.now()-r;console.log(`📊 데이터 로드 완료 (${s}ms): 서버 ${n.length}일, 로컬 ${a.length}일`),console.log("🔄 데이터 병합 시작...");const i=DA(n,a,e),l=Date.now()-r;return console.log(`✅ 병합 완료 (${l}ms): ${i.mergedDays.length}일, 충돌: ${i.conflicts.length}개`),i}catch(n){return console.error("❌ loadAndMergeDays 실패:",n),console.error("❌ 에러 상세:",{message:n instanceof Error?n.message:"알 수 없는 오류",stack:n instanceof Error?n.stack:void 0}),{mergedDays:[],conflicts:[],stats:{serverDays:0,localDays:0,mergedDays:0,conflicts:0}}}}async function IZ(e="http://localhost:3000"){try{console.log("📤 로컬 변경사항 서버 업로드 시작...");const{hybridService:t}=await Qa(async()=>{const{hybridService:c}=await import("./services.CFZxR6Ym.js").then(u=>u.f);return{hybridService:c}},__vite__mapDeps([0,1])),r=await t.loadUnclassifiedData();if(!r||r.length===0)return{success:!0,uploaded:0};const a=bi(r,"local").filter(c=>(c.pendingLocalOps||0)>0);if(a.length===0)return console.log("📤 업로드할 로컬 변경사항 없음"),{success:!0,uploaded:0};console.log(`📤 ${a.length}개 일자의 로컬 변경사항 업로드 중...`);const s=a.map(async c=>{try{const u=await fetch(`${e}/api/sync/upload-day`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dayKey:c.dayKey,total:c.total,done:c.done,updatedAt:c.updatedAt,source:"local"})});if(!u.ok)throw new Error(`서버 업로드 실패: ${u.status}`);return!0}catch(u){return console.error(`일자 ${c.dayKey} 업로드 실패:`,u),!1}}),l=(await Promise.all(s)).filter(Boolean).length;return console.log(`📤 로컬 변경사항 업로드 완료: ${l}/${a.length}개 성공`),{success:l>0,uploaded:l,error:l<a.length?"일부 업로드 실패":void 0}}catch(t){return console.error("로컬 변경사항 업로드 실패:",t),{success:!1,uploaded:0,error:t instanceof Error?t.message:"알 수 없는 오류"}}}async function kZ(e="http://localhost:3000",t){try{console.log("📥 서버 변경사항 다운로드 시작...");const r=t?`${e}/api/sync/changes?since=${t}`:`${e}/api/unclassified`,n=await fetch(r);if(!n.ok)throw new Error(`서버 응답 실패: ${n.status}`);const a=await n.json();if(!a.success||!a.data)return{success:!0,downloaded:0,serverDays:[]};const s=bi(a.data,"server");return console.log(`📥 서버에서 ${s.length}개 일자 데이터 다운로드 완료`),{success:!0,downloaded:s.length,serverDays:s}}catch(r){return console.error("서버 변경사항 다운로드 실패:",r),{success:!1,downloaded:0,serverDays:[],error:r instanceof Error?r.message:"알 수 없는 오류"}}}async function MZ(e="http://localhost:3000",t="overwrite"){try{console.log("🔄 전체 동기화 시작...");const r=await IZ(e);r.success||console.warn("로컬 변경사항 업로드 실패, 계속 진행...");const n=await kZ(e);if(!n.success)throw new Error(`서버 데이터 다운로드 실패: ${n.error}`);const{hybridService:a}=await Qa(async()=>{const{hybridService:u}=await import("./services.CFZxR6Ym.js").then(f=>f.f);return{hybridService:u}},__vite__mapDeps([0,1])),s=await a.loadUnclassifiedData(),i=bi(s,"local"),l=DA(n.serverDays,i,t),c={lastSync:Date.now(),serverRevision:`server_${Date.now()}`,localRevision:`local_${Date.now()}`,pendingChanges:0,conflicts:l.conflicts.length};return await RZ(c),console.log("✅ 전체 동기화 완료:",{uploaded:r.uploaded,downloaded:n.downloaded,merged:l.mergedDays.length,conflicts:l.conflicts.length}),{success:!0,status:c,mergedDays:l.mergedDays,conflicts:l.conflicts,stats:{uploaded:r.uploaded,downloaded:n.downloaded,conflicts:l.conflicts.length}}}catch(r){return console.error("전체 동기화 실패:",r),{success:!1,status:{lastSync:0,serverRevision:"",localRevision:"",pendingChanges:0,conflicts:0},mergedDays:[],conflicts:[],stats:{uploaded:0,downloaded:0,conflicts:0},error:r instanceof Error?r.message:"알 수 없는 오류"}}}async function RZ(e){try{localStorage.setItem("youtubepulse_sync_status",JSON.stringify(e)),console.log("💾 동기화 상태 저장 완료:",e)}catch(t){console.error("동기화 상태 저장 실패:",t)}}async function LZ(){try{const e=localStorage.getItem("youtubepulse_sync_status");if(e)return JSON.parse(e)}catch(e){console.warn("동기화 상태 로드 실패:",e)}return{lastSync:0,serverRevision:"",localRevision:"",pendingChanges:0,conflicts:0}}async function BZ(e="http://localhost:3000"){try{const t=await LZ();return Date.now()-t.lastSync>5*60*1e3||t.conflicts>0?{needed:!0,reason:t.conflicts>0?"충돌 해결 필요":"오래된 동기화",lastSync:t.lastSync}:{needed:!1,reason:"동기화 불필요",lastSync:t.lastSync}}catch(t){return console.error("동기화 상태 확인 실패:",t),{needed:!0,reason:"상태 확인 실패",lastSync:0}}}function Gi(e){const t=new Map;let r=0;for(const n of e){const a=n.dayKeyLocal||(n.collectionDate?new Date(n.collectionDate).toISOString().split("T")[0]:null)||(n.uploadDate?new Date(n.uploadDate).toISOString().split("T")[0]:null);if(!a){console.warn("⚠️ 날짜 키가 없는 항목 스킵:",n.videoId);continue}const s=`${n.videoId}|${a}`,i=t.get(s);if(!i)t.set(s,n);else{r++;const l=n.viewCount||0,c=i.viewCount||0;if(l>c)t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (조회수 ${c} → ${l})`);else if(l===c){const u=n.status||"unclassified",f=i.status||"unclassified";if(u==="classified"&&f!=="classified")t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (상태 ${f} → ${u})`);else if(u===f){const d=new Date(n.updatedAt||n.createdAt||0).getTime(),h=new Date(i.updatedAt||i.createdAt||0).getTime();d>h&&(t.set(s,n),console.log(`🔄 중복 교체: ${n.videoId} (시간 ${h} → ${d})`))}}}}return r>0&&console.log(`📊 중복 제거 완료: ${r}개 중복 발견, ${t.size}개 유지`),Array.from(t.values())}class FZ{constructor(){Rt(this,"state",{isOnline:navigator.onLine,lastOnlineCheck:Date.now(),retryQueue:[]});Rt(this,"MAX_RETRY_COUNT",3);Rt(this,"RETRY_DELAY",5e3);Rt(this,"retryTimer",null);Rt(this,"handleOnline",()=>{console.log("🔄 온라인 상태 복원"),this.state.isOnline=!0,this.state.lastOnlineCheck=Date.now(),this.processRetryQueue(),xp.retryLocalQueue()});Rt(this,"handleOffline",()=>{console.log("🔄 오프라인 상태 감지"),this.state.isOnline=!1,this.showOfflineToast()});Rt(this,"checkConnection",async()=>{try{if(!Be)throw new Error("API base URL is not configured.");(await fetch(`${Be}/health`,{method:"HEAD",cache:"no-cache"})).ok?this.state.isOnline||(console.log("🔄 연결 상태 복원 감지"),this.handleOnline()):this.state.isOnline&&(console.log("🔄 연결 상태 손실 감지"),this.handleOffline())}catch(t){this.state.isOnline&&(console.log("🔄 연결 상태 손실 감지 (오류):",t),this.handleOffline())}});Rt(this,"handleDynamicImportFailure",t=>{console.error("❌ 동적 import 실패 - 오프라인 모드 전환:",t),this.showOfflineToast("모듈 로딩 실패 - 오프라인 모드로 전환"),this.enableIndexedDBOnlyMode()});Rt(this,"addToRetryQueue",(t,r)=>{const n=`retry_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;this.state.retryQueue.push({id:n,operation:t,data:r,timestamp:Date.now(),retryCount:0}),console.log(`🔄 재시도 큐에 추가: ${t} (${n})`),this.processRetryQueue()});Rt(this,"processRetryQueue",async()=>{if(this.state.retryQueue.length===0)return;console.log(`🔄 재시도 큐 처리: ${this.state.retryQueue.length}개 항목`);const t=[];for(const r of this.state.retryQueue)try{if(r.retryCount>=this.MAX_RETRY_COUNT){console.log(`❌ 최대 재시도 횟수 초과: ${r.id}`),t.push(r.id);continue}await this.retryOperation(r),t.push(r.id),console.log(`✅ 재시도 성공: ${r.id}`)}catch(n){console.error(`❌ 재시도 실패: ${r.id}`,n),r.retryCount++;const a=this.RETRY_DELAY*Math.pow(2,r.retryCount);console.log(`⏳ 재시도 지연: ${r.id} (${a}ms)`)}this.state.retryQueue=this.state.retryQueue.filter(r=>!t.includes(r.id)),this.state.retryQueue.length>0&&this.scheduleNextRetry()});this.initialize()}initialize(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),setInterval(this.checkConnection,3e4),this.startRetryProcessor()}enableIndexedDBOnlyMode(){console.log("🔄 IndexedDB-only 모드 활성화"),this.state.isOnline=!1,this.showOfflineToast("로컬 데이터만 사용 중")}async retryOperation(t){switch(t.operation){case"auto-collection":console.log("⏭️ 자동 수집 재시도 비활성화 (서버 전용)");break;case"server-sync":await xp.retryLocalQueue();break;default:console.log(`🔄 알 수 없는 작업: ${t.operation}`)}}scheduleNextRetry(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(()=>{this.processRetryQueue()},this.RETRY_DELAY)}startRetryProcessor(){setInterval(()=>{this.state.isOnline&&this.state.retryQueue.length>0&&this.processRetryQueue()},6e4)}showOfflineToast(t){const r=document.createElement("div");r.className="offline-toast",r.textContent=t||"오프라인 모드 - 연결 복원 시 자동 동기화",r.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff6b6b;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      z-index: 10000;
      font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: slideIn 0.3s ease-out;
    `;const n=document.createElement("style");n.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(n),document.body.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},5e3)}getState(){return{...this.state}}destroy(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),this.retryTimer&&clearTimeout(this.retryTimer)}}const TA=new FZ;typeof window<"u"&&(window.offlineResilienceService=TA);async function Pd(e={}){const{scope:t="all",silent:r=!1}=e;try{r||console.log(`🔄 fetchAndHydrate 시작 - scope: ${t}`);let n=[],a;if(t==="classified"||t==="all"){const s=await ot.getClassifiedData();s&&s.length>0&&(await xe.saveClassifiedData(s),n=[...n,...s],r||console.log(`✅ 분류 데이터 ${s.length}개 서버 동기화 완료`))}if(t==="unclassified"||t==="all"){const s=await ot.loadUnclassifiedData();s&&s.length>0&&(await xe.saveUnclassifiedData(s),n=[...n,...s],r||console.log(`✅ 미분류 데이터 ${s.length}개 서버 동기화 완료`))}return r||console.log(`✅ fetchAndHydrate 완료 - 총 ${n.length}개 데이터 동기화`),{success:!0,count:n.length,source:"server"}}catch(n){console.error("❌ fetchAndHydrate 실패:",n);try{const a=t==="classified"?await xe.loadClassifiedData():t==="unclassified"?await xe.loadUnclassifiedData():[...await xe.loadClassifiedData()||[],...await xe.loadUnclassifiedData()||[]];return r||console.log(`⚠️ 로컬 데이터로 폴백: ${(a==null?void 0:a.length)||0}개`),{success:!1,count:(a==null?void 0:a.length)||0,source:"local",error:n instanceof Error?n.message:"Unknown error"}}catch{return{success:!1,count:0,source:"local",error:"Both server and local fetch failed"}}}}function Et(e,t={}){const{type:r="info",duration:n=3e3}=t,a=document.getElementById("app-toast");a&&a.remove();const s=document.createElement("div");s.id="app-toast",s.textContent=e;const i={info:"background: #3b82f6; color: white;",success:"background: #10b981; color: white;",warning:"background: #f59e0b; color: white;",error:"background: #ef4444; color: white;"};if(s.style.cssText=`
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 20px;
    border-radius: 8px;
    ${i[r]}
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 10000;
    animation: slideIn 0.3s ease-out;
  `,!document.getElementById("toast-animation-style")){const l=document.createElement("style");l.id="toast-animation-style",l.textContent=`
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(l)}document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOut 0.3s ease-in",setTimeout(()=>s.remove(),300)},n)}const Dt=14,ln=typeof window<"u"&&"showDirectoryPicker"in window,Ba="YouTubePulse-Backups",Zx=()=>{const e=Gt(),{logout:t,userEmail:r,userRole:n}=Ar(),[a,s]=g.useState([]),[i,l]=g.useState(!0),[c,u]=g.useState({}),f=n==="admin",[d,h]=D.useState(null),[m,y]=D.useState(""),[p,v]=D.useState(ln?"idle":"unsupported");D.useEffect(()=>{!f&&n&&(console.log("❌ 관리자 권한 없음 - 대시보드로 리다이렉트"),alert("⚠️ 관리자만 접근 가능한 페이지입니다."),e("/dashboard"))},[f,n,e]);const x=()=>{t()};D.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",Jt)},[]);const w=g.useCallback(async()=>{var H,q;try{const Y="auto_collected_api_last_fail",W=localStorage.getItem(Y);if(W){const ye=Date.now()-parseInt(W,10);if(ye<3e5){const z=Math.ceil((3e5-ye)/1e3/60);console.log(`⏭️ 자동수집 API 호출 스킵 (서버 연결 실패 후 ${z}분 남음)`);return}}console.log("🤖 자동수집 데이터 로드 시작...");const ne=new AbortController,pe=setTimeout(()=>ne.abort(),1e4);try{const ye=await fetch(`${Be}/api/auto-collected`,{signal:ne.signal});if(clearTimeout(pe),W&&localStorage.removeItem(Y),console.log("🤖 자동수집 API 응답 상태:",ye.status,ye.ok),ye.ok){const z=await ye.json();if(console.log("🤖 자동수집 API 응답 데이터:",{success:z.success,dataLength:(H=z.data)==null?void 0:H.length,dataType:typeof z.data,isArray:Array.isArray(z.data)}),z.success&&z.data&&Array.isArray(z.data)&&z.data.length>0){const ue=z.data;console.log(`🤖 자동수집 데이터 로드 (실제 저장 데이터): ${ue.length}개`);const se={};ue.forEach(te=>{let Z=te.dayKeyLocal||te.day_key_local||te.collectionDate||te.collection_date||te.uploadDate||te.upload_date;Z&&typeof Z=="string"&&Z.includes("T")&&(Z=Z.split("T")[0]),Z&&(se[Z]||(se[Z]={total:0,classified:0,progress:0}),se[Z].total++,te.status==="classified"&&se[Z].classified++)}),Object.keys(se).forEach(te=>{const Z=se[te];Z.progress=Z.total>0?Math.round(Z.classified/Z.total*100):0}),u(se),console.log("🤖 자동수집 통계:",se)}else console.log("🤖 자동수집 API 응답 실패 또는 데이터 없음:",{success:z==null?void 0:z.success,hasData:!!(z!=null&&z.data),dataLength:((q=z==null?void 0:z.data)==null?void 0:q.length)||0,dataType:typeof(z==null?void 0:z.data)})}else console.log("🤖 자동수집 API 호출 실패:",ye.status,ye.statusText)}catch(ye){clearTimeout(pe),localStorage.setItem(Y,Date.now().toString()),ye.name==="AbortError"?W||console.warn("⏱️ 자동수집 API 타임아웃 (10초) - 서버 연결 실패. 5분간 자동 호출 스킵합니다."):W||console.warn("⚠️ 자동수집 API 호출 실패:",ye.message||ye)}}catch(Y){console.error("🤖 자동수집 데이터 로드 실패:",Y),u({})}},[]),[b,N]=D.useState(!1);D.useEffect(()=>{if(b)return;const H=setTimeout(()=>{console.warn("⏰ 강제 타임아웃 (35초) - 로딩 상태 강제 해제"),l(!1),N(!0),s([]),C({})},35e3);return(async()=>{console.log(`🔄 ${Dt}일 데이터 관리 페이지 - 데이터 로드 시작`);const Y=Date.now(),ve=3e4;try{l(!0),console.log("🔄 하이브리드 데이터 로드 시작...");const W=new Promise((z,ue)=>{setTimeout(()=>{console.warn("⏱️ 데이터 로드 타임아웃 (30초)"),ue(new Error("데이터 로드 타임아웃 (30초)"))},ve)});let ne;try{ne=await Promise.race([Yi("overwrite"),W])}catch(z){console.error("❌ 데이터 병합 실패:",z),ne={mergedDays:[],conflicts:[],stats:{serverDays:0,localDays:0,mergedDays:0,conflicts:0}}}console.log("📊 병합 결과:",ne.stats),ne.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",ne.conflicts);const pe={};ne.mergedDays.forEach(z=>{pe[z.dayKey]={total:z.total,classified:z.done,progress:z.total>0?Math.round(z.done/z.total*100):0}}),C(pe),console.log("📊 병합된 dateStats:",pe),await w();let ye=await ot.loadUnclassifiedData();if(!ye||ye.length===0)if(console.log("📭 IndexedDB 비어있음 - 서버에서 초기 데이터 다운로드 시도"),Be)try{const z=await fetch(`${Be}/api/unclassified?days=7`);if(z.ok){const ue=await z.json();ue.success&&ue.data&&ue.data.length>0&&(console.log(`📥 서버에서 최근 ${Dt}일 데이터 ${ue.data.length}개 다운로드`),await un.saveDataInBatches(ue.data,500),console.log(`💾 IndexedDB에 ${ue.data.length}개 데이터 저장 완료`),ye=await ot.loadUnclassifiedData())}}catch(z){console.warn("⚠️ 초기 서버 다운로드 실패 - IndexedDB 비어있음",z),console.log("💡 시스템 페이지에서 데이터 수집을 실행하거나 서버 상태를 확인하세요.")}else console.log("⚠️ API_BASE_URL 미설정 - 초기 데이터는 로컬 수집으로만 구성됩니다.");else console.log(`✅ IndexedDB에서 데이터 로드: ${ye.length}개 (수집 시 자동 갱신됨)`),Be&&(console.log("🔄 백그라운드 자동 동기화 시작..."),setTimeout(async()=>{try{const z=Date.now(),ue=await fetch(`${Be}/api/unclassified?days=7`);if(ue.ok){const se=await ue.json();if(se.success&&se.data&&se.data.length>0){const te=se.data.length,Z=(ye==null?void 0:ye.length)||0;if(te>Z){console.log(`📥 자동 동기화: 서버 ${te}개 > 로컬 ${Z}개`),console.log("🗑️ 자동 동기화: 서버 데이터 날짜별 선택적 삭제 중...");const J=[...new Set(se.data.map(De=>De.dayKeyLocal||De.collectionDate||De.uploadDate).filter(De=>De))];console.log(`📅 자동 동기화 삭제할 날짜들: ${J.join(", ")}`);for(const De of J){const rt=await un.clearDataByDate(De);console.log(`🗑️ 자동 동기화 ${De} 날짜 데이터 삭제: ${rt}개`)}await un.saveDataInBatches(se.data,500),console.log(`✅ 자동 동기화 완료: ${te}개 (${Date.now()-z}ms)`),window.dispatchEvent(new CustomEvent("data-updated",{detail:{type:"autoSync",count:te}}))}else console.log(`✅ 자동 동기화: 최신 상태 (서버 ${te}개 = 로컬 ${Z}개)`)}}}catch(z){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",z)}},1e3));if(ye&&ye.length>0){const z=qe(),ue=ye.map(Z=>{const J=Z.category==="해외채널"?{...Z,category:"",subCategory:"",status:"unclassified"}:Z;return{...J,collectionDate:J.collectionDate||J.uploadDate||z,dayKeyLocal:J.dayKeyLocal||J.collectionDate||J.uploadDate}});console.log("🔄 중복 제거 전:",ue.length,"개 항목");const se=Gi(ue);console.log("✅ 중복 제거 후:",se.length,"개 항목"),console.log("📊 제거된 중복:",ue.length-se.length,"개"),s(se),console.log("✅ 하이브리드 서비스에서 로드 완료:",se.length);const te={};se.forEach(Z=>{const J=Z.dayKeyLocal||Z.collectionDate||Z.uploadDate;if(!J||(Z.collectionType||"manual")!=="manual")return;const rt=J.split("T")[0];te[rt]||(te[rt]={total:0,classified:0,progress:0}),te[rt].total++,Z.status==="classified"&&te[rt].classified++}),Object.keys(te).forEach(Z=>{const J=te[Z];J.progress=J.total>0?Math.round(J.classified/J.total*100):0}),C(te),console.log("📊 실제 데이터 기반 dateStats 재계산 (수동수집만):",te)}else{const z=localStorage.getItem("youtubepulse_channels"),ue=localStorage.getItem("youtubepulse_videos");if(z&&ue){const se=JSON.parse(z),te=JSON.parse(ue),Z=[];let J=1;Object.values(se).forEach(De=>{(te[De.id]||[]).forEach(Me=>{Z.push({id:J++,channelId:De.id,channelName:De.name,description:De.description||"설명 없음",videoId:Me.id,videoTitle:Me.title,videoDescription:Me.description||"설명 없음",viewCount:Me.viewCount||0,uploadDate:Me.uploadDate||qe(),category:"",subCategory:"",status:"unclassified"})})}),Z.length>0?(console.log("🔄 localStorage 데이터를 하이브리드 저장소로 마이그레이션:",Z.length,"개"),await ot.saveUnclassifiedData(Z),s(Z)):(console.log("📊 실제 데이터가 없습니다. 데이터 수집을 먼저 진행해주세요."),s([]))}else console.log("📊 실제 데이터가 없습니다. 데이터 수집을 먼저 진행해주세요."),s([])}N(!0),console.log("✅ loadData 함수 성공 완료")}catch(W){console.error("❌ 데이터 로드 실패:",W),console.error("❌ 에러 상세:",{message:W instanceof Error?W.message:"알 수 없는 오류",stack:W instanceof Error?W.stack:void 0,loadTime:Date.now()-Y}),s([]),C({})}finally{clearTimeout(H);const W=Date.now()-Y;console.log(`🔄 loadData 함수 완료 (${W}ms) - isLoading을 false로 설정`),l(!1),N(!0),console.log("✅ setIsLoading(false) 호출 완료")}})(),()=>{clearTimeout(H)}},[b,w]);const[j,S]=g.useState({retentionDays:14,autoCleanup:!0}),[A,O]=g.useState(()=>{const q=new URLSearchParams(window.location.search).get("date");return q||new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}),[$,F]=g.useState([]),[_,C]=g.useState({});D.useEffect(()=>()=>{},[]);const U=g.useCallback(async(H,q)=>{var Y,ve;if(!H)return!1;try{const W=q?"readwrite":"read";if("queryPermission"in H){const ne=await((Y=H.queryPermission)==null?void 0:Y.call(H,{mode:W}));if(ne==="granted")return!0;if(ne==="denied")return!1}if("requestPermission"in H)return await((ve=H.requestPermission)==null?void 0:ve.call(H,{mode:W}))==="granted"}catch(W){console.warn("📁 백업 폴더 권한 확인 실패:",W)}return!1},[]),M=g.useCallback(async H=>{var q;if(!ln)return Et("현재 브라우저는 백업 폴더 지정을 지원하지 않습니다.","warning"),null;try{let Y=d;if(Y&&!(H!=null&&H.forcePrompt)&&await U(Y,!0))return v("ready"),Y;if(Y=await((q=window.showDirectoryPicker)==null?void 0:q.call(window,{id:"youtubepulse-backups",mode:"readwrite",startIn:"downloads"})),Y&&await U(Y,!0)){h(Y),y(Y.name??Ba),v("ready");try{await xe.saveBackupDirectoryHandle(Y)}catch(W){console.warn("📁 백업 폴더 핸들 저장 실패 (무시 가능):",W)}return Y}}catch(Y){(Y==null?void 0:Y.name)==="AbortError"?console.log("📁 백업 폴더 선택이 취소되었습니다."):(console.error("📁 백업 폴더 선택 실패:",Y),Et("백업 폴더를 선택하지 못했습니다.","error"))}v("denied");try{await xe.clearBackupDirectoryHandle()}catch(Y){console.warn("📁 백업 폴더 핸들 초기화 실패 (무시 가능):",Y)}return null},[d,U]),K=g.useCallback(async(H,q)=>{if(!ln)return!1;const Y=await M();if(!Y)return!1;try{const ne=await(await(await Y.getDirectoryHandle(Ba,{create:!0})).getFileHandle(H,{create:!0})).createWritable();return await ne.write(q),await ne.close(),v("ready"),y(Y.name??Ba),!0}catch(ve){return console.error("📁 백업 폴더에 파일 저장 실패:",ve),Et("백업 폴더에 저장하지 못했습니다. 다른 폴더를 선택해주세요.","error"),!1}},[M]),T=g.useCallback((H,q)=>{const Y=URL.createObjectURL(q),ve=document.createElement("a");ve.href=Y,ve.download=H,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Y)},[]),P=g.useCallback(async()=>{if(!ln){Et("현재 브라우저는 폴더 지정을 지원하지 않습니다.","warning");return}await M({forcePrompt:!0})&&Et("백업 폴더가 설정되었습니다.","success")},[M]),L=g.useCallback(async()=>{try{await xe.clearBackupDirectoryHandle(),h(null),y(""),v(ln?"idle":"unsupported"),Et("백업 폴더 설정을 삭제했습니다.","success")}catch(H){console.error("📁 백업 폴더 초기화 실패:",H),Et("백업 폴더 초기화에 실패했습니다.","error")}},[]);D.useEffect(()=>{ln&&(async()=>{try{const H=await xe.getBackupDirectoryHandle();H&&(await U(H,!1)?(h(H),y(H.name??Ba),v("ready")):(v("denied"),await xe.clearBackupDirectoryHandle()))}catch(H){console.warn("📁 백업 폴더 핸들 로드 실패:",H)}})()},[U]),D.useEffect(()=>{const H=Y=>{var W;if(console.log("🔄 데이터 업데이트 이벤트 감지:",Y.detail),(W=Y.detail)!=null&&W.preserveBackupData&&a.length>0){console.log("🔒 백업 데이터 보존 모드 - 데이터 로드 차단 (UI에 데이터 있음)");return}if(a.length===0&&console.log("🔄 UI에 데이터 없음 - 강제 데이터 로드 실행"),!Y.detail||Object.keys(Y.detail).length===0){console.log("🔒 빈 이벤트 감지 - 데이터 로드 차단");return}if(Y.detail.type==="pageFocus")console.log("🔄 페이지 포커스 이벤트 - 데이터 로드 허용");else if(Y.detail.type==="dataUpdated")console.log("🔄 데이터 업데이트 이벤트 - 데이터 로드 허용");else if(Y.detail.type==="backgroundSync")console.log("🔄 백그라운드 동기화 완료 이벤트 - 서버 데이터로 갱신");else if(Y.detail.type==="manualSync")console.log("🔄 수동수집 동기화 완료 이벤트 - 즉시 UI 갱신");else if(Y.detail.type==="autoSync")console.log("🔄 자동수집 동기화 완료 이벤트 - 즉시 UI 갱신");else if(Y.detail.type==="bulkSaveProgress")console.log("🔄 진행률 일괄 저장 완료 이벤트 - 즉시 UI 갱신");else{console.log("🔒 알 수 없는 이벤트 타입 - 데이터 로드 차단:",Y.detail.type);return}(async()=>{try{if(console.log(`🔄 ${Dt}일 데이터 관리 페이지 - 데이터 새로고침 시작`),window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("🔒 백업 복원 중이므로 데이터 로드 차단");return}console.log("🔄 서버와 로컬 데이터 병합 중...");const ne=await Yi("overwrite");console.log("📊 병합 결과:",ne.stats),ne.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",ne.conflicts);const pe={};console.log("📊 병합 완료, 실제 데이터에서 수동수집 통계 재계산 예정"),await w();const ye=await ot.loadUnclassifiedData();if(ye&&ye.length>0){const z=qe(),ue=ye.map(Z=>{const J=Z.category==="해외채널"?{...Z,category:"",subCategory:"",status:"unclassified"}:Z;return{...J,collectionDate:J.collectionDate||J.uploadDate||z,dayKeyLocal:J.dayKeyLocal||J.collectionDate||J.uploadDate}});console.log("🔄 중복 제거 전:",ue.length,"개 항목");const se=Gi(ue);console.log("✅ 중복 제거 후:",se.length,"개 항목"),console.log("📊 제거된 중복:",ue.length-se.length,"개"),s(se),console.log("✅ 하이브리드 서비스에서 로드 완료:",se.length);const te={};se.forEach(Z=>{const J=Z.dayKeyLocal||Z.collectionDate||Z.uploadDate;if(!J||(Z.collectionType||"manual")!=="manual")return;const rt=J.split("T")[0];te[rt]||(te[rt]={total:0,classified:0,progress:0}),te[rt].total++,Z.status==="classified"&&te[rt].classified++}),Object.keys(te).forEach(Z=>{const J=te[Z];J.progress=J.total>0?Math.round(J.classified/J.total*100):0}),C(te),console.log("📊 페이지 포커스 - dateStats 재계산 (수동수집만):",te)}else console.log("📊 저장된 데이터 없음"),s([]);console.log(`✅ ${Dt}일 데이터 관리 페이지 - 데이터 새로고침 완료`)}catch(ne){console.error("❌ 데이터 새로고침 실패:",ne)}})()};window.addEventListener("dataUpdated",H);const q=()=>{if(window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("🔒 복원 중이므로 포커스 동기화 차단");return}console.log("🔄 페이지 포커스 감지, 데이터 새로고침"),H(new CustomEvent("dataUpdated",{detail:{type:"pageFocus",timestamp:Date.now()}}))};return window.addEventListener("focus",q),()=>{window.removeEventListener("dataUpdated",H),window.removeEventListener("focus",q)}},[w,a.length]),D.useEffect(()=>{(async()=>{try{const Y=new Set;for(let W=0;W<Dt;W++){const ne=_u(-W);Y.add(ne)}const ve=Array.from(Y).sort((W,ne)=>ne.localeCompare(W));F(ve)}catch(Y){console.error("날짜 목록 로드 실패:",Y);const ve=[];for(let W=0;W<Dt;W++){const ne=_u(-W);ve.push(ne)}console.log("📅 날짜 그리드 생성:",ve),F(ve)}})();const q=mp.onRollover(Y=>{console.log("🔄 자정 전환 감지 - 날짜 그리드 재생성:",Y),console.time("rollover-render");const ve=new Set;for(let ne=0;ne<Dt;ne++){const pe=_u(-ne);ve.add(pe)}const W=Array.from(ve).sort((ne,pe)=>pe.localeCompare(ne));F(W),console.timeEnd("rollover-render"),console.log("✅ 날짜 그리드 재생성 완료:",W)});return console.log("🔄 서비스 초기화 중..."),console.log("dateRolloverService:",mp),console.log("autoCollectionScheduler:",fC),console.log("offlineResilienceService:",TA),()=>{q()}},[]),a.filter(H=>H.status==="classified");const E=(H,q)=>{console.log("📅 날짜 클릭됨:",H,"수집타입:",q);const Y=q?`/date-classification-detail?date=${H}&type=${q}`:`/date-classification-detail?date=${H}`;console.log("🔗 이동할 URL:",Y),e(Y)},G=async()=>{console.log("🔄 데이터 새로고침 시작..."),N(!1),C({}),u({}),s([]),await(async()=>{try{l(!0),console.log("🔄 하이브리드 데이터 로드 시작...");const q=await Yi("overwrite");console.log("📊 병합 결과:",q.stats),q.conflicts.length>0&&console.log("⚠️ 데이터 충돌 발견:",q.conflicts);const Y={};q.mergedDays.forEach(W=>{Y[W.dayKey]={total:W.total,classified:W.done,progress:W.total>0?Math.round(W.done/W.total*100):0}}),C(Y),console.log("📊 병합된 dateStats:",Y),await w();const ve=await ot.loadUnclassifiedData();if(ve&&ve.length>0){const W=qe(),ne=ve.map(ye=>{const z=ye.category==="해외채널"?{...ye,category:"",subCategory:"",status:"unclassified"}:ye;return{...z,collectionDate:z.collectionDate||z.uploadDate||W,dayKeyLocal:z.dayKeyLocal||z.collectionDate||z.uploadDate}}),pe=Gi(ne);s(pe),console.log(`✅ 데이터 로드 완료: ${pe.length}개`)}else console.log("📭 로드된 데이터가 없습니다"),s([]);N(!0),console.log("✅ setDataLoaded(true) 호출 완료")}catch(q){console.error("데이터 로드 실패:",q),s([]),N(!0)}finally{l(!1),console.log("✅ setIsLoading(false) 호출 완료")}})()},ee=async()=>{try{console.log("📥 서버 데이터 다운로드 시작..."),l(!0),console.log("📥 서버에서 최신 데이터 다운로드 중..."),console.log(`📡 API URL: ${Be}/api/unclassified`);const H=6e4,q=new AbortController,Y=setTimeout(()=>{console.warn("⏱️ 서버 다운로드 타임아웃 (60초) - 요청 중단"),q.abort()},H);let ve;try{ve=await fetch(`${Be}/api/unclassified`,{signal:q.signal,headers:{"Content-Type":"application/json"}}),clearTimeout(Y)}catch(z){if(clearTimeout(Y),l(!1),z.name==="AbortError"){const se=`❌ 서버 연결 타임아웃 (60초)

서버가 응답하지 않습니다.

확인 사항:
1. 인터넷 연결 상태 확인
2. API 서버 상태 확인: ${Be}
3. 방화벽 또는 프록시 설정 확인`;throw alert(se),new Error("서버 연결 타임아웃")}const ue=`❌ 서버 연결 실패

오류: ${z.message||"알 수 없는 오류"}

API URL: ${Be}/api/unclassified`;throw alert(ue),new Error(`서버 연결 실패: ${z.message||"알 수 없는 오류"}`)}if(!ve.ok){l(!1);const z=`❌ 서버 응답 실패

상태 코드: ${ve.status}
메시지: ${ve.statusText}

API URL: ${Be}/api/unclassified`;throw alert(z),new Error(`서버 응답 실패: ${ve.status} ${ve.statusText}`)}const W=await ve.json();if(!W.success||!W.data){l(!1);const z=`❌ 서버 데이터 없음

서버 응답이 올바르지 않습니다.

응답: ${JSON.stringify(W,null,2).substring(0,200)}`;throw alert(z),new Error("서버에서 데이터를 가져올 수 없습니다. 서버 응답이 올바르지 않습니다.")}const ne=W.data;console.log(`📥 서버에서 전체 데이터 다운로드: ${ne.length}개 레코드`),console.log("🔄 서버 데이터 날짜별 선택적 교체 중...");const pe=[...new Set(ne.map(z=>z.dayKeyLocal||z.collectionDate||z.uploadDate).filter(z=>z))];console.log(`📅 교체할 날짜들: ${pe.join(", ")}`);for(const z of pe){const ue=ne.filter(se=>(se.dayKeyLocal||se.collectionDate||se.uploadDate)===z);console.log(`🔄 ${z} 날짜 데이터 교체 중... (${ue.length}개)`),await un.replaceDataByDate(z,ue),console.log(`✅ ${z} 날짜 데이터 교체 완료: ${ue.length}개`)}console.log("📊 저장된 데이터 로드 중...");const ye=await un.loadAllData();if(ye&&ye.length>0){const z=qe(),ue=ye.map(Z=>{const J=Z.category==="해외채널"?{...Z,category:"",subCategory:"",status:"unclassified"}:Z;return{...J,collectionDate:J.collectionDate||J.uploadDate||z,dayKeyLocal:J.dayKeyLocal||J.collectionDate||J.uploadDate}}),se=Gi(ue);s(se);const te={};se.forEach(Z=>{const J=Z.dayKeyLocal||Z.collectionDate||Z.uploadDate;(Z.collectionType||"manual")==="manual"&&J&&(te[J]||(te[J]={total:0,classified:0,progress:0}),te[J].total++,Z.status==="classified"&&te[J].classified++)}),Object.keys(te).forEach(Z=>{const J=te[Z];J.progress=J.total>0?Math.round(J.classified/J.total*100):0}),C(te),console.log("📊 서버 다운로드 후 dateStats 재계산 (수동수집만):",te)}alert(`📥 서버 데이터 다운로드 완료!

다운로드: ${ne.length}개
로컬 IndexedDB가 서버 데이터로 업데이트되었습니다.`),window.location.reload()}catch(H){console.error("❌ 서버 다운로드 실패:",H);const q=H instanceof Error?H.message:"알 수 없는 오류",Y=q.includes("타임아웃")||q.includes("연결")?`❌ 서버 연결 실패

${q}

확인 사항:
1. 인터넷 연결 상태 확인
2. API 서버 상태 확인 (${Be})
3. 방화벽 또는 프록시 설정 확인`:`❌ 다운로드 실패

${q}`;alert(Y)}finally{l(!1)}},Q=async()=>{if(console.log("🔘 진행률 일괄 저장 버튼 클릭됨"),window.restoreLock||sessionStorage.getItem("restoreInProgress")){console.log("❌ 백업 복원 중, 일괄 저장 차단"),alert("⚠️ 백업 복원 중입니다. 복원이 완료된 후 다시 시도해주세요.");return}console.log("✅ 진행률 일괄 저장 실행 가능, 시작합니다...");try{l(!0),console.log("💾 진행률 일괄 저장 시작...");const H=a,q=await ot.loadUnclassifiedData(),Y=[...H];if(q&&q.length>0){const z=new Set(H.map(se=>se.id)),ue=q.filter(se=>!z.has(se.id));Y.push(...ue)}const ve=qe(),W=[];for(let z=Dt-1;z>=0;z--){const ue=new Date(ve);ue.setDate(ue.getDate()-z),W.push(ue.toISOString().split("T")[0])}console.log(`📊 일괄저장 - 최근 ${Dt}일간 날짜들:`,W),console.log("📊 일괄저장 - 현재 UI 데이터:",H.length),console.log("📊 일괄저장 - 기존 데이터:",(q==null?void 0:q.length)||0),console.log("📊 일괄저장 - 전체 데이터 (백업 포함):",Y.length),console.log("📊 일괄저장 - 전체 데이터 날짜 분포:",Y.reduce((z,ue)=>{const se=ue.dayKeyLocal||ue.collectionDate||ue.uploadDate;return z[se]=(z[se]||0)+1,z},{}));const ne=[];W.forEach(z=>{const ue=Y.filter(se=>(se.dayKeyLocal||se.collectionDate||se.uploadDate)===z);ne.push(...ue)});const pe=[...Y];if(console.log("📊 병합 기준 데이터:",{currentUI:H.length,existing:(q==null?void 0:q.length)||0,merged:pe.length}),Y.length>0){console.log("📊 전체 데이터 개수:",Y.length,"개"),ne.forEach(z=>{const ue=pe.findIndex(se=>se.id===z.id);ue>=0?(pe[ue]={...pe[ue],...z,category:z.category,subCategory:z.subCategory,status:z.status,classifiedAt:z.classifiedAt||new Date().toISOString()},console.log(`🔄 데이터 덮어쓰기: ${z.id} - 카테고리: ${z.category}, 상태: ${z.status}`)):pe.push(z)});try{console.log(`🔄 IndexedDB 최근 ${Dt}일 데이터 날짜별 교체 시작: ${W.join(", ")}`);let z=0;for(const te of W){const Z=pe.filter(J=>(J.dayKeyLocal||J.collectionDate||J.uploadDate)===te);if(Z.length===0){console.log(`⏭️ IndexedDB ${te}: 데이터 없음, 스킵`);continue}console.log(`🔄 IndexedDB ${te} 데이터 교체 중... (${Z.length}개)`),await un.replaceDataByDate(te,Z),console.log(`✅ IndexedDB ${te} 데이터 교체 완료: ${Z.length}개`),z+=Z.length}if(console.log(`✅ IndexedDB 전체 데이터 교체 완료: ${z}개 (${Dt}일간)`),Be){console.log("🔄 서버 데이터 교체 저장 시작...");const te=Date.now(),Z=[...new Set(pe.map(De=>De.dayKeyLocal||De.collectionDate||De.uploadDate).filter(Boolean))],J=await fetch(`${Be}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:Z,data:pe})});if(J.ok){const De=await J.json();console.log("✅ 서버 데이터 교체 저장 완료:",De),console.log(`⏱️ 서버 데이터 교체 저장 소요 시간: ${Date.now()-te}ms`),Et("서버 데이터가 최신 상태로 업데이트되었습니다.",{type:"success"})}else{const De=await J.text();console.error(`❌ 서버 데이터 교체 저장 실패: ${J.status} - ${De}`),Et("서버 데이터 교체 저장에 실패했습니다. 로그를 확인하세요.",{type:"error"})}}if(Be){console.log("🔄 서버 분류 데이터 저장 시작...");const te=Date.now(),Z=await fetch(`${Be}/api/classified/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:ne})});if(Z.ok){const J=await Z.json();console.log("✅ 서버 분류 데이터 저장 완료:",J),console.log(`⏱️ 서버 분류 데이터 저장 소요 시간: ${Date.now()-te}ms`)}else{const J=await Z.text();console.error(`❌ 서버 분류 데이터 저장 실패: ${Z.status} - ${J}`)}}if(console.log(`✅ IndexedDB 전체 데이터 교체 완료: ${z}개 (${Dt}일간)`),Be&&pe.length>0){console.log(`🔄 서버 최근 ${Dt}일 데이터 날짜별 교체 시작: ${W.join(", ")}`);try{let te=0;for(const Z of W){const J=pe.filter(Me=>(Me.dayKeyLocal||Me.collectionDate||Me.uploadDate)===Z);if(J.length===0){console.log(`⏭️ 서버 ${Z}: 데이터 없음, 스킵`);continue}console.log(`🔄 서버 ${Z} 데이터 교체 중... (${J.length}개)`);const De=await fetch(`${Be}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:[Z],data:J})});if(!De.ok)throw new Error(`서버 ${Z} 데이터 교체 실패: ${De.status}`);const rt=await De.json();console.log(`✅ 서버 ${Z} 데이터 교체 완료: ${rt.inserted||J.length}개`),te+=rt.inserted||J.length,Z!==W[W.length-1]&&await new Promise(Me=>setTimeout(Me,1e3))}console.log(`🎉 서버 전체 데이터 교체 완료: ${te}개 (${Dt}일간)`)}catch(te){console.warn("⚠️ 날짜별 교체 실패, 기존 UPSERT 배치 방식으로 재시도...",te);const Z=500,J=Math.ceil(pe.length/Z);console.log(`📦 배치 업로드 시작: ${pe.length}개 → ${J}개 배치 (500개씩)`);for(let De=0;De<pe.length;De+=Z){const rt=pe.slice(De,De+Z),Me=Math.floor(De/Z)+1;console.log(`📦 배치 ${Me}/${J} 전송 중... (${rt.length}개)`);try{await rs.saveUnclassifiedData(rt),console.log(`✅ 배치 ${Me}/${J} 전송 완료`)}catch(gt){console.error(`❌ 배치 ${Me} 전송 실패:`,gt)}De+Z<pe.length&&await new Promise(gt=>setTimeout(gt,1e3))}console.log(`✅ 서버: 전체 데이터 배치 저장 완료 (${J}개 배치)`)}}const ue=pe.filter(te=>te.collectionType==="auto"||te.collectionType===void 0).length,se=pe.filter(te=>te.collectionType==="manual").length;if(console.log(`📊 데이터 분류: 수동수집 ${se}개, 자동수집 ${ue}개`),se>0){console.log("🔄 [수동수집] 즉시 서버 재조회 시작...");try{const te=await ot.getClassifiedData();console.log(`📊 [수동수집] 서버 재조회 결과: ${te.length}개 데이터`),te.length>0&&(await xe.saveClassifiedData(te),console.log("✅ [수동수집] IndexedDB 덮어쓰기 완료 (서버 데이터 기준)"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"manualSync",timestamp:Date.now(),count:te.length}}))),Et(`수동수집 데이터 저장 완료! (${se.toLocaleString()}개)`,{type:"success",duration:3e3})}catch(te){console.warn("⚠️ [수동수집] 서버 재조회 실패 (저장은 완료됨):",te),Et("수동수집 저장 완료! 서버 동기화는 5분 후 자동으로 재시도됩니다.",{type:"info",duration:4e3}),setTimeout(async()=>{const Z=performance.now();console.log("🔄 [수동수집-Retry] 백그라운드 재조회 재시도 시작 (5분 경과)");try{const J=await Pd({scope:"classified"}),De=Math.round(performance.now()-Z);J.success?(console.log(`✅ [수동수집-Retry] 성공 | 건수: ${J.count.toLocaleString()} | 소요: ${De}ms | 소스: ${J.source}`),Et("수동수집 백그라운드 동기화 완료!",{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:J.count}}))):console.warn(`⚠️ [수동수집-Retry] 재시도 실패 | 소스: ${J.source} | 소요: ${De}ms`)}catch(J){const De=Math.round(performance.now()-Z);console.error(`❌ [수동수집-Retry] 최종 실패 | 소요: ${De}ms | 오류:`,J)}},5*60*1e3)}}if(ue>0)if(ue<1e4){console.log("🔄 [자동수집-소량] 즉시 서버 재조회 시작...");try{const te=await ot.getClassifiedData();console.log(`📊 [자동수집-소량] 서버 재조회 결과: ${te.length}개 데이터`),te.length>0&&(await xe.saveClassifiedData(te),console.log("✅ [자동수집-소량] IndexedDB 덮어쓰기 완료 (서버 데이터 기준)"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"autoSync",timestamp:Date.now(),count:te.length}}))),Et(`자동수집 데이터 저장 완료! (${ue.toLocaleString()}개)`,{type:"success",duration:3e3})}catch(te){console.warn("⚠️ [자동수집-소량] 서버 재조회 실패 (저장은 완료됨):",te),Et("자동수집 저장 완료! 서버 동기화는 5분 후 자동으로 재시도됩니다.",{type:"info",duration:4e3}),setTimeout(async()=>{const Z=performance.now();console.log("🔄 [자동수집-소량-Retry] 백그라운드 재조회 재시도 시작 (5분 경과)");try{const J=await Pd({scope:"classified"}),De=Math.round(performance.now()-Z);J.success?(console.log(`✅ [자동수집-소량-Retry] 성공 | 건수: ${J.count.toLocaleString()} | 소요: ${De}ms | 소스: ${J.source}`),Et("자동수집 백그라운드 동기화 완료!",{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:J.count}}))):console.warn(`⚠️ [자동수집-소량-Retry] 재시도 실패 | 소스: ${J.source} | 소요: ${De}ms`)}catch(J){const De=Math.round(performance.now()-Z);console.error(`❌ [자동수집-소량-Retry] 최종 실패 | 소요: ${De}ms | 오류:`,J)}},5*60*1e3)}}else console.log("📊 [자동수집-대용량] 백그라운드 동기화 예약"),Et(`자동수집 저장 완료! (${ue.toLocaleString()}개) 백그라운드 동기화는 10분 후 자동 실행됩니다.`,{type:"success",duration:5e3}),setTimeout(async()=>{const te=performance.now();console.log("🔄 [자동수집-대용량] 백그라운드 동기화 시작 (10분 경과)");try{const Z=await Pd({scope:"classified"}),J=Math.round(performance.now()-te);Z.success?(console.log(`✅ [자동수집-대용량] 성공 | 건수: ${Z.count.toLocaleString()} | 소요: ${J}ms | 소스: ${Z.source}`),Et(`자동수집 대용량 백그라운드 동기화 완료! (${Z.count.toLocaleString()}개)`,{type:"success"}),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backgroundSync",timestamp:Date.now(),count:Z.count}}))):console.warn(`⚠️ [자동수집-대용량] 실패 | 소스: ${Z.source} | 소요: ${J}ms`)}catch(Z){const J=Math.round(performance.now()-te);console.error(`❌ [자동수집-대용량] 최종 실패 | 소요: ${J}ms | 오류:`,Z)}},10*60*1e3)}catch(z){throw console.error("❌ 데이터 저장 실패:",z),new Error(`데이터 저장 실패: ${z instanceof Error?z.message:"알 수 없는 오류"}`)}}else console.log("⚠️ 저장할 데이터가 없습니다.");const ye=W.map(z=>{const ue=Y.filter(J=>(J.dayKeyLocal||J.collectionDate||J.uploadDate)===z),se=ue.length,te=ue.filter(J=>J.status==="classified").length,Z=se>0?te/se*100:0;return{date:z,total:se,classified:te,unclassified:se-te,progress:Math.round(Z),timestamp:new Date().toISOString()}});try{await ot.saveDailyProgress(ye),console.log("✅ IndexedDB: 진행률 데이터 저장 완료")}catch(z){throw console.error("❌ 진행률 데이터 저장 실패:",z),new Error(`진행률 데이터 저장 실패: ${z instanceof Error?z.message:"알 수 없는 오류"}`)}try{console.log("📊 dailySummary 생성 시작...");for(const z of ye){const ue=z.date;console.log(`📊 ${ue} 날짜 dailySummary 생성 중...`);const se=pe.filter(J=>{const De=J.dayKeyLocal||J.collectionDate||J.uploadDate;return De&&De.split("T")[0]===ue});console.log(`📊 ${ue} 날짜 데이터: ${se.length}개`);const te={date:ue,categories:{}};[...new Set(se.map(J=>J.category).filter(Boolean))].forEach(J=>{te.categories[J]={totalViews:0,count:0,channelCount:0,channels:new Set}}),se.forEach(J=>{J.category&&(te.categories[J.category]||(te.categories[J.category]={totalViews:0,count:0,channelCount:0,channels:new Set}),te.categories[J.category].totalViews+=J.viewCount||0,te.categories[J.category].count+=1,te.categories[J.category].channels.add(J.channelName))}),Object.keys(te.categories).forEach(J=>{te.categories[J].channels=Array.from(te.categories[J].channels),te.categories[J].channelCount=te.categories[J].channels.length}),await xe.saveDailySummary(ue,te),console.log(`✅ ${ue} 날짜 dailySummary 저장 완료:`,Object.keys(te.categories).length,"개 카테고리")}console.log("✅ 모든 날짜 dailySummary 생성 및 저장 완료")}catch(z){console.error("❌ dailySummary 생성 실패:",z)}if(pe.length>0){s(pe);const z={};pe.forEach(ue=>{const se=ue.dayKeyLocal||ue.collectionDate||ue.uploadDate;se&&(z[se]||(z[se]={total:0,classified:0,progress:0}),z[se].total++,ue.status==="classified"&&z[se].classified++)}),Object.keys(z).forEach(ue=>{const se=z[ue];se.progress=se.total>0?Math.round(se.classified/se.total*100):0}),C(z),console.log("📊 로컬 상태 업데이트 완료:",z)}console.log("✅ 진행률 일괄 저장 완료 (IndexedDB), 백업 데이터 보존하며 로컬 상태 업데이트"),window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"bulkSaveProgress",timestamp:Date.now()}})),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{selectedDate:ve}})),alert(`✅ 최근 ${Dt}일간의 분류 진행률과 ${Y.length.toLocaleString()}개의 데이터가 저장되었습니다.

📊 IndexedDB에 저장되었습니다.

🔄 모든 페이지가 자동으로 업데이트됩니다.`)}catch(H){console.error("진행률 저장 실패:",H),console.error("오류 상세:",H);const q=H instanceof Error?H.message:"알 수 없는 오류";alert(`❌ 진행률 저장에 실패했습니다.

오류: ${q}

콘솔을 확인하여 자세한 정보를 확인하세요.`)}finally{l(!1)}},ie=async H=>{try{const q=a.filter(z=>(z.dayKeyLocal||z.collectionDate||z.uploadDate)===H);if(q.length===0){alert("해당 날짜에 데이터가 없습니다.");return}const Y={date:H,totalCount:q.length,classifiedCount:q.filter(z=>z.status==="classified").length,unclassifiedCount:q.filter(z=>z.status==="unclassified").length,data:q,backupTimestamp:new Date().toISOString(),version:"1.0"},ve=`youtubepulse_backup_${H}.json`,W=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"});let ne=!1;ln&&(ne=await K(ve,W)),ne||T(ve,W);const ye=ne?`✅ ${H} 날짜 데이터가 백업 폴더(${m||Ba})에 저장되었습니다.`:`✅ ${H} 날짜 데이터 백업이 완료되었습니다. 다운로드 폴더를 확인해주세요.`;alert(ye)}catch(q){console.error("백업 다운로드 실패:",q),alert("❌ 백업 다운로드에 실패했습니다.")}},re=async()=>{try{const H={exportDate:new Date().toISOString(),version:"2.0",backupType:"hybrid",summary:(()=>{const pe=new Map;[...a].sort((ue,se)=>(se.viewCount||0)-(ue.viewCount||0)).forEach(ue=>{const se=ue.dayKeyLocal||ue.collectionDate||ue.uploadDate;if(!se)return;const Z=`${ue.dayKeyLocal?ue.dayKeyLocal.replace(/-$/,""):se.split("T")[0]}_${ue.videoId}`;pe.has(Z)||pe.set(Z,ue)});const z=Array.from(pe.values());return{totalVideos:z.length,classifiedVideos:z.filter(ue=>ue.status==="classified").length,unclassifiedVideos:z.filter(ue=>ue.status==="unclassified").length,manualCollected:z.filter(ue=>ue.collectionType==="manual").length,autoCollected:z.filter(ue=>ue.collectionType==="auto"||ue.collectionType===void 0).length}})(),dailyData:$.slice(0,14).map(pe=>{const ye=a.filter(Me=>(Me.dayKeyLocal||Me.collectionDate||Me.uploadDate)===pe),z=new Map;[...ye].sort((Me,gt)=>(gt.viewCount||0)-(Me.viewCount||0)).forEach(Me=>{const gt=`${pe}_${Me.videoId}`;z.has(gt)||z.set(gt,Me)});const se=Array.from(z.values()),te=se.filter(Me=>Me.collectionType==="manual"),Z=se.filter(Me=>Me.collectionType==="auto"||Me.collectionType===void 0),J=se.length,De=se.filter(Me=>Me.status==="classified").length,rt=J>0?De/J*100:0;return{date:pe,total:J,classified:De,unclassified:J-De,progress:Math.round(rt),manualCollected:te.length,manualClassified:te.filter(Me=>Me.status==="classified").length,autoCollected:Z.length,autoClassified:Z.filter(Me=>Me.status==="classified").length,data:ye}}),allData:a,hybridConfig:{useApiServer:!0,fallbackToLocal:!0,syncEnabled:!0}},q=`youtubepulse_full_backup_${qe()}.json`,Y=new Blob([JSON.stringify(H,null,2)],{type:"application/json"});let ve=!1;ln&&(ve=await K(q,Y)),ve||T(q,Y);const ne=ve?`✅ 전체 데이터 백업이 백업 폴더(${m||Ba})에 저장되었습니다.`:"✅ 전체 데이터 백업이 완료되었습니다.";alert(ne)}catch(H){console.error("전체 백업 실패:",H),alert("❌ 전체 백업에 실패했습니다.")}},Ae=async H=>{const q=H>=1e4?`${(H/1e4).toFixed(0)}만`:`${H}`;if(confirm(`⚠️ 조회수 ${q} 미만 영상을 삭제하시겠습니까?

삭제 후 복구할 수 없습니다!`))try{l(!0);const Y=await ot.loadUnclassifiedData(),ve=Y.filter(pe=>pe.viewCount>=H),W=Y.length-ve.length;if(W===0){alert(`조회수 ${q} 미만 영상이 없습니다.`),l(!1);return}await xe.replaceAllUnclassifiedData(ve),console.log(`✅ 조회수 ${q} 미만 ${W}개 영상 삭제 완료`),s(ve);const ne={};ve.forEach(pe=>{const ye=pe.dayKeyLocal||pe.collectionDate||pe.uploadDate;ye&&(ne[ye]||(ne[ye]={total:0,classified:0,progress:0}),ne[ye].total++,pe.status==="classified"&&ne[ye].classified++)}),Object.keys(ne).forEach(pe=>{const ye=ne[pe];ye.progress=ye.total>0?Math.round(ye.classified/ye.total*100):0}),C(ne),alert(`✅ 조회수 기준 삭제 완료!

🗑️ 삭제된 영상: ${W}개
✅ 남은 영상: ${ve.length}개

완료되었습니다.`),console.log("✅ 조회수 기준 삭제 완료 - 상태 업데이트됨")}catch(Y){console.error("조회수 기준 삭제 실패:",Y),alert("❌ 조회수 기준 삭제에 실패했습니다.")}finally{l(!1)}},ae=async()=>{try{l(!0),console.log("🔄 IndexedDB 동기화 시작...");const H=await BZ();if(!H.needed){alert(`✅ 동기화 불필요

이유: ${H.reason}
마지막 동기화: ${new Date(H.lastSync).toLocaleString("ko-KR")}`);return}const q=await MZ(Be,"overwrite");if(!q.success)throw new Error(q.error||"동기화 실패");const Y={};q.mergedDays.forEach(ne=>{Y[ne.dayKey]={total:ne.total,classified:ne.done,progress:ne.total>0?Math.round(ne.done/ne.total*100):0}}),C(Y),console.log("📊 동기화된 dateStats:",Y);const ve=await ot.loadUnclassifiedData();if(ve&&ve.length>0){const ne=qe(),pe=ve.map(ye=>{const z=ye.category==="해외채널"?{...ye,category:"",subCategory:"",status:"unclassified"}:ye;return{...z,collectionDate:z.collectionDate||ne}});s(pe)}let W="";q.conflicts.length>0&&(W=`
⚠️ 해결된 충돌: ${q.conflicts.length}개`,q.conflicts.forEach(ne=>{console.log(`동기화 충돌 해결: ${ne.dayKey} → ${ne.resolution}`)})),alert(`✅ IndexedDB 동기화 완료!

📊 총 일자: ${q.mergedDays.length}개
📤 업로드: ${q.stats.uploaded}개
📥 다운로드: ${q.stats.downloaded}개
🔄 병합: ${q.stats.conflicts}개
⏰ 동기화 시간: ${new Date(q.status.lastSync).toLocaleString("ko-KR")}`+W),console.log("✅ IndexedDB 동기화 완료")}catch(H){console.error("IndexedDB 동기화 실패:",H),alert("❌ IndexedDB 동기화에 실패했습니다.")}finally{l(!1)}},de=async()=>{var H,q;try{l(!0),console.log("🗑️ 일자별 중복 제거 시작...");const W=(await new Promise((se,te)=>{const Z=indexedDB.open("YouTubePulseDB",2);Z.onerror=()=>te(Z.error),Z.onsuccess=()=>se(Z.result)})).transaction(["unclassifiedData"],"readwrite").objectStore("unclassifiedData"),ne=await new Promise((se,te)=>{const Z=W.getAll();Z.onerror=()=>te(Z.error),Z.onsuccess=()=>se(Z.result)});console.log(`📊 전체 데이터: ${ne.length}개 항목`);const pe=new Map;for(const se of ne){const te=se.dayKeyLocal||se.collectionDate||"unknown";pe.has(te)||pe.set(te,[]),pe.get(te).push(se)}console.log(`📅 일자별 그룹: ${pe.size}개`);let ye=0;const z=[];for(const[se,te]of pe){console.log(`
📅 처리 중: ${se} (${te.length}개 항목)`);const Z=new Map;for(const rt of te){const Me=rt.videoTitle||rt.video_title||"Unknown Title";Z.has(Me)||Z.set(Me,[]),Z.get(Me).push(rt)}let J=0;const De=[];for(const[rt,Me]of Z)if(Me.length>1){console.log(`  🎬 "${rt}" - ${Me.length}개 중복 발견`),Me.sort((ir,On)=>(On.viewCount||0)-(ir.viewCount||0));const gt=Me[0],Wr=Me.slice(1);console.log(`    ✅ 유지: ${gt.viewCount||0} 조회수`),console.log(`    🗑️ 삭제: ${Wr.length}개 항목`);for(const ir of Wr)await new Promise((On,Ke)=>{const Ge=W.delete(ir.id);Ge.onerror=()=>Ke(Ge.error),Ge.onsuccess=()=>On(Ge.result)});J+=Wr.length,De.push({title:rt,kept:1,removed:Wr.length,maxViews:gt.viewCount||0})}ye+=J,z.push({date:se,totalItems:te.length,removed:J,remaining:te.length-J,details:De}),console.log(`  📊 ${se}: ${J}개 제거, ${te.length-J}개 유지`)}console.log(`
🎉 일자별 중복 영상 제거 완료!`),console.log(`📊 총 제거: ${ye}개 항목`),console.log(`📊 남은 항목: ${ne.length-ye}개 항목`);let ue=`🎉 일자별 중복 영상 제거 완료!

`;ue+=`📊 총 제거: ${ye}개 항목
`,ue+=`📊 남은 항목: ${ne.length-ye}개 항목

`,ue+=`📋 일자별 결과:
`,z.forEach(se=>{se.removed>0&&(ue+=`  📅 ${se.date}: ${se.removed}개 제거
`,se.details.forEach(te=>{ue+=`    🎬 "${te.title}": ${te.removed}개 제거, ${te.maxViews} 조회수 유지
`}))}),alert(ue);try{console.log("🔄 서버 중복 정리 시작...");const se=await fetch(`${Be}/api/cleanup-duplicates`,{method:"POST",headers:{"Content-Type":"application/json"}});if(se.ok){const te=await se.json();console.log("✅ 서버 중복 정리 완료:",te);const Z=`
🔄 서버 중복 정리 결과:
`,J=`📊 서버: ${((H=te.stats)==null?void 0:H.removed)||0}개 제거, ${((q=te.stats)==null?void 0:q.remaining)||0}개 유지
`;alert(ue+Z+J)}else console.log("⚠️ 서버 중복 정리 실패 (계속 진행)"),alert(ue+`

⚠️ 서버 중복 정리는 실패했지만 로컬 정리는 완료되었습니다.`)}catch(se){console.log("⚠️ 서버 중복 정리 오류:",se),alert(ue+`

⚠️ 서버 중복 정리는 실패했지만 로컬 정리는 완료되었습니다.`)}window.location.reload()}catch(Y){console.error("❌ 일자별 중복 제거 실패:",Y),alert("❌ 일자별 중복 제거에 실패했습니다: "+Y.message)}finally{l(!1)}},V=async H=>{try{if(l(!0),console.log("🔄 IndexedDB 자동 수집 데이터 처리 시작..."),H==="download"){const Y=await(await fetch(`${Be}/api/auto-collected`)).json();if(!Y.success||!Y.data||Y.data.length===0){alert("자동 수집된 데이터가 없습니다."),l(!1);return}const ve=Y.data[0],W=ve.data,ne=new Date(ve.collectedAt).toLocaleString("ko-KR");console.log(`📥 자동 수집 데이터: ${W.length}개 (수집 시간: ${ne})`);const pe=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),ye=URL.createObjectURL(pe),z=document.createElement("a");z.href=ye,z.download=`auto-collected-${qe()}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(ye),alert(`✅ 자동 수집 데이터 다운로드 완료!

수집 시간: ${ne}
데이터: ${W.length}개`)}else if(H==="merge"){const q=await Yi("union");console.log("📊 자동 수집 병합 결과:",q.stats);const Y={};q.mergedDays.forEach(ne=>{Y[ne.dayKey]={total:ne.total,classified:ne.done,progress:ne.total>0?Math.round(ne.done/ne.total*100):0}}),C(Y),console.log("📊 자동 수집 병합된 dateStats:",Y);const ve=await ot.loadUnclassifiedData();if(ve&&ve.length>0){const ne=qe(),pe=ve.map(ye=>{const z=ye.category==="해외채널"?{...ye,category:"",subCategory:"",status:"unclassified"}:ye;return{...z,collectionDate:z.collectionDate||ne}});s(pe)}let W="";q.conflicts.length>0&&(W=`
⚠️ 해결된 충돌: ${q.conflicts.length}개`,q.conflicts.forEach(ne=>{console.log(`자동 수집 충돌 해결: ${ne.dayKey} → ${ne.resolution}`)})),alert(`✅ IndexedDB 자동 수집 데이터 병합 완료!

📊 총 일자: ${q.mergedDays.length}개
🔄 병합된 일자: ${q.stats.mergedDays}개
📈 서버 데이터: ${q.stats.serverDays}개
💾 로컬 데이터: ${q.stats.localDays}개
⚠️ 충돌: ${q.stats.conflicts}개${W}`)}}catch(q){console.error("IndexedDB 자동 수집 데이터 처리 실패:",q),alert("❌ IndexedDB 자동 수집 데이터 처리에 실패했습니다.")}finally{l(!1)}},k=D.useMemo(()=>$.slice(0,Dt),[$]),I=7,B=D.useMemo(()=>k.slice(0,I),[k]),R=k.reduce((H,q)=>{const Y=_[q];return{total:H.total+((Y==null?void 0:Y.total)??0),classified:H.classified+((Y==null?void 0:Y.classified)??0)}},{total:0,classified:0}),ce=k.reduce((H,q)=>{const Y=c[q];return{total:H.total+((Y==null?void 0:Y.total)??0),classified:H.classified+((Y==null?void 0:Y.classified)??0)}},{total:0,classified:0}),he=R.total+ce.total,ge=R.classified+ce.classified,le=Math.max(he-ge,0),$e=he>0?Math.round(ge/he*100):0,me=R.total>0?Math.round(R.classified/R.total*100):0,je=ce.total>0?Math.round(ce.classified/ce.total*100):0,Ee=k.length>0?k[k.length-1]:void 0,Oe=k.length>0?k[0]:void 0,Te=D.useMemo(()=>B.map(H=>{const q=_[H]||{total:0,classified:0,progress:0},Y=c[H]||{total:0,classified:0,progress:0},ve=Y.total>0?Math.round(Y.classified/Y.total*100):0,W={total:q.total+Y.total,classified:q.classified+Y.classified,progress:q.total+Y.total>0?Math.round((q.classified+Y.classified)/(q.total+Y.total)*100):0};return{date:H,manualStats:q,autoStats:Y,autoProgress:ve,totalStats:W}}),[B,_,c]),tt=H=>{if(!H)return"날짜 없음";try{return new Date(`${H}T00:00:00+09:00`).toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"})}catch{return H}};return i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx(cn,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"데이터를 로드하는 중입니다..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sl,{className:"w-7 h-7 text-primary"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"YouTubePulse"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[f&&o.jsxs(X,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(X,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(X,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsxs(X,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(X,{variant:"outline",onClick:x,children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold text-foreground",children:[Dt,"일 데이터 관리"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["최근 ",Dt,"일 데이터를 관리하고, 아래 표에는 최신 ",B.length,"일을 요약해 제공합니다."]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["💡 세부카테고리는 ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"src/lib/subcategories.ts"}),"에서 관리합니다."]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(No,{className:"w-4 h-4"}),o.jsxs("span",{children:["기간:"," ",Ee&&Oe?`${Ee} ~ ${Oe} (최근 ${k.length}일)`:"데이터 없음"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체 영상"}),o.jsx("p",{className:"text-2xl font-bold mt-2",children:he.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"수동 + 자동"})]}),o.jsx(sl,{className:"w-8 h-8 text-primary/60"})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"분류 완료"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:ge.toLocaleString()}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["진행률 ",$e,"%"]})]}),o.jsx(aa,{className:"w-8 h-8 text-green-500/70"})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"미분류"}),o.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:le.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"수동 + 자동"})]}),o.jsx(ol,{className:"w-8 h-8 text-red-500/70"})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"수동 진행률"}),o.jsxs(Ue,{variant:"outline",children:[me,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"자동 진행률"}),o.jsxs(Ue,{variant:"outline",children:[je,"%"]})]}),o.jsxs(X,{variant:"outline",className:"w-full",onClick:()=>V("merge"),children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"자동수집 동기화"]})]})})]}),o.jsxs(we,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ts,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"일별 분류 진행"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(X,{variant:"default",size:"sm",onClick:Q,disabled:!1,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(oC,{className:"w-4 h-4 mr-2"}),"진행률 일괄 저장"]}),o.jsxs(X,{variant:"outline",size:"sm",onClick:ee,children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"최신 서버 데이터 동기화"]}),o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>V("merge"),children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"자동수집 동기화"]}),o.jsxs(X,{variant:"outline",size:"sm",onClick:de,children:[o.jsx(_d,{className:"w-4 h-4 mr-2"}),"일자별 중복 제거"]}),o.jsxs(X,{variant:"outline",size:"sm",onClick:async()=>{try{await G(),Et("데이터를 최신 상태로 불러왔습니다.","success")}catch(H){console.error("로컬 데이터 새로고침 실패:",H),Et("로컬 데이터 새로고침에 실패했습니다.","error")}},children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"로컬 데이터 새로고침"]}),o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsxs(X,{variant:"outline",size:"sm",children:[o.jsx(_d,{className:"w-4 h-4 mr-2"}),"조회수 필터"]})}),o.jsxs(Ln,{align:"end",children:[o.jsx(lt,{onClick:()=>Ae(5e4),children:"조회수 5만 미만 삭제"}),o.jsx(lt,{onClick:()=>Ae(1e5),children:"조회수 10만 미만 삭제"})]})]}),o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsxs(X,{variant:"outline",size:"sm",children:[o.jsx(qi,{className:"w-4 h-4 mr-2"}),"데이터 백업"]})}),o.jsxs(Ln,{align:"end",children:[o.jsx(lt,{onClick:P,disabled:!ln,children:"백업 폴더 설정"}),o.jsx(lt,{onClick:L,children:"백업 폴더 삭제"}),o.jsx(Do,{}),Oe&&o.jsx(lt,{onClick:()=>ie(Oe),children:"오늘 데이터 저장하기"}),o.jsxs(lt,{onClick:re,children:[o.jsx(qi,{className:"w-4 h-4 mr-2"}),"전체 백업 다운로드"]})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-3",children:Te.map(({date:H,manualStats:q,autoStats:Y,autoProgress:ve,totalStats:W})=>{const ne=q.total===0,pe=Y.total===0,ye=W.total===0;return o.jsxs("div",{className:"border rounded-xl p-3 space-y-3 bg-card",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:tt(H)}),o.jsx(X,{variant:"ghost",size:"icon",onClick:()=>ie(H),title:`${H} 데이터 백업 다운로드`,children:o.jsx(sC,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["총 ",W.total.toLocaleString(),"개 중"," ",W.classified.toLocaleString(),"개 완료"]}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsx("div",{className:"font-medium text-primary",children:"수동수집"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-primary/10",children:o.jsx("div",{className:"h-2 rounded-full bg-primary transition-all",style:{width:`${Math.min(q.progress??0,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[q.classified.toLocaleString()," /"," ",q.total.toLocaleString()," 완료"]}),o.jsxs(X,{variant:"outline",size:"sm",className:"w-full",disabled:ne,onClick:()=>E(H,"manual"),children:[o.jsx(ts,{className:"w-4 h-4 mr-1"}),"상세보기"]}),o.jsx("div",{className:"font-medium text-green-600 pt-2",children:"자동수집"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-green-100/80",children:o.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all",style:{width:`${Math.min(ve,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[Y.classified.toLocaleString()," / ",Y.total.toLocaleString()," 완료"]}),o.jsxs(X,{variant:"outline",size:"sm",className:"w-full",disabled:pe,onClick:()=>E(H,"auto"),children:[o.jsx(ts,{className:"w-4 h-4 mr-1"}),"상세보기"]}),o.jsx("div",{className:"font-medium text-purple-600 pt-2",children:"합계"}),o.jsx("div",{className:"w-full h-2 rounded-full bg-purple-100/80",children:o.jsx("div",{className:"h-2 rounded-full bg-purple-500 transition-all",style:{width:`${Math.min(W.progress??0,100)}%`}})}),o.jsxs("div",{className:"text-muted-foreground",children:[W.classified.toLocaleString()," /"," ",W.total.toLocaleString()," 완료"]}),o.jsxs(X,{variant:"outline",size:"sm",className:"w-full",disabled:ye,onClick:()=>E(H,"total"),children:[o.jsx(ts,{className:"w-4 h-4 mr-1"}),"상세보기"]})]})]},H)})})})]}),o.jsxs(we,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ht,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"데이터 관리"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"보관 기간"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["서버와 클라이언트 모두 최근 ",Dt,"일 데이터를 유지합니다."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"자동 정리"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"매일 새벽 1시(KST)에 로컬 IndexedDB와 서버에서 오래된 데이터가 정리됩니다."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"추가 작업"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>V("download"),children:[o.jsx(qi,{className:"w-4 h-4 mr-2"}),"자동수집 JSON"]}),o.jsxs(X,{variant:"outline",size:"sm",onClick:ae,children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"전체 동기화"]})]})]})]})]})]})]})},UZ=()=>{const[e]=sb(),t=Gt(),{logout:r,userEmail:n,userRole:a}=Ar(),s=a==="admin",i=e.get("date")||new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),l=e.get("type"),[c,u]=g.useState([]),[f,d]=g.useState(!0),[h,m]=g.useState(""),[y,p]=g.useState("all"),[v,x]=g.useState(1),[w]=g.useState(20),[b,N]=g.useState(new Set),[j,S]=g.useState(null),A=Jt,[O,$]=g.useState(!1),[F,_]=g.useState(""),[C,U]=g.useState(""),M=g.useMemo(()=>Object.keys(A),[A]),K=g.useMemo(()=>F?A[F]||[]:[],[F,A]),T=()=>{r(),t("/")};D.useEffect(()=>{!s&&a&&(console.log("❌ 관리자 권한 없음 - 대시보드로 리다이렉트"),alert("⚠️ 관리자만 접근 가능한 페이지입니다."),t("/dashboard"))},[s,a,t]),D.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",Jt)},[]),D.useEffect(()=>{(async()=>{const k=setTimeout(()=>{console.warn("⏰ 강제 타임아웃 (15초) - 로딩 상태 강제 해제"),d(!1)},15e3);try{d(!0);let I=[],B="none";if(console.log("📅 날짜별 데이터 로드 시작:",i),Be)try{if(l==="auto"){console.log("📊 자동수집 데이터 - 전용 API 사용...");const me=new AbortController,je=setTimeout(()=>me.abort(),1e4);try{const Ee=await fetch(`${Be}/api/auto-collected`,{signal:me.signal});if(clearTimeout(je),Ee.ok){const Oe=await Ee.json();Oe.success&&Oe.data&&Oe.data.length>0&&(I=Oe.data.filter(Te=>{const tt=Te.collectionDate||Te.dayKeyLocal||Te.uploadDate;return(tt?tt.split("T")[0]:"")===i}),B="server-auto",console.log(`✅ 서버에서 자동수집 데이터 로드 (${i}):`,I.length,"개"))}}catch(Ee){clearTimeout(je),Ee.name!=="AbortError"&&console.warn("⚠️ 자동수집 API 호출 실패:",Ee.message)}}else if(l==="manual"){console.log("📊 수동수집 데이터 - classified API 사용...");const me=new AbortController,je=setTimeout(()=>me.abort(),1e4);try{const Ee=await fetch(`${Be}/api/classified?date=${i}`,{signal:me.signal});if(clearTimeout(je),Ee.ok){const Oe=await Ee.json();Oe.success&&Oe.data&&Oe.data.length>0&&(I=Oe.data,B="server-manual",console.log("✅ 서버에서 수동수집 데이터 로드:",I.length,"개"))}}catch(Ee){clearTimeout(je),Ee.name!=="AbortError"&&console.warn("⚠️ 수동수집 API 호출 실패:",Ee.message)}}else if(l==="total"){console.log("📊 전체 데이터 - unclassified_data 테이블 사용...");const me=new AbortController,je=setTimeout(()=>me.abort(),1e4);try{const Ee=await fetch(`${Be}/api/unclassified-by-date?date=${i}`,{signal:me.signal});if(clearTimeout(je),Ee.ok){const Oe=await Ee.json();Oe.success&&Oe.data&&Oe.data.length>0&&(I=Oe.data,B="server-total",console.log("✅ 서버에서 전체 데이터 로드 (수동+자동):",I.length,"개"))}}catch(Ee){clearTimeout(je),Ee.name!=="AbortError"&&console.warn("⚠️ 전체 데이터 API 호출 실패:",Ee.message)}}}catch(me){console.warn("⚠️ 서버 로드 실패:",me)}else console.warn("⚠️ API_BASE_URL 미설정 - 서버 데이터를 요청할 수 없습니다.");if(I.length===0)try{console.log("📊 서버에 데이터 없음, IndexedDB에서 시도...");const me=await xe.loadUnclassifiedData();l==="auto"?(I=me.filter(je=>je.collectionType==="auto"),console.log(`✅ IndexedDB에서 자동수집 데이터만 로드: ${I.length}개 (전체: ${me.length}개)`)):l==="manual"?(I=me.filter(je=>!je.collectionType||je.collectionType==="manual"),console.log(`✅ IndexedDB에서 수동수집 데이터만 로드: ${I.length}개 (전체: ${me.length}개)`)):(I=me,console.log("✅ IndexedDB에서 전체 데이터 로드:",I.length,"개")),B="indexeddb"}catch(me){console.error("❌ IndexedDB 로드 실패:",me),I=[],B="none"}console.log(`📊 데이터 소스: ${B}, 로드된 데이터: ${I.length}개`);const R=I.filter(me=>{if(me.dayKeyLocal&&me.dayKeyLocal.replace(/-$/,"")===i||me.collectionDate&&me.collectionDate.split("T")[0]===i||me.uploadDate&&me.uploadDate.split("T")[0]===i||me.publishedAt&&me.publishedAt.startsWith(i))return!0;if(me.id&&typeof me.id=="string"){const je=parseInt(me.id.split("_")[0]);if(!isNaN(je)){const Ee=new Date(je).toISOString().split("T")[0];if(Ee===i)return console.log("✅ ID 타임스탬프 매치:",Ee),!0}}return!1});let ce=R;if(l&&(l==="manual"?ce=R.filter(me=>!me.collectionType||me.collectionType==="manual"):l==="auto"&&(ce=R.filter(me=>me.collectionType==="auto")),l==="auto")){const me=ce.filter(Oe=>Oe.collectionType==="auto").length,je=ce.filter(Oe=>Oe.collectionType===void 0).length,Ee=ce.filter(Oe=>Oe.collectionType==="manual").length;console.log("📊 자동수집 필터링 결과 분석:",{auto:me,undefined:je,manual:Ee,total:ce.length})}console.log("📊 필터링된 데이터 개수:",ce.length);const he=ce.sort((me,je)=>(je.viewCount||0)-(me.viewCount||0)),ge=new Map;he.forEach(me=>{const je=`${i}_${me.videoId}`;ge.has(je)||ge.set(je,me)});const le=Array.from(ge.values());console.log(`📊 ${i} 중복 제거 완료: ${le.length}개 (제거: ${ce.length-le.length}개)`);const $e=le.map(me=>({...me,channelName:me.channelName||"N/A",videoTitle:me.videoTitle||"N/A",description:me.description||"N/A",videoDescription:me.videoDescription||"N/A",viewCount:me.viewCount||0,category:me.category||"",subCategory:me.subCategory||"",status:me.status||"unclassified"}));console.log(`📊 ${i} 날짜 데이터: ${$e.length}개`),u($e)}catch(I){console.error("데이터 로드 실패:",I),u([])}finally{clearTimeout(k),d(!1)}})()},[i,l]);let P=c.filter(V=>{const k=(V.channelName||"").toLowerCase().includes(h.toLowerCase())||(V.videoTitle||"").toLowerCase().includes(h.toLowerCase());let I=!1;if(y==="all")I=!0;else if(y==="priority"){const B={};c.forEach(ce=>{B[ce.channelName]||(B[ce.channelName]=[]),B[ce.channelName].push(ce)}),I=(B[V.channelName]||[]).length>1&&(V.status==="unclassified"||V.status==="pending")}else y==="unclassified"?I=V.status==="unclassified"||V.status==="pending"||!V.category||V.category===""||!V.subCategory||V.subCategory==="":I=V.status===y;return k&&I});if(y==="priority"||y==="classified"||y==="unclassified"){const V={};P.forEach(I=>{V[I.channelName]||(V[I.channelName]=[]),V[I.channelName].push(I)}),P=Object.keys(V).sort((I,B)=>V[B].length-V[I].length).flatMap(I=>V[I])}const L=Math.ceil(P.length/w),E=(v-1)*w,G=E+w,ee=P.slice(E,G),Q=g.useCallback((V,k)=>{u(I=>I.map(B=>B.id===V?{...B,...k}:B))},[]),ie=(V,k)=>{N(I=>{const B=new Set(I);return k?B.add(V):B.delete(V),B})},re=V=>{if(V){const k=new Set(ee.map(I=>I.id));N(k)}else N(new Set)},Ae=async()=>{try{console.log("💾 데이터 저장 시작 - 동적 세부카테고리 사용:",A);const V=c.filter(le=>le.status==="classified");console.log(`📊 실제 분류 완료 영상 수: ${V.length}개`),console.log("💾 IndexedDB 날짜별 업데이트 - 미분류 데이터"),await xe.updateUnclassifiedDataByDate(c,i),console.log("💾 IndexedDB 날짜별 업데이트 - 분류 데이터"),await xe.updateClassifiedDataByDate(V,i),console.log("💾 서버 날짜별 업데이트 시작..."),console.log(`💾 IndexedDB 날짜별 선택적 교체 저장: ${i}`);const k=c.filter(le=>le.dayKeyLocal===i||le.collectionDate===i||le.uploadDate===i);if(console.log(`📊 해당 날짜(${i}) 데이터 필터링: ${c.length}개 → ${k.length}개`),await un.replaceDataByDate(i,k),console.log(`✅ IndexedDB ${i} 날짜 데이터 교체 완료: ${k.length}개`),console.log(`💾 서버 저장 - 현재 날짜(${i}) 데이터 교체`),k.length>0)try{const $e=Math.ceil(k.length/500);console.log(`🗑️ ${i} 기존 데이터 삭제 중...`);const me=await fetch(`${Be}/api/replace-date-range`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:[i],data:[]})});if(!me.ok)throw new Error(`기존 데이터 삭제 실패: ${me.status}`);if(console.log(`✅ ${i} 기존 데이터 삭제 완료`),c.length<=500)console.log(`📤 미분류 데이터 전송: ${c.length}개`),await rs.saveUnclassifiedData(c),console.log("✅ 서버 미분류 데이터 저장 완료");else{console.log(`📦 미분류 데이터 배치 업로드 시작: ${c.length}개 → ${$e}개 배치 (500개씩)`);for(let je=0;je<c.length;je+=500){const Ee=c.slice(je,je+500),Oe=Math.floor(je/500)+1;console.log(`📦 미분류 배치 ${Oe}/${$e} 전송 중... (${Ee.length}개)`);try{await rs.saveUnclassifiedData(Ee),console.log(`✅ 미분류 배치 ${Oe}/${$e} 전송 완료`)}catch(Te){throw console.error(`❌ 미분류 배치 ${Oe} 전송 실패:`,Te),Te}je+500<c.length&&await new Promise(Te=>setTimeout(Te,500))}console.log(`✅ 서버 미분류 데이터 배치 저장 완료 (${$e}개 배치)`)}}catch(le){console.error("❌ 서버 저장 실패:",le),alert(`⚠️ 서버 저장에 실패했지만 로컬에는 저장되었습니다.

에러: ${le instanceof Error?le.message:"알 수 없는 오류"}`)}if(V.length>0){console.log(`💾 분류 데이터 날짜별 선택적 교체 저장: ${i}`),await un.replaceDataByDate(i,V),console.log(`✅ IndexedDB ${i} 날짜 분류 데이터 교체 완료: ${V.length}개`),console.log(`💾 서버 저장 - 현재 날짜(${i}) 분류 데이터만 전송`);try{const $e=Math.ceil(V.length/500);if(V.length<=500)console.log(`📤 현재 날짜 분류 데이터 전송: ${V.length}개`),await rs.saveClassifiedData(V),console.log("✅ 서버 분류 데이터 저장 완료");else{console.log(`📦 분류 데이터 배치 업로드 시작: ${V.length}개 → ${$e}개 배치 (500개씩)`);for(let me=0;me<V.length;me+=500){const je=V.slice(me,me+500),Ee=Math.floor(me/500)+1;console.log(`📦 분류 배치 ${Ee}/${$e} 전송 중... (${je.length}개)`);try{await rs.saveClassifiedData(je),console.log(`✅ 분류 배치 ${Ee}/${$e} 전송 완료`)}catch(Oe){throw console.error(`❌ 분류 배치 ${Ee} 전송 실패:`,Oe),Oe}me+500<V.length&&await new Promise(Oe=>setTimeout(Oe,500))}console.log(`✅ 서버 분류 데이터 배치 저장 완료 (${$e}개 배치)`)}}catch(le){console.error("❌ 서버 분류 데이터 저장 실패:",le),alert(`⚠️ 서버 분류 데이터 저장에 실패했지만 로컬에는 저장되었습니다.

에러: ${le instanceof Error?le.message:"알 수 없는 오류"}`)}}const I={date:i,categories:{}},B=Object.keys(A),R=[...new Set(V.map(le=>le.category).filter(Boolean))];[...new Set([...B,...R])].forEach(le=>{I.categories[le]={totalViews:0,count:0,channelCount:0,channels:new Set}}),V.forEach(le=>{le.category&&(I.categories[le.category]||(I.categories[le.category]={totalViews:0,count:0,channelCount:0,channels:new Set}),I.categories[le.category].totalViews+=le.viewCount||0,I.categories[le.category].count+=1,I.categories[le.category].channels.add(le.channelName))}),Object.keys(I.categories).forEach(le=>{I.categories[le].channels=Array.from(I.categories[le].channels),I.categories[le].channelCount=I.categories[le].channels.length}),await xe.saveDailySummary(i,I);const he={date:i,total:c.length,classified:V.length,progress:c.length>0?Math.round(V.length/c.length*100):0};await xe.saveDailyProgress(he);const ge={type:"dataSaved",date:i,dataCount:c.length,classifiedCount:V.length,timestamp:nl()};window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{...ge,preserveBackupData:!0}})),window.dispatchEvent(new CustomEvent("dashboardDateChanged",{detail:{date:i}})),window.dispatchEvent(new CustomEvent("categoriesUpdated")),window.dispatchEvent(new CustomEvent("categoryDataUpdated",{detail:{date:i,classifiedData:V,dailySummary:I}})),window.dispatchEvent(new CustomEvent("channelDataUpdated",{detail:{date:i,classifiedData:V}})),window.dispatchEvent(new CustomEvent("trendingVideosUpdated",{detail:{date:i,classifiedData:V}})),console.log("📡 모든 동기화 이벤트 발생:",ge),alert("✅ 데이터 저장 완료! 국내 대시보드, 상세 페이지들, 데이터 분류 관리 페이지에 반영되었습니다.")}catch(V){console.error("데이터 저장 실패:",V),alert("❌ 데이터 저장에 실패했습니다.")}},ae=()=>{try{const V=c.length,k=c.filter(je=>je.status==="classified").length,I=V-k,B=V>0?Math.round(k/V*100):0,R=c.filter(je=>!je.collectionType||je.collectionType==="manual"),ce=c.filter(je=>je.collectionType==="auto"||je.collectionType===void 0);console.log("📊 수집 타입 분류:",{total:c.length,manual:R.length,auto:ce.length,undefined:c.filter(je=>!je.collectionType).length});const he={exportDate:nl(),version:"2.0",backupType:"hybrid",summary:{totalVideos:V,classifiedVideos:k,unclassifiedVideos:I,manualCollected:R.length,autoCollected:ce.length},dailyData:[{date:i,total:V,classified:k,unclassified:V-k,progress:B,manualCollected:R.length,manualClassified:R.filter(je=>je.status==="classified").length,autoCollected:ce.length,autoClassified:ce.filter(je=>je.status==="classified").length,data:c}],allData:c,hybridConfig:{useApiServer:!0,fallbackToLocal:!0,syncEnabled:!0}},ge=JSON.stringify(he,null,2),le=new Blob([ge],{type:"application/json"}),$e=URL.createObjectURL(le),me=document.createElement("a");me.href=$e,me.download=`youtubepulse_hybrid_${i}.json`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL($e),console.log(`📤 ${i} 하이브리드 백업 내보내기 완료:`,he),alert(`✅ ${i} 하이브리드 백업이 성공적으로 내보내졌습니다!

📊 총 ${V}개 영상 (분류완료: ${k}개, 미분류: ${I}개)
🔧 수동수집: ${R.length}개, 자동수집: ${ce.length}개`)}catch(V){console.error("❌ 데이터 내보내기 실패:",V),alert("❌ 데이터 내보내기에 실패했습니다.")}},de=()=>{const V=document.createElement("input");V.type="file",V.accept=".json",V.onchange=k=>{var R;const I=(R=k.target.files)==null?void 0:R[0];if(!I)return;const B=new FileReader;B.onload=async ce=>{var he;try{const ge=(he=ce.target)==null?void 0:he.result,le=JSON.parse(ge);if(console.log("📁 백업 파일 로드:",le),console.log("🔍 백업 데이터 구조 확인:",{hasAllData:!!le.allData,allDataIsArray:Array.isArray(le.allData),hasData:!!le.data,dataIsArray:Array.isArray(le.data),backupKeys:Object.keys(le)}),(!le.allData||!Array.isArray(le.allData))&&(!le.data||!Array.isArray(le.data)))throw new Error("유효하지 않은 백업 파일입니다. data 또는 allData 배열이 필요합니다.");const $e=new Date,je=new Date($e.getTime()+9*60*60*1e3).toISOString().split("T")[0];if(le.selectedDate!==i&&!confirm(`백업 파일의 날짜(${le.selectedDate})와 현재 선택된 날짜(${i})가 다릅니다.
그래도 복원하시겠습니까?`))return;const Ee=le.allData||le.data;u(Ee),await xe.updateUnclassifiedDataByDate(Ee,i),le.categories&&(await xe.saveCategories(le.categories),window.dispatchEvent(new CustomEvent("categoriesUpdated")));const Oe=Ee.filter(H=>H.status==="classified");await xe.updateClassifiedDataByDate(Oe,i);const Te={totalItems:Ee.length,classifiedItems:Oe.length,unclassifiedItems:Ee.length-Oe.length,categories:{}};Oe.forEach(H=>{H.category&&H.subCategory&&(Te.categories[H.category]||(Te.categories[H.category]={totalViews:0,count:0,channels:new Set,subCategories:{}}),Te.categories[H.category].subCategories[H.subCategory]||(Te.categories[H.category].subCategories[H.subCategory]={totalViews:0,count:0}),Te.categories[H.category].totalViews+=H.viewCount||0,Te.categories[H.category].count+=1,Te.categories[H.category].channels.add(H.channelName),Te.categories[H.category].subCategories[H.subCategory].totalViews+=H.viewCount||0,Te.categories[H.category].subCategories[H.subCategory].count+=1)}),Object.keys(Te.categories).forEach(H=>{Te.categories[H].channels=Array.from(Te.categories[H].channels),Te.categories[H].channelCount=Te.categories[H].channels.length}),await xe.saveDailySummary(i,Te);const tt={date:i,total:Ee.length,classified:Oe.length,progress:Ee.length>0?Math.round(Oe.length/Ee.length*100):0};await xe.saveDailyProgress(tt);try{const H=await fetch(`${Be}/api/backup/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Ee,date:i})});if(H.ok)console.log("✅ 서버 동기화 완료");else{const q=await H.text();console.log("⚠️ 서버 동기화 실패, 로컬에서만 복원됨:",H.status,q)}}catch(H){console.log("⚠️ 서버 연결 실패, 로컬에서만 복원됨:",H)}window.dispatchEvent(new CustomEvent("dataUpdated",{detail:{type:"backupRestored",date:i,dataCount:Ee.length,preserveBackupData:!0}})),console.log(`🔄 ${i} 날짜 데이터 복원 완료:`,le),alert(`✅ ${i} 날짜 데이터가 성공적으로 복원되었습니다!
복원된 데이터: ${Ee.length}개`)}catch(ge){console.error("❌ 백업 복원 실패:",ge),console.error("❌ 에러 상세:",{message:ge instanceof Error?ge.message:"알 수 없는 오류",stack:ge instanceof Error?ge.stack:void 0,error:ge}),alert(`❌ 백업 복원에 실패했습니다.

에러: ${ge instanceof Error?ge.message:"알 수 없는 오류"}

파일을 확인해주세요.`)}},B.readAsText(I)},V.click()};return f?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"데이터를 불러오는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"YouTubePulse"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[s&&o.jsxs(X,{variant:"outline",onClick:()=>t("/user-management"),children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(X,{variant:"outline",onClick:()=>t("/dashboard"),children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(X,{variant:"outline",onClick:()=>t("/trend"),children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(X,{variant:"outline",onClick:()=>t("/data"),children:"📊 데이터"}),o.jsxs(X,{variant:"outline",onClick:()=>t("/system"),children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(X,{variant:"outline",onClick:T,children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs(X,{variant:"outline",onClick:()=>t("/data-classification"),className:"mb-4",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"뒤로가기"]}),o.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["데이터 분류 상세",l&&o.jsxs("span",{className:"ml-2 text-lg",children:[l==="manual"&&"📝 수동수집",l==="auto"&&"🤖 자동수집",l==="total"&&"📊 합계"]})]}),o.jsxs("p",{className:"text-muted-foreground mt-2",children:[new Date(i).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," 수집 데이터",l&&o.jsxs("span",{className:"ml-2 text-sm",children:["(",l==="manual"&&"수동수집 데이터만",l==="auto"&&"자동수집 데이터만",l==="total"&&"수동+자동 전체 데이터",")"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(X,{variant:"outline",onClick:ae,className:"flex items-center space-x-2",children:[o.jsx(qi,{className:"w-4 h-4"}),o.jsx("span",{children:"일별 내보내기"})]}),o.jsxs(X,{variant:"outline",onClick:de,className:"flex items-center space-x-2",children:[o.jsx(iC,{className:"w-4 h-4"}),o.jsx("span",{children:"일별 백업 복원하기"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"전체 데이터"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.length})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"📊"})})]})}),o.jsx(we,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"미분류"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.filter(V=>V.status==="unclassified").length})]}),o.jsx(ol,{className:"w-8 h-8 text-orange-600"})]})}),o.jsx(we,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"분류 완료"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.filter(V=>V.status==="classified").length})]}),o.jsx(aa,{className:"w-8 h-8 text-green-600"})]})}),o.jsx(we,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"진행률"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[c.length>0?Math.round(c.filter(V=>V.status==="classified").length/c.length*100):0,"%"]})]}),o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsxs("span",{className:"text-primary font-bold text-sm",children:[c.length>0?Math.round(c.filter(V=>V.status==="classified").length/c.length*100):0,"%"]})})]})})]}),o.jsx(we,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(yt,{placeholder:"채널명 또는 영상 제목으로 검색...",value:h,onChange:V=>m(V.target.value),className:"pl-10 w-80"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(X,{size:"sm",variant:y==="all"?"default":"outline",onClick:()=>p("all"),className:y==="all"?"bg-gray-600 text-white hover:bg-gray-700":"",children:["전체 보기 (",c.length,")"]}),o.jsx(X,{size:"sm",variant:y==="priority"?"default":"outline",onClick:()=>p("priority"),className:y==="priority"?"bg-blue-600 text-white hover:bg-blue-700":"",title:"같은 채널에 여러 영상이 있는 항목들을 그룹화하여 우선 표시",children:"우선 분류 대상"}),o.jsxs(X,{size:"sm",variant:y==="unclassified"?"default":"outline",onClick:()=>p("unclassified"),className:y==="unclassified"?"bg-orange-600 text-white hover:bg-orange-700":"hover:bg-orange-100",title:"미분류된 항목들을 같은 채널끼리 그룹화하여 표시",children:["미분류만 보기 (",c.filter(V=>V.status==="unclassified").length,")"]}),o.jsxs(X,{size:"sm",variant:y==="classified"?"default":"outline",onClick:()=>p("classified"),className:y==="classified"?"bg-green-600 text-white hover:bg-green-700":"",title:"분류 완료된 항목들을 같은 채널끼리 그룹화하여 표시",children:["분류 완료만 보기 (",c.filter(V=>V.status==="classified").length,")"]})]}),o.jsxs("div",{className:"relative flex items-center space-x-4",children:[o.jsx(X,{onClick:()=>{if(b.size===0){alert("분류할 항목을 선택해주세요.");return}$(!O)},className:"bg-green-600 hover:bg-green-700 text-white",children:"분류"}),o.jsx(X,{onClick:async()=>{if(b.size===0){alert("삭제할 항목을 선택해주세요.");return}const V=`선택된 ${b.size}개 항목을 삭제하시겠습니까?`;if(confirm(V))try{const k=c.filter(B=>!b.has(B.id));u(k);const I=Array.from(b);await xe.deleteUnclassifiedDataByIds(I);try{(await fetch("/api/sync/delete-unclassified",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:I,date:i})})).ok?console.log("✅ 서버 동기화 완료"):console.log("⚠️ 서버 동기화 실패, 로컬에서만 삭제됨")}catch{console.log("⚠️ 서버 연결 실패, 로컬에서만 삭제됨")}N(new Set),$(!1),console.log(`✅ 대량 삭제 완료: ${b.size}개 항목 삭제`),alert(`✅ ${b.size}개 항목이 성공적으로 삭제되었습니다!`)}catch(k){console.error("❌ 삭제 실패:",k),alert("❌ 삭제 중 오류가 발생했습니다.")}},variant:"destructive",children:"삭제"}),o.jsxs(X,{onClick:Ae,className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(ub,{className:"w-4 h-4 mr-2"}),"저장"]})]}),O&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"대량 분류"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["선택된 ",b.size,"개 항목을 분류합니다"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),o.jsxs("select",{value:F,onChange:V=>{_(V.target.value),U("")},className:"w-full p-2 border border-gray-300 rounded-md bg-white text-black",children:[o.jsx("option",{value:"",children:"카테고리를 선택하세요"}),M.map(V=>o.jsx("option",{value:V,children:V},V))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"세부카테고리"}),o.jsxs("select",{value:C,onChange:V=>U(V.target.value),disabled:!F,className:"w-full p-2 border border-gray-300 rounded-md bg-white text-black disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"세부카테고리를 선택하세요"}),K.map(V=>o.jsx("option",{value:V,children:V},V))]})]}),F&&C&&o.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"분류 정보:"})," ",F," → ",C]})}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx(X,{onClick:()=>{$(!1),_(""),U("")},variant:"outline",className:"bg-white text-black border-gray-300 px-6",children:"취소"}),o.jsx(X,{onClick:()=>{if(!F){alert("카테고리를 선택해주세요.");return}if(!C){alert("세부카테고리를 선택해주세요.");return}const V=`선택된 ${b.size}개 항목을 "${F} > ${C}"로 분류하시겠습니까?`;confirm(V)&&(u(k=>k.map(I=>b.has(I.id)?{...I,category:F,subCategory:C,status:C==="기타(미분류)"?"pending":"classified"}:I)),N(new Set),$(!1),_(""),U(""),console.log(`✅ 대량 분류 완료: ${b.size}개 항목을 "${F} > ${C}"로 분류`),alert(`✅ ${b.size}개 항목이 성공적으로 분류되었습니다!`))},className:"bg-green-600 hover:bg-green-700 text-white px-6",children:"확인"})]})]})})})]})]})}),o.jsxs(we,{className:"p-6",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground w-12",children:o.jsx("input",{type:"checkbox",checked:ee.length>0&&b.size===ee.length,onChange:V=>re(V.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"상태"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"채널 정보"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"영상 정보"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"조회수"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"카테고리"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"세부카테고리"})]})}),o.jsx("tbody",{children:ee.map(V=>{var k;return o.jsxs("tr",{className:`border-b cursor-pointer transition-colors ${j===V.id||b.has(V.id)?"bg-blue-600/40 hover:bg-blue-500/50":"hover:bg-gray-700/30"}`,onClick:()=>S(V.id),children:[o.jsx(Gn,{className:"align-top py-3 w-12",onClick:I=>I.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:b.has(V.id),onChange:I=>ie(V.id,I.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsx(Gn,{className:"align-top py-3",children:o.jsx(Ue,{variant:V.status==="classified"?"default":V.status==="pending"?"secondary":"destructive",className:`text-sm ${V.status==="classified"?"bg-blue-600 text-white hover:bg-blue-700":""}`,children:V.status==="classified"?"완료":V.status==="pending"?"대기":"미분류"})}),o.jsx(Gn,{className:"align-top py-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"font-medium text-foreground flex items-center space-x-2",children:[o.jsx("a",{href:`https://www.youtube.com/channel/${V.channelId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"채널 페이지로 이동",children:V.channelName||"N/A"}),(y==="priority"||y==="classified"||y==="unclassified")&&(()=>{const I=P.filter(B=>B.channelName===V.channelName).length;return I>1?o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${y==="priority"?"bg-blue-100 text-blue-800":y==="classified"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[I,"개 영상"]}):null})()]}),o.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:V.description||"N/A"})]})}),o.jsx(Gn,{className:"align-top py-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium text-foreground max-w-xs truncate",children:o.jsx("a",{href:`https://www.youtube.com/watch?v=${V.videoId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:"영상 페이지로 이동",children:V.videoTitle||"N/A"})}),o.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:V.videoDescription||"N/A"})]})}),o.jsx(Gn,{className:"align-top py-3",children:o.jsx("div",{className:"text-sm font-medium text-foreground",children:(V.viewCount||0).toLocaleString()})}),o.jsx(Gn,{className:"align-top py-3",onClick:I=>I.stopPropagation(),children:o.jsxs(Bt,{value:V.category||"",onValueChange:I=>Q(V.id,{category:I,subCategory:"",status:"pending"}),children:[o.jsx(_t,{className:"w-32 bg-white text-black border-gray-300",children:o.jsx(Ft,{placeholder:"카테고리"})}),o.jsx(It,{className:"bg-white text-black",children:M.map(I=>o.jsx(Ze,{value:I,className:"bg-white text-black hover:bg-gray-100",children:I},I))})]})}),o.jsx(Gn,{className:"align-top py-3",onClick:I=>I.stopPropagation(),children:o.jsxs(Bt,{value:V.subCategory||"",onValueChange:I=>{const B=V.subCategory==="기타(미분류)"&&I!=="기타(미분류)"?"classified":I==="기타(미분류)"?"pending":"classified";Q(V.id,{subCategory:I,status:B})},disabled:!V.category,children:[o.jsx(_t,{className:"w-32 bg-white text-black border-gray-300",children:o.jsx(Ft,{placeholder:"세부카테고리"})}),o.jsx(It,{className:"bg-white text-black",children:V.category&&((k=A[V.category])==null?void 0:k.map(I=>o.jsx(Ze,{value:I,className:"bg-white text-black hover:bg-gray-100",children:I},I)))})]})})]},V.id)})})]})}),L>1&&o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[E+1,"-",Math.min(G,P.length)," / ",P.length,"개"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(X,{variant:"outline",size:"sm",onClick:()=>x(1),disabled:v===1,title:"처음 페이지로",children:"처음"}),o.jsx(X,{variant:"outline",size:"sm",onClick:()=>x(V=>Math.max(V-1,1)),disabled:v===1,children:"이전"}),o.jsxs("span",{className:"text-sm text-foreground px-3",children:[v," / ",L]}),o.jsx(X,{variant:"outline",size:"sm",onClick:()=>x(V=>Math.min(V+1,L)),disabled:v===L,children:"다음"}),o.jsx(X,{variant:"outline",size:"sm",onClick:()=>x(L),disabled:v===L,title:"끝 페이지로",children:"끝"})]})]})]})]})]})},Gn=({className:e,children:t,...r})=>o.jsx("td",{className:e,...r,children:t});function KZ(e,t=[]){let r=[];function n(s,i){const l=g.createContext(i);l.displayName=s+"Context";const c=r.length;r=[...r,i];const u=d=>{var x;const{scope:h,children:m,...y}=d,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=g.useMemo(()=>y,Object.values(y));return o.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function f(d,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const a=()=>{const s=r.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,VZ(a,...t)]}function VZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var zZ=Symbol.for("react.lazy"),yc=Ah[" use ".trim().toString()];function WZ(e){return typeof e=="object"&&e!==null&&"then"in e}function $A(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zZ&&"_payload"in e&&WZ(e._payload)}function HZ(e){const t=YZ(e),r=g.forwardRef((n,a)=>{let{children:s,...i}=n;$A(s)&&typeof yc=="function"&&(s=yc(s._payload));const l=g.Children.toArray(s),c=l.find(qZ);if(c){const u=c.props.children,f=l.map(d=>d===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:d);return o.jsx(t,{...i,ref:a,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function YZ(e){const t=g.forwardRef((r,n)=>{let{children:a,...s}=r;if($A(a)&&typeof yc=="function"&&(a=yc(a._payload)),g.isValidElement(a)){const i=QZ(a),l=XZ(s,a.props);return a.type!==g.Fragment&&(l.ref=n?ei(n,i):i),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GZ=Symbol("radix.slottable");function qZ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GZ}function XZ(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function QZ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var JZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_A=JZ.reduce((e,t)=>{const r=HZ(`Primitive.${t}`),n=g.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),fp="Progress",hp=100,[ZZ,Bee]=KZ(fp),[eee,tee]=ZZ(fp),IA=g.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=ree,...i}=e;(a||a===0)&&!eb(a)&&console.error(nee(`${a}`,"Progress"));const l=eb(a)?a:hp;n!==null&&!tb(n,l)&&console.error(aee(`${n}`,"Progress"));const c=tb(n,l)?n:null,u=xc(c)?s(c,l):void 0;return o.jsx(eee,{scope:r,value:c,max:l,children:o.jsx(_A.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":RA(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});IA.displayName=fp;var kA="ProgressIndicator",MA=g.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=tee(kA,r);return o.jsx(_A.div,{"data-state":RA(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});MA.displayName=kA;function ree(e,t){return`${Math.round(e/t*100)}%`}function RA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function xc(e){return typeof e=="number"}function eb(e){return xc(e)&&!isNaN(e)&&e>0}function tb(e,t){return xc(e)&&!isNaN(e)&&e<=t&&e>=0}function nee(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hp}\`.`}function aee(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LA=IA,oee=MA;const BA=g.forwardRef(({className:e,value:t,...r},n)=>o.jsx(LA,{ref:n,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(oee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));BA.displayName=LA.displayName;function see(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}function rb(e){const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60));if(n<1)return"방금 전";if(n<24)return`${n}시간 전`;const a=Math.floor(n/24);return a<7?`${a}일 전`:`${Math.floor(a/7)}주 전`}const iee=14,lee=()=>{var re,Ae;const e=Gt(),t=Zs(),{logout:r,userEmail:n}=Ar(),[a,s]=g.useState([]),[i,l]=g.useState([]),[c,u]=g.useState(!0),[f,d]=g.useState("all"),[h,m]=g.useState("all"),[y,p]=g.useState(qe()),[v,x]=g.useState([]),w=Jt,b=!!n,[N,j]=g.useState(null),[S,A]=g.useState({}),[O,$]=g.useState(null),[F,_]=g.useState(new Set),[C,U]=g.useState(null),[M,K]=g.useState(!1),[T,P]=g.useState(""),L=()=>{r(),e("/")};g.useEffect(()=>{const ae=de=>{p(de.detail.selectedDate)};return window.addEventListener("dashboardDateChanged",ae),()=>{window.removeEventListener("dashboardDateChanged",ae)}},[]),g.useEffect(()=>{console.log("📊 하드코딩된 카테고리 사용:",Jt)},[]),g.useEffect(()=>{const ae=[];for(let de=0;de<iee;de++){const V=new Date;V.setDate(V.getDate()-de),ae.push(V.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}x(ae),console.log("📅 사용 가능한 날짜 목록:",ae)},[]),g.useEffect(()=>{const ae=localStorage.getItem("geminiApiKey");U(ae)},[]);const E=g.useCallback(async()=>{try{u(!0);const ae=await xe.loadClassifiedData(),de=await xe.loadUnclassifiedData(),V=[...ae,...de];if(console.log(`📊 조회수 급등 동영상 상세 - IndexedDB에서 분류: ${ae.length}개, 미분류: ${de.length}개, 전체: ${V.length}개`),setTimeout(async()=>{try{const[k,I]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),B=[...k,...I];if(B.length>V.length&&(console.log(`🔄 백그라운드 동기화: 서버 데이터 ${B.length}개 > 로컬 ${V.length}개`),B&&B.length>0)){const R=y||qe(),he=B.filter(ge=>{const le=ge.dayKeyLocal||ge.collectionDate||ge.uploadDate;return(le?le.split("T")[0]:"")===R&&ge.videoTitle}).sort((ge,le)=>(le.viewCount||0)-(ge.viewCount||0)).slice(0,100).map(ge=>{var le;return{id:ge.videoId||ge.id,thumbnail:ge.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((le=ge.videoTitle)==null?void 0:le.substring(0,2))||"YT"}`,title:ge.videoTitle||"제목 없음",channelName:ge.channelName||"채널명 없음",views:ge.viewCount||0,timeAgo:rb(ge.uploadDate||ge.collectionDate),category:ge.category||"미분류",subCategory:ge.subCategory||"",uploadDate:ge.uploadDate||ge.collectionDate,description:ge.videoDescription||ge.description||""}});s(he),l(he)}}catch(k){console.warn("⚠️ 백그라운드 동기화 실패 (무시):",k)}},1e3),V&&V.length>0){const k=y||qe(),I=V.filter(R=>{const ce=R.dayKeyLocal||R.collectionDate||R.uploadDate;return(ce?ce.split("T")[0]:"")===k&&R.videoTitle}).sort((R,ce)=>(ce.viewCount||0)-(R.viewCount||0)).slice(0,100);console.log(`📊 조회수 급등 동영상 상세 - ${k} 날짜 데이터: ${I.length}개`);const B=I.map(R=>{var he;return{id:R.videoId||R.id,thumbnail:R.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((he=R.videoTitle)==null?void 0:he.substring(0,2))||"YT"}`,title:R.videoTitle||"제목 없음",channelName:R.channelName||"채널명 없음",views:R.viewCount||0,timeAgo:rb(R.uploadDate||R.collectionDate),category:R.category||"미분류",subCategory:R.subCategory||"",uploadDate:R.uploadDate||R.collectionDate,description:R.videoDescription||R.description||""}});console.log(`📊 조회수 급등 동영상 상세 - 생성된 비디오 데이터: ${B.length}개`),s(B),l(B)}else s([]),l([])}catch(ae){console.error("조회수 급등 동영상 데이터 로드 실패:",ae),s([]),l([])}finally{u(!1)}},[y]);g.useEffect(()=>{const ae=de=>{console.log("🔄 조회수 급등 동영상 상세 데이터 업데이트 이벤트 감지:",de.detail),E()};return E(),window.addEventListener("dataUpdated",ae),()=>{window.removeEventListener("dataUpdated",ae)}},[y,E]);const G=g.useCallback(()=>{let ae=[...a];f!=="all"&&(ae=ae.filter(de=>de.category===f)),h!=="all"&&(ae=ae.filter(de=>de.subCategory===h)),l(ae)},[f,h,a]);g.useEffect(()=>{G()},[G]);const ee=ae=>{d(ae),m("all")},Q=()=>{if(!T.trim()){alert("API 키를 입력해주세요.");return}const ae=T.trim();localStorage.setItem("geminiApiKey",ae),U(ae),K(!1),P(""),alert("API 키가 저장되었습니다.")},ie=async ae=>{if(N===ae.id)return;const de=localStorage.getItem("geminiApiKey");if(!de||de.trim()===""){alert("먼저 AI 키를 설정해주세요."),K(!0);return}j(ae.id);try{const V=await fetch("/api/analyze/video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoId:ae.id,title:ae.title,channelName:ae.channelName,description:ae.description,viewCount:ae.views,apiKey:de.trim()})});if(!V.ok)throw new Error(`분석 실패: ${V.statusText}`);const k=await V.json();if(k.success&&k.data)A(I=>({...I,[ae.id]:k.data})),_(I=>new Set([...I,ae.id])),$(ae.id);else throw new Error(k.error||"분석 결과를 받을 수 없습니다.")}catch(V){console.error("AI 분석 실패:",V),alert(`AI 분석 실패: ${V instanceof Error?V.message:"알 수 없는 오류"}`)}finally{j(null)}};return c?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"조회수 급등 동영상 데이터를 로드하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(He,{className:"w-8 h-8 text-red-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"조회수 급등 동영상"}),o.jsxs(Ue,{className:"bg-red-600 text-white",children:[o.jsx(He,{className:"w-3 h-3 mr-1"}),"급상승"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[t.pathname==="/dashboard"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}):o.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}),t.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>e("/trend"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}),t.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(X,{variant:"ghost",size:"sm",onClick:()=>e("/data"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"}),t.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>e("/system"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsxs(X,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(wc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[b&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:L,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[!C&&o.jsx(we,{className:"p-4 mb-6 border-2 border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-2xl",children:"⚠️"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Gemini API 키가 설정되지 않았습니다"}),o.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"AI 분석 기능을 사용하려면 API 키를 설정해주세요."})]})]}),o.jsxs(X,{onClick:()=>{P(""),K(!0)},className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600",children:[o.jsx(ss,{className:"w-4 h-4 mr-2"}),"키 설정하기"]})]})}),o.jsx(we,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-5 h-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"필터 설정"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const ae=localStorage.getItem("geminiApiKey");P(ae||""),K(!0)},className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600 border-0",children:[o.jsx(ss,{className:"w-4 h-4 mr-2"}),"🔑 AI 키 설정"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"날짜:"}),o.jsxs(Bt,{value:y,onValueChange:p,children:[o.jsx(_t,{className:"w-44",children:o.jsx(Ft,{placeholder:"날짜 선택"})}),o.jsx(It,{children:v.map(ae=>o.jsx(Ze,{value:ae,children:ae===qe()?`오늘 (${ae})`:ae},ae))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"카테고리:"}),o.jsxs(Bt,{value:f,onValueChange:ee,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),Object.keys(w).map(ae=>o.jsx(Ze,{value:ae,children:ae},ae))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리:"}),o.jsxs(Bt,{value:h,onValueChange:m,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),f!=="all"&&((re=w[f])==null?void 0:re.map(ae=>o.jsx(Ze,{value:ae,children:ae},ae))),f!=="all"&&console.log("📊 정치 카테고리 세부카테고리:",w[f])]})]})]})]})]})}),o.jsx(we,{className:"p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 동영상 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["총 ",i.length,"개 동영상 표시",f!=="all"&&` (${f})`,h!=="all"&&` - ${h}`]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["전체 ",a.length,"개 중"]}),o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[i.length,"개 표시"]})]})]})}),o.jsx(we,{className:"p-6",children:i.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(He,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"조회수 급등 동영상이 없습니다"}),o.jsx("p",{className:"text-sm mt-2",children:a.length===0?"데이터 수집을 먼저 진행해주세요.":"선택한 필터 조건에 맞는 동영상이 없습니다."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Cr,{children:[o.jsx(Or,{className:"sticky top-0 bg-muted/50 z-10",children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16 text-center",children:"순위"}),o.jsx(Le,{children:"동영상 정보"}),o.jsx(Le,{className:"text-right",children:"조회수"}),o.jsx(Le,{className:"text-center",children:"카테고리"}),o.jsx(Le,{className:"text-center",children:"AI 분석"})]})}),o.jsx(Pr,{children:i.map((ae,de)=>{const V=N===ae.id,k=F.has(ae.id),I=S[ae.id];return o.jsxs(pt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Ie,{className:"text-center font-semibold",children:de+1}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${ae.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-32 h-20 bg-muted",children:o.jsx("img",{src:ae.thumbnail,alt:ae.title,className:"w-full h-full object-cover object-center"})})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[o.jsx("div",{className:"font-medium text-foreground line-clamp-2",children:ae.title}),o.jsx("div",{className:"text-sm text-muted-foreground",children:ae.channelName}),o.jsx("div",{className:"text-xs text-muted-foreground",children:ae.timeAgo})]})]})}),o.jsx(Ie,{className:"text-right",children:o.jsx("div",{className:"font-medium",children:see(ae.views)})}),o.jsx(Ie,{className:"text-center",children:o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsx(Ue,{variant:"outline",className:"text-xs",children:ae.category}),ae.subCategory&&o.jsx(Ue,{variant:"secondary",className:"text-xs",children:ae.subCategory})]})}),o.jsx(Ie,{className:"text-center",children:o.jsx(X,{size:"sm",variant:k?"outline":"default",onClick:()=>{I?$(ae.id):ie(ae)},disabled:V||!C,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600",children:V?o.jsxs(o.Fragment,{children:[o.jsx(lC,{className:"w-4 h-4 mr-2 animate-spin"}),"분석 중..."]}):k?o.jsxs(o.Fragment,{children:[o.jsx(cC,{className:"w-4 h-4 mr-2"}),"📊 분석 완료"]}):o.jsxs(o.Fragment,{children:[o.jsx(ku,{className:"w-4 h-4 mr-2"}),"✨ AI 분석"]})})})]},ae.id)})})]})})}),O&&S[O]&&o.jsx(Sh,{open:!!O,onOpenChange:ae=>!ae&&$(null),children:o.jsxs(mc,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(pc,{children:[o.jsx(gc,{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"✨ AI 분석 결과"}),o.jsx(vc,{children:(Ae=i.find(ae=>ae.id===O))==null?void 0:Ae.title})]}),o.jsxs("div",{className:"space-y-6 mt-4",children:[o.jsxs(we,{className:"p-4 border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:[o.jsxs("h3",{className:"font-semibold text-purple-700 mb-2 flex items-center",children:[o.jsx(ku,{className:"w-4 h-4 mr-2"}),"요약"]}),o.jsx("p",{className:"text-sm text-foreground whitespace-pre-line",children:S[O].summary})]}),o.jsxs(we,{className:"p-4 border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50",children:[o.jsxs("h3",{className:"font-semibold text-blue-700 mb-2 flex items-center",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"인기 원인"]}),o.jsx("p",{className:"text-sm text-foreground",children:S[O].viral_reason})]}),o.jsxs(we,{className:"p-4 border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[o.jsxs("h3",{className:"font-semibold text-purple-700 mb-3 flex items-center",children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"낚시 지수"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"점수"}),o.jsxs("span",{className:"font-semibold text-purple-600",children:[S[O].clickbait_score," / 100"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(BA,{value:S[O].clickbait_score,className:"h-3 bg-gray-200"}),o.jsx("div",{className:"absolute top-0 left-0 h-3 rounded-full bg-gradient-to-r from-purple-500 via-blue-500 to-cyan-500 transition-all duration-300",style:{width:`${S[O].clickbait_score}%`}})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:S[O].clickbait_score>=70?"높은 낚시성 콘텐츠":S[O].clickbait_score>=40?"보통 낚시성 콘텐츠":"낮은 낚시성 콘텐츠"})]})]}),o.jsxs(we,{className:"p-4 border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-cyan-50",children:[o.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center",children:[o.jsx(ku,{className:"w-4 h-4 mr-2"}),"추천 키워드"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:S[O].keywords.map((ae,de)=>o.jsx(Ue,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600",children:ae},de))})]}),o.jsxs(we,{className:"p-4 border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50",children:[o.jsxs("h3",{className:"font-semibold text-purple-700 mb-2 flex items-center",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"여론/반응"]}),o.jsx(Ue,{className:S[O].sentiment==="긍정"?"bg-green-500 text-white":S[O].sentiment==="부정"?"bg-red-500 text-white":"bg-gray-500 text-white",children:S[O].sentiment})]})]})]})}),o.jsx(Sh,{open:M,onOpenChange:K,children:o.jsxs(mc,{className:"max-w-md",children:[o.jsxs(pc,{children:[o.jsxs(gc,{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent flex items-center",children:[o.jsx(ss,{className:"w-5 h-5 mr-2"}),"🔑 Gemini API 키 설정"]}),o.jsx(vc,{children:"Google Gemini API 키를 입력해주세요. 키는 브라우저에 안전하게 저장됩니다."})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"API 키"}),o.jsx(yt,{type:"password",placeholder:"AIza...",value:T,onChange:ae=>P(ae.target.value),className:"w-full",onKeyDown:ae=>{ae.key==="Enter"&&Q()}}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["API 키는 ",o.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google AI Studio"}),"에서 발급받을 수 있습니다."]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(X,{variant:"outline",onClick:()=>{K(!1),P("")},children:"취소"}),o.jsx(X,{onClick:Q,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600",children:"저장"})]})]})]})})]})]})},cee=()=>{const e=Gt(),t=()=>{try{"caches"in window&&caches.keys().then(n=>{n.forEach(a=>{caches.delete(a)})});const r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&(a.includes("category")||a.includes("subcategory"))&&r.push(a)}r.forEach(n=>localStorage.removeItem(n)),console.log("🔄 세부카테고리 강제 새로고침 완료"),alert("세부카테고리 캐시를 삭제했습니다! 페이지를 새로고침하세요."),setTimeout(()=>{window.location.reload()},2e3)}catch(r){console.error("세부카테고리 새로고침 오류:",r),alert("세부카테고리 새로고침에 실패했습니다.")}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e("/system"),children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"시스템으로 돌아가기"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"세부카테고리 설정"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"모든 카테고리와 세부카테고리를 확인하고 관리합니다"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"p-3 mb-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-yellow-800 text-center",children:["💡 ",o.jsx("code",{className:"bg-yellow-100 px-2 py-0.5 rounded font-medium",children:"src/lib/subcategories.ts"})," 에서 수정"]})}),o.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:o.jsxs(X,{variant:"outline",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:t,children:[o.jsx(cn,{className:"w-4 h-4 mr-2"}),"세부카테고리 새로고침"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx(we,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"총 카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-blue-900",children:yp.length}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"개"})]})}),o.jsx(we,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"총 세부카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-green-900",children:Object.values(Jt).reduce((r,n)=>r+n.length,0)}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:"개"})]})}),o.jsx(we,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"평균 세부카테고리"}),o.jsx("p",{className:"text-4xl font-bold text-purple-900",children:Math.round(Object.values(Jt).reduce((r,n)=>r+n.length,0)/yp.length)}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"개 / 카테고리"})]})})]}),o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(Dn,{className:"w-5 h-5 text-pink-600"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"전체 세부카테고리 목록"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.entries(Jt).map(([r,n])=>o.jsxs(we,{className:"p-4 border-2 hover:border-primary/50 transition-colors",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("h3",{className:"font-bold text-lg text-foreground mb-1",children:r}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["총 ",n.length,"개 세부카테고리"]})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:n.map((a,s)=>o.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded hover:bg-muted transition-colors",children:[o.jsxs("span",{className:"text-primary font-medium",children:[s+1,"."]})," ",a]},s))})]},r))})]})]})]})};function Ed(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}const uee=[{value:"changePercent",label:"증감률 높은 순"},{value:"changeAmount",label:"증가분 높은 순"},{value:"todayViews",label:"당일 조회수 높은 순"}],dee=()=>{var K;const e=Gt(),t=Zs(),{logout:r,userEmail:n}=Ar(),[a,s]=g.useState([]),[i,l]=g.useState([]),[c,u]=g.useState(!0),[f,d]=g.useState(qe()),[h,m]=g.useState([]),[y,p]=g.useState("all"),[v,x]=g.useState("all"),[w,b]=g.useState("changePercent"),N=g.useMemo(()=>!!n,[n]),j=Jt;g.useEffect(()=>{const T=[];for(let P=0;P<14;P++){const L=new Date;L.setDate(L.getDate()-P),T.push(L.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}m(T)},[]);const S=g.useCallback(()=>{r(),e("/")},[r,e]),A=g.useCallback(T=>{let P=[...T];switch(y!=="all"&&(P=P.filter(L=>L.category===y)),v!=="all"&&(P=P.filter(L=>L.subCategory===v)),w){case"changeAmount":P.sort((L,E)=>E.changeAmount-L.changeAmount);break;case"todayViews":P.sort((L,E)=>E.todayViews-L.todayViews);break;case"changePercent":default:P.sort((L,E)=>E.changePercent-L.changePercent);break}return P},[y,v,w]),O=g.useCallback(T=>{if(!T||T.length===0){s([]),l([]);return}const P=f||qe(),L=T.filter(re=>{const Ae=re.collectionDate||re.uploadDate||re.dayKeyLocal;return Ae&&Ae.split("T")[0]===P&&re.channelId}),E=new Date(new Date(P).getTime()-24*60*60*1e3).toISOString().split("T")[0],G=T.filter(re=>{const Ae=re.collectionDate||re.uploadDate||re.dayKeyLocal;return Ae&&Ae.split("T")[0]===E&&re.channelId});console.log(`📊 급등 채널 상세 - ${P} 데이터 ${L.length}개`),console.log(`📊 급등 채널 상세 - ${E} 데이터 ${G.length}개`);const ee={};L.forEach(re=>{ee[re.channelId]||(ee[re.channelId]={channelId:re.channelId,channelName:re.channelName||"채널명 없음",category:re.category||"기타",subCategory:re.subCategory||"미분류",thumbnail:re.channelThumbnail||re.thumbnailUrl||`https://via.placeholder.com/96x96?text=${(re.channelName||"CH").charAt(0)}`,totalViews:0,videos:[]}),ee[re.channelId].totalViews+=re.viewCount||0,ee[re.channelId].videos.push(re)});const Q={};G.forEach(re=>{Q[re.channelId]=(Q[re.channelId]||0)+(re.viewCount||0)});const ie=Object.values(ee).map(re=>{const Ae=Q[re.channelId]||0,ae=re.totalViews-Ae,de=Ae>0?ae/Ae*100:re.totalViews>0?100:0,V=[...re.videos].sort((B,R)=>{const ce=new Date(B.uploadDate||B.collectionDate||0);return new Date(R.uploadDate||R.collectionDate||0).getTime()-ce.getTime()})[0],k=re.videos.find(B=>B.thumbnailUrl&&!B.thumbnailUrl.includes("placeholder")),I=(k==null?void 0:k.thumbnailUrl)||re.thumbnail||`https://via.placeholder.com/96x96?text=${re.channelName.charAt(0)}`;return{id:re.channelId,channelName:re.channelName,category:re.category||"미분류",subCategory:re.subCategory||"",thumbnail:I,todayViews:re.totalViews,yesterdayViews:Ae,changeAmount:ae,changePercent:de,topVideoUrl:V!=null&&V.videoId?`https://www.youtube.com/watch?v=${V.videoId}`:void 0,topVideoTitle:(V==null?void 0:V.videoTitle)||(V==null?void 0:V.title)||void 0}});s(ie),l(A(ie))},[f,A]),$=g.useCallback(async()=>{u(!0);try{const T=await xe.loadClassifiedData(),P=await xe.loadUnclassifiedData(),L=[...T,...P];console.log(`📊 급등 채널 상세 - IndexedDB에서 분류: ${T.length}개, 미분류: ${P.length}개, 전체: ${L.length}개`),setTimeout(async()=>{try{const[E,G]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),ee=[...E,...G];ee.length>L.length&&(console.log(`🔄 급등 채널 상세 - 서버 데이터 ${ee.length}개 > 로컬 ${L.length}개`),O(ee))}catch(E){console.warn("⚠️ 급등 채널 상세 - 백그라운드 동기화 실패 (무시)",E)}},1e3),O(L)}catch(T){console.error("❌ 급등 채널 데이터 로드 실패:",T),s([]),l([])}finally{u(!1)}},[O]),F=g.useCallback(()=>{l(A(a))},[a,A]);g.useEffect(()=>{F()},[F]),g.useEffect(()=>{$()},[$]);const _=T=>{p(T),x("all")},C=i.length,U=i.filter(T=>T.changeAmount>0).length,M=i.filter(T=>T.changeAmount<0).length;return c?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"조회수 급등 채널 데이터를 로드하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ts,{className:"w-8 h-8 text-blue-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"조회수 급등 채널"}),o.jsxs(Ue,{className:"bg-blue-600 text-white",children:[o.jsx(He,{className:"w-3 h-3 mr-1"}),"급상승"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[t.pathname==="/dashboard"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}):o.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}),t.pathname==="/trend"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}):o.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>e("/trend"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}),t.pathname==="/data"?o.jsx("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4",children:"📊 데이터"}):o.jsx(X,{variant:"ghost",size:"sm",onClick:()=>e("/data"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"📊 데이터"}),t.pathname==="/system"?o.jsxs("span",{className:"text-base font-semibold text-red-600 underline underline-offset-4 flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}):o.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>e("/system"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(ha,{children:[o.jsx(ma,{asChild:!0,children:o.jsxs(X,{variant:"outline",size:"sm",className:"bg-transparent border-white/30 text-white hover:bg-white/10",children:[o.jsx(wc,{className:"w-4 h-4 mr-2"}),"사용자"]})}),o.jsxs(Ln,{align:"end",className:"w-48",children:[N&&o.jsx(lt,{asChild:!0,children:o.jsxs(Ne,{to:"/user-management",className:"cursor-pointer",children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]})}),o.jsx(lt,{asChild:!0,children:o.jsx(Ne,{to:"/change-password",className:"cursor-pointer",children:"비밀번호 변경"})}),o.jsx(Do,{}),o.jsxs(lt,{onClick:S,className:"cursor-pointer text-red-600",children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"날짜"}),o.jsxs(Bt,{value:f,onValueChange:d,children:[o.jsx(_t,{className:"w-44",children:o.jsx(Ft,{placeholder:"날짜 선택"})}),o.jsx(It,{children:h.map(T=>o.jsx(Ze,{value:T,children:T===qe()?`오늘 (${T})`:T},T))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"카테고리"}),o.jsxs(Bt,{value:y,onValueChange:_,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),Object.keys(j).map(T=>o.jsx(Ze,{value:T,children:T},T))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리"}),o.jsxs(Bt,{value:v,onValueChange:x,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),y!=="all"&&((K=j[y])==null?void 0:K.map(T=>o.jsx(Ze,{value:T,children:T},T)))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"정렬"}),o.jsxs(Bt,{value:w,onValueChange:b,children:[o.jsx(_t,{className:"w-48",children:o.jsx(Ft,{placeholder:"정렬 선택"})}),o.jsx(It,{children:uee.map(T=>o.jsx(Ze,{value:T.value,children:T.label},T.value))})]})]})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-muted/40",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 급등 채널"}),o.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[C.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-success/10",children:[o.jsxs("p",{className:"text-sm text-success mb-1 flex items-center space-x-1",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsx("span",{children:"증가 채널"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-success",children:[U.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-destructive/10",children:[o.jsxs("p",{className:"text-sm text-destructive mb-1 flex items-center space-x-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:"감소 채널"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-destructive",children:[M.toLocaleString(),"개"]})]})]})}),o.jsxs(we,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"조회수 급등 채널 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[f," 기준 상위 ",i.length,"개 채널",y!=="all"&&` (${y})`,v!=="all"&&` - ${v}`]})]})}),i.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"선택한 조건에 해당하는 채널이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"필터를 변경하거나 데이터를 다시 수집해 주세요."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Cr,{children:[o.jsx(Or,{className:"bg-muted/50 sticky top-0 z-10",children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16 text-center",children:"순위"}),o.jsx(Le,{className:"w-64 text-center",children:"썸네일"}),o.jsx(Le,{children:"채널 정보"}),o.jsx(Le,{className:"text-right",children:"당일 조회수"}),o.jsx(Le,{className:"text-right",children:"전일 조회수"}),o.jsx(Le,{className:"text-right",children:"증가분"}),o.jsx(Le,{className:"text-right",children:"증감률"}),o.jsx(Le,{className:"text-right",children:"대표 영상"})]})}),o.jsx(Pr,{children:i.map((T,P)=>o.jsxs(pt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Ie,{className:"text-center font-semibold text-sm",children:P+1}),o.jsx(Ie,{children:o.jsx("div",{className:"w-64 h-64 rounded overflow-hidden bg-muted mx-auto",children:o.jsx("img",{src:T.thumbnail,alt:T.channelName,className:"w-full h-full object-cover object-center"})})}),o.jsxs(Ie,{className:"space-y-2",children:[o.jsx("div",{className:"font-medium text-foreground",children:T.channelName}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ue,{variant:"secondary",className:"text-xs",children:T.category}),o.jsx(Ue,{variant:"outline",className:"text-xs",children:T.subCategory||"미분류"})]})]}),o.jsx(Ie,{className:"text-right",children:o.jsx("div",{className:"font-medium text-foreground",children:Ed(T.todayViews)})}),o.jsx(Ie,{className:"text-right",children:o.jsx("div",{className:"text-muted-foreground",children:Ed(T.yesterdayViews)})}),o.jsx(Ie,{className:"text-right",children:o.jsxs("div",{className:ke("font-medium",T.changeAmount>=0?"text-success":"text-destructive"),children:[T.changeAmount>=0?"+":"",Ed(Math.abs(T.changeAmount))]})}),o.jsx(Ie,{className:"text-right",children:o.jsxs("div",{className:ke("flex items-center justify-end space-x-1 font-medium",T.changePercent>=0?"text-success":"text-destructive"),children:[T.changePercent>=0?o.jsx(He,{className:"w-4 h-4"}):o.jsx(kn,{className:"w-4 h-4"}),o.jsxs("span",{children:[T.changePercent>=0?"+":"",Math.floor(T.changePercent),"%"]})]})}),o.jsx(Ie,{className:"text-right",children:T.topVideoUrl?o.jsx("a",{href:T.topVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:text-blue-700 hover:underline",children:T.topVideoTitle||"영상 보기"}):o.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})})]},T.id))})]})})]})]})]})},fee=[{value:"1.5",label:"1.5배 이상"},{value:"2",label:"2배 이상"},{value:"3",label:"3배 이상"}];function nb(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString()}const hee=()=>{var _;const e=Gt(),{logout:t,userEmail:r}=Ar(),[n,a]=g.useState(!0),[s,i]=g.useState([]),[l,c]=g.useState(qe()),[u,f]=g.useState("all"),[d,h]=g.useState("all"),[m,y]=g.useState("1.5"),[p,v]=g.useState([]),[x,w]=g.useState([]),b=g.useMemo(()=>!!r,[r]),N=Jt;g.useEffect(()=>{const C=[];for(let U=0;U<14;U++){const M=new Date;M.setDate(M.getDate()-U),C.push(M.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}))}i(C)},[]);const j=g.useCallback(C=>{if(!C||C.length===0){v([]),w([]);return}const U=l||qe(),M=C.filter(E=>{const G=E.collectionDate||E.uploadDate||E.dayKeyLocal;return G&&G.split("T")[0]===U&&E.videoTitle});console.log(`📊 평균 대비 고성과 동영상 - ${U} 데이터 ${M.length}개`);const K={};C.forEach(E=>{!E.channelId||!E.viewCount||(K[E.channelId]||(K[E.channelId]={totalViews:0,count:0}),K[E.channelId].totalViews+=E.viewCount,K[E.channelId].count+=1)});const T=new Map;M.forEach(E=>{const G=E.videoId||E.id;if(!G)return;const ee=T.get(G);(!ee||(E.viewCount||0)>(ee.viewCount||0))&&T.set(G,E)});const L=Array.from(T.values()).map(E=>{var ie;const G=K[E.channelId],ee=G&&G.count>0?Math.round(G.totalViews/G.count):E.viewCount||0,Q=ee>0?(E.viewCount||0)/ee:0;return{id:E.videoId||E.id,thumbnail:E.thumbnailUrl||`https://via.placeholder.com/320x180?text=${((ie=E.videoTitle)==null?void 0:ie.substring(0,2))||"YT"}`,title:E.videoTitle||"제목 없음",channelName:E.channelName||"채널명 없음",category:E.category||"미분류",subCategory:E.subCategory||"",views:E.viewCount||0,averageViews:ee,performanceRatio:Q,uploadDate:E.uploadDate||"",collectionDate:E.collectionDate||""}}).filter(E=>E.performanceRatio>=parseFloat(m)).sort((E,G)=>G.performanceRatio-E.performanceRatio).slice(0,100);console.log(`📊 평균 대비 고성과 동영상 - 생성된 목록 ${L.length}개`,L.slice(0,3)),v(L),w(A(L,u,d))},[m,u,d,l]),S=g.useCallback(async()=>{a(!0);try{const C=await xe.loadClassifiedData(),U=await xe.loadUnclassifiedData(),M=[...C,...U];console.log(`📊 평균 대비 고성과 동영상 - IndexedDB에서 분류: ${C.length}개, 미분류: ${U.length}개, 전체: ${M.length}개`),j(M),setTimeout(async()=>{try{const[K,T]=await Promise.all([ot.getClassifiedData(),ot.loadUnclassifiedData()]),P=[...K,...T];P.length>M.length&&(console.log(`🔄 평균 대비 고성과 동영상 - 서버 데이터 ${P.length}개 > 로컬 ${M.length}개`),j(P))}catch(K){console.warn("⚠️ 평균 대비 고성과 동영상 - 백그라운드 동기화 실패 (무시)",K)}},1e3)}catch(C){console.error("❌ 평균 대비 고성과 동영상 데이터 로드 실패:",C),v([]),w([])}finally{a(!1)}},[j]);g.useEffect(()=>{S()},[S]);const A=(C,U,M)=>{let K=[...C];return U!=="all"&&(K=K.filter(T=>T.category===U)),M!=="all"&&(K=K.filter(T=>T.subCategory===M)),K},O=g.useCallback(()=>{w(A(p,u,d))},[p,u,d]);g.useEffect(()=>{O()},[O]);const $=C=>{f(C),h("all")},F=x.filter(C=>C.performanceRatio>=1).length;return n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"평균 대비 고성과 동영상을 분석하는 중..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b bg-background",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"w-4 h-4"}),o.jsx("span",{children:"대시보드로 돌아가기"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(uC,{className:"w-8 h-8 text-amber-600"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"평균 대비 우수 성과 동영상"}),o.jsxs(Ue,{className:"bg-amber-600 text-white",children:[o.jsx($d,{className:"w-3 h-3 mr-1"}),"고성과"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[b&&o.jsxs(X,{variant:"outline",onClick:()=>e("/user-management"),children:[o.jsx(Zr,{className:"w-4 h-4 mr-2"}),"회원관리"]}),o.jsxs(X,{variant:"outline",onClick:()=>e("/dashboard"),children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),"국내"]}),o.jsxs(X,{variant:"outline",onClick:()=>e("/trend"),children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]}),o.jsx(X,{variant:"outline",onClick:()=>e("/data"),children:"📊 데이터"}),o.jsxs(X,{variant:"outline",onClick:()=>e("/system"),children:[o.jsx(vp,{className:"w-4 h-4 mr-2"}),"시스템"]}),o.jsxs(X,{variant:"outline",onClick:()=>{t(),e("/")},children:[o.jsx(wa,{className:"w-4 h-4 mr-2"}),"로그아웃"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"날짜"}),o.jsxs(Bt,{value:l,onValueChange:c,children:[o.jsx(_t,{className:"w-44",children:o.jsx(Ft,{placeholder:"날짜 선택"})}),o.jsx(It,{children:s.map(C=>o.jsx(Ze,{value:C,children:C===qe()?`오늘 (${C})`:C},C))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"카테고리"}),o.jsxs(Bt,{value:u,onValueChange:$,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),Object.keys(N).map(C=>o.jsx(Ze,{value:C,children:C},C))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"세부카테고리"}),o.jsxs(Bt,{value:d,onValueChange:h,children:[o.jsx(_t,{className:"w-40",children:o.jsx(Ft,{placeholder:"세부카테고리 선택"})}),o.jsxs(It,{children:[o.jsx(Ze,{value:"all",children:"전체"}),u!=="all"&&((_=N[u])==null?void 0:_.map(C=>o.jsx(Ze,{value:C,children:C},C)))]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"최소 성과 배율"}),o.jsxs(Bt,{value:m,onValueChange:y,children:[o.jsx(_t,{className:"w-36",children:o.jsx(Ft,{placeholder:"기준 선택"})}),o.jsx(It,{children:fee.map(C=>o.jsx(Ze,{value:C.value,children:C.label},C.value))})]})]})]})}),o.jsx(we,{className:"p-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-muted/40",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 고성과 동영상"}),o.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[x.length.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-success/10",children:[o.jsxs("p",{className:"text-sm text-success mb-1 flex items-center space-x-1",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsx("span",{children:"평균 대비 높은 영상"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-success",children:[F.toLocaleString(),"개"]})]}),o.jsxs("div",{className:"rounded-lg border border-border p-4 bg-amber-100",children:[o.jsxs("p",{className:"text-sm text-amber-700 mb-1 flex items-center space-x-1",children:[o.jsx(vp,{className:"w-4 h-4"}),o.jsx("span",{children:"평균 대비 최소 배율"})]}),o.jsxs("p",{className:"text-2xl font-semibold text-amber-700",children:[parseFloat(m).toFixed(1),"x"]})]})]})}),o.jsxs(we,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"평균 대비 우수 성과 동영상 목록"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l," 기준 상위 ",x.length,"개 동영상",u!=="all"&&` (${u})`,d!=="all"&&` - ${d}`]})]})}),x.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"선택한 조건에 해당하는 동영상이 없습니다."}),o.jsx("p",{className:"text-sm mt-1",children:"필터를 조정하거나 데이터를 다시 수집해 주세요."})]}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(Cr,{children:[o.jsx(Or,{className:"sticky top-0 bg-muted/50 z-10",children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16 text-center",children:"순위"}),o.jsx(Le,{children:"동영상 정보"}),o.jsx(Le,{className:"text-right",children:"현재 조회수"}),o.jsx(Le,{className:"text-right",children:"채널 평균"}),o.jsx(Le,{className:"text-right",children:"성과 배율"}),o.jsx(Le,{className:"text-right",children:"게시일"})]})}),o.jsx(Pr,{children:x.map((C,U)=>o.jsxs(pt,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Ie,{className:"text-center font-semibold",children:U+1}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("a",{href:`https://www.youtube.com/watch?v=${C.id}`,target:"_blank",rel:"noopener noreferrer",className:"relative hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"relative overflow-hidden rounded w-64 h-64 bg-muted",children:o.jsx("img",{src:C.thumbnail,alt:C.title,className:"w-full h-full object-cover object-center"})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:C.channelName}),o.jsx(Ue,{variant:"secondary",className:"text-xs",children:C.category}),o.jsx(Ue,{variant:"outline",className:"text-xs",children:C.subCategory||"미분류"}),o.jsxs(Ue,{className:"bg-success text-white text-xs",children:[o.jsx($d,{className:"w-3 h-3 mr-1"}),C.performanceRatio.toFixed(1),"x"]})]}),o.jsx("a",{href:`https://www.youtube.com/watch?v=${C.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-500 hover:text-blue-700 hover:underline line-clamp-2 text-sm leading-5 cursor-pointer block",title:`${C.title} - 새 탭에서 열기`,children:C.title})]})]})}),o.jsxs(Ie,{className:"text-right font-medium text-foreground",children:[nb(C.views),"회"]}),o.jsxs(Ie,{className:"text-right text-muted-foreground",children:[nb(C.averageViews),"회"]}),o.jsxs(Ie,{className:"text-right text-success font-semibold",children:[C.performanceRatio.toFixed(2),"x"]}),o.jsx(Ie,{className:"text-right text-sm text-muted-foreground",children:(C.uploadDate||C.collectionDate||"").split("T")[0]||"-"})]},C.id))})]})})]})]})]})},ab=e=>!e||typeof e!="string"?!1:/[가-힣]/.test(e),mee=e=>{const t=ab(e.channelName||""),r=ab(e.videoTitle||e.title||"");return t||r},pee=e=>!e||typeof e!="string"||[/미유.*MIUU.*AI/i,/MIUU.*AI/i].some(n=>n.test(e))?!1:[/MBC/i,/KBS/i,/kbs/i,/SBS/i,/JTBC/i,/tvN/i,/MBN/i,/채널A/i,/YTN/i,/Mnet/i,/tvchosun/i,/TV조선/i,/MBC공식/i,/KBS공식/i,/SBS공식/i,/JTBC공식/i,/스브스/i,/SUBUSU/i,/엠뚜루마뚜루/i,/넷플릭스/i,/Netflix/i,/지니키즈/i,/Genie Kids/i,/Genikids/i,/조선일보/i,/중앙일보/i,/동아일보/i,/한겨레/i,/경향신문/i,/매일경제/i,/한국경제/i,/서울신문/i,/연합뉴스/i,/정부/i,/청와대/i,/국회/i,/행정안전부/i,/문화체육관광부/i,/롯데/i,/Lotte/i,/농심/i,/Nongshim/i,/삼성/i,/Samsung/i,/LG/i,/현대/i,/Hyundai/i,/SK/i,/한화/i,/Hanwha/i,/CJ/i,/GS/i,/두산/i,/Doosan/i,/포스코/i,/POSCO/i,/신세계/i,/Shinsegae/i,/이마트/i,/Emart/i,/하나/i,/Hana/i,/KB/i,/신한/i,/Shinhan/i,/기업/i,/회사/i,/Corporation/i,/Corp/i,/Company/i,/SMTOWN/i,/SM ENT/i,/SM엔터/i,/HYBE/i,/JYP/i,/YG/i,/플레디스/i,/Pledis/i,/큐브/i,/CUBE/i,/판타지오/i,/Fantagio/i,/스타쉽/i,/Starship/i,/BLACKPINK/i,/BTS/i,/BANGTAN/i,/BANGTANTV/i,/SEVENTEEN/i,/TWICE/i,/Red Velvet/i,/aespa/i,/NewJeans/i,/IVE/i,/LE SSERAFIM/i,/NCT/i,/EXO/i,/SUPER JUNIOR/i,/공식채널/i,/Official/i,/공식/i,/^YouTube/i,/^YouTube Music/i,/^YouTube Kids/i,/브랜드/i,/Brand/i,/어린이/i,/키즈/i,/Kids/i,/Children/i,/어린이방송/i,/키즈방송/i,/Kids TV/i,/Children TV/i,/EBS어린이/i,/EBS키즈/i,/KBS어린이/i,/KBS키즈/i,/MBC어린이/i,/SBS어린이/i,/베이비버스/i,/BabyBus/i,/리틀엔젤/i,/Little Angel/i,/토이몽/i,/Toymong/i,/브레드 이발소/i,/Bread Barber/i,/캐릭온/i,/Characteron/i,/핑크퐁/i,/Pinkfong/i,/어린이 프로/i,/마샤와 곰/i,/Masha/i,/Masha and the Bear/i,/토닥토닥 꼬모/i,/꼬모/i,/Kkomo/i,/Topic/i,/topic/i,/- Topic$/i,/엔터테인먼트/i,/Entertainment/i,/1theK/i,/원더케이/i,/M2/i,/멜론/i,/Melon/i,/미스.*미스터.*트롯/i,/미스&미스터트롯/i,/ootb STUDIO/i,/OOTB/i,/뉴스/i,/News/i,/방송/i,/Broadcast/i,/esports/i].some(n=>n.test(e)),gee=()=>{const[e,t]=sb(),r=e.get("channelId")||"",[n,a]=g.useState(r),[s,i]=g.useState("daily"),[l,c]=g.useState(qe()),[u,f]=g.useState(()=>{const B=new Date;return B.setDate(B.getDate()-7),B.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}),[d,h]=g.useState(qe()),[m,y]=g.useState(""),[p,v]=g.useState("대한민국"),[x,w]=g.useState(!1),[b,N]=g.useState(!1),[j,S]=g.useState(!0),[A,O]=g.useState(!1),[$,F]=g.useState([]),_=g.useRef(null),C=g.useRef(null),U=g.useRef(null),M=g.useRef(!1),[K,T]=g.useState(null),[P,L]=g.useState([]),[E,G]=g.useState(!0),[ee,Q]=g.useState(!1);g.useEffect(()=>{(async()=>{try{G(!0);const R=performance.now(),ce=l||qe(),he=new Date(ce);he.setDate(he.getDate()-1);const ge=he.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"}),[le,$e]=await Promise.all([xe.loadClassifiedData(),xe.loadUnclassifiedData()]),me=performance.now()-R;console.log(`📊 데이터 로드 완료: ${le.length+$e.length}개 (${me.toFixed(0)}ms)`);const je=[],Ee=[],Oe=[...le,...$e];for(const W of Oe){const ne=W.collectionDate||W.uploadDate||W.dayKeyLocal;if(!ne)continue;const pe=ne.split("T")[0],ye=pe===ce,z=pe===ge;!ye&&!z||p==="대한민국"&&!mee(W)||(ye&&je.push(W),z&&Ee.push(W))}const Te={},tt={};for(const W of je){if(!W.channelId||!W.channelName)continue;const ne=pee(W.channelName);if(A&&!ne||j&&!A&&ne)continue;Te[W.channelId]||(Te[W.channelId]={channelId:W.channelId,channelName:W.channelName,thumbnail:W.thumbnailUrl||`https://via.placeholder.com/96x96?text=${W.channelName.charAt(0)}`,todayViews:0,description:W.description||W.channelDescription,totalSubscribers:W.subscriberCount||W.totalSubscribers,channelCreationDate:W.channelCreationDate||W.channelCreationDate||(W.publishedAt?W.publishedAt.split("T")[0]:void 0),videoCount:0},tt[W.channelId]=new Set),Te[W.channelId].todayViews+=W.viewCount||0;const pe=W.videoId||W.id;pe&&tt[W.channelId].add(pe)}Object.keys(Te).forEach(W=>{var ne;Te[W].videoCount=((ne=tt[W])==null?void 0:ne.size)||0});const H={};Ee.forEach(W=>{W.channelId&&(H[W.channelId]||(H[W.channelId]={totalViews:0}),H[W.channelId].totalViews+=W.viewCount||0)});const q={};Object.entries(H).sort(([,W],[,ne])=>ne.totalViews-W.totalViews).forEach(([W],ne)=>{q[W]=ne+1});const Y=Object.values(Te).map(W=>{var se;const ne=((se=H[W.channelId])==null?void 0:se.totalViews)||0,pe=q[W.channelId]||999999,ye=0,z=W.todayViews-ne,ue=ne>0?z/ne*100:0;return{rank:0,channelId:W.channelId,channelName:W.channelName,thumbnail:W.thumbnail,todayViews:W.todayViews,yesterdayViews:ne,rankChange:pe-ye,changePercent:ue,description:W.description,totalSubscribers:W.totalSubscribers,channelCreationDate:W.channelCreationDate,videoCount:W.videoCount||W.videos.length}}).filter(W=>x?!q[W.channelId]:!0).sort((W,ne)=>b?W.todayViews-ne.todayViews:ne.todayViews-W.todayViews).map((W,ne)=>{const pe=q[W.channelId]||999999;return{...W,rank:ne+1,rankChange:pe===999999?0:pe-(ne+1)}});F(Y);const ve=performance.now()-R;if(console.log(`✅ 채널 랭킹 계산 완료: ${Y.length}개 채널 (총 ${ve.toFixed(0)}ms)`),r&&Y.length>0){const W=Y.find(ne=>ne.channelId===r);W&&(T(W),a(r))}else if(n&&Y.length>0){const W=Y.find(ne=>ne.channelId===n);W?T(W):(T(null),a(""),t({}))}G(!1)}catch(R){console.error("채널 랭킹 로드 실패:",R),G(!1)}})()},[l,x,b,r,p,j,A]),g.useEffect(()=>{if(!n){L([]),Q(!1);return}(async()=>{try{Q(!0);const R=performance.now();console.log(`📊 차트 데이터 로드 시작: 채널 ${n}`);const ce=await xe.loadUnclassifiedData(),he=await xe.loadClassifiedData(),ge=ce.filter(q=>q.channelId===n),le=he.filter(q=>q.channelId===n),$e=[...ge,...le],me=new Map;$e.forEach(q=>{const Y=`${q.videoId}-${q.dayKeyLocal||q.collectionDate}`;me.has(Y)||me.set(Y,q)});const je=Array.from(me.values());if(je.length===0){L([]),Q(!1);return}const Ee=new Date(u),Oe=new Date(d);Oe.setHours(23,59,59,999);const Te=new Map;je.forEach(q=>{const Y=q.collectionDate||q.uploadDate||q.dayKeyLocal;if(!Y)return;const ve=Y.split("T")[0],W=new Date(ve);if(W<Ee||W>Oe)return;let ne;if(s==="daily")ne=ve;else if(s==="weekly"){const ye=W.getDay(),z=new Date(W);z.setDate(W.getDate()-(ye===0?6:ye-1)),ne=z.toLocaleDateString("en-CA",{timeZone:"Asia/Seoul"})}const pe=Te.get(ne)||0;Te.set(ne,pe+(q.viewCount||0))});const tt=Array.from(Te.entries()).map(([q,Y])=>({date:q,views:Y})).sort((q,Y)=>q.date.localeCompare(Y.date));L(tt);const H=performance.now()-R;console.log(`✅ 차트 데이터 로드 완료: ${tt.length}개 데이터 포인트 (${H.toFixed(0)}ms)`),Q(!1)}catch(R){console.error("차트 데이터 로드 실패:",R),Q(!1)}})()},[n,s,u,d]),g.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const ie=B=>{T(B),a(B.channelId)},re=B=>{T(B),a(B.channelId),t({channelId:B.channelId},{replace:!0})},Ae=B=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{ie(B),_.current=null},300)},ae=()=>{_.current&&(clearTimeout(_.current),_.current=null)},de=(B,R)=>{_.current&&(clearTimeout(_.current),_.current=null),C.current&&(U.current=C.current.scrollTop,M.current=!0),re(B)};g.useEffect(()=>{if(M.current&&U.current!==null&&C.current){const B=U.current,R=()=>{C.current&&B!==null&&(C.current.scrollTop=B)};requestAnimationFrame(()=>{R(),setTimeout(()=>{R()},0),setTimeout(()=>{R(),U.current=null,M.current=!1},10)})}},[n]);const V=g.useMemo(()=>{if(!m.trim())return $;const B=m.toLowerCase();return $.filter(R=>R.channelName.toLowerCase().includes(B)||R.channelId.toLowerCase().includes(B))},[$,m]),k=B=>B>=1e6?(B/1e6).toFixed(1)+"M":B>=1e3?(B/1e3).toFixed(1)+"K":B.toString(),I=({active:B,payload:R,label:ce})=>B&&R&&R.length?o.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-medium text-foreground",children:ce}),o.jsxs("p",{className:"text-muted-foreground",children:["조회수: ",k(R[0].value)]})]}):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"bg-background border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"YT"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-pink-300 to-red-600 bg-clip-text text-transparent",children:"YouTube Pulse"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"실시간 유튜브 트렌드 분석 플랫폼"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{to:"/dashboard",children:o.jsx(X,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"국내"})}),o.jsx(Ne,{to:"/trend",children:o.jsxs(X,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(He,{className:"w-4 h-4 mr-2"}),"트렌드"]})}),o.jsx(Ne,{to:"/data",children:o.jsx(X,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"📊 데이터"})}),o.jsx(Ne,{to:"/system",children:o.jsxs(X,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Ht,{className:"w-4 h-4 mr-2"}),"시스템"]})})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6",children:[o.jsx("div",{className:"lg:col-span-3 space-y-4",children:o.jsxs(we,{className:"p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"채널 랭킹 대시보드"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(X,{variant:s==="daily"?"default":"outline",size:"sm",onClick:()=>i("daily"),className:s==="daily"?"bg-red-600 hover:bg-red-700":"",children:"일별"}),o.jsx(X,{variant:s==="weekly"?"default":"outline",size:"sm",onClick:()=>i("weekly"),className:s==="weekly"?"bg-red-600 hover:bg-red-700":"",children:"주별"})]}),o.jsxs(Bt,{value:p,onValueChange:v,children:[o.jsx(_t,{className:"w-full",children:o.jsx(Ft,{})}),o.jsx(It,{children:o.jsx(Ze,{value:"대한민국",children:"대한민국"})})]}),o.jsx(yt,{type:"date",value:l,onChange:B=>c(B.target.value)}),o.jsxs("div",{className:"relative",children:[o.jsx(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx(yt,{placeholder:"채널명으로 검색...",value:m,onChange:B=>y(B.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex space-x-2 flex-wrap gap-2",children:[o.jsx(X,{variant:x?"default":"outline",size:"sm",onClick:()=>w(!x),className:x?"bg-red-600 hover:bg-red-700":"",children:"신규진입"}),o.jsxs(X,{variant:b?"default":"outline",size:"sm",onClick:()=>N(!b),className:b?"bg-red-600 hover:bg-red-700":"",children:[o.jsx(dC,{className:"w-4 h-4 mr-1"}),"역순"]}),o.jsx(X,{variant:A||j?"default":"outline",size:"sm",onClick:()=>{A?(O(!1),S(!0)):j?(O(!0),S(!1)):(S(!0),O(!1))},className:A?"bg-blue-600 hover:bg-blue-700":j?"bg-red-600 hover:bg-red-700":"",children:A?"공식채널만":j?"공식채널 제외":"전체 표시"})]})]}),o.jsx("div",{ref:C,className:"space-y-2 max-h-[600px] overflow-y-auto",children:E?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"로딩 중..."})]}):V.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"채널을 찾을 수 없습니다"}):o.jsxs(Cr,{children:[o.jsx(Or,{children:o.jsxs(pt,{children:[o.jsx(Le,{className:"w-16",children:"순위"}),o.jsx(Le,{children:"채널 정보"})]})}),o.jsx(Pr,{children:V.map(B=>o.jsxs(pt,{className:`cursor-pointer hover:bg-muted/50 ${n===B.channelId?"bg-red-600/10":""}`,onMouseEnter:()=>Ae(B),onMouseLeave:ae,onClick:R=>de(B),children:[o.jsx(Ie,{children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"font-bold text-foreground",children:B.rank}),B.rankChange!==0&&o.jsx("span",{className:`text-xs flex items-center ${B.rankChange>0?"text-green-600":"text-red-600"}`,children:B.rankChange>0?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-3 h-3 mr-1"}),B.rankChange]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-3 h-3 mr-1"}),Math.abs(B.rankChange)]})})]})}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:B.thumbnail,alt:B.channelName,className:"w-24 h-24 rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-foreground truncate",children:B.channelName}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:B.channelId}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:k(B.todayViews)}),B.changePercent!==0&&o.jsx("span",{className:`text-xs flex items-center ${B.changePercent>0?"text-green-600":"text-red-600"}`,children:B.changePercent>0?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-3 h-3 mr-1"}),B.changePercent.toFixed(1),"%"]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-3 h-3 mr-1"}),B.changePercent.toFixed(1),"%"]})})]})]})]})})]},B.channelId))})]})})]})}),o.jsx("div",{className:"lg:col-span-4 space-y-4",children:K?o.jsx(o.Fragment,{children:o.jsxs(we,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:K.thumbnail,alt:K.channelName,className:"w-16 h-16 rounded-full"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:K.channelName}),o.jsx("p",{className:"text-sm text-muted-foreground",children:K.channelId})]})]}),o.jsx("a",{href:`https://www.youtube.com/channel/${K.channelId}`,target:"_blank",rel:"noopener noreferrer",children:o.jsxs(X,{variant:"outline",size:"sm",children:[o.jsx(al,{className:"w-4 h-4 mr-2"}),"유튜브에서 보기"]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 조회수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:k(K.todayViews)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 구독자 수"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:K.totalSubscribers?k(K.totalSubscribers):"데이터 없음"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"채널 생성일"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:K.channelCreationDate?new Date(K.channelCreationDate).toLocaleDateString("ko-KR"):"데이터 없음"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"영상 개수"}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:K.videoCount||0})]})]}),K.description&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"채널 설명"}),o.jsx("div",{className:"bg-muted/50 p-4 rounded-lg max-h-32 overflow-y-auto",children:o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:K.description})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(X,{variant:s==="daily"?"default":"outline",size:"sm",onClick:()=>i("daily"),className:s==="daily"?"bg-red-600 hover:bg-red-700":"",children:"일별"}),o.jsx(X,{variant:s==="weekly"?"default":"outline",size:"sm",onClick:()=>i("weekly"),className:s==="weekly"?"bg-red-600 hover:bg-red-700":"",children:"주별"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(yt,{type:"date",value:u,onChange:B=>f(B.target.value),className:"w-40"}),o.jsx("span",{className:"text-muted-foreground",children:"~"}),o.jsx(yt,{type:"date",value:d,onChange:B=>h(B.target.value),className:"w-40"}),o.jsx(X,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>{a(n)},children:"조회"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"조회수 성장 차트"}),ee?o.jsx("div",{className:"flex items-center justify-center h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"차트 데이터를 불러오는 중..."})]})}):P.length===0?o.jsx("div",{className:"flex items-center justify-center h-[400px]",children:o.jsx("p",{className:"text-muted-foreground",children:"선택한 기간에 데이터가 없습니다"})}):o.jsx(cu,{width:"100%",height:400,children:o.jsxs(Eu,{data:P,children:[o.jsx(xi,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(Pa,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),o.jsx(Ea,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:B=>k(B)}),o.jsx(fr,{content:o.jsx(I,{})}),o.jsx(Hn,{type:"monotone",dataKey:"views",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F97316",strokeWidth:2}})]})})]})]})}):o.jsx(we,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-[600px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(He,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"왼쪽에서 채널을 선택하세요"})]})})})})]})})]})},vee=()=>{const e=Zs();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},yee=()=>(D.useEffect(()=>{const e=setTimeout(()=>{sessionStorage.removeItem("redirecting"),console.log("🧹 리다이렉트 플래그 정리 완료"),ot.initializeOutbox(),console.log("📦 아웃박스 서비스 초기화 완료")},1e3);return()=>clearTimeout(e)},[]),o.jsx(VE,{children:o.jsx(VA,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(BE,{children:o.jsxs(kE,{children:[o.jsx(xO,{}),o.jsx(QO,{}),o.jsxs(zA,{children:[o.jsx(St,{path:"/",element:o.jsx(zE,{})}),o.jsx(St,{path:"/login",element:o.jsx(GE,{})}),o.jsx(St,{path:"/register",element:o.jsx(qE,{})}),o.jsx(St,{path:"/forgot-password",element:o.jsx(cD,{})}),o.jsx(St,{path:"/change-password",element:o.jsx(uD,{})}),o.jsx(St,{path:"/user-management",element:o.jsx(c_,{})}),o.jsx(St,{path:"/dashboard",element:o.jsx(nZ,{})}),o.jsx(St,{path:"/category",element:o.jsx(WA,{to:"/dashboard",replace:!0})}),o.jsx(St,{path:"/category/:category",element:o.jsx(aZ,{})}),o.jsx(St,{path:"/category-detail/:category",element:o.jsx(sZ,{})}),o.jsx(St,{path:"/channel/:channelId",element:o.jsx(iZ,{})}),o.jsx(St,{path:"/system",element:o.jsx(TZ,{})}),o.jsx(St,{path:"/data",element:o.jsx(Zx,{})}),o.jsx(St,{path:"/data-classification",element:o.jsx(Zx,{})}),o.jsx(St,{path:"/date-classification-detail",element:o.jsx(UZ,{})}),o.jsx(St,{path:"/trending-videos",element:o.jsx(lee,{})}),o.jsx(St,{path:"/subcategory-settings",element:o.jsx(cee,{})}),o.jsx(St,{path:"/trending-channels",element:o.jsx(dee,{})}),o.jsx(St,{path:"/performance-videos",element:o.jsx(hee,{})}),o.jsx(St,{path:"/trend",element:o.jsx(gee,{})}),o.jsx(St,{path:"*",element:o.jsx(vee,{})})]})]})})})})),xee=async()=>{try{console.log("🔄 카테고리 마이그레이션 시작...");const e=await xe.loadUnclassifiedData();let t=0;const r=e.map(i=>(i.category==="테크"?(i.category="AI",i.subCategory="AI 영상",t++):i.category==="음식"&&(i.category="라이프스타일",i.subCategory="요리/음식",t++),i));t>0&&(await xe.updateUnclassifiedData(r),console.log(`✅ unclassifiedData에서 ${t}개 항목 카테고리 변경 완료`));const n=await xe.loadClassifiedData();let a=0;const s=n.map(i=>(i.category==="테크"?(i.category="AI",i.subCategory="AI 영상",a++):i.category==="음식"&&(i.category="라이프스타일",i.subCategory="요리/음식",a++),i));a>0&&(await xe.saveClassifiedData(s),console.log(`✅ classifiedData에서 ${a}개 항목 카테고리 변경 완료`)),console.log("🎉 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${t+a}개 항목이 중앙화된 카테고리로 변경되었습니다.`)}catch(e){throw console.error("❌ 카테고리 마이그레이션 실패:",e),e}};window.migrateCategories=xee;async function bee(){console.log("🔄 애니/웹툰 카테고리 마이그레이션 시작...");try{const e=await xe.loadUnclassifiedData(),t=await xe.loadClassifiedData();let r=0,n=0;const a=(l,c)=>l.map(u=>{let f=!1;return u.category==="짜집기"&&u.subCategory==="애니/웹툰"&&(u.category="애니/웹툰",u.subCategory="요약/명장면",f=!0),u.category==="애니/웹툰"&&u.subCategory==="애니메이션"&&(u.subCategory="요약/명장면",f=!0),u.category==="애니/웹툰"&&u.subCategory==="웹툰/만화"&&(u.subCategory="이슈/정보",f=!0),u.category==="애니/웹툰"&&u.subCategory==="게임/애니"&&(u.subCategory="종합/기타",f=!0),f&&(c?n++:r++),u}),s=a(e,!1),i=a(t,!0);r>0||n>0?(await xe.saveUnclassifiedData(s),await xe.saveClassifiedData(i),console.log(`✅ unclassifiedData에서 ${r}개 항목을 '애니/웹툰' 카테고리로 변경 완료`),console.log(`✅ classifiedData에서 ${n}개 항목을 '애니/웹툰' 카테고리로 변경 완료`),console.log("🎉 애니/웹툰 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${r+n}개 항목이 새로운 '애니/웹툰' 카테고리로 변경되었습니다.`)):console.log('ℹ️ 마이그레이션할 데이터가 없습니다. (기존에 "짜집기" → "애니/웹툰"으로 분류된 데이터가 없음)')}catch(e){console.error("❌ 애니/웹툰 카테고리 마이그레이션 실패:",e)}}async function wee(){console.log("🔄 롱폼 → 시니어 카테고리 마이그레이션 시작...");try{const e=await xe.loadUnclassifiedData(),t=await xe.loadClassifiedData();let r=0,n=0;const a=(l,c)=>l.map(u=>{let f=!1;return u.category==="롱폼"&&(u.category="시니어",f=!0),f&&(c?n++:r++),u}),s=a(e,!1),i=a(t,!0);await xe.saveUnclassifiedData(s),await xe.saveClassifiedData(i),console.log(`✅ unclassifiedData에서 ${r}개 항목 카테고리 변경 완료`),console.log(`✅ classifiedData에서 ${n}개 항목 카테고리 변경 완료`),console.log("🎉 롱폼 → 시니어 카테고리 마이그레이션 완료!"),console.log(`📊 총 ${r+n}개 항목이 변경되었습니다.`)}catch(e){console.error("❌ 롱폼 → 시니어 카테고리 마이그레이션 실패:",e)}}window.migrateAnimeWebtoonData=bee;window.migrateLongformToSenior=wee;try{const e=localStorage.getItem("classifiedData"),t=localStorage.getItem("youtubepulse_classified_data");e&&(!t||t==="[]")&&localStorage.setItem("youtubepulse_classified_data",e)}catch{}hb(document.getElementById("root")).render(o.jsx(yee,{}));export{Mee as c};
