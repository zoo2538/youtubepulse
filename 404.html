<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
  </head>
  <body>
    <script>
      (function() {
        // spa-github-pages ë°©ì‹: ì›ê²½ë¡œë¥¼ ?p= íŒŒë¼ë¯¸í„°ë¡œ ì¸ì½”ë”©í•˜ì—¬ ì•ˆì „í•˜ê²Œ ì „ë‹¬
        console.log('ğŸ”„ 404.htmlì—ì„œ SPA ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì‘');
        console.log('ğŸ“ í˜„ì¬ URL:', location.href);
        
        // /assets/* ê²½ë¡œëŠ” ì ˆëŒ€ ê°€ë¡œì±„ì§€ ì•ŠìŒ
        if (location.pathname.startsWith('/assets/')) {
          console.log('âš ï¸ ìì‚° íŒŒì¼ ìš”ì²­ - 404.htmlì—ì„œ ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ');
          return;
        }
        
        // ì›ê²½ë¡œë¥¼ ?p= íŒŒë¼ë¯¸í„°ë¡œ ì¸ì½”ë”©í•˜ì—¬ ì „ë‹¬
        const pathSegmentsToKeep = 0; // ì»¤ìŠ¤í…€ ë„ë©”ì¸ ë£¨íŠ¸ìš©
        const pathSegments = location.pathname.split('/').slice(1);
        const segmentsToKeep = pathSegments.slice(0, pathSegmentsToKeep);
        const pathToRestore = '/' + segmentsToKeep.join('/') + location.search + location.hash;
        
        console.log('ğŸ’¾ ë³µì›í•  ê²½ë¡œ:', pathToRestore);
        
        // ì¸ì½”ë”©ëœ ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ë£¨í”„ ë°©ì§€)
        window.location.replace(location.origin + '/?p=' + encodeURIComponent(pathToRestore));
      })();
    </script>
  </body>
</html>